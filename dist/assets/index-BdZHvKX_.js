var hX=Object.defineProperty;var mX=(e,t,n)=>t in e?hX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var sr=(e,t,n)=>mX(e,typeof t!="symbol"?t+"":t,n);function pX(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gX(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var UL={exports:{}},d0={},qL={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp=Symbol.for("react.element"),vX=Symbol.for("react.portal"),yX=Symbol.for("react.fragment"),xX=Symbol.for("react.strict_mode"),wX=Symbol.for("react.profiler"),bX=Symbol.for("react.provider"),jX=Symbol.for("react.context"),SX=Symbol.for("react.forward_ref"),NX=Symbol.for("react.suspense"),_X=Symbol.for("react.memo"),CX=Symbol.for("react.lazy"),j2=Symbol.iterator;function EX(e){return e===null||typeof e!="object"?null:(e=j2&&e[j2]||e["@@iterator"],typeof e=="function"?e:null)}var HL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GL=Object.assign,KL={};function Fd(e,t,n){this.props=e,this.context=t,this.refs=KL,this.updater=n||HL}Fd.prototype.isReactComponent={};Fd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function YL(){}YL.prototype=Fd.prototype;function GC(e,t,n){this.props=e,this.context=t,this.refs=KL,this.updater=n||HL}var KC=GC.prototype=new YL;KC.constructor=GC;GL(KC,Fd.prototype);KC.isPureReactComponent=!0;var S2=Array.isArray,XL=Object.prototype.hasOwnProperty,YC={current:null},JL={key:!0,ref:!0,__self:!0,__source:!0};function QL(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)XL.call(t,r)&&!JL.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Cp,type:e,key:a,ref:o,props:s,_owner:YC.current}}function kX(e,t){return{$$typeof:Cp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function XC(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cp}function AX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var N2=/\/+/g;function qb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AX(""+e.key):t.toString(36)}function _v(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Cp:case vX:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+qb(o,0):r,S2(s)?(n="",e!=null&&(n=e.replace(N2,"$&/")+"/"),_v(s,t,n,"",function(u){return u})):s!=null&&(XC(s)&&(s=kX(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(N2,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",S2(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+qb(a,l);o+=_v(a,t,n,c,s)}else if(c=EX(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+qb(a,l++),o+=_v(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function pg(e,t,n){if(e==null)return e;var r=[],s=0;return _v(e,r,"","",function(a){return t.call(n,a,s++)}),r}function PX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ar={current:null},Cv={transition:null},TX={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:Cv,ReactCurrentOwner:YC};function ZL(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:pg,forEach:function(e,t,n){pg(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pg(e,function(){t++}),t},toArray:function(e){return pg(e,function(t){return t})||[]},only:function(e){if(!XC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qe.Component=Fd;Qe.Fragment=yX;Qe.Profiler=wX;Qe.PureComponent=GC;Qe.StrictMode=xX;Qe.Suspense=NX;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TX;Qe.act=ZL;Qe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=GL({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=YC.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)XL.call(t,c)&&!JL.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Cp,type:e.type,key:s,ref:a,props:r,_owner:o}};Qe.createContext=function(e){return e={$$typeof:jX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bX,_context:e},e.Consumer=e};Qe.createElement=QL;Qe.createFactory=function(e){var t=QL.bind(null,e);return t.type=e,t};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(e){return{$$typeof:SX,render:e}};Qe.isValidElement=XC;Qe.lazy=function(e){return{$$typeof:CX,_payload:{_status:-1,_result:e},_init:PX}};Qe.memo=function(e,t){return{$$typeof:_X,type:e,compare:t===void 0?null:t}};Qe.startTransition=function(e){var t=Cv.transition;Cv.transition={};try{e()}finally{Cv.transition=t}};Qe.unstable_act=ZL;Qe.useCallback=function(e,t){return Ar.current.useCallback(e,t)};Qe.useContext=function(e){return Ar.current.useContext(e)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(e){return Ar.current.useDeferredValue(e)};Qe.useEffect=function(e,t){return Ar.current.useEffect(e,t)};Qe.useId=function(){return Ar.current.useId()};Qe.useImperativeHandle=function(e,t,n){return Ar.current.useImperativeHandle(e,t,n)};Qe.useInsertionEffect=function(e,t){return Ar.current.useInsertionEffect(e,t)};Qe.useLayoutEffect=function(e,t){return Ar.current.useLayoutEffect(e,t)};Qe.useMemo=function(e,t){return Ar.current.useMemo(e,t)};Qe.useReducer=function(e,t,n){return Ar.current.useReducer(e,t,n)};Qe.useRef=function(e){return Ar.current.useRef(e)};Qe.useState=function(e){return Ar.current.useState(e)};Qe.useSyncExternalStore=function(e,t,n){return Ar.current.useSyncExternalStore(e,t,n)};Qe.useTransition=function(){return Ar.current.useTransition()};Qe.version="18.3.1";qL.exports=Qe;var v=qL.exports;const T=mt(v),f0=pX({__proto__:null,default:T},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OX=v,IX=Symbol.for("react.element"),DX=Symbol.for("react.fragment"),MX=Object.prototype.hasOwnProperty,RX=OX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$X={key:!0,ref:!0,__self:!0,__source:!0};function e3(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)MX.call(t,r)&&!$X.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:IX,type:e,key:a,ref:o,props:s,_owner:RX.current}}d0.Fragment=DX;d0.jsx=e3;d0.jsxs=e3;UL.exports=d0;var i=UL.exports,t3={exports:{}},ws={},n3={exports:{}},r3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,M){var $=D.length;D.push(M);e:for(;0<$;){var z=$-1>>>1,W=D[z];if(0<s(W,M))D[z]=M,D[$]=W,$=z;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var M=D[0],$=D.pop();if($!==M){D[0]=$;e:for(var z=0,W=D.length,H=W>>>1;z<H;){var V=2*(z+1)-1,te=D[V],ne=V+1,X=D[ne];if(0>s(te,$))ne<W&&0>s(X,te)?(D[z]=X,D[ne]=$,z=ne):(D[z]=te,D[V]=$,z=V);else if(ne<W&&0>s(X,$))D[z]=X,D[ne]=$,z=ne;else break e}}return M}function s(D,M){var $=D.sortIndex-M.sortIndex;return $!==0?$:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(D){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=D)r(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=n(u)}}function b(D){if(p=!1,j(D),!g)if(n(c)!==null)g=!0,O(S);else{var M=n(u);M!==null&&F(b,M.startTime-D)}}function S(D,M){g=!1,p&&(p=!1,x(_),_=-1),m=!0;var $=h;try{for(j(M),f=n(c);f!==null&&(!(f.expirationTime>M)||D&&!A());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var W=z(f.expirationTime<=M);M=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(c)&&r(c),j(M)}else r(c);f=n(c)}if(f!==null)var H=!0;else{var V=n(u);V!==null&&F(b,V.startTime-M),H=!1}return H}finally{f=null,h=$,m=!1}}var N=!1,C=null,_=-1,k=5,P=-1;function A(){return!(e.unstable_now()-P<k)}function I(){if(C!==null){var D=e.unstable_now();P=D;var M=!0;try{M=C(!0,D)}finally{M?L():(N=!1,C=null)}}else N=!1}var L;if(typeof w=="function")L=function(){w(I)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,R=E.port2;E.port1.onmessage=I,L=function(){R.postMessage(null)}}else L=function(){y(I,0)};function O(D){C=D,N||(N=!0,L())}function F(D,M){_=y(function(){D(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,O(S))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var $=h;h=M;try{return D()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=h;h=D;try{return M()}finally{h=$}},e.unstable_scheduleCallback=function(D,M,$){var z=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?z+$:z):$=z,D){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=$+W,D={id:d++,callback:M,priorityLevel:D,startTime:$,expirationTime:W,sortIndex:-1},$>z?(D.sortIndex=$,t(u,D),n(c)===null&&D===n(u)&&(p?(x(_),_=-1):p=!0,F(b,$-z))):(D.sortIndex=W,t(c,D),g||m||(g=!0,O(S))),D},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(D){var M=h;return function(){var $=h;h=M;try{return D.apply(this,arguments)}finally{h=$}}}})(r3);n3.exports=r3;var LX=n3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FX=v,vs=LX;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s3=new Set,Hh={};function Sc(e,t){Ku(e,t),Ku(e+"Capture",t)}function Ku(e,t){for(Hh[e]=t,e=0;e<t.length;e++)s3.add(t[e])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rS=Object.prototype.hasOwnProperty,BX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_2={},C2={};function zX(e){return rS.call(C2,e)?!0:rS.call(_2,e)?!1:BX.test(e)?C2[e]=!0:(_2[e]=!0,!1)}function WX(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VX(e,t,n,r){if(t===null||typeof t>"u"||WX(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pr(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new Pr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new Pr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new Pr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new Pr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new Pr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new Pr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new Pr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new Pr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new Pr(e,5,!1,e.toLowerCase(),null,!1,!1)});var JC=/[\-:]([a-z])/g;function QC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(JC,QC);Xn[t]=new Pr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(JC,QC);Xn[t]=new Pr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(JC,QC);Xn[t]=new Pr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new Pr(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new Pr(e,1,!1,e.toLowerCase(),null,!0,!0)});function ZC(e,t,n,r){var s=Xn.hasOwnProperty(t)?Xn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VX(t,n,s,r)&&(n=null),r||s===null?zX(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yi=FX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gg=Symbol.for("react.element"),au=Symbol.for("react.portal"),iu=Symbol.for("react.fragment"),eE=Symbol.for("react.strict_mode"),sS=Symbol.for("react.profiler"),a3=Symbol.for("react.provider"),i3=Symbol.for("react.context"),tE=Symbol.for("react.forward_ref"),aS=Symbol.for("react.suspense"),iS=Symbol.for("react.suspense_list"),nE=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),o3=Symbol.for("react.offscreen"),E2=Symbol.iterator;function wf(e){return e===null||typeof e!="object"?null:(e=E2&&e[E2]||e["@@iterator"],typeof e=="function"?e:null)}var Yt=Object.assign,Hb;function Xf(e){if(Hb===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hb=t&&t[1]||""}return`
`+Hb+e}var Gb=!1;function Kb(e,t){if(!e||Gb)return"";Gb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Gb=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xf(e):""}function UX(e){switch(e.tag){case 5:return Xf(e.type);case 16:return Xf("Lazy");case 13:return Xf("Suspense");case 19:return Xf("SuspenseList");case 0:case 2:case 15:return e=Kb(e.type,!1),e;case 11:return e=Kb(e.type.render,!1),e;case 1:return e=Kb(e.type,!0),e;default:return""}}function oS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case iu:return"Fragment";case au:return"Portal";case sS:return"Profiler";case eE:return"StrictMode";case aS:return"Suspense";case iS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case i3:return(e.displayName||"Context")+".Consumer";case a3:return(e._context.displayName||"Context")+".Provider";case tE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nE:return t=e.displayName||null,t!==null?t:oS(e.type)||"Memo";case mo:t=e._payload,e=e._init;try{return oS(e(t))}catch{}}return null}function qX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oS(t);case 8:return t===eE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Uo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function l3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HX(e){var t=l3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vg(e){e._valueTracker||(e._valueTracker=HX(e))}function c3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=l3(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Jv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lS(e,t){var n=t.checked;return Yt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function k2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Uo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function u3(e,t){t=t.checked,t!=null&&ZC(e,"checked",t,!1)}function cS(e,t){u3(e,t);var n=Uo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uS(e,t.type,n):t.hasOwnProperty("defaultValue")&&uS(e,t.type,Uo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function A2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function uS(e,t,n){(t!=="number"||Jv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Jf=Array.isArray;function Eu(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Uo(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function dS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return Yt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function P2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(he(92));if(Jf(n)){if(1<n.length)throw Error(he(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Uo(n)}}function d3(e,t){var n=Uo(t.value),r=Uo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function T2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function f3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?f3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yg,h3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yg=yg||document.createElement("div"),yg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var dh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GX=["Webkit","ms","Moz","O"];Object.keys(dh).forEach(function(e){GX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dh[t]=dh[e]})});function m3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||dh.hasOwnProperty(e)&&dh[e]?(""+t).trim():t+"px"}function p3(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=m3(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var KX=Yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hS(e,t){if(t){if(KX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function mS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pS=null;function rE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gS=null,ku=null,Au=null;function O2(e){if(e=Ap(e)){if(typeof gS!="function")throw Error(he(280));var t=e.stateNode;t&&(t=v0(t),gS(e.stateNode,e.type,t))}}function g3(e){ku?Au?Au.push(e):Au=[e]:ku=e}function v3(){if(ku){var e=ku,t=Au;if(Au=ku=null,O2(e),t)for(e=0;e<t.length;e++)O2(t[e])}}function y3(e,t){return e(t)}function x3(){}var Yb=!1;function w3(e,t,n){if(Yb)return e(t,n);Yb=!0;try{return y3(e,t,n)}finally{Yb=!1,(ku!==null||Au!==null)&&(x3(),v3())}}function Kh(e,t){var n=e.stateNode;if(n===null)return null;var r=v0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(he(231,t,typeof n));return n}var vS=!1;if(Ii)try{var bf={};Object.defineProperty(bf,"passive",{get:function(){vS=!0}}),window.addEventListener("test",bf,bf),window.removeEventListener("test",bf,bf)}catch{vS=!1}function YX(e,t,n,r,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var fh=!1,Qv=null,Zv=!1,yS=null,XX={onError:function(e){fh=!0,Qv=e}};function JX(e,t,n,r,s,a,o,l,c){fh=!1,Qv=null,YX.apply(XX,arguments)}function QX(e,t,n,r,s,a,o,l,c){if(JX.apply(this,arguments),fh){if(fh){var u=Qv;fh=!1,Qv=null}else throw Error(he(198));Zv||(Zv=!0,yS=u)}}function Nc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function b3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function I2(e){if(Nc(e)!==e)throw Error(he(188))}function ZX(e){var t=e.alternate;if(!t){if(t=Nc(e),t===null)throw Error(he(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return I2(s),e;if(a===r)return I2(s),t;a=a.sibling}throw Error(he(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?e:t}function j3(e){return e=ZX(e),e!==null?S3(e):null}function S3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=S3(e);if(t!==null)return t;e=e.sibling}return null}var N3=vs.unstable_scheduleCallback,D2=vs.unstable_cancelCallback,eJ=vs.unstable_shouldYield,tJ=vs.unstable_requestPaint,en=vs.unstable_now,nJ=vs.unstable_getCurrentPriorityLevel,sE=vs.unstable_ImmediatePriority,_3=vs.unstable_UserBlockingPriority,ey=vs.unstable_NormalPriority,rJ=vs.unstable_LowPriority,C3=vs.unstable_IdlePriority,h0=null,Wa=null;function sJ(e){if(Wa&&typeof Wa.onCommitFiberRoot=="function")try{Wa.onCommitFiberRoot(h0,e,void 0,(e.current.flags&128)===128)}catch{}}var ga=Math.clz32?Math.clz32:oJ,aJ=Math.log,iJ=Math.LN2;function oJ(e){return e>>>=0,e===0?32:31-(aJ(e)/iJ|0)|0}var xg=64,wg=4194304;function Qf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ty(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Qf(l):(a&=o,a!==0&&(r=Qf(a)))}else o=n&~s,o!==0?r=Qf(o):a!==0&&(r=Qf(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ga(t),s=1<<n,r|=e[n],t&=~s;return r}function lJ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cJ(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ga(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=lJ(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function xS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function E3(){var e=xg;return xg<<=1,!(xg&4194240)&&(xg=64),e}function Xb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ep(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ga(t),e[t]=n}function uJ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ga(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function aE(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ga(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var wt=0;function k3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var A3,iE,P3,T3,O3,wS=!1,bg=[],ko=null,Ao=null,Po=null,Yh=new Map,Xh=new Map,xo=[],dJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M2(e,t){switch(e){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":Po=null;break;case"pointerover":case"pointerout":Yh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xh.delete(t.pointerId)}}function jf(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ap(t),t!==null&&iE(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fJ(e,t,n,r,s){switch(t){case"focusin":return ko=jf(ko,e,t,n,r,s),!0;case"dragenter":return Ao=jf(Ao,e,t,n,r,s),!0;case"mouseover":return Po=jf(Po,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Yh.set(a,jf(Yh.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Xh.set(a,jf(Xh.get(a)||null,e,t,n,r,s)),!0}return!1}function I3(e){var t=Ll(e.target);if(t!==null){var n=Nc(t);if(n!==null){if(t=n.tag,t===13){if(t=b3(n),t!==null){e.blockedOn=t,O3(e.priority,function(){P3(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ev(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pS=r,n.target.dispatchEvent(r),pS=null}else return t=Ap(n),t!==null&&iE(t),e.blockedOn=n,!1;t.shift()}return!0}function R2(e,t,n){Ev(e)&&n.delete(t)}function hJ(){wS=!1,ko!==null&&Ev(ko)&&(ko=null),Ao!==null&&Ev(Ao)&&(Ao=null),Po!==null&&Ev(Po)&&(Po=null),Yh.forEach(R2),Xh.forEach(R2)}function Sf(e,t){e.blockedOn===t&&(e.blockedOn=null,wS||(wS=!0,vs.unstable_scheduleCallback(vs.unstable_NormalPriority,hJ)))}function Jh(e){function t(s){return Sf(s,e)}if(0<bg.length){Sf(bg[0],e);for(var n=1;n<bg.length;n++){var r=bg[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ko!==null&&Sf(ko,e),Ao!==null&&Sf(Ao,e),Po!==null&&Sf(Po,e),Yh.forEach(t),Xh.forEach(t),n=0;n<xo.length;n++)r=xo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<xo.length&&(n=xo[0],n.blockedOn===null);)I3(n),n.blockedOn===null&&xo.shift()}var Pu=Yi.ReactCurrentBatchConfig,ny=!0;function mJ(e,t,n,r){var s=wt,a=Pu.transition;Pu.transition=null;try{wt=1,oE(e,t,n,r)}finally{wt=s,Pu.transition=a}}function pJ(e,t,n,r){var s=wt,a=Pu.transition;Pu.transition=null;try{wt=4,oE(e,t,n,r)}finally{wt=s,Pu.transition=a}}function oE(e,t,n,r){if(ny){var s=bS(e,t,n,r);if(s===null)ij(e,t,r,ry,n),M2(e,r);else if(fJ(s,e,t,n,r))r.stopPropagation();else if(M2(e,r),t&4&&-1<dJ.indexOf(e)){for(;s!==null;){var a=Ap(s);if(a!==null&&A3(a),a=bS(e,t,n,r),a===null&&ij(e,t,r,ry,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else ij(e,t,r,null,n)}}var ry=null;function bS(e,t,n,r){if(ry=null,e=rE(r),e=Ll(e),e!==null)if(t=Nc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=b3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ry=e,null}function D3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nJ()){case sE:return 1;case _3:return 4;case ey:case rJ:return 16;case C3:return 536870912;default:return 16}default:return 16}}var No=null,lE=null,kv=null;function M3(){if(kv)return kv;var e,t=lE,n=t.length,r,s="value"in No?No.value:No.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return kv=s.slice(e,1<r?1-r:void 0)}function Av(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jg(){return!0}function $2(){return!1}function bs(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?jg:$2,this.isPropagationStopped=$2,this}return Yt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jg)},persist:function(){},isPersistent:jg}),t}var Bd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cE=bs(Bd),kp=Yt({},Bd,{view:0,detail:0}),gJ=bs(kp),Jb,Qb,Nf,m0=Yt({},kp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nf&&(Nf&&e.type==="mousemove"?(Jb=e.screenX-Nf.screenX,Qb=e.screenY-Nf.screenY):Qb=Jb=0,Nf=e),Jb)},movementY:function(e){return"movementY"in e?e.movementY:Qb}}),L2=bs(m0),vJ=Yt({},m0,{dataTransfer:0}),yJ=bs(vJ),xJ=Yt({},kp,{relatedTarget:0}),Zb=bs(xJ),wJ=Yt({},Bd,{animationName:0,elapsedTime:0,pseudoElement:0}),bJ=bs(wJ),jJ=Yt({},Bd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SJ=bs(jJ),NJ=Yt({},Bd,{data:0}),F2=bs(NJ),_J={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kJ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=EJ[e])?!!t[e]:!1}function uE(){return kJ}var AJ=Yt({},kp,{key:function(e){if(e.key){var t=_J[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Av(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CJ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uE,charCode:function(e){return e.type==="keypress"?Av(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Av(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PJ=bs(AJ),TJ=Yt({},m0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B2=bs(TJ),OJ=Yt({},kp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uE}),IJ=bs(OJ),DJ=Yt({},Bd,{propertyName:0,elapsedTime:0,pseudoElement:0}),MJ=bs(DJ),RJ=Yt({},m0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$J=bs(RJ),LJ=[9,13,27,32],dE=Ii&&"CompositionEvent"in window,hh=null;Ii&&"documentMode"in document&&(hh=document.documentMode);var FJ=Ii&&"TextEvent"in window&&!hh,R3=Ii&&(!dE||hh&&8<hh&&11>=hh),z2=" ",W2=!1;function $3(e,t){switch(e){case"keyup":return LJ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ou=!1;function BJ(e,t){switch(e){case"compositionend":return L3(t);case"keypress":return t.which!==32?null:(W2=!0,z2);case"textInput":return e=t.data,e===z2&&W2?null:e;default:return null}}function zJ(e,t){if(ou)return e==="compositionend"||!dE&&$3(e,t)?(e=M3(),kv=lE=No=null,ou=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return R3&&t.locale!=="ko"?null:t.data;default:return null}}var WJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WJ[e.type]:t==="textarea"}function F3(e,t,n,r){g3(r),t=sy(t,"onChange"),0<t.length&&(n=new cE("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var mh=null,Qh=null;function VJ(e){X3(e,0)}function p0(e){var t=uu(e);if(c3(t))return e}function UJ(e,t){if(e==="change")return t}var B3=!1;if(Ii){var ej;if(Ii){var tj="oninput"in document;if(!tj){var U2=document.createElement("div");U2.setAttribute("oninput","return;"),tj=typeof U2.oninput=="function"}ej=tj}else ej=!1;B3=ej&&(!document.documentMode||9<document.documentMode)}function q2(){mh&&(mh.detachEvent("onpropertychange",z3),Qh=mh=null)}function z3(e){if(e.propertyName==="value"&&p0(Qh)){var t=[];F3(t,Qh,e,rE(e)),w3(VJ,t)}}function qJ(e,t,n){e==="focusin"?(q2(),mh=t,Qh=n,mh.attachEvent("onpropertychange",z3)):e==="focusout"&&q2()}function HJ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return p0(Qh)}function GJ(e,t){if(e==="click")return p0(t)}function KJ(e,t){if(e==="input"||e==="change")return p0(t)}function YJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ba=typeof Object.is=="function"?Object.is:YJ;function Zh(e,t){if(ba(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!rS.call(t,s)||!ba(e[s],t[s]))return!1}return!0}function H2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function G2(e,t){var n=H2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=H2(n)}}function W3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?W3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function V3(){for(var e=window,t=Jv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jv(e.document)}return t}function fE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function XJ(e){var t=V3(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&W3(n.ownerDocument.documentElement,n)){if(r!==null&&fE(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=G2(n,a);var o=G2(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JJ=Ii&&"documentMode"in document&&11>=document.documentMode,lu=null,jS=null,ph=null,SS=!1;function K2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;SS||lu==null||lu!==Jv(r)||(r=lu,"selectionStart"in r&&fE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ph&&Zh(ph,r)||(ph=r,r=sy(jS,"onSelect"),0<r.length&&(t=new cE("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lu)))}function Sg(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cu={animationend:Sg("Animation","AnimationEnd"),animationiteration:Sg("Animation","AnimationIteration"),animationstart:Sg("Animation","AnimationStart"),transitionend:Sg("Transition","TransitionEnd")},nj={},U3={};Ii&&(U3=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function g0(e){if(nj[e])return nj[e];if(!cu[e])return e;var t=cu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in U3)return nj[e]=t[n];return e}var q3=g0("animationend"),H3=g0("animationiteration"),G3=g0("animationstart"),K3=g0("transitionend"),Y3=new Map,Y2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(e,t){Y3.set(e,t),Sc(t,[e])}for(var rj=0;rj<Y2.length;rj++){var sj=Y2[rj],QJ=sj.toLowerCase(),ZJ=sj[0].toUpperCase()+sj.slice(1);rl(QJ,"on"+ZJ)}rl(q3,"onAnimationEnd");rl(H3,"onAnimationIteration");rl(G3,"onAnimationStart");rl("dblclick","onDoubleClick");rl("focusin","onFocus");rl("focusout","onBlur");rl(K3,"onTransitionEnd");Ku("onMouseEnter",["mouseout","mouseover"]);Ku("onMouseLeave",["mouseout","mouseover"]);Ku("onPointerEnter",["pointerout","pointerover"]);Ku("onPointerLeave",["pointerout","pointerover"]);Sc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zf));function X2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,QX(r,t,void 0,e),e.currentTarget=null}function X3(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;X2(s,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;X2(s,l,u),a=c}}}if(Zv)throw e=yS,Zv=!1,yS=null,e}function Mt(e,t){var n=t[kS];n===void 0&&(n=t[kS]=new Set);var r=e+"__bubble";n.has(r)||(J3(t,e,2,!1),n.add(r))}function aj(e,t,n){var r=0;t&&(r|=4),J3(n,e,r,t)}var Ng="_reactListening"+Math.random().toString(36).slice(2);function em(e){if(!e[Ng]){e[Ng]=!0,s3.forEach(function(n){n!=="selectionchange"&&(eQ.has(n)||aj(n,!1,e),aj(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ng]||(t[Ng]=!0,aj("selectionchange",!1,t))}}function J3(e,t,n,r){switch(D3(t)){case 1:var s=mJ;break;case 4:s=pJ;break;default:s=oE}n=s.bind(null,t,n,e),s=void 0,!vS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ij(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ll(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}w3(function(){var u=a,d=rE(n),f=[];e:{var h=Y3.get(e);if(h!==void 0){var m=cE,g=e;switch(e){case"keypress":if(Av(n)===0)break e;case"keydown":case"keyup":m=PJ;break;case"focusin":g="focus",m=Zb;break;case"focusout":g="blur",m=Zb;break;case"beforeblur":case"afterblur":m=Zb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=L2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=IJ;break;case q3:case H3:case G3:m=bJ;break;case K3:m=MJ;break;case"scroll":m=gJ;break;case"wheel":m=$J;break;case"copy":case"cut":case"paste":m=SJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=B2}var p=(t&4)!==0,y=!p&&e==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var w=u,j;w!==null;){j=w;var b=j.stateNode;if(j.tag===5&&b!==null&&(j=b,x!==null&&(b=Kh(w,x),b!=null&&p.push(tm(w,b,j)))),y)break;w=w.return}0<p.length&&(h=new m(h,g,null,n,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==pS&&(g=n.relatedTarget||n.fromElement)&&(Ll(g)||g[Di]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Ll(g):null,g!==null&&(y=Nc(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=L2,b="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(p=B2,b="onPointerLeave",x="onPointerEnter",w="pointer"),y=m==null?h:uu(m),j=g==null?h:uu(g),h=new p(b,w+"leave",m,n,d),h.target=y,h.relatedTarget=j,b=null,Ll(d)===u&&(p=new p(x,w+"enter",g,n,d),p.target=j,p.relatedTarget=y,b=p),y=b,m&&g)t:{for(p=m,x=g,w=0,j=p;j;j=Rc(j))w++;for(j=0,b=x;b;b=Rc(b))j++;for(;0<w-j;)p=Rc(p),w--;for(;0<j-w;)x=Rc(x),j--;for(;w--;){if(p===x||x!==null&&p===x.alternate)break t;p=Rc(p),x=Rc(x)}p=null}else p=null;m!==null&&J2(f,h,m,p,!1),g!==null&&y!==null&&J2(f,y,g,p,!0)}}e:{if(h=u?uu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=UJ;else if(V2(h))if(B3)S=KJ;else{S=HJ;var N=qJ}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=GJ);if(S&&(S=S(e,u))){F3(f,S,n,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&uS(h,"number",h.value)}switch(N=u?uu(u):window,e){case"focusin":(V2(N)||N.contentEditable==="true")&&(lu=N,jS=u,ph=null);break;case"focusout":ph=jS=lu=null;break;case"mousedown":SS=!0;break;case"contextmenu":case"mouseup":case"dragend":SS=!1,K2(f,n,d);break;case"selectionchange":if(JJ)break;case"keydown":case"keyup":K2(f,n,d)}var C;if(dE)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ou?$3(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(R3&&n.locale!=="ko"&&(ou||_!=="onCompositionStart"?_==="onCompositionEnd"&&ou&&(C=M3()):(No=d,lE="value"in No?No.value:No.textContent,ou=!0)),N=sy(u,_),0<N.length&&(_=new F2(_,e,null,n,d),f.push({event:_,listeners:N}),C?_.data=C:(C=L3(n),C!==null&&(_.data=C)))),(C=FJ?BJ(e,n):zJ(e,n))&&(u=sy(u,"onBeforeInput"),0<u.length&&(d=new F2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}X3(f,t)})}function tm(e,t,n){return{instance:e,listener:t,currentTarget:n}}function sy(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Kh(e,n),a!=null&&r.unshift(tm(e,a,s)),a=Kh(e,t),a!=null&&r.push(tm(e,a,s))),e=e.return}return r}function Rc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function J2(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Kh(n,a),c!=null&&o.unshift(tm(n,c,l))):s||(c=Kh(n,a),c!=null&&o.push(tm(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var tQ=/\r\n?/g,nQ=/\u0000|\uFFFD/g;function Q2(e){return(typeof e=="string"?e:""+e).replace(tQ,`
`).replace(nQ,"")}function _g(e,t,n){if(t=Q2(t),Q2(e)!==t&&n)throw Error(he(425))}function ay(){}var NS=null,_S=null;function CS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ES=typeof setTimeout=="function"?setTimeout:void 0,rQ=typeof clearTimeout=="function"?clearTimeout:void 0,Z2=typeof Promise=="function"?Promise:void 0,sQ=typeof queueMicrotask=="function"?queueMicrotask:typeof Z2<"u"?function(e){return Z2.resolve(null).then(e).catch(aQ)}:ES;function aQ(e){setTimeout(function(){throw e})}function oj(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Jh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Jh(t)}function To(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function eT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zd=Math.random().toString(36).slice(2),La="__reactFiber$"+zd,nm="__reactProps$"+zd,Di="__reactContainer$"+zd,kS="__reactEvents$"+zd,iQ="__reactListeners$"+zd,oQ="__reactHandles$"+zd;function Ll(e){var t=e[La];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Di]||n[La]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=eT(e);e!==null;){if(n=e[La])return n;e=eT(e)}return t}e=n,n=e.parentNode}return null}function Ap(e){return e=e[La]||e[Di],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function uu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function v0(e){return e[nm]||null}var AS=[],du=-1;function sl(e){return{current:e}}function Lt(e){0>du||(e.current=AS[du],AS[du]=null,du--)}function Pt(e,t){du++,AS[du]=e.current,e.current=t}var qo={},pr=sl(qo),Vr=sl(!1),tc=qo;function Yu(e,t){var n=e.type.contextTypes;if(!n)return qo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ur(e){return e=e.childContextTypes,e!=null}function iy(){Lt(Vr),Lt(pr)}function tT(e,t,n){if(pr.current!==qo)throw Error(he(168));Pt(pr,t),Pt(Vr,n)}function Q3(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(he(108,qX(e)||"Unknown",s));return Yt({},n,r)}function oy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qo,tc=pr.current,Pt(pr,e),Pt(Vr,Vr.current),!0}function nT(e,t,n){var r=e.stateNode;if(!r)throw Error(he(169));n?(e=Q3(e,t,tc),r.__reactInternalMemoizedMergedChildContext=e,Lt(Vr),Lt(pr),Pt(pr,e)):Lt(Vr),Pt(Vr,n)}var gi=null,y0=!1,lj=!1;function Z3(e){gi===null?gi=[e]:gi.push(e)}function lQ(e){y0=!0,Z3(e)}function al(){if(!lj&&gi!==null){lj=!0;var e=0,t=wt;try{var n=gi;for(wt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}gi=null,y0=!1}catch(s){throw gi!==null&&(gi=gi.slice(e+1)),N3(sE,al),s}finally{wt=t,lj=!1}}return null}var fu=[],hu=0,ly=null,cy=0,Ts=[],Os=0,nc=null,yi=1,xi="";function Nl(e,t){fu[hu++]=cy,fu[hu++]=ly,ly=e,cy=t}function e5(e,t,n){Ts[Os++]=yi,Ts[Os++]=xi,Ts[Os++]=nc,nc=e;var r=yi;e=xi;var s=32-ga(r)-1;r&=~(1<<s),n+=1;var a=32-ga(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,yi=1<<32-ga(t)+s|n<<s|r,xi=a+e}else yi=1<<a|n<<s|r,xi=e}function hE(e){e.return!==null&&(Nl(e,1),e5(e,1,0))}function mE(e){for(;e===ly;)ly=fu[--hu],fu[hu]=null,cy=fu[--hu],fu[hu]=null;for(;e===nc;)nc=Ts[--Os],Ts[Os]=null,xi=Ts[--Os],Ts[Os]=null,yi=Ts[--Os],Ts[Os]=null}var cs=null,os=null,Vt=!1,da=null;function t5(e,t){var n=Rs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cs=e,os=To(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cs=e,os=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nc!==null?{id:yi,overflow:xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Rs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,cs=e,os=null,!0):!1;default:return!1}}function PS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function TS(e){if(Vt){var t=os;if(t){var n=t;if(!rT(e,t)){if(PS(e))throw Error(he(418));t=To(n.nextSibling);var r=cs;t&&rT(e,t)?t5(r,n):(e.flags=e.flags&-4097|2,Vt=!1,cs=e)}}else{if(PS(e))throw Error(he(418));e.flags=e.flags&-4097|2,Vt=!1,cs=e}}}function sT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cs=e}function Cg(e){if(e!==cs)return!1;if(!Vt)return sT(e),Vt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!CS(e.type,e.memoizedProps)),t&&(t=os)){if(PS(e))throw n5(),Error(he(418));for(;t;)t5(e,t),t=To(t.nextSibling)}if(sT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){os=To(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}os=null}}else os=cs?To(e.stateNode.nextSibling):null;return!0}function n5(){for(var e=os;e;)e=To(e.nextSibling)}function Xu(){os=cs=null,Vt=!1}function pE(e){da===null?da=[e]:da.push(e)}var cQ=Yi.ReactCurrentBatchConfig;function _f(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,e))}return e}function Eg(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function aT(e){var t=e._init;return t(e._payload)}function r5(e){function t(x,w){if(e){var j=x.deletions;j===null?(x.deletions=[w],x.flags|=16):j.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=Mo(x,w),x.index=0,x.sibling=null,x}function a(x,w,j){return x.index=j,e?(j=x.alternate,j!==null?(j=j.index,j<w?(x.flags|=2,w):j):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,w,j,b){return w===null||w.tag!==6?(w=pj(j,x.mode,b),w.return=x,w):(w=s(w,j),w.return=x,w)}function c(x,w,j,b){var S=j.type;return S===iu?d(x,w,j.props.children,b,j.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mo&&aT(S)===w.type)?(b=s(w,j.props),b.ref=_f(x,w,j),b.return=x,b):(b=Rv(j.type,j.key,j.props,null,x.mode,b),b.ref=_f(x,w,j),b.return=x,b)}function u(x,w,j,b){return w===null||w.tag!==4||w.stateNode.containerInfo!==j.containerInfo||w.stateNode.implementation!==j.implementation?(w=gj(j,x.mode,b),w.return=x,w):(w=s(w,j.children||[]),w.return=x,w)}function d(x,w,j,b,S){return w===null||w.tag!==7?(w=Kl(j,x.mode,b,S),w.return=x,w):(w=s(w,j),w.return=x,w)}function f(x,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return w=pj(""+w,x.mode,j),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gg:return j=Rv(w.type,w.key,w.props,null,x.mode,j),j.ref=_f(x,null,w),j.return=x,j;case au:return w=gj(w,x.mode,j),w.return=x,w;case mo:var b=w._init;return f(x,b(w._payload),j)}if(Jf(w)||wf(w))return w=Kl(w,x.mode,j,null),w.return=x,w;Eg(x,w)}return null}function h(x,w,j,b){var S=w!==null?w.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return S!==null?null:l(x,w,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gg:return j.key===S?c(x,w,j,b):null;case au:return j.key===S?u(x,w,j,b):null;case mo:return S=j._init,h(x,w,S(j._payload),b)}if(Jf(j)||wf(j))return S!==null?null:d(x,w,j,b,null);Eg(x,j)}return null}function m(x,w,j,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(j)||null,l(w,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gg:return x=x.get(b.key===null?j:b.key)||null,c(w,x,b,S);case au:return x=x.get(b.key===null?j:b.key)||null,u(w,x,b,S);case mo:var N=b._init;return m(x,w,j,N(b._payload),S)}if(Jf(b)||wf(b))return x=x.get(j)||null,d(w,x,b,S,null);Eg(w,b)}return null}function g(x,w,j,b){for(var S=null,N=null,C=w,_=w=0,k=null;C!==null&&_<j.length;_++){C.index>_?(k=C,C=null):k=C.sibling;var P=h(x,C,j[_],b);if(P===null){C===null&&(C=k);break}e&&C&&P.alternate===null&&t(x,C),w=a(P,w,_),N===null?S=P:N.sibling=P,N=P,C=k}if(_===j.length)return n(x,C),Vt&&Nl(x,_),S;if(C===null){for(;_<j.length;_++)C=f(x,j[_],b),C!==null&&(w=a(C,w,_),N===null?S=C:N.sibling=C,N=C);return Vt&&Nl(x,_),S}for(C=r(x,C);_<j.length;_++)k=m(C,x,_,j[_],b),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?_:k.key),w=a(k,w,_),N===null?S=k:N.sibling=k,N=k);return e&&C.forEach(function(A){return t(x,A)}),Vt&&Nl(x,_),S}function p(x,w,j,b){var S=wf(j);if(typeof S!="function")throw Error(he(150));if(j=S.call(j),j==null)throw Error(he(151));for(var N=S=null,C=w,_=w=0,k=null,P=j.next();C!==null&&!P.done;_++,P=j.next()){C.index>_?(k=C,C=null):k=C.sibling;var A=h(x,C,P.value,b);if(A===null){C===null&&(C=k);break}e&&C&&A.alternate===null&&t(x,C),w=a(A,w,_),N===null?S=A:N.sibling=A,N=A,C=k}if(P.done)return n(x,C),Vt&&Nl(x,_),S;if(C===null){for(;!P.done;_++,P=j.next())P=f(x,P.value,b),P!==null&&(w=a(P,w,_),N===null?S=P:N.sibling=P,N=P);return Vt&&Nl(x,_),S}for(C=r(x,C);!P.done;_++,P=j.next())P=m(C,x,_,P.value,b),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?_:P.key),w=a(P,w,_),N===null?S=P:N.sibling=P,N=P);return e&&C.forEach(function(I){return t(x,I)}),Vt&&Nl(x,_),S}function y(x,w,j,b){if(typeof j=="object"&&j!==null&&j.type===iu&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case gg:e:{for(var S=j.key,N=w;N!==null;){if(N.key===S){if(S=j.type,S===iu){if(N.tag===7){n(x,N.sibling),w=s(N,j.props.children),w.return=x,x=w;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mo&&aT(S)===N.type){n(x,N.sibling),w=s(N,j.props),w.ref=_f(x,N,j),w.return=x,x=w;break e}n(x,N);break}else t(x,N);N=N.sibling}j.type===iu?(w=Kl(j.props.children,x.mode,b,j.key),w.return=x,x=w):(b=Rv(j.type,j.key,j.props,null,x.mode,b),b.ref=_f(x,w,j),b.return=x,x=b)}return o(x);case au:e:{for(N=j.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===j.containerInfo&&w.stateNode.implementation===j.implementation){n(x,w.sibling),w=s(w,j.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=gj(j,x.mode,b),w.return=x,x=w}return o(x);case mo:return N=j._init,y(x,w,N(j._payload),b)}if(Jf(j))return g(x,w,j,b);if(wf(j))return p(x,w,j,b);Eg(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,w!==null&&w.tag===6?(n(x,w.sibling),w=s(w,j),w.return=x,x=w):(n(x,w),w=pj(j,x.mode,b),w.return=x,x=w),o(x)):n(x,w)}return y}var Ju=r5(!0),s5=r5(!1),uy=sl(null),dy=null,mu=null,gE=null;function vE(){gE=mu=dy=null}function yE(e){var t=uy.current;Lt(uy),e._currentValue=t}function OS(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tu(e,t){dy=e,gE=mu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zr=!0),e.firstContext=null)}function qs(e){var t=e._currentValue;if(gE!==e)if(e={context:e,memoizedValue:t,next:null},mu===null){if(dy===null)throw Error(he(308));mu=e,dy.dependencies={lanes:0,firstContext:e}}else mu=mu.next=e;return t}var Fl=null;function xE(e){Fl===null?Fl=[e]:Fl.push(e)}function a5(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,xE(t)):(n.next=s.next,s.next=n),t.interleaved=n,Mi(e,r)}function Mi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var po=!1;function wE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _i(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ut&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Mi(e,n)}return s=r.interleaved,s===null?(t.next=t,xE(r)):(t.next=s.next,s.next=t),r.interleaved=t,Mi(e,n)}function Pv(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,aE(e,n)}}function iT(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fy(e,t,n,r){var s=e.updateQueue;po=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Yt({},f,h);break e;case 2:po=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);sc|=o,e.lanes=o,e.memoizedState=f}}function oT(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(he(191,s));s.call(r)}}}var Pp={},Va=sl(Pp),rm=sl(Pp),sm=sl(Pp);function Bl(e){if(e===Pp)throw Error(he(174));return e}function bE(e,t){switch(Pt(sm,t),Pt(rm,e),Pt(Va,Pp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fS(t,e)}Lt(Va),Pt(Va,t)}function Qu(){Lt(Va),Lt(rm),Lt(sm)}function o5(e){Bl(sm.current);var t=Bl(Va.current),n=fS(t,e.type);t!==n&&(Pt(rm,e),Pt(Va,n))}function jE(e){rm.current===e&&(Lt(Va),Lt(rm))}var qt=sl(0);function hy(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cj=[];function SE(){for(var e=0;e<cj.length;e++)cj[e]._workInProgressVersionPrimary=null;cj.length=0}var Tv=Yi.ReactCurrentDispatcher,uj=Yi.ReactCurrentBatchConfig,rc=0,Gt=null,yn=null,Pn=null,my=!1,gh=!1,am=0,uQ=0;function ar(){throw Error(he(321))}function NE(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ba(e[n],t[n]))return!1;return!0}function _E(e,t,n,r,s,a){if(rc=a,Gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tv.current=e===null||e.memoizedState===null?mQ:pQ,e=n(r,s),gh){a=0;do{if(gh=!1,am=0,25<=a)throw Error(he(301));a+=1,Pn=yn=null,t.updateQueue=null,Tv.current=gQ,e=n(r,s)}while(gh)}if(Tv.current=py,t=yn!==null&&yn.next!==null,rc=0,Pn=yn=Gt=null,my=!1,t)throw Error(he(300));return e}function CE(){var e=am!==0;return am=0,e}function Ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Gt.memoizedState=Pn=e:Pn=Pn.next=e,Pn}function Hs(){if(yn===null){var e=Gt.alternate;e=e!==null?e.memoizedState:null}else e=yn.next;var t=Pn===null?Gt.memoizedState:Pn.next;if(t!==null)Pn=t,yn=e;else{if(e===null)throw Error(he(310));yn=e,e={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},Pn===null?Gt.memoizedState=Pn=e:Pn=Pn.next=e}return Pn}function im(e,t){return typeof t=="function"?t(e):t}function dj(e){var t=Hs(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=yn,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((rc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Gt.lanes|=d,sc|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,ba(r,t.memoizedState)||(zr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,Gt.lanes|=a,sc|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fj(e){var t=Hs(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);ba(a,t.memoizedState)||(zr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function l5(){}function c5(e,t){var n=Gt,r=Hs(),s=t(),a=!ba(r.memoizedState,s);if(a&&(r.memoizedState=s,zr=!0),r=r.queue,EE(f5.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,om(9,d5.bind(null,n,r,s,t),void 0,null),On===null)throw Error(he(349));rc&30||u5(n,t,s)}return s}function u5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function d5(e,t,n,r){t.value=n,t.getSnapshot=r,h5(t)&&m5(e)}function f5(e,t,n){return n(function(){h5(t)&&m5(e)})}function h5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ba(e,n)}catch{return!0}}function m5(e){var t=Mi(e,1);t!==null&&va(t,e,1,-1)}function lT(e){var t=Ra();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:im,lastRenderedState:e},t.queue=e,e=e.dispatch=hQ.bind(null,Gt,e),[t.memoizedState,e]}function om(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function p5(){return Hs().memoizedState}function Ov(e,t,n,r){var s=Ra();Gt.flags|=e,s.memoizedState=om(1|t,n,void 0,r===void 0?null:r)}function x0(e,t,n,r){var s=Hs();r=r===void 0?null:r;var a=void 0;if(yn!==null){var o=yn.memoizedState;if(a=o.destroy,r!==null&&NE(r,o.deps)){s.memoizedState=om(t,n,a,r);return}}Gt.flags|=e,s.memoizedState=om(1|t,n,a,r)}function cT(e,t){return Ov(8390656,8,e,t)}function EE(e,t){return x0(2048,8,e,t)}function g5(e,t){return x0(4,2,e,t)}function v5(e,t){return x0(4,4,e,t)}function y5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function x5(e,t,n){return n=n!=null?n.concat([e]):null,x0(4,4,y5.bind(null,t,e),n)}function kE(){}function w5(e,t){var n=Hs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&NE(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function b5(e,t){var n=Hs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&NE(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function j5(e,t,n){return rc&21?(ba(n,t)||(n=E3(),Gt.lanes|=n,sc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zr=!0),e.memoizedState=n)}function dQ(e,t){var n=wt;wt=n!==0&&4>n?n:4,e(!0);var r=uj.transition;uj.transition={};try{e(!1),t()}finally{wt=n,uj.transition=r}}function S5(){return Hs().memoizedState}function fQ(e,t,n){var r=Do(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},N5(e))_5(t,n);else if(n=a5(e,t,n,r),n!==null){var s=Cr();va(n,e,r,s),C5(n,t,r)}}function hQ(e,t,n){var r=Do(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(N5(e))_5(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,ba(l,o)){var c=t.interleaved;c===null?(s.next=s,xE(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=a5(e,t,s,r),n!==null&&(s=Cr(),va(n,e,r,s),C5(n,t,r))}}function N5(e){var t=e.alternate;return e===Gt||t!==null&&t===Gt}function _5(e,t){gh=my=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function C5(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,aE(e,n)}}var py={readContext:qs,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},mQ={readContext:qs,useCallback:function(e,t){return Ra().memoizedState=[e,t===void 0?null:t],e},useContext:qs,useEffect:cT,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ov(4194308,4,y5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ov(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ov(4,2,e,t)},useMemo:function(e,t){var n=Ra();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ra();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fQ.bind(null,Gt,e),[r.memoizedState,e]},useRef:function(e){var t=Ra();return e={current:e},t.memoizedState=e},useState:lT,useDebugValue:kE,useDeferredValue:function(e){return Ra().memoizedState=e},useTransition:function(){var e=lT(!1),t=e[0];return e=dQ.bind(null,e[1]),Ra().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Gt,s=Ra();if(Vt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=t(),On===null)throw Error(he(349));rc&30||u5(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,cT(f5.bind(null,r,a,e),[e]),r.flags|=2048,om(9,d5.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ra(),t=On.identifierPrefix;if(Vt){var n=xi,r=yi;n=(r&~(1<<32-ga(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=am++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uQ++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pQ={readContext:qs,useCallback:w5,useContext:qs,useEffect:EE,useImperativeHandle:x5,useInsertionEffect:g5,useLayoutEffect:v5,useMemo:b5,useReducer:dj,useRef:p5,useState:function(){return dj(im)},useDebugValue:kE,useDeferredValue:function(e){var t=Hs();return j5(t,yn.memoizedState,e)},useTransition:function(){var e=dj(im)[0],t=Hs().memoizedState;return[e,t]},useMutableSource:l5,useSyncExternalStore:c5,useId:S5,unstable_isNewReconciler:!1},gQ={readContext:qs,useCallback:w5,useContext:qs,useEffect:EE,useImperativeHandle:x5,useInsertionEffect:g5,useLayoutEffect:v5,useMemo:b5,useReducer:fj,useRef:p5,useState:function(){return fj(im)},useDebugValue:kE,useDeferredValue:function(e){var t=Hs();return yn===null?t.memoizedState=e:j5(t,yn.memoizedState,e)},useTransition:function(){var e=fj(im)[0],t=Hs().memoizedState;return[e,t]},useMutableSource:l5,useSyncExternalStore:c5,useId:S5,unstable_isNewReconciler:!1};function aa(e,t){if(e&&e.defaultProps){t=Yt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function IS(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Yt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var w0={isMounted:function(e){return(e=e._reactInternals)?Nc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Cr(),s=Do(e),a=_i(r,s);a.payload=t,n!=null&&(a.callback=n),t=Oo(e,a,s),t!==null&&(va(t,e,s,r),Pv(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Cr(),s=Do(e),a=_i(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Oo(e,a,s),t!==null&&(va(t,e,s,r),Pv(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Cr(),r=Do(e),s=_i(n,r);s.tag=2,t!=null&&(s.callback=t),t=Oo(e,s,r),t!==null&&(va(t,e,r,n),Pv(t,e,r))}};function uT(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Zh(n,r)||!Zh(s,a):!0}function E5(e,t,n){var r=!1,s=qo,a=t.contextType;return typeof a=="object"&&a!==null?a=qs(a):(s=Ur(t)?tc:pr.current,r=t.contextTypes,a=(r=r!=null)?Yu(e,s):qo),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=w0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function dT(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&w0.enqueueReplaceState(t,t.state,null)}function DS(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},wE(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=qs(a):(a=Ur(t)?tc:pr.current,s.context=Yu(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(IS(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&w0.enqueueReplaceState(s,s.state,null),fy(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zu(e,t){try{var n="",r=t;do n+=UX(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function hj(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function MS(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vQ=typeof WeakMap=="function"?WeakMap:Map;function k5(e,t,n){n=_i(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vy||(vy=!0,qS=r),MS(e,t)},n}function A5(e,t,n){n=_i(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){MS(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){MS(e,t),typeof r!="function"&&(Io===null?Io=new Set([this]):Io.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function fT(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vQ;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=TQ.bind(null,e,t,n),t.then(e,e))}function hT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mT(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_i(-1,1),t.tag=2,Oo(n,t,1))),n.lanes|=1),e)}var yQ=Yi.ReactCurrentOwner,zr=!1;function br(e,t,n,r){t.child=e===null?s5(t,null,n,r):Ju(t,e.child,n,r)}function pT(e,t,n,r,s){n=n.render;var a=t.ref;return Tu(t,s),r=_E(e,t,n,r,a,s),n=CE(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ri(e,t,s)):(Vt&&n&&hE(t),t.flags|=1,br(e,t,r,s),t.child)}function gT(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!RE(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,P5(e,t,a,r,s)):(e=Rv(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Zh,n(o,r)&&e.ref===t.ref)return Ri(e,t,s)}return t.flags|=1,e=Mo(a,r),e.ref=t.ref,e.return=t,t.child=e}function P5(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Zh(a,r)&&e.ref===t.ref)if(zr=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(zr=!0);else return t.lanes=e.lanes,Ri(e,t,s)}return RS(e,t,n,r,s)}function T5(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(gu,ts),ts|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pt(gu,ts),ts|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Pt(gu,ts),ts|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Pt(gu,ts),ts|=r;return br(e,t,s,n),t.child}function O5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function RS(e,t,n,r,s){var a=Ur(n)?tc:pr.current;return a=Yu(t,a),Tu(t,s),n=_E(e,t,n,r,a,s),r=CE(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ri(e,t,s)):(Vt&&r&&hE(t),t.flags|=1,br(e,t,n,s),t.child)}function vT(e,t,n,r,s){if(Ur(n)){var a=!0;oy(t)}else a=!1;if(Tu(t,s),t.stateNode===null)Iv(e,t),E5(t,n,r),DS(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=qs(u):(u=Ur(n)?tc:pr.current,u=Yu(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&dT(t,o,r,u),po=!1;var h=t.memoizedState;o.state=h,fy(t,r,o,s),c=t.memoizedState,l!==r||h!==c||Vr.current||po?(typeof d=="function"&&(IS(t,n,d,r),c=t.memoizedState),(l=po||uT(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,i5(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:aa(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=qs(c):(c=Ur(n)?tc:pr.current,c=Yu(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&dT(t,o,r,c),po=!1,h=t.memoizedState,o.state=h,fy(t,r,o,s);var g=t.memoizedState;l!==f||h!==g||Vr.current||po?(typeof m=="function"&&(IS(t,n,m,r),g=t.memoizedState),(u=po||uT(t,n,u,r,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return $S(e,t,n,r,a,s)}function $S(e,t,n,r,s,a){O5(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&nT(t,n,!1),Ri(e,t,a);r=t.stateNode,yQ.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ju(t,e.child,null,a),t.child=Ju(t,null,l,a)):br(e,t,l,a),t.memoizedState=r.state,s&&nT(t,n,!0),t.child}function I5(e){var t=e.stateNode;t.pendingContext?tT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tT(e,t.context,!1),bE(e,t.containerInfo)}function yT(e,t,n,r,s){return Xu(),pE(s),t.flags|=256,br(e,t,n,r),t.child}var LS={dehydrated:null,treeContext:null,retryLane:0};function FS(e){return{baseLanes:e,cachePool:null,transitions:null}}function D5(e,t,n){var r=t.pendingProps,s=qt.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Pt(qt,s&1),e===null)return TS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=S0(o,r,0,null),e=Kl(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=FS(n),t.memoizedState=LS,e):AE(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xQ(e,t,o,r,l,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Mo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Mo(l,a):(a=Kl(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?FS(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=LS,r}return a=e.child,e=a.sibling,r=Mo(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function AE(e,t){return t=S0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function kg(e,t,n,r){return r!==null&&pE(r),Ju(t,e.child,null,n),e=AE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xQ(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=hj(Error(he(422))),kg(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=S0({mode:"visible",children:r.children},s,0,null),a=Kl(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Ju(t,e.child,null,o),t.child.memoizedState=FS(o),t.memoizedState=LS,a);if(!(t.mode&1))return kg(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(he(419)),r=hj(a,r,void 0),kg(e,t,o,r)}if(l=(o&e.childLanes)!==0,zr||l){if(r=On,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Mi(e,s),va(r,e,s,-1))}return ME(),r=hj(Error(he(421))),kg(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=OQ.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,os=To(s.nextSibling),cs=t,Vt=!0,da=null,e!==null&&(Ts[Os++]=yi,Ts[Os++]=xi,Ts[Os++]=nc,yi=e.id,xi=e.overflow,nc=t),t=AE(t,r.children),t.flags|=4096,t)}function xT(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),OS(e.return,t,n)}function mj(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function M5(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(br(e,t,r.children,n),r=qt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xT(e,n,t);else if(e.tag===19)xT(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pt(qt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&hy(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),mj(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&hy(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}mj(t,!0,n,null,a);break;case"together":mj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Iv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ri(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,n=Mo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wQ(e,t,n){switch(t.tag){case 3:I5(t),Xu();break;case 5:o5(t);break;case 1:Ur(t.type)&&oy(t);break;case 4:bE(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Pt(uy,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pt(qt,qt.current&1),t.flags|=128,null):n&t.child.childLanes?D5(e,t,n):(Pt(qt,qt.current&1),e=Ri(e,t,n),e!==null?e.sibling:null);Pt(qt,qt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return M5(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pt(qt,qt.current),r)break;return null;case 22:case 23:return t.lanes=0,T5(e,t,n)}return Ri(e,t,n)}var R5,BS,$5,L5;R5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};BS=function(){};$5=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Bl(Va.current);var a=null;switch(n){case"input":s=lS(e,s),r=lS(e,r),a=[];break;case"select":s=Yt({},s,{value:void 0}),r=Yt({},r,{value:void 0}),a=[];break;case"textarea":s=dS(e,s),r=dS(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ay)}hS(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hh.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Mt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};L5=function(e,t,n,r){n!==r&&(t.flags|=4)};function Cf(e,t){if(!Vt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ir(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bQ(e,t,n){var r=t.pendingProps;switch(mE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(t),null;case 1:return Ur(t.type)&&iy(),ir(t),null;case 3:return r=t.stateNode,Qu(),Lt(Vr),Lt(pr),SE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,da!==null&&(KS(da),da=null))),BS(e,t),ir(t),null;case 5:jE(t);var s=Bl(sm.current);if(n=t.type,e!==null&&t.stateNode!=null)$5(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(he(166));return ir(t),null}if(e=Bl(Va.current),Cg(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[La]=t,r[nm]=a,e=(t.mode&1)!==0,n){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(s=0;s<Zf.length;s++)Mt(Zf[s],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":k2(r,a),Mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Mt("invalid",r);break;case"textarea":P2(r,a),Mt("invalid",r)}hS(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&_g(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&_g(r.textContent,l,e),s=["children",""+l]):Hh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Mt("scroll",r)}switch(n){case"input":vg(r),A2(r,a,!0);break;case"textarea":vg(r),T2(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ay)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=f3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[La]=t,e[nm]=r,R5(e,t,!1,!1),t.stateNode=e;e:{switch(o=mS(n,r),n){case"dialog":Mt("cancel",e),Mt("close",e),s=r;break;case"iframe":case"object":case"embed":Mt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Zf.length;s++)Mt(Zf[s],e);s=r;break;case"source":Mt("error",e),s=r;break;case"img":case"image":case"link":Mt("error",e),Mt("load",e),s=r;break;case"details":Mt("toggle",e),s=r;break;case"input":k2(e,r),s=lS(e,r),Mt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Yt({},r,{value:void 0}),Mt("invalid",e);break;case"textarea":P2(e,r),s=dS(e,r),Mt("invalid",e);break;default:s=r}hS(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?p3(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&h3(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Gh(e,c):typeof c=="number"&&Gh(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Hh.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Mt("scroll",e):c!=null&&ZC(e,a,c,o))}switch(n){case"input":vg(e),A2(e,r,!1);break;case"textarea":vg(e),T2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Uo(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Eu(e,!!r.multiple,a,!1):r.defaultValue!=null&&Eu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ay)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ir(t),null;case 6:if(e&&t.stateNode!=null)L5(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(he(166));if(n=Bl(sm.current),Bl(Va.current),Cg(t)){if(r=t.stateNode,n=t.memoizedProps,r[La]=t,(a=r.nodeValue!==n)&&(e=cs,e!==null))switch(e.tag){case 3:_g(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_g(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[La]=t,t.stateNode=r}return ir(t),null;case 13:if(Lt(qt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vt&&os!==null&&t.mode&1&&!(t.flags&128))n5(),Xu(),t.flags|=98560,a=!1;else if(a=Cg(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(he(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(he(317));a[La]=t}else Xu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ir(t),a=!1}else da!==null&&(KS(da),da=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||qt.current&1?bn===0&&(bn=3):ME())),t.updateQueue!==null&&(t.flags|=4),ir(t),null);case 4:return Qu(),BS(e,t),e===null&&em(t.stateNode.containerInfo),ir(t),null;case 10:return yE(t.type._context),ir(t),null;case 17:return Ur(t.type)&&iy(),ir(t),null;case 19:if(Lt(qt),a=t.memoizedState,a===null)return ir(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Cf(a,!1);else{if(bn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hy(e),o!==null){for(t.flags|=128,Cf(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pt(qt,qt.current&1|2),t.child}e=e.sibling}a.tail!==null&&en()>ed&&(t.flags|=128,r=!0,Cf(a,!1),t.lanes=4194304)}else{if(!r)if(e=hy(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Cf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Vt)return ir(t),null}else 2*en()-a.renderingStartTime>ed&&n!==1073741824&&(t.flags|=128,r=!0,Cf(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=en(),t.sibling=null,n=qt.current,Pt(qt,r?n&1|2:n&1),t):(ir(t),null);case 22:case 23:return DE(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ts&1073741824&&(ir(t),t.subtreeFlags&6&&(t.flags|=8192)):ir(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function jQ(e,t){switch(mE(t),t.tag){case 1:return Ur(t.type)&&iy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qu(),Lt(Vr),Lt(pr),SE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jE(t),null;case 13:if(Lt(qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));Xu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt(qt),null;case 4:return Qu(),null;case 10:return yE(t.type._context),null;case 22:case 23:return DE(),null;case 24:return null;default:return null}}var Ag=!1,cr=!1,SQ=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function pu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Jt(e,t,r)}else n.current=null}function zS(e,t,n){try{n()}catch(r){Jt(e,t,r)}}var wT=!1;function NQ(e,t){if(NS=ny,e=V3(),fE(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=o),h===a&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(_S={focusedElem:e,selectionRange:n},ny=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,y=g.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:aa(t.type,p),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(b){Jt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return g=wT,wT=!1,g}function vh(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&zS(t,n,a)}s=s.next}while(s!==r)}}function b0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function WS(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function F5(e){var t=e.alternate;t!==null&&(e.alternate=null,F5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[La],delete t[nm],delete t[kS],delete t[iQ],delete t[oQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function B5(e){return e.tag===5||e.tag===3||e.tag===4}function bT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||B5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function VS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ay));else if(r!==4&&(e=e.child,e!==null))for(VS(e,t,n),e=e.sibling;e!==null;)VS(e,t,n),e=e.sibling}function US(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(US(e,t,n),e=e.sibling;e!==null;)US(e,t,n),e=e.sibling}var Vn=null,ia=!1;function ro(e,t,n){for(n=n.child;n!==null;)z5(e,t,n),n=n.sibling}function z5(e,t,n){if(Wa&&typeof Wa.onCommitFiberUnmount=="function")try{Wa.onCommitFiberUnmount(h0,n)}catch{}switch(n.tag){case 5:cr||pu(n,t);case 6:var r=Vn,s=ia;Vn=null,ro(e,t,n),Vn=r,ia=s,Vn!==null&&(ia?(e=Vn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Vn.removeChild(n.stateNode));break;case 18:Vn!==null&&(ia?(e=Vn,n=n.stateNode,e.nodeType===8?oj(e.parentNode,n):e.nodeType===1&&oj(e,n),Jh(e)):oj(Vn,n.stateNode));break;case 4:r=Vn,s=ia,Vn=n.stateNode.containerInfo,ia=!0,ro(e,t,n),Vn=r,ia=s;break;case 0:case 11:case 14:case 15:if(!cr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&zS(n,t,o),s=s.next}while(s!==r)}ro(e,t,n);break;case 1:if(!cr&&(pu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Jt(n,t,l)}ro(e,t,n);break;case 21:ro(e,t,n);break;case 22:n.mode&1?(cr=(r=cr)||n.memoizedState!==null,ro(e,t,n),cr=r):ro(e,t,n);break;default:ro(e,t,n)}}function jT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new SQ),t.forEach(function(r){var s=IQ.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ea(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Vn=l.stateNode,ia=!1;break e;case 3:Vn=l.stateNode.containerInfo,ia=!0;break e;case 4:Vn=l.stateNode.containerInfo,ia=!0;break e}l=l.return}if(Vn===null)throw Error(he(160));z5(a,o,s),Vn=null,ia=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Jt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)W5(t,e),t=t.sibling}function W5(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ea(t,e),Da(e),r&4){try{vh(3,e,e.return),b0(3,e)}catch(p){Jt(e,e.return,p)}try{vh(5,e,e.return)}catch(p){Jt(e,e.return,p)}}break;case 1:ea(t,e),Da(e),r&512&&n!==null&&pu(n,n.return);break;case 5:if(ea(t,e),Da(e),r&512&&n!==null&&pu(n,n.return),e.flags&32){var s=e.stateNode;try{Gh(s,"")}catch(p){Jt(e,e.return,p)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&u3(s,a),mS(l,o);var u=mS(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?p3(s,f):d==="dangerouslySetInnerHTML"?h3(s,f):d==="children"?Gh(s,f):ZC(s,d,f,u)}switch(l){case"input":cS(s,a);break;case"textarea":d3(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Eu(s,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Eu(s,!!a.multiple,a.defaultValue,!0):Eu(s,!!a.multiple,a.multiple?[]:"",!1))}s[nm]=a}catch(p){Jt(e,e.return,p)}}break;case 6:if(ea(t,e),Da(e),r&4){if(e.stateNode===null)throw Error(he(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(p){Jt(e,e.return,p)}}break;case 3:if(ea(t,e),Da(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jh(t.containerInfo)}catch(p){Jt(e,e.return,p)}break;case 4:ea(t,e),Da(e);break;case 13:ea(t,e),Da(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(OE=en())),r&4&&jT(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(cr=(u=cr)||d,ea(t,e),cr=u):ea(t,e),Da(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ee=e,d=e.child;d!==null;){for(f=Ee=d;Ee!==null;){switch(h=Ee,m=h.child,h.tag){case 0:case 11:case 14:case 15:vh(4,h,h.return);break;case 1:pu(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Jt(r,n,p)}}break;case 5:pu(h,h.return);break;case 22:if(h.memoizedState!==null){NT(f);continue}}m!==null?(m.return=h,Ee=m):NT(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=m3("display",o))}catch(p){Jt(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Jt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ea(t,e),Da(e),r&4&&jT(e);break;case 21:break;default:ea(t,e),Da(e)}}function Da(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(B5(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Gh(s,""),r.flags&=-33);var a=bT(e);US(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=bT(e);VS(e,l,o);break;default:throw Error(he(161))}}catch(c){Jt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _Q(e,t,n){Ee=e,V5(e)}function V5(e,t,n){for(var r=(e.mode&1)!==0;Ee!==null;){var s=Ee,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ag;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||cr;l=Ag;var u=cr;if(Ag=o,(cr=c)&&!u)for(Ee=s;Ee!==null;)o=Ee,c=o.child,o.tag===22&&o.memoizedState!==null?_T(s):c!==null?(c.return=o,Ee=c):_T(s);for(;a!==null;)Ee=a,V5(a),a=a.sibling;Ee=s,Ag=l,cr=u}ST(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Ee=a):ST(e)}}function ST(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cr||b0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!cr)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:aa(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&oT(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}oT(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Jh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}cr||t.flags&512&&WS(t)}catch(h){Jt(t,t.return,h)}}if(t===e){Ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function NT(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function _T(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{b0(4,t)}catch(c){Jt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Jt(t,s,c)}}var a=t.return;try{WS(t)}catch(c){Jt(t,a,c)}break;case 5:var o=t.return;try{WS(t)}catch(c){Jt(t,o,c)}}}catch(c){Jt(t,t.return,c)}if(t===e){Ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ee=l;break}Ee=t.return}}var CQ=Math.ceil,gy=Yi.ReactCurrentDispatcher,PE=Yi.ReactCurrentOwner,zs=Yi.ReactCurrentBatchConfig,ut=0,On=null,dn=null,Yn=0,ts=0,gu=sl(0),bn=0,lm=null,sc=0,j0=0,TE=0,yh=null,$r=null,OE=0,ed=1/0,hi=null,vy=!1,qS=null,Io=null,Pg=!1,_o=null,yy=0,xh=0,HS=null,Dv=-1,Mv=0;function Cr(){return ut&6?en():Dv!==-1?Dv:Dv=en()}function Do(e){return e.mode&1?ut&2&&Yn!==0?Yn&-Yn:cQ.transition!==null?(Mv===0&&(Mv=E3()),Mv):(e=wt,e!==0||(e=window.event,e=e===void 0?16:D3(e.type)),e):1}function va(e,t,n,r){if(50<xh)throw xh=0,HS=null,Error(he(185));Ep(e,n,r),(!(ut&2)||e!==On)&&(e===On&&(!(ut&2)&&(j0|=n),bn===4&&wo(e,Yn)),qr(e,r),n===1&&ut===0&&!(t.mode&1)&&(ed=en()+500,y0&&al()))}function qr(e,t){var n=e.callbackNode;cJ(e,t);var r=ty(e,e===On?Yn:0);if(r===0)n!==null&&D2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&D2(n),t===1)e.tag===0?lQ(CT.bind(null,e)):Z3(CT.bind(null,e)),sQ(function(){!(ut&6)&&al()}),n=null;else{switch(k3(r)){case 1:n=sE;break;case 4:n=_3;break;case 16:n=ey;break;case 536870912:n=C3;break;default:n=ey}n=J5(n,U5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function U5(e,t){if(Dv=-1,Mv=0,ut&6)throw Error(he(327));var n=e.callbackNode;if(Ou()&&e.callbackNode!==n)return null;var r=ty(e,e===On?Yn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xy(e,r);else{t=r;var s=ut;ut|=2;var a=H5();(On!==e||Yn!==t)&&(hi=null,ed=en()+500,Gl(e,t));do try{AQ();break}catch(l){q5(e,l)}while(!0);vE(),gy.current=a,ut=s,dn!==null?t=0:(On=null,Yn=0,t=bn)}if(t!==0){if(t===2&&(s=xS(e),s!==0&&(r=s,t=GS(e,s))),t===1)throw n=lm,Gl(e,0),wo(e,r),qr(e,en()),n;if(t===6)wo(e,r);else{if(s=e.current.alternate,!(r&30)&&!EQ(s)&&(t=xy(e,r),t===2&&(a=xS(e),a!==0&&(r=a,t=GS(e,a))),t===1))throw n=lm,Gl(e,0),wo(e,r),qr(e,en()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(he(345));case 2:_l(e,$r,hi);break;case 3:if(wo(e,r),(r&130023424)===r&&(t=OE+500-en(),10<t)){if(ty(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Cr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ES(_l.bind(null,e,$r,hi),t);break}_l(e,$r,hi);break;case 4:if(wo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ga(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=en()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CQ(r/1960))-r,10<r){e.timeoutHandle=ES(_l.bind(null,e,$r,hi),r);break}_l(e,$r,hi);break;case 5:_l(e,$r,hi);break;default:throw Error(he(329))}}}return qr(e,en()),e.callbackNode===n?U5.bind(null,e):null}function GS(e,t){var n=yh;return e.current.memoizedState.isDehydrated&&(Gl(e,t).flags|=256),e=xy(e,t),e!==2&&(t=$r,$r=n,t!==null&&KS(t)),e}function KS(e){$r===null?$r=e:$r.push.apply($r,e)}function EQ(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!ba(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wo(e,t){for(t&=~TE,t&=~j0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ga(t),r=1<<n;e[n]=-1,t&=~r}}function CT(e){if(ut&6)throw Error(he(327));Ou();var t=ty(e,0);if(!(t&1))return qr(e,en()),null;var n=xy(e,t);if(e.tag!==0&&n===2){var r=xS(e);r!==0&&(t=r,n=GS(e,r))}if(n===1)throw n=lm,Gl(e,0),wo(e,t),qr(e,en()),n;if(n===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,$r,hi),qr(e,en()),null}function IE(e,t){var n=ut;ut|=1;try{return e(t)}finally{ut=n,ut===0&&(ed=en()+500,y0&&al())}}function ac(e){_o!==null&&_o.tag===0&&!(ut&6)&&Ou();var t=ut;ut|=1;var n=zs.transition,r=wt;try{if(zs.transition=null,wt=1,e)return e()}finally{wt=r,zs.transition=n,ut=t,!(ut&6)&&al()}}function DE(){ts=gu.current,Lt(gu)}function Gl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rQ(n)),dn!==null)for(n=dn.return;n!==null;){var r=n;switch(mE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&iy();break;case 3:Qu(),Lt(Vr),Lt(pr),SE();break;case 5:jE(r);break;case 4:Qu();break;case 13:Lt(qt);break;case 19:Lt(qt);break;case 10:yE(r.type._context);break;case 22:case 23:DE()}n=n.return}if(On=e,dn=e=Mo(e.current,null),Yn=ts=t,bn=0,lm=null,TE=j0=sc=0,$r=yh=null,Fl!==null){for(t=0;t<Fl.length;t++)if(n=Fl[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}Fl=null}return e}function q5(e,t){do{var n=dn;try{if(vE(),Tv.current=py,my){for(var r=Gt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}my=!1}if(rc=0,Pn=yn=Gt=null,gh=!1,am=0,PE.current=null,n===null||n.return===null){bn=1,lm=t,dn=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Yn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=hT(o);if(m!==null){m.flags&=-257,mT(m,o,l,a,t),m.mode&1&&fT(a,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){fT(a,u,t),ME();break e}c=Error(he(426))}}else if(Vt&&l.mode&1){var y=hT(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),mT(y,o,l,a,t),pE(Zu(c,l));break e}}a=c=Zu(c,l),bn!==4&&(bn=2),yh===null?yh=[a]:yh.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=k5(a,c,t);iT(a,x);break e;case 1:l=c;var w=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Io===null||!Io.has(j)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=A5(a,l,t);iT(a,b);break e}}a=a.return}while(a!==null)}K5(n)}catch(S){t=S,dn===n&&n!==null&&(dn=n=n.return);continue}break}while(!0)}function H5(){var e=gy.current;return gy.current=py,e===null?py:e}function ME(){(bn===0||bn===3||bn===2)&&(bn=4),On===null||!(sc&268435455)&&!(j0&268435455)||wo(On,Yn)}function xy(e,t){var n=ut;ut|=2;var r=H5();(On!==e||Yn!==t)&&(hi=null,Gl(e,t));do try{kQ();break}catch(s){q5(e,s)}while(!0);if(vE(),ut=n,gy.current=r,dn!==null)throw Error(he(261));return On=null,Yn=0,bn}function kQ(){for(;dn!==null;)G5(dn)}function AQ(){for(;dn!==null&&!eJ();)G5(dn)}function G5(e){var t=X5(e.alternate,e,ts);e.memoizedProps=e.pendingProps,t===null?K5(e):dn=t,PE.current=null}function K5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=jQ(n,t),n!==null){n.flags&=32767,dn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bn=6,dn=null;return}}else if(n=bQ(n,t,ts),n!==null){dn=n;return}if(t=t.sibling,t!==null){dn=t;return}dn=t=e}while(t!==null);bn===0&&(bn=5)}function _l(e,t,n){var r=wt,s=zs.transition;try{zs.transition=null,wt=1,PQ(e,t,n,r)}finally{zs.transition=s,wt=r}return null}function PQ(e,t,n,r){do Ou();while(_o!==null);if(ut&6)throw Error(he(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(uJ(e,a),e===On&&(dn=On=null,Yn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pg||(Pg=!0,J5(ey,function(){return Ou(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=zs.transition,zs.transition=null;var o=wt;wt=1;var l=ut;ut|=4,PE.current=null,NQ(e,n),W5(n,e),XJ(_S),ny=!!NS,_S=NS=null,e.current=n,_Q(n),tJ(),ut=l,wt=o,zs.transition=a}else e.current=n;if(Pg&&(Pg=!1,_o=e,yy=s),a=e.pendingLanes,a===0&&(Io=null),sJ(n.stateNode),qr(e,en()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vy)throw vy=!1,e=qS,qS=null,e;return yy&1&&e.tag!==0&&Ou(),a=e.pendingLanes,a&1?e===HS?xh++:(xh=0,HS=e):xh=0,al(),null}function Ou(){if(_o!==null){var e=k3(yy),t=zs.transition,n=wt;try{if(zs.transition=null,wt=16>e?16:e,_o===null)var r=!1;else{if(e=_o,_o=null,yy=0,ut&6)throw Error(he(331));var s=ut;for(ut|=4,Ee=e.current;Ee!==null;){var a=Ee,o=a.child;if(Ee.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ee=u;Ee!==null;){var d=Ee;switch(d.tag){case 0:case 11:case 15:vh(8,d,a)}var f=d.child;if(f!==null)f.return=d,Ee=f;else for(;Ee!==null;){d=Ee;var h=d.sibling,m=d.return;if(F5(d),d===u){Ee=null;break}if(h!==null){h.return=m,Ee=h;break}Ee=m}}}var g=a.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}Ee=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ee=o;else e:for(;Ee!==null;){if(a=Ee,a.flags&2048)switch(a.tag){case 0:case 11:case 15:vh(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Ee=x;break e}Ee=a.return}}var w=e.current;for(Ee=w;Ee!==null;){o=Ee;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Ee=j;else e:for(o=w;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:b0(9,l)}}catch(S){Jt(l,l.return,S)}if(l===o){Ee=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Ee=b;break e}Ee=l.return}}if(ut=s,al(),Wa&&typeof Wa.onPostCommitFiberRoot=="function")try{Wa.onPostCommitFiberRoot(h0,e)}catch{}r=!0}return r}finally{wt=n,zs.transition=t}}return!1}function ET(e,t,n){t=Zu(n,t),t=k5(e,t,1),e=Oo(e,t,1),t=Cr(),e!==null&&(Ep(e,1,t),qr(e,t))}function Jt(e,t,n){if(e.tag===3)ET(e,e,n);else for(;t!==null;){if(t.tag===3){ET(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Io===null||!Io.has(r))){e=Zu(n,e),e=A5(t,e,1),t=Oo(t,e,1),e=Cr(),t!==null&&(Ep(t,1,e),qr(t,e));break}}t=t.return}}function TQ(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Cr(),e.pingedLanes|=e.suspendedLanes&n,On===e&&(Yn&n)===n&&(bn===4||bn===3&&(Yn&130023424)===Yn&&500>en()-OE?Gl(e,0):TE|=n),qr(e,t)}function Y5(e,t){t===0&&(e.mode&1?(t=wg,wg<<=1,!(wg&130023424)&&(wg=4194304)):t=1);var n=Cr();e=Mi(e,t),e!==null&&(Ep(e,t,n),qr(e,n))}function OQ(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Y5(e,n)}function IQ(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(t),Y5(e,n)}var X5;X5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vr.current)zr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zr=!1,wQ(e,t,n);zr=!!(e.flags&131072)}else zr=!1,Vt&&t.flags&1048576&&e5(t,cy,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Iv(e,t),e=t.pendingProps;var s=Yu(t,pr.current);Tu(t,n),s=_E(null,t,r,e,s,n);var a=CE();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ur(r)?(a=!0,oy(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wE(t),s.updater=w0,t.stateNode=s,s._reactInternals=t,DS(t,r,e,n),t=$S(null,t,r,!0,a,n)):(t.tag=0,Vt&&a&&hE(t),br(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Iv(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=MQ(r),e=aa(r,e),s){case 0:t=RS(null,t,r,e,n);break e;case 1:t=vT(null,t,r,e,n);break e;case 11:t=pT(null,t,r,e,n);break e;case 14:t=gT(null,t,r,aa(r.type,e),n);break e}throw Error(he(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:aa(r,s),RS(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:aa(r,s),vT(e,t,r,s,n);case 3:e:{if(I5(t),e===null)throw Error(he(387));r=t.pendingProps,a=t.memoizedState,s=a.element,i5(e,t),fy(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Zu(Error(he(423)),t),t=yT(e,t,r,n,s);break e}else if(r!==s){s=Zu(Error(he(424)),t),t=yT(e,t,r,n,s);break e}else for(os=To(t.stateNode.containerInfo.firstChild),cs=t,Vt=!0,da=null,n=s5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xu(),r===s){t=Ri(e,t,n);break e}br(e,t,r,n)}t=t.child}return t;case 5:return o5(t),e===null&&TS(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,CS(r,s)?o=null:a!==null&&CS(r,a)&&(t.flags|=32),O5(e,t),br(e,t,o,n),t.child;case 6:return e===null&&TS(t),null;case 13:return D5(e,t,n);case 4:return bE(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ju(t,null,r,n):br(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:aa(r,s),pT(e,t,r,s,n);case 7:return br(e,t,t.pendingProps,n),t.child;case 8:return br(e,t,t.pendingProps.children,n),t.child;case 12:return br(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Pt(uy,r._currentValue),r._currentValue=o,a!==null)if(ba(a.value,o)){if(a.children===s.children&&!Vr.current){t=Ri(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=_i(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),OS(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(he(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),OS(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}br(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Tu(t,n),s=qs(s),r=r(s),t.flags|=1,br(e,t,r,n),t.child;case 14:return r=t.type,s=aa(r,t.pendingProps),s=aa(r.type,s),gT(e,t,r,s,n);case 15:return P5(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:aa(r,s),Iv(e,t),t.tag=1,Ur(r)?(e=!0,oy(t)):e=!1,Tu(t,n),E5(t,r,s),DS(t,r,s,n),$S(null,t,r,!0,e,n);case 19:return M5(e,t,n);case 22:return T5(e,t,n)}throw Error(he(156,t.tag))};function J5(e,t){return N3(e,t)}function DQ(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(e,t,n,r){return new DQ(e,t,n,r)}function RE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MQ(e){if(typeof e=="function")return RE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tE)return 11;if(e===nE)return 14}return 2}function Mo(e,t){var n=e.alternate;return n===null?(n=Rs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rv(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")RE(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case iu:return Kl(n.children,s,a,t);case eE:o=8,s|=8;break;case sS:return e=Rs(12,n,t,s|2),e.elementType=sS,e.lanes=a,e;case aS:return e=Rs(13,n,t,s),e.elementType=aS,e.lanes=a,e;case iS:return e=Rs(19,n,t,s),e.elementType=iS,e.lanes=a,e;case o3:return S0(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case a3:o=10;break e;case i3:o=9;break e;case tE:o=11;break e;case nE:o=14;break e;case mo:o=16,r=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=Rs(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Kl(e,t,n,r){return e=Rs(7,e,r,t),e.lanes=n,e}function S0(e,t,n,r){return e=Rs(22,e,r,t),e.elementType=o3,e.lanes=n,e.stateNode={isHidden:!1},e}function pj(e,t,n){return e=Rs(6,e,null,t),e.lanes=n,e}function gj(e,t,n){return t=Rs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RQ(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xb(0),this.expirationTimes=Xb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xb(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $E(e,t,n,r,s,a,o,l,c){return e=new RQ(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Rs(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wE(a),e}function $Q(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:au,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Q5(e){if(!e)return qo;e=e._reactInternals;e:{if(Nc(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ur(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var n=e.type;if(Ur(n))return Q3(e,n,t)}return t}function Z5(e,t,n,r,s,a,o,l,c){return e=$E(n,r,!0,e,s,a,o,l,c),e.context=Q5(null),n=e.current,r=Cr(),s=Do(n),a=_i(r,s),a.callback=t??null,Oo(n,a,s),e.current.lanes=s,Ep(e,s,r),qr(e,r),e}function N0(e,t,n,r){var s=t.current,a=Cr(),o=Do(s);return n=Q5(n),t.context===null?t.context=n:t.pendingContext=n,t=_i(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Oo(s,t,o),e!==null&&(va(e,s,o,a),Pv(e,s,o)),o}function wy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function LE(e,t){kT(e,t),(e=e.alternate)&&kT(e,t)}function LQ(){return null}var eF=typeof reportError=="function"?reportError:function(e){console.error(e)};function FE(e){this._internalRoot=e}_0.prototype.render=FE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));N0(e,t,null,null)};_0.prototype.unmount=FE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ac(function(){N0(null,e,null,null)}),t[Di]=null}};function _0(e){this._internalRoot=e}_0.prototype.unstable_scheduleHydration=function(e){if(e){var t=T3();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xo.length&&t!==0&&t<xo[n].priority;n++);xo.splice(n,0,e),n===0&&I3(e)}};function BE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function C0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function AT(){}function FQ(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=wy(o);a.call(u)}}var o=Z5(t,r,e,0,null,!1,!1,"",AT);return e._reactRootContainer=o,e[Di]=o.current,em(e.nodeType===8?e.parentNode:e),ac(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=wy(c);l.call(u)}}var c=$E(e,0,!1,null,null,!1,!1,"",AT);return e._reactRootContainer=c,e[Di]=c.current,em(e.nodeType===8?e.parentNode:e),ac(function(){N0(t,c,n,r)}),c}function E0(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=wy(o);l.call(c)}}N0(t,o,e,s)}else o=FQ(n,t,e,s,r);return wy(o)}A3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qf(t.pendingLanes);n!==0&&(aE(t,n|1),qr(t,en()),!(ut&6)&&(ed=en()+500,al()))}break;case 13:ac(function(){var r=Mi(e,1);if(r!==null){var s=Cr();va(r,e,1,s)}}),LE(e,1)}};iE=function(e){if(e.tag===13){var t=Mi(e,134217728);if(t!==null){var n=Cr();va(t,e,134217728,n)}LE(e,134217728)}};P3=function(e){if(e.tag===13){var t=Do(e),n=Mi(e,t);if(n!==null){var r=Cr();va(n,e,t,r)}LE(e,t)}};T3=function(){return wt};O3=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}};gS=function(e,t,n){switch(t){case"input":if(cS(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=v0(r);if(!s)throw Error(he(90));c3(r),cS(r,s)}}}break;case"textarea":d3(e,n);break;case"select":t=n.value,t!=null&&Eu(e,!!n.multiple,t,!1)}};y3=IE;x3=ac;var BQ={usingClientEntryPoint:!1,Events:[Ap,uu,v0,g3,v3,IE]},Ef={findFiberByHostInstance:Ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zQ={bundleType:Ef.bundleType,version:Ef.version,rendererPackageName:Ef.rendererPackageName,rendererConfig:Ef.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=j3(e),e===null?null:e.stateNode},findFiberByHostInstance:Ef.findFiberByHostInstance||LQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tg.isDisabled&&Tg.supportsFiber)try{h0=Tg.inject(zQ),Wa=Tg}catch{}}ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BQ;ws.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!BE(t))throw Error(he(200));return $Q(e,t,null,n)};ws.createRoot=function(e,t){if(!BE(e))throw Error(he(299));var n=!1,r="",s=eF;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$E(e,1,!1,null,null,n,!1,r,s),e[Di]=t.current,em(e.nodeType===8?e.parentNode:e),new FE(t)};ws.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=j3(t),e=e===null?null:e.stateNode,e};ws.flushSync=function(e){return ac(e)};ws.hydrate=function(e,t,n){if(!C0(t))throw Error(he(200));return E0(null,e,t,!0,n)};ws.hydrateRoot=function(e,t,n){if(!BE(e))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=eF;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Z5(t,null,e,1,n??null,s,!1,a,o),e[Di]=t.current,em(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new _0(t)};ws.render=function(e,t,n){if(!C0(t))throw Error(he(200));return E0(null,e,t,!1,n)};ws.unmountComponentAtNode=function(e){if(!C0(e))throw Error(he(40));return e._reactRootContainer?(ac(function(){E0(null,null,e,!1,function(){e._reactRootContainer=null,e[Di]=null})}),!0):!1};ws.unstable_batchedUpdates=IE;ws.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!C0(n))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return E0(e,t,n,!1,r)};ws.version="18.3.1-next-f1338f8080-20240426";function tF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tF)}catch(e){console.error(e)}}tF(),t3.exports=ws;var ni=t3.exports;const k0=mt(ni);var nF,PT=ni;nF=PT.createRoot,PT.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cm.apply(this,arguments)}var Co;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Co||(Co={}));const TT="popstate";function WQ(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:o,hash:l}=r.location;return YS("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:by(s)}return UQ(t,n,null,e)}function Kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rF(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VQ(){return Math.random().toString(36).substr(2,8)}function OT(e,t){return{usr:e.state,key:e.key,idx:t}}function YS(e,t,n,r){return n===void 0&&(n=null),cm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wd(t):t,{state:n,key:t&&t.key||r||VQ()})}function by(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Wd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function UQ(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=Co.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(cm({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Co.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:l,location:p.location,delta:x})}function h(y,x){l=Co.Push;let w=YS(p.location,y,x);u=d()+1;let j=OT(w,u),b=p.createHref(w);try{o.pushState(j,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}a&&c&&c({action:l,location:p.location,delta:1})}function m(y,x){l=Co.Replace;let w=YS(p.location,y,x);u=d();let j=OT(w,u),b=p.createHref(w);o.replaceState(j,"",b),a&&c&&c({action:l,location:p.location,delta:0})}function g(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof y=="string"?y:by(y);return w=w.replace(/ $/,"%20"),Kt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let p={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(TT,f),c=y,()=>{s.removeEventListener(TT,f),c=null}},createHref(y){return t(s,y)},createURL:g,encodeLocation(y){let x=g(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(y){return o.go(y)}};return p}var IT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(IT||(IT={}));function qQ(e,t,n){return n===void 0&&(n="/"),HQ(e,t,n,!1)}function HQ(e,t,n,r){let s=typeof t=="string"?Wd(t):t,a=td(s.pathname||"/",n);if(a==null)return null;let o=sF(e);GQ(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=sZ(a);l=nZ(o[c],u,r)}return l}function sF(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Kt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ro([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Kt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sF(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:eZ(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of aF(a.path))s(a,o,c)}),t}function aF(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=aF(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function GQ(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tZ(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KQ=/^:[\w-]+$/,YQ=3,XQ=2,JQ=1,QQ=10,ZQ=-2,DT=e=>e==="*";function eZ(e,t){let n=e.split("/"),r=n.length;return n.some(DT)&&(r+=ZQ),t&&(r+=XQ),n.filter(s=>!DT(s)).reduce((s,a)=>s+(KQ.test(a)?YQ:a===""?JQ:QQ),r)}function tZ(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function nZ(e,t,n){let{routesMeta:r}=e,s={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=jy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=jy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ro([a,f.pathname]),pathnameBase:lZ(Ro([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ro([a,f.pathnameBase]))}return o}function jy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=rZ(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function rZ(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),rF(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function sZ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rF(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function td(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function aZ(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Wd(e):e;return{pathname:n?n.startsWith("/")?n:iZ(n,t):t,search:cZ(r),hash:uZ(s)}}function iZ(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vj(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oZ(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function zE(e,t){let n=oZ(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function WE(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Wd(e):(s=cm({},e),Kt(!s.pathname||!s.pathname.includes("?"),vj("?","pathname","search",s)),Kt(!s.pathname||!s.pathname.includes("#"),vj("#","pathname","hash",s)),Kt(!s.search||!s.search.includes("#"),vj("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=aZ(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ro=e=>e.join("/").replace(/\/\/+/g,"/"),lZ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cZ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uZ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dZ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const iF=["post","put","patch","delete"];new Set(iF);const fZ=["get",...iF];new Set(fZ);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function um(){return um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},um.apply(this,arguments)}const A0=v.createContext(null),oF=v.createContext(null),Xi=v.createContext(null),P0=v.createContext(null),il=v.createContext({outlet:null,matches:[],isDataRoute:!1}),lF=v.createContext(null);function hZ(e,t){let{relative:n}=t===void 0?{}:t;Vd()||Kt(!1);let{basename:r,navigator:s}=v.useContext(Xi),{hash:a,pathname:o,search:l}=T0(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ro([r,o])),s.createHref({pathname:c,search:l,hash:a})}function Vd(){return v.useContext(P0)!=null}function ol(){return Vd()||Kt(!1),v.useContext(P0).location}function cF(e){v.useContext(Xi).static||v.useLayoutEffect(e)}function _c(){let{isDataRoute:e}=v.useContext(il);return e?CZ():mZ()}function mZ(){Vd()||Kt(!1);let e=v.useContext(A0),{basename:t,future:n,navigator:r}=v.useContext(Xi),{matches:s}=v.useContext(il),{pathname:a}=ol(),o=JSON.stringify(zE(s,n.v7_relativeSplatPath)),l=v.useRef(!1);return cF(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=WE(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ro([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,a,e])}function T0(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(Xi),{matches:s}=v.useContext(il),{pathname:a}=ol(),o=JSON.stringify(zE(s,r.v7_relativeSplatPath));return v.useMemo(()=>WE(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function pZ(e,t){return gZ(e,t)}function gZ(e,t,n,r){Vd()||Kt(!1);let{navigator:s}=v.useContext(Xi),{matches:a}=v.useContext(il),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ol(),d;if(t){var f;let y=typeof t=="string"?Wd(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||Kt(!1),d=y}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=qQ(e,{pathname:m}),p=bZ(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Ro([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Ro([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return t&&p?v.createElement(P0.Provider,{value:{location:um({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Co.Pop}},p):p}function vZ(){let e=_Z(),t=dZ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const yZ=v.createElement(vZ,null);class xZ extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(il.Provider,{value:this.props.routeContext},v.createElement(lF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wZ(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(A0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(il.Provider,{value:t},r)}function bZ(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Kt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,y=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||yZ,c&&(u<0&&h===0?(g=!0,y=null):u===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),w=()=>{let j;return m?j=p:g?j=y:f.route.Component?j=v.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,v.createElement(wZ,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:j})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(xZ,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var uF=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uF||{}),Sy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sy||{});function jZ(e){let t=v.useContext(A0);return t||Kt(!1),t}function SZ(e){let t=v.useContext(oF);return t||Kt(!1),t}function NZ(e){let t=v.useContext(il);return t||Kt(!1),t}function dF(e){let t=NZ(),n=t.matches[t.matches.length-1];return n.route.id||Kt(!1),n.route.id}function _Z(){var e;let t=v.useContext(lF),n=SZ(Sy.UseRouteError),r=dF(Sy.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function CZ(){let{router:e}=jZ(uF.UseNavigateStable),t=dF(Sy.UseNavigateStable),n=v.useRef(!1);return cF(()=>{n.current=!0}),v.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,um({fromRouteId:t},a)))},[e,t])}function EZ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Cn(e){let{to:t,replace:n,state:r,relative:s}=e;Vd()||Kt(!1);let{future:a,static:o}=v.useContext(Xi),{matches:l}=v.useContext(il),{pathname:c}=ol(),u=_c(),d=WE(t,zE(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function gn(e){Kt(!1)}function kZ(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Co.Pop,navigator:a,static:o=!1,future:l}=e;Vd()&&Kt(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:um({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=Wd(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=r,p=v.useMemo(()=>{let y=td(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:g},navigationType:s}},[c,d,f,h,m,g,s]);return p==null?null:v.createElement(Xi.Provider,{value:u},v.createElement(P0.Provider,{children:n,value:p}))}function AZ(e){let{children:t,location:n}=e;return pZ(XS(t),n)}new Promise(()=>{});function XS(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let a=[...t,s];if(r.type===v.Fragment){n.push.apply(n,XS(r.props.children,a));return}r.type!==gn&&Kt(!1),!r.props.index||!r.props.children||Kt(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=XS(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(this,arguments)}function fF(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function PZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TZ(e,t){return e.button===0&&(!t||t==="_self")&&!PZ(e)}const OZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],IZ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],DZ="6";try{window.__reactRouterVersion=DZ}catch{}const MZ=v.createContext({isTransitioning:!1}),RZ="startTransition",MT=f0[RZ];function $Z(e){let{basename:t,children:n,future:r,window:s}=e,a=v.useRef();a.current==null&&(a.current=WQ({window:s,v5Compat:!0}));let o=a.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(f=>{u&&MT?MT(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>EZ(r),[r]),v.createElement(kZ,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const LZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VE=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=fF(t,OZ),{basename:m}=v.useContext(Xi),g,p=!1;if(typeof u=="string"&&FZ.test(u)&&(g=u,LZ))try{let j=new URL(window.location.href),b=u.startsWith("//")?new URL(j.protocol+u):new URL(u),S=td(b.pathname,m);b.origin===j.origin&&S!=null?u=S+b.search+b.hash:p=!0}catch{}let y=hZ(u,{relative:s}),x=zZ(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function w(j){r&&r(j),j.defaultPrevented||x(j)}return v.createElement("a",Ny({},h,{href:g||y,onClick:p||a?r:w,ref:n,target:c}))}),RT=v.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=fF(t,IZ),h=T0(c,{relative:f.relative}),m=ol(),g=v.useContext(oF),{navigator:p,basename:y}=v.useContext(Xi),x=g!=null&&WZ(h)&&u===!0,w=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,j=m.pathname,b=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(j=j.toLowerCase(),b=b?b.toLowerCase():null,w=w.toLowerCase()),b&&y&&(b=td(b,y)||b);const S=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let N=j===w||!o&&j.startsWith(w)&&j.charAt(S)==="/",C=b!=null&&(b===w||!o&&b.startsWith(w)&&b.charAt(w.length)==="/"),_={isActive:N,isPending:C,isTransitioning:x},k=N?r:void 0,P;typeof a=="function"?P=a(_):P=[a,N?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(_):l;return v.createElement(VE,Ny({},f,{"aria-current":k,className:P,ref:n,style:A,to:c,viewTransition:u}),typeof d=="function"?d(_):d)});var JS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(JS||(JS={}));var $T;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($T||($T={}));function BZ(e){let t=v.useContext(A0);return t||Kt(!1),t}function zZ(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=_c(),u=ol(),d=T0(e,{relative:o});return v.useCallback(f=>{if(TZ(f,n)){f.preventDefault();let h=r!==void 0?r:by(u)===by(d);c(e,{replace:h,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,a,o,l])}function WZ(e,t){t===void 0&&(t={});let n=v.useContext(MZ);n==null&&Kt(!1);let{basename:r}=BZ(JS.useViewTransitionState),s=T0(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=td(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=td(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jy(s.pathname,o)!=null||jy(s.pathname,a)!=null}var LT=["light","dark"],VZ="(prefers-color-scheme: dark)",UZ=v.createContext(void 0),qZ={setTheme:e=>{},themes:[]},HZ=()=>{var e;return(e=v.useContext(UZ))!=null?e:qZ};v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?LT.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,y=!0)=>{let x=o?o[g]:g,w=p?g+"|| ''":`'${x}'`,j="";return s&&y&&!p&&LT.includes(g)&&(j+=`d.style.colorScheme = '${g}';`),n==="class"?p||x?j+=`c.add(${w})`:j+="null":x&&(j+=`d[s](n,${w})`),j},m=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${VZ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var GZ=e=>{switch(e){case"success":return XZ;case"info":return QZ;case"warning":return JZ;case"error":return ZZ;default:return null}},KZ=Array(12).fill(0),YZ=({visible:e})=>T.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},T.createElement("div",{className:"sonner-spinner"},KZ.map((t,n)=>T.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),XZ=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JZ=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),QZ=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ZZ=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),eee=()=>{let[e,t]=T.useState(document.hidden);return T.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},QS=1,tee=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:QS++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async a=>{if(ree(a)&&!a.ok){s=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:n,type:"error",message:o,description:l})}else if(t.success!==void 0){s=!1;let o=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"success",message:o,description:l})}}).catch(async a=>{if(t.error!==void 0){s=!1;let o=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"error",message:o,description:l})}}).finally(()=>{var a;s&&(this.dismiss(n),n=void 0),(a=t.finally)==null||a.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||QS++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},es=new tee,nee=(e,t)=>{let n=(t==null?void 0:t.id)||QS++;return es.addToast({title:e,...t,id:n}),n},ree=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",see=nee,aee=()=>es.toasts,Rr=Object.assign(see,{success:es.success,info:es.info,warning:es.warning,error:es.error,custom:es.custom,message:es.message,promise:es.promise,dismiss:es.dismiss,loading:es.loading},{getHistory:aee});function iee(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}iee(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Og(e){return e.label!==void 0}var oee=3,lee="32px",cee=4e3,uee=356,dee=14,fee=20,hee=200;function mee(...e){return e.filter(Boolean).join(" ")}var pee=e=>{var t,n,r,s,a,o,l,c,u,d;let{invert:f,toast:h,unstyled:m,interacting:g,setHeights:p,visibleToasts:y,heights:x,index:w,toasts:j,expanded:b,removeToast:S,defaultRichColors:N,closeButton:C,style:_,cancelButtonStyle:k,actionButtonStyle:P,className:A="",descriptionClassName:I="",duration:L,position:E,gap:R,loadingIcon:O,expandByDefault:F,classNames:D,icons:M,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:z,cn:W}=e,[H,V]=T.useState(!1),[te,ne]=T.useState(!1),[X,ee]=T.useState(!1),[Z,ae]=T.useState(!1),[ce,q]=T.useState(0),[be,Se]=T.useState(0),Ae=T.useRef(null),Q=T.useRef(null),me=w===0,J=w+1<=y,_e=h.type,rt=h.dismissible!==!1,_t=h.className||"",Bn=h.descriptionClassName||"",pn=T.useMemo(()=>x.findIndex(de=>de.toastId===h.id)||0,[x,h.id]),tr=T.useMemo(()=>{var de;return(de=h.closeButton)!=null?de:C},[h.closeButton,C]),Qs=T.useMemo(()=>h.duration||L||cee,[h.duration,L]),Xr=T.useRef(0),nr=T.useRef(0),Zs=T.useRef(0),gr=T.useRef(null),[Ia,nn]=E.split("-"),rr=T.useMemo(()=>x.reduce((de,gt,st)=>st>=pn?de:de+gt.height,0),[x,pn]),Re=eee(),lt=h.invert||f,pt=_e==="loading";nr.current=T.useMemo(()=>pn*R+rr,[pn,rr]),T.useEffect(()=>{V(!0)},[]),T.useLayoutEffect(()=>{if(!H)return;let de=Q.current,gt=de.style.height;de.style.height="auto";let st=de.getBoundingClientRect().height;de.style.height=gt,Se(st),p(Ir=>Ir.find(Jr=>Jr.toastId===h.id)?Ir.map(Jr=>Jr.toastId===h.id?{...Jr,height:st}:Jr):[{toastId:h.id,height:st,position:h.position},...Ir])},[H,h.title,h.description,p,h.id]);let zt=T.useCallback(()=>{ne(!0),q(nr.current),p(de=>de.filter(gt=>gt.toastId!==h.id)),setTimeout(()=>{S(h)},hee)},[h,S,p,nr]);T.useEffect(()=>{if(h.promise&&_e==="loading"||h.duration===1/0||h.type==="loading")return;let de,gt=Qs;return b||g||z&&Re?(()=>{if(Zs.current<Xr.current){let st=new Date().getTime()-Xr.current;gt=gt-st}Zs.current=new Date().getTime()})():gt!==1/0&&(Xr.current=new Date().getTime(),de=setTimeout(()=>{var st;(st=h.onAutoClose)==null||st.call(h,h),zt()},gt)),()=>clearTimeout(de)},[b,g,F,h,Qs,zt,h.promise,_e,z,Re]),T.useEffect(()=>{let de=Q.current;if(de){let gt=de.getBoundingClientRect().height;return Se(gt),p(st=>[{toastId:h.id,height:gt,position:h.position},...st]),()=>p(st=>st.filter(Ir=>Ir.toastId!==h.id))}},[p,h.id]),T.useEffect(()=>{h.delete&&zt()},[zt,h.delete]);function zn(){return M!=null&&M.loading?T.createElement("div",{className:"sonner-loader","data-visible":_e==="loading"},M.loading):O?T.createElement("div",{className:"sonner-loader","data-visible":_e==="loading"},O):T.createElement(YZ,{visible:_e==="loading"})}return T.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Q,className:W(A,_t,D==null?void 0:D.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[_e],(n=h==null?void 0:h.classNames)==null?void 0:n[_e]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:N,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":H,"data-promise":!!h.promise,"data-removed":te,"data-visible":J,"data-y-position":Ia,"data-x-position":nn,"data-index":w,"data-front":me,"data-swiping":X,"data-dismissible":rt,"data-type":_e,"data-invert":lt,"data-swipe-out":Z,"data-expanded":!!(b||F&&H),style:{"--index":w,"--toasts-before":w,"--z-index":j.length-w,"--offset":`${te?ce:nr.current}px`,"--initial-height":F?"auto":`${be}px`,..._,...h.style},onPointerDown:de=>{pt||!rt||(Ae.current=new Date,q(nr.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(ee(!0),gr.current={x:de.clientX,y:de.clientY}))},onPointerUp:()=>{var de,gt,st,Ir;if(Z||!rt)return;gr.current=null;let Jr=Number(((de=Q.current)==null?void 0:de.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ns=new Date().getTime()-((gt=Ae.current)==null?void 0:gt.getTime()),Vb=Math.abs(Jr)/Ns;if(Math.abs(Jr)>=fee||Vb>.11){q(nr.current),(st=h.onDismiss)==null||st.call(h,h),zt(),ae(!0);return}(Ir=Q.current)==null||Ir.style.setProperty("--swipe-amount","0px"),ee(!1)},onPointerMove:de=>{var gt;if(!gr.current||!rt)return;let st=de.clientY-gr.current.y,Ir=de.clientX-gr.current.x,Jr=(Ia==="top"?Math.min:Math.max)(0,st),Ns=de.pointerType==="touch"?10:2;Math.abs(Jr)>Ns?(gt=Q.current)==null||gt.style.setProperty("--swipe-amount",`${st}px`):Math.abs(Ir)>Ns&&(gr.current=null)}},tr&&!h.jsx?T.createElement("button",{"aria-label":$,"data-disabled":pt,"data-close-button":!0,onClick:pt||!rt?()=>{}:()=>{var de;zt(),(de=h.onDismiss)==null||de.call(h,h)},className:W(D==null?void 0:D.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},T.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||T.isValidElement(h.title)?h.jsx||h.title:T.createElement(T.Fragment,null,_e||h.icon||h.promise?T.createElement("div",{"data-icon":"",className:W(D==null?void 0:D.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||zn():null,h.type!=="loading"?h.icon||(M==null?void 0:M[_e])||GZ(_e):null):null,T.createElement("div",{"data-content":"",className:W(D==null?void 0:D.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},T.createElement("div",{"data-title":"",className:W(D==null?void 0:D.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?T.createElement("div",{"data-description":"",className:W(I,Bn,D==null?void 0:D.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),T.isValidElement(h.cancel)?h.cancel:h.cancel&&Og(h.cancel)?T.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||k,onClick:de=>{var gt,st;Og(h.cancel)&&rt&&((st=(gt=h.cancel).onClick)==null||st.call(gt,de),zt())},className:W(D==null?void 0:D.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,T.isValidElement(h.action)?h.action:h.action&&Og(h.action)?T.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:de=>{var gt,st;Og(h.action)&&(de.defaultPrevented||((st=(gt=h.action).onClick)==null||st.call(gt,de),zt()))},className:W(D==null?void 0:D.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function FT(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var gee=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=oee,toastOptions:m,dir:g=FT(),gap:p=dee,loadingIcon:y,icons:x,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:j,cn:b=mee}=e,[S,N]=T.useState([]),C=T.useMemo(()=>Array.from(new Set([n].concat(S.filter(z=>z.position).map(z=>z.position)))),[S,n]),[_,k]=T.useState([]),[P,A]=T.useState(!1),[I,L]=T.useState(!1),[E,R]=T.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=T.useRef(null),F=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=T.useRef(null),M=T.useRef(!1),$=T.useCallback(z=>{var W;(W=S.find(H=>H.id===z.id))!=null&&W.delete||es.dismiss(z.id),N(H=>H.filter(({id:V})=>V!==z.id))},[S]);return T.useEffect(()=>es.subscribe(z=>{if(z.dismiss){N(W=>W.map(H=>H.id===z.id?{...H,delete:!0}:H));return}setTimeout(()=>{k0.flushSync(()=>{N(W=>{let H=W.findIndex(V=>V.id===z.id);return H!==-1?[...W.slice(0,H),{...W[H],...z},...W.slice(H+1)]:[z,...W]})})})}),[]),T.useEffect(()=>{if(c!=="system"){R(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{R(z?"dark":"light")})},[c]),T.useEffect(()=>{S.length<=1&&A(!1)},[S]),T.useEffect(()=>{let z=W=>{var H,V;r.every(te=>W[te]||W.code===te)&&(A(!0),(H=O.current)==null||H.focus()),W.code==="Escape"&&(document.activeElement===O.current||(V=O.current)!=null&&V.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[r]),T.useEffect(()=>{if(O.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,M.current=!1)}},[O.current]),S.length?T.createElement("section",{"aria-label":`${w} ${F}`,tabIndex:-1},C.map((z,W)=>{var H;let[V,te]=z.split("-");return T.createElement("ol",{key:z,dir:g==="auto"?FT():g,tabIndex:-1,ref:O,className:o,"data-sonner-toaster":!0,"data-theme":E,"data-y-position":V,"data-x-position":te,style:{"--front-toast-height":`${((H=_[0])==null?void 0:H.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||lee,"--width":`${uee}px`,"--gap":`${p}px`,...f},onBlur:ne=>{M.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(M.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||M.current||(M.current=!0,D.current=ne.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{I||A(!1)},onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},S.filter(ne=>!ne.position&&W===0||ne.position===z).map((ne,X)=>{var ee,Z;return T.createElement(pee,{key:ne.id,icons:x,index:X,toast:ne,defaultRichColors:u,duration:(ee=m==null?void 0:m.duration)!=null?ee:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:h,closeButton:(Z=m==null?void 0:m.closeButton)!=null?Z:a,interacting:I,position:z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:$,toasts:S.filter(ae=>ae.position==ne.position),heights:_.filter(ae=>ae.position==ne.position),setHeights:k,expandByDefault:s,gap:p,loadingIcon:y,expanded:P,pauseWhenPageIsHidden:j,cn:b})}))})):null};const vee=({...e})=>{const{theme:t="system"}=HZ();return i.jsx(gee,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},yee={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k",VITE_SUPABASE_URL:"https://oqwstanztqdiexgrpdta.supabase.co"},BT=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(g=>g(t,m))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(yee?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},hF=e=>e?BT(e):BT;var mF={exports:{}},pF={},gF={exports:{}},vF={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd=v;function xee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wee=typeof Object.is=="function"?Object.is:xee,bee=nd.useState,jee=nd.useEffect,See=nd.useLayoutEffect,Nee=nd.useDebugValue;function _ee(e,t){var n=t(),r=bee({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return See(function(){s.value=n,s.getSnapshot=t,yj(s)&&a({inst:s})},[e,n,t]),jee(function(){return yj(s)&&a({inst:s}),e(function(){yj(s)&&a({inst:s})})},[e]),Nee(n),n}function yj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wee(e,n)}catch{return!0}}function Cee(e,t){return t()}var Eee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Cee:_ee;vF.useSyncExternalStore=nd.useSyncExternalStore!==void 0?nd.useSyncExternalStore:Eee;gF.exports=vF;var yF=gF.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0=v,kee=yF;function Aee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pee=typeof Object.is=="function"?Object.is:Aee,Tee=kee.useSyncExternalStore,Oee=O0.useRef,Iee=O0.useEffect,Dee=O0.useMemo,Mee=O0.useDebugValue;pF.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var a=Oee(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Dee(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),s!==void 0&&o.hasValue){var g=o.value;if(s(g,m))return f=g}return f=m}if(g=f,Pee(d,m))return g;var p=r(m);return s!==void 0&&s(g,p)?(d=m,g):(d=m,f=p)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var l=Tee(e,a[0],a[1]);return Iee(function(){o.hasValue=!0,o.value=l},[l]),Mee(l),l};mF.exports=pF;var Ree=mF.exports;const xF=mt(Ree),wF={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k",VITE_SUPABASE_URL:"https://oqwstanztqdiexgrpdta.supabase.co"},{useDebugValue:$ee}=T,{useSyncExternalStoreWithSelector:Lee}=xF;let zT=!1;const Fee=e=>e;function Bee(e,t=Fee,n){(wF?"production":void 0)!=="production"&&n&&!zT&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),zT=!0);const r=Lee(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return $ee(r),r}const WT=e=>{(wF?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?hF(e):e,n=(r,s)=>Bee(t,r,s);return Object.assign(n,t),n},ka=e=>e?WT(e):WT,zee="modulepreload",Wee=function(e){return"/"+e},VT={},Tp=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Wee(c),c in VT)return;VT[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":zee,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},Vee=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Tp(async()=>{const{default:r}=await Promise.resolve().then(()=>Ud);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class UE extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Uee extends UE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class qee extends UE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Hee extends UE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ZS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ZS||(ZS={}));var Gee=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Kee{constructor(t,{headers:n={},customFetch:r,region:s=ZS.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Vee(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Gee(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(g=>{throw new Uee(g)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new qee(d);if(!d.ok)throw new Hee(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Lr={},qE={},I0={},Op={},D0={},M0={},Yee=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rd=Yee();const Xee=rd.fetch,bF=rd.fetch.bind(rd),jF=rd.Headers,Jee=rd.Request,Qee=rd.Response,Ud=Object.freeze(Object.defineProperty({__proto__:null,Headers:jF,Request:Jee,Response:Qee,default:bF,fetch:Xee},Symbol.toStringTag,{value:"Module"})),Zee=gX(Ud);var R0={};Object.defineProperty(R0,"__esModule",{value:!0});let ete=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};R0.default=ete;var SF=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(M0,"__esModule",{value:!0});const tte=SF(Zee),nte=SF(R0);let rte=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=tte.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,f=null,h=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await a.text();try{u=JSON.parse(p),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,m="OK")}catch{a.status===404&&p===""?(h=204,m="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new nte.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};M0.default=rte;var ste=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(D0,"__esModule",{value:!0});const ate=ste(M0);let ite=class extends ate.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};D0.default=ite;var ote=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Op,"__esModule",{value:!0});const lte=ote(D0);let cte=class extends lte.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Op.default=cte;var ute=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(I0,"__esModule",{value:!0});const kf=ute(Op);let dte=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new kf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new kf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new kf.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new kf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new kf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};I0.default=dte;var $0={},L0={};Object.defineProperty(L0,"__esModule",{value:!0});L0.version=void 0;L0.version="0.0.0-automated";Object.defineProperty($0,"__esModule",{value:!0});$0.DEFAULT_HEADERS=void 0;const fte=L0;$0.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fte.version}`};var NF=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qE,"__esModule",{value:!0});const hte=NF(I0),mte=NF(Op),pte=$0;let gte=class _F{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},pte.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new hte.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new _F(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=n);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new mte.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};qE.default=gte;var qd=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.PostgrestError=Lr.PostgrestBuilder=Lr.PostgrestTransformBuilder=Lr.PostgrestFilterBuilder=Lr.PostgrestQueryBuilder=Lr.PostgrestClient=void 0;const CF=qd(qE);Lr.PostgrestClient=CF.default;const EF=qd(I0);Lr.PostgrestQueryBuilder=EF.default;const kF=qd(Op);Lr.PostgrestFilterBuilder=kF.default;const AF=qd(D0);Lr.PostgrestTransformBuilder=AF.default;const PF=qd(M0);Lr.PostgrestBuilder=PF.default;const TF=qd(R0);Lr.PostgrestError=TF.default;var vte=Lr.default={PostgrestClient:CF.default,PostgrestQueryBuilder:EF.default,PostgrestFilterBuilder:kF.default,PostgrestTransformBuilder:AF.default,PostgrestBuilder:PF.default,PostgrestError:TF.default};const{PostgrestClient:yte,PostgrestQueryBuilder:jKe,PostgrestFilterBuilder:SKe,PostgrestTransformBuilder:NKe,PostgrestBuilder:_Ke,PostgrestError:CKe}=vte;let eN;typeof window>"u"?eN=require("ws"):eN=window.WebSocket;const xte=eN,wte="2.11.10",bte={"X-Client-Info":`realtime-js/${wte}`},jte="1.0.0",OF=1e4,Ste=1e3;var Iu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Iu||(Iu={}));var wr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(wr||(wr={}));var oa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(oa||(oa={}));var tN;(function(e){e.websocket="websocket"})(tN||(tN={}));var Rl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Rl||(Rl={}));class Nte{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}let IF=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var kt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kt||(kt={}));const UT=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,o)=>(a[o]=_te(o,e,t,s),a),{})},_te=(e,t,n,r)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=n[e];return a&&!r.includes(a)?DF(a,o):nN(o)},DF=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Ate(t,n)}switch(e){case kt.bool:return Cte(t);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return Ete(t);case kt.json:case kt.jsonb:return kte(t);case kt.timestamp:return Pte(t);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return nN(t);default:return nN(t)}},nN=e=>e,Cte=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ete=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kte=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ate=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>DF(t,l))}return e},Pte=e=>typeof e=="string"?e.replace(" ","T"):e,MF=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class xj{constructor(t,n,r={},s=OF){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qT||(qT={}));class wh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wh.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=wh.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wh.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),g=d.filter(y=>m.indexOf(y.presence_ref)<0),p=f.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var HT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(HT||(HT={}));var GT;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(GT||(GT={}));var mi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mi||(mi={}));class HE{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=wr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new xj(this,oa.join,this.params,this.timeout),this.rejoinTimer=new IF(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=wr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oa.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new wh(this),this.broadcastEndpointURL=MF(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(mi.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(mi.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(mi.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let p=0;p<m;p++){const y=h[p],{filter:{event:x,schema:w,table:j,filter:b}}=y,S=d&&d[p];if(S&&S.event===x&&S.schema===w&&S.table===j&&S.filter===b)g.push(Object.assign(Object.assign({},y),{id:S.id}));else{this.unsubscribe(),this.state=wr.errored,t==null||t(mi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(mi.SUBSCRIBED);return}}).receive("error",d=>{this.state=wr.errored,t==null||t(mi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=wr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oa.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new xj(this,oa.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xj(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=oa;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,p,y;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(p=m.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var g,p,y,x,w,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const b=m.id,S=(g=m.filter)===null||g===void 0?void 0:g.event;return b&&((p=n.ids)===null||p===void 0?void 0:p.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const b=(w=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return b==="*"||b===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:y,commit_timestamp:x,type:w,errors:j}=g;h=Object.assign(Object.assign({},{schema:p,table:y,commit_timestamp:x,eventType:w,new:{},old:{},errors:j}),this._getPayloadRecords(g))}m.callback(h,r)})}_isClosed(){return this.state===wr.closed}_isJoined(){return this.state===wr.joined}_isJoining(){return this.state===wr.joining}_isLeaving(){return this.state===wr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&HE.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(oa.close,{},t)}_onError(t){this._on(oa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=UT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=UT(t.columns,t.old_record)),n}}const KT=()=>{},Tte=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ote{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=bte,this.params={},this.timeout=OF,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=KT,this.ref=0,this.logger=KT,this.conn=null,this.sendBuffer=[],this.serializer=new Nte,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Tp(async()=>{const{default:c}=await Promise.resolve().then(()=>Ud);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${tN.websocket}`,this.httpEndpoint=MF(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,o)=>o(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new IF(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=xte),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Ite(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jte}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Iu.connecting:return Rl.Connecting;case Iu.open:return Rl.Open;case Iu.closing:return Rl.Closing;default:return Rl.Closed}}isConnected(){return this.connectionState()===Rl.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new HE(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(oa.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Ste,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:a,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(oa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Tte],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Ite{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Iu.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class GE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Dte extends GE{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class rN extends GE{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Mte=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const RF=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Tp(async()=>{const{default:r}=await Promise.resolve().then(()=>Ud);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Rte=()=>Mte(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Tp(()=>Promise.resolve().then(()=>Ud),void 0)).Response:Response}),sN=e=>{if(Array.isArray(e))return e.map(n=>sN(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=sN(r)}),t};var Cc=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const wj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$te=(e,t,n)=>Cc(void 0,void 0,void 0,function*(){const r=yield Rte();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Dte(wj(s),e.status||500))}).catch(s=>{t(new rN(wj(s),s))}):t(new rN(wj(e),e))}),Lte=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Ip(e,t,n,r,s,a){return Cc(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,Lte(t,r,s,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>$te(c,l,r))})})}function _y(e,t,n,r){return Cc(this,void 0,void 0,function*(){return Ip(e,"GET",t,n,r)})}function go(e,t,n,r,s){return Cc(this,void 0,void 0,function*(){return Ip(e,"POST",t,r,s,n)})}function Fte(e,t,n,r,s){return Cc(this,void 0,void 0,function*(){return Ip(e,"PUT",t,r,s,n)})}function Bte(e,t,n,r){return Cc(this,void 0,void 0,function*(){return Ip(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function $F(e,t,n,r,s){return Cc(this,void 0,void 0,function*(){return Ip(e,"DELETE",t,r,s,n)})}var Dr=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const zte={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},YT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wte{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=RF(s)}uploadOrUpdate(t,n,r,s){return Dr(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},YT),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(kn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Dr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:YT.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(kn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Dr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield go(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new GE("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Dr(this,void 0,void 0,function*(){try{return{data:yield go(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Dr(this,void 0,void 0,function*(){try{return{data:{path:(yield go(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Dr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield go(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Dr(this,void 0,void 0,function*(){try{const s=yield go(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}download(t,n){return Dr(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield _y(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(kn(l))return{data:null,error:l};throw l}})}info(t){return Dr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield _y(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sN(r),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}exists(t){return Dr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Bte(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(kn(r)&&r instanceof rN){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Dr(this,void 0,void 0,function*(){try{return{data:yield $F(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Dr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},zte),n),{prefix:t||""});return{data:yield go(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Vte="2.7.1",Ute={"X-Client-Info":`storage-js/${Vte}`};var $c=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class qte{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Ute),n),this.fetch=RF(r)}listBuckets(){return $c(this,void 0,void 0,function*(){try{return{data:yield _y(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(kn(t))return{data:null,error:t};throw t}})}getBucket(t){return $c(this,void 0,void 0,function*(){try{return{data:yield _y(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return $c(this,void 0,void 0,function*(){try{return{data:yield go(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return $c(this,void 0,void 0,function*(){try{return{data:yield Fte(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return $c(this,void 0,void 0,function*(){try{return{data:yield go(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return $c(this,void 0,void 0,function*(){try{return{data:yield $F(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}}class Hte extends qte{constructor(t,n={},r){super(t,n,r)}from(t){return new Wte(this.url,this.headers,t,this.fetch)}}const Gte="2.50.0";let eh="";typeof Deno<"u"?eh="deno":typeof document<"u"?eh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?eh="react-native":eh="node";const Kte={"X-Client-Info":`supabase-js-${eh}/${Gte}`},Yte={headers:Kte},Xte={schema:"public"},Jte={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qte={};var Zte=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const ene=e=>{let t;return e?t=e:typeof fetch>"u"?t=bF:t=fetch,(...n)=>t(...n)},tne=()=>typeof Headers>"u"?jF:Headers,nne=(e,t,n)=>{const r=ene(n),s=tne();return(a,o)=>Zte(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var rne=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function sne(e){return e.endsWith("/")?e:e+"/"}function ane(e,t){var n,r;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>rne(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const LF="2.70.0",tu=30*1e3,aN=3,bj=aN*tu,ine="http://localhost:9999",one="supabase.auth.token",lne={"X-Client-Info":`gotrue-js/${LF}`},iN="X-Supabase-Api-Version",FF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cne=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,une=6e5;class KE extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class dne extends KE{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function fne(e){return qe(e)&&e.name==="AuthApiError"}class BF extends KE{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ll extends KE{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class lo extends ll{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hne(e){return qe(e)&&e.name==="AuthSessionMissingError"}class Ig extends ll{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dg extends ll{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mg extends ll{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mne(e){return qe(e)&&e.name==="AuthImplicitGrantRedirectError"}class XT extends ll{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oN extends ll{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function jj(e){return qe(e)&&e.name==="AuthRetryableFetchError"}class JT extends ll{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class bh extends ll{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),QT=` 	
\r=`.split(""),pne=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<QT.length;t+=1)e[QT[t].charCodeAt(0)]=-2;for(let t=0;t<Cy.length;t+=1)e[Cy[t].charCodeAt(0)]=t;return e})();function ZT(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Cy[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Cy[r]),t.queuedBits-=6}}function zF(e,t,n){const r=pne[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function eO(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{yne(o,r,n)};for(let o=0;o<e.length;o+=1)zF(e.charCodeAt(o),s,a);return t.join("")}function gne(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function vne(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}gne(r,t)}}function yne(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function xne(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)zF(e.charCodeAt(s),n,r);return new Uint8Array(t)}function wne(e){const t=[];return vne(e,n=>t.push(n)),new Uint8Array(t)}function bne(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>ZT(s,n,r)),ZT(null,n,r),t.join("")}function jne(e){return Math.round(Date.now()/1e3)+e}function Sne(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const na=()=>typeof window<"u"&&typeof document<"u",yl={tested:!1,writable:!1},jh=()=>{if(!na())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yl.tested)return yl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),yl.tested=!0,yl.writable=!0}catch{yl.tested=!0,yl.writable=!1}return yl.writable};function Nne(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const WF=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Tp(async()=>{const{default:r}=await Promise.resolve().then(()=>Ud);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_ne=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",VF=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Rg=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},$g=async(e,t)=>{await e.removeItem(t)};class F0{constructor(){this.promise=new F0.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}F0.promiseConstructor=Promise;function Sj(e){const t=e.split(".");if(t.length!==3)throw new bh("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!cne.test(t[r]))throw new bh("JWT not in base64url format");return{header:JSON.parse(eO(t[0])),payload:JSON.parse(eO(t[1])),signature:xne(t[2]),raw:{header:t[0],payload:t[1]}}}async function Cne(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ene(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function kne(e){return("0"+e.toString(16)).substr(-2)}function Ane(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,kne).join("")}async function Pne(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function Tne(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Pne(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lc(e,t,n=!1){const r=Ane();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await VF(e,`${t}-code-verifier`,s);const a=await Tne(r);return[a,r===a?"plain":"s256"]}const One=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ine(e){const t=e.headers.get(iN);if(!t||!t.match(One))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Dne(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Mne(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rne=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fc(e){if(!Rne.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var $ne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Cl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lne=[502,503,504];async function tO(e){var t;if(!_ne(e))throw new oN(Cl(e),0);if(Lne.includes(e.status))throw new oN(Cl(e),e.status);let n;try{n=await e.json()}catch(a){throw new BF(Cl(a),a)}let r;const s=Ine(e);if(s&&s.getTime()>=FF["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new JT(Cl(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new lo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new JT(Cl(n),e.status,n.weak_password.reasons);throw new dne(Cl(n),e.status||500,r)}const Fne=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Je(e,t,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[iN]||(a[iN]=FF["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Bne(e,t,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Bne(e,t,n,r,s,a){const o=Fne(t,r,s,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new oN(Cl(c),0)}if(l.ok||await tO(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await tO(c)}}function fi(e){var t;let n=null;Une(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=jne(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function nO(e){const t=fi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zne(e){return{data:e,error:null}}function Wne(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,o=$ne(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Vne(e){return e}function Une(e){return e.access_token&&e.refresh_token&&e.expires_in}const Nj=["global","local","others"];var qne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Hne{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=WF(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Nj[0]){if(Nj.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nj.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:bo})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=qne(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Wne,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(qe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bo})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Vne});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(qe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fc(t);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bo})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Fc(t);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:bo})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Fc(t);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:bo})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Fc(t.userId);try{const{data:n,error:r}=await Je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Fc(t.userId),Fc(t.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}}const Gne={getItem:e=>jh()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{jh()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{jh()&&globalThis.localStorage.removeItem(e)}};function rO(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Kne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Bc={debug:!!(globalThis&&jh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class UF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Yne extends UF{}async function Xne(e,t,n){Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Yne(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Kne();const Jne={url:ine,storageKey:one,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lne,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sO(e,t,n){return await n()}class dm{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=dm.nextInstanceID,dm.nextInstanceID+=1,this.instanceID>0&&na()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Jne),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Hne({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=WF(s.fetch),this.lock=s.lock||sO,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:na()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Xne:this.lock=sO,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:jh()?this.storage=Gne:(this.memoryStorage={},this.storage=rO(this.memoryStorage)):(this.memoryStorage={},this.storage=rO(this.memoryStorage)),na()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${LF}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Nne(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),na()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),mne(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return qe(n)?{error:n}:{error:new BF("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:fi}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(qe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Lc(this.storage,this.storageKey)),a=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:fi})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:fi})}else throw new Dg("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(qe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nO})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nO})}else throw new Dg("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ig}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(qe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,a,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:y,wallet:x,statement:w,options:j}=t;let b;if(na())if(typeof x=="object")b=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))b=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const S=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const N=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let C;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")C=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)C=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),p=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=j==null?void 0:j.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=j==null?void 0:j.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((f=(d=j==null?void 0:j.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...j.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const N=await b.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=N}}try{const{data:y,error:x}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:bne(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:fi});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ig}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(qe(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await Rg(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:o}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:fi});if(await $g(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ig}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(qe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:o}=t,l=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:fi}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ig}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(qe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Lc(this.storage,this.storageKey));const{error:f}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Dg("You must provide either an email or phone number.")}catch(l){if(qe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:fi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(qe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Lc(this.storage,this.storageKey)),await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:zne})}catch(a){if(qe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new lo;const{error:s}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(qe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:o}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:o,error:l}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Dg("You must provide either an email or phone number and a type")}catch(n){if(qe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Rg(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<bj:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bo}):await this._useSession(async n=>{var r,s,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lo}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:bo})})}catch(n){if(qe(n))return hne(n)&&(await this._removeSession(),await $g(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new lo;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Lc(this.storage,this.storageKey));const{data:u,error:d}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:bo});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new lo;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:o}=Sj(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(qe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new lo;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(qe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!na())throw new Mg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new XT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new XT("No code detected.");const{data:w,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Mg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=tu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:y}=await this._getUser(a);if(y)throw y;const x={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(qe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Rg(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(fne(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await $g(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Sne(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Lc(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(qe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return na()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(qe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)throw o;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ene(async s=>(s>0&&await Cne(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fi})),(s,a)=>{const o=200*Math.pow(2,s);return a&&jj(a)&&Date.now()+o-r<tu})}catch(r){if(this._debug(n,"error",r),qe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),na()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Rg(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<bj;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${bj}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),jj(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new lo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new F0;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new lo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),qe(a)){const o={session:null,error:a};return jj(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await VF(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await $g(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&na()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),tu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/tu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${tu}ms, refresh threshold is ${aN} ticks`),s<=aN&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof UF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!na()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Lc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(qe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(qe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Sj(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+une>Date.now()))return r;const{data:s,error:a}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new bh("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new bh("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};r=m.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=Sj(r);if(Dne(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:a,header:s,signature:o},error:null}}const u=Mne(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,wne(`${l}.${c}`)))throw new bh("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}}dm.nextInstanceID=0;const Qne=dm;class Zne extends Qne{constructor(t){super(t)}}var ere=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class tre{constructor(t,n,r){var s,a,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=sne(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Xte,realtime:Qte,auth:Object.assign(Object.assign({},Jte),{storageKey:u}),global:Yte},f=ane(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=nne(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new yte(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Kee(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Hte(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return ere(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:a,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Zne({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Ote(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nre=(e,t,n)=>new tre(e,t,n),rre="https://oqwstanztqdiexgrpdta.supabase.co",sre="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k",U=nre(rre,sre);class aO extends Error{constructor(n,r,s,a,o){super(r);sr(this,"title");sr(this,"userMessage");sr(this,"code");sr(this,"statusCode");this.name="AppError",this.title=n,this.userMessage=r,this.code=s,this.statusCode=a,o&&(this.stack=o.stack)}}const G={translateError:e=>{var t,n,r,s,a,o,l,c,u,d,f,h,m,g;if(e instanceof aO)return{title:e.title,description:e.userMessage,variant:"destructive"};if((t=e.message)!=null&&t.includes("Invalid login credentials"))return{title:"Erro de Login",description:"Email ou senha incorretos. Verifique suas credenciais e tente novamente.",variant:"destructive"};if((n=e.message)!=null&&n.includes("Email not confirmed"))return{title:"Email No Confirmado",description:"Verifique sua caixa de entrada e confirme seu email antes de fazer login.",variant:"destructive"};if((r=e.message)!=null&&r.includes("User already registered"))return{title:"Email J Cadastrado",description:"Este email j est em uso. Tente fazer login ou use outro email.",variant:"destructive"};if((s=e.message)!=null&&s.includes("Password should be at least"))return{title:"Senha Muito Fraca",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"};if((a=e.message)!=null&&a.includes("Too many requests"))return{title:"Muitas Tentativas",description:"Voc fez muitas tentativas. Aguarde alguns minutos antes de tentar novamente.",variant:"destructive"};if((o=e.message)!=null&&o.includes("Failed to fetch")||(l=e.message)!=null&&l.includes("Network Error"))return{title:"Erro de Conexo",description:"Verifique sua conexo com a internet e tente novamente.",variant:"destructive",action:{label:"Tentar Novamente",onClick:()=>window.location.reload()}};if((c=e.message)!=null&&c.includes("JSON object requested, multiple (or no) rows returned"))return{title:"Dados No Encontrados",description:"Os dados solicitados no foram encontrados.",variant:"destructive"};if((u=e.message)!=null&&u.includes("duplicate key value violates unique constraint"))return{title:"Dados Duplicados",description:"J existe um registro com essas informaes.",variant:"destructive"};if((d=e.message)!=null&&d.includes("permission denied"))return{title:"Acesso Negado",description:"Voc no tem permisso para realizar esta ao.",variant:"destructive"};if((f=e.message)!=null&&f.includes("validation"))return{title:"Dados Invlidos",description:"Verifique os dados informados e tente novamente.",variant:"destructive"};if((h=e.message)!=null&&h.includes("Evolution API"))return{title:"Erro do WhatsApp",description:"Problema na conexo com o WhatsApp. Tente novamente em alguns instantes.",variant:"destructive"};if((m=e.message)!=null&&m.includes("instance already exists"))return{title:"Instncia J Existe",description:"Uma instncia WhatsApp com este nome j existe. Use um nome diferente.",variant:"destructive"};if((g=e.message)!=null&&g.includes("Unauthorized"))return{title:"No Autorizado",description:"Sua sesso expirou. Faa login novamente.",variant:"destructive",action:{label:"Fazer Login",onClick:()=>window.location.href="/login"}};if(e.status)switch(e.status){case 400:return{title:"Requisio Invlida",description:"Os dados enviados so invlidos. Verifique e tente novamente.",variant:"destructive"};case 401:return{title:"No Autorizado",description:"Voc precisa fazer login para acessar este recurso.",variant:"destructive",action:{label:"Fazer Login",onClick:()=>window.location.href="/login"}};case 403:return{title:"Acesso Proibido",description:"Voc no tem permisso para realizar esta ao.",variant:"destructive"};case 404:return{title:"No Encontrado",description:"O recurso solicitado no foi encontrado.",variant:"destructive"};case 429:return{title:"Muitas Requisies",description:"Voc est fazendo muitas requisies. Aguarde um momento.",variant:"destructive"};case 500:return{title:"Erro do Servidor",description:"Ocorreu um erro interno. Nossa equipe foi notificada.",variant:"destructive"};case 503:return{title:"Servio Indisponvel",description:"O servio est temporariamente indisponvel. Tente novamente em alguns minutos.",variant:"destructive"}}return e.message?{title:"Erro",description:e.message.replace("AuthApiError: ","").replace("PostgrestError: ","").replace("Error: ",""),variant:"destructive"}:{title:"Erro Inesperado",description:"Ocorreu um erro inesperado. Tente novamente ou entre em contato com o suporte.",variant:"destructive",action:{label:"Recarregar Pgina",onClick:()=>window.location.reload()}}},showError:e=>{const t=G.translateError(e);Rr.error(t.title,{description:t.description,action:t.action?{label:t.action.label,onClick:t.action.onClick}:void 0,duration:6e3})},showSuccess:(e,t)=>{Rr.success(e,{description:t,duration:4e3})},handleAsync:async(e,t)=>{try{return await e()}catch(n){return t?t(n):G.showError(n),null}},createError:(e,t,n,r)=>new aO(e,t,n,r)};class are{constructor(t){sr(this,"config");this.config=t}async makeRequest(t,n="GET",r){const s=`${this.config.serverUrl}${t}`,a={"Content-Type":"application/json",apikey:this.config.apiKey},o={method:n,headers:a};r&&(n==="POST"||n==="PUT")&&(o.body=JSON.stringify(r));try{const l=await fetch(s,o);if(!l.ok){const u=await l.text();let d=`HTTP ${l.status}: ${l.statusText}`;try{const f=JSON.parse(u);d=f.message||f.error||d}catch{d=u||d}throw new Error(d)}return await l.json()}catch(l){throw l}}async createInstance(t,n){const r=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),s={instanceName:t,qrcode:!0,integration:"WHATSAPP-BAILEYS",rejectCall:!1,msgCall:"",groupsIgnore:!1,alwaysOnline:!1,readMessages:!1,readStatus:!1,syncFullHistory:!1};return!r&&n&&(s.webhook={url:n,byEvents:!0,base64:!1,headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.config.apiKey}`},events:["APPLICATION_STARTUP","QRCODE_UPDATED","CONNECTION_UPDATE","MESSAGES_UPSERT","MESSAGES_UPDATE","SEND_MESSAGE","CONTACTS_SET","CONTACTS_UPSERT","CONTACTS_UPDATE","PRESENCE_UPDATE","CHATS_SET","CHATS_UPSERT","CHATS_UPDATE","CHATS_DELETE","GROUPS_UPSERT","GROUP_UPDATE","GROUP_PARTICIPANTS_UPDATE","LABELS_EDIT","LABELS_ASSOCIATION","CALL"]}),this.makeRequest("/instance/create","POST",s)}async deleteInstance(t){return this.makeRequest(`/instance/delete/${t}`,"DELETE")}async restartInstance(t){return this.makeRequest(`/instance/restart/${t}`,"PUT")}async logoutInstance(t){return this.makeRequest(`/instance/logout/${t}`,"DELETE")}async connectInstance(t){return this.makeRequest(`/instance/connect/${t}`)}async getConnectionState(t){return this.makeRequest(`/instance/connectionState/${t}`)}async fetchInstances(t){const n=t?`/instance/fetchInstances?instanceName=${t}`:"/instance/fetchInstances";return this.makeRequest(n)}async setPresence(t,n){return this.makeRequest(`/chat/presence/${t}`,"PUT",{presence:n})}async sendTextMessage(t,n){return this.makeRequest(`/message/sendText/${t}`,"POST",n)}async sendMediaMessage(t,n){return this.makeRequest(`/message/sendMedia/${t}`,"POST",n)}async sendAudioMessage(t,n){return this.makeRequest(`/message/sendWhatsAppAudio/${t}`,"POST",n)}async sendButtonMessage(t,n){return this.makeRequest(`/message/sendButtons/${t}`,"POST",n)}async sendListMessage(t,n){return this.makeRequest(`/message/sendList/${t}`,"POST",n)}async sendLocationMessage(t,n){return this.makeRequest(`/message/sendLocation/${t}`,"POST",n)}async sendContactMessage(t,n){return this.makeRequest(`/message/sendContact/${t}`,"POST",n)}async sendReaction(t,n,r){return this.makeRequest(`/message/sendReaction/${t}`,"POST",{reactionMessage:{key:n,reaction:r}})}async markMessageAsRead(t,n,r){const s={remoteJid:n};return r&&(s.messageId=r),this.makeRequest(`/chat/markMessageAsRead/${t}`,"PUT",s)}async deleteMessage(t,n,r,s){return this.makeRequest(`/message/delete/${t}`,"DELETE",{id:n,remoteJid:r,fromMe:s})}async findChats(t){return this.makeRequest(`/chat/findChats/${t}`)}async findMessages(t,n,r){const s=new URLSearchParams({remoteJid:n});return r&&s.append("limit",r.toString()),this.makeRequest(`/chat/findMessages/${t}?${s}`)}async archiveChat(t,n,r){return this.makeRequest(`/chat/archive/${t}`,"PUT",{remoteJid:n,archive:r})}async deleteChat(t,n){return this.makeRequest(`/chat/delete/${t}`,"DELETE",{remoteJid:n})}async clearMessages(t,n){return this.makeRequest(`/chat/clearMessages/${t}`,"DELETE",{remoteJid:n})}async findContacts(t){return this.makeRequest(`/chat/findContacts/${t}`)}async getProfilePicture(t,n){return this.makeRequest(`/chat/profilePicture/${t}?number=${n}`)}async getStatus(t,n){return this.makeRequest(`/chat/findStatusMessage/${t}?number=${n}`)}async blockContact(t,n){return this.makeRequest(`/chat/blockContact/${t}`,"PUT",{number:n})}async unblockContact(t,n){return this.makeRequest(`/chat/unblockContact/${t}`,"PUT",{number:n})}async updateProfileName(t,n){return this.makeRequest(`/chat/updateProfileName/${t}`,"PUT",{name:n})}async updateProfileStatus(t,n){return this.makeRequest(`/chat/updateProfileStatus/${t}`,"PUT",{status:n})}async updateProfilePicture(t,n){return this.makeRequest(`/chat/updateProfilePicture/${t}`,"PUT",{picture:n})}async removeProfilePicture(t){return this.makeRequest(`/chat/removeProfilePicture/${t}`,"DELETE")}async createGroup(t,n){return this.makeRequest(`/group/create/${t}`,"POST",n)}async updateGroupParticipants(t,n){return this.makeRequest(`/group/updateParticipant/${t}`,"PUT",n)}async updateGroupSetting(t,n,r){return this.makeRequest(`/group/updateSetting/${t}`,"PUT",{groupJid:n,action:r})}async updateGroupSubject(t,n,r){return this.makeRequest(`/group/updateSubject/${t}`,"PUT",{groupJid:n,subject:r})}async updateGroupDescription(t,n,r){return this.makeRequest(`/group/updateDescription/${t}`,"PUT",{groupJid:n,description:r})}async findGroup(t,n){return this.makeRequest(`/group/findGroupInfo/${t}?groupJid=${n}`)}async findGroupParticipants(t,n){return this.makeRequest(`/group/participants/${t}?groupJid=${n}`)}async inviteCode(t,n){return this.makeRequest(`/group/inviteCode/${t}?groupJid=${n}`)}async revokeInviteCode(t,n){return this.makeRequest(`/group/revokeInviteCode/${t}`,"PUT",{groupJid:n})}async sendInvite(t,n,r,s){return this.makeRequest(`/group/sendInvite/${t}`,"POST",{groupJid:n,numbers:r,description:s})}async leaveGroup(t,n){return this.makeRequest(`/group/leaveGroup/${t}`,"DELETE",{groupJid:n})}async setWebhook(t,n,r,s,a){return this.makeRequest(`/webhook/set/${t}`,"POST",{url:n,events:r,byEvents:s,base64:a})}async findWebhook(t){return this.makeRequest(`/webhook/find/${t}`)}async instanceExists(t){try{return await this.getConnectionState(t),!0}catch{return!1}}async getQRCode(t){return this.connectInstance(t)}async getInstanceStatus(t){return this.getConnectionState(t)}async sendSimpleTextMessage(t,n,r){return this.sendTextMessage(t,{number:n,text:r})}async sendImageMessage(t,n,r,s){return this.sendMediaMessage(t,{number:n,mediaMessage:{mediatype:"image",media:r,caption:s}})}async sendDocumentMessage(t,n,r,s,a){return this.sendMediaMessage(t,{number:n,mediaMessage:{mediatype:"document",media:r,fileName:s,caption:a}})}async sendVideoMessage(t,n,r,s){return this.sendMediaMessage(t,{number:n,mediaMessage:{mediatype:"video",media:r,caption:s}})}async sendVoiceMessage(t,n,r){return this.sendAudioMessage(t,{number:n,audioMessage:{audio:r,ptt:!0}})}}let _j=null;const ci=()=>(_j||(_j=new are({serverUrl:"https://evolution.suplelive.com.br",apiKey:"14793ff820dfc1ea9421e24722628426"})),_j),iO=e=>{const t=e.replace(/\D/g,"");return t.length===11&&t.startsWith("55")?`${t}@s.whatsapp.net`:t.length===11?`55${t}@s.whatsapp.net`:t.length===10?`559${t}@s.whatsapp.net`:`${t}@s.whatsapp.net`},je=ka((e,t)=>({currentWorkspace:null,workspaces:[],plans:[],channels:[],whatsappInstances:[],workspaceUsers:[],userInvitations:[],loading:!1,fetchWorkspaces:async()=>{await G.handleAsync(async()=>{const{data:{user:n}}=await U.auth.getUser();if(!n)return;console.log("Fetching workspaces for user:",n.email);const{data:r,error:s}=await U.from("workspaces").select(`
          *,
          plan:plans(*),
          subscription:subscriptions(*)
        `).eq("owner_id",n.id);if(s)throw s;const a=(r||[]).map(o=>({...o,user_role:"owner"}));console.log("Fetched workspaces:",a.length,a.map(o=>({id:o.id,name:o.name}))),e({workspaces:a}),console.log("Workspaces fetched successfully")})},fetchPlans:async()=>{await G.handleAsync(async()=>{const{data:n,error:r}=await U.from("plans").select("*").order("price_monthly",{ascending:!0});if(r)throw r;e({plans:n||[]})})},fetchChannels:async()=>{await G.handleAsync(async()=>{const n=t().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("channels").select("*").eq("workspace_id",n.id).order("created_at",{ascending:!1});if(s)throw s;e({channels:r||[]})})},fetchWhatsAppInstances:async()=>{await G.handleAsync(async()=>{const n=t().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("whatsapp_instances").select("*").eq("workspace_id",n.id).order("created_at",{ascending:!1});if(s)throw s;e({whatsappInstances:r||[]}),setTimeout(()=>{t().syncAllWhatsAppInstances()},1e3)})},fetchWorkspaceUsers:async()=>{await G.handleAsync(async()=>{if(!t().currentWorkspace)return;e({workspaceUsers:[]||[]})})},fetchUserInvitations:async()=>{await G.handleAsync(async()=>{if(!t().currentWorkspace)return;e({userInvitations:[]||[]})})},checkWorkspaceUniqueness:async(n,r)=>await G.handleAsync(async()=>{var o,l;const{data:s,error:a}=await U.rpc("check_workspace_uniqueness",{workspace_name:n,workspace_slug:r});if(a)throw a;return{nameExists:((o=s[0])==null?void 0:o.name_exists)||!1,slugExists:((l=s[0])==null?void 0:l.slug_exists)||!1}})||{nameExists:!1,slugExists:!1},createWorkspace:async n=>await G.handleAsync(async()=>{const{data:{user:r}}=await U.auth.getUser();if(!r)throw new Error("Usurio no autenticado");const s=n.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),a=await t().checkWorkspaceUniqueness(n.name,s);if(a.nameExists){const{data:c}=await U.from("workspaces").select(`
            *,
            users:workspace_users!inner(user_id)
          `).ilike("name",n.name).eq("users.user_id",r.id).maybeSingle();if(c){const{data:u}=await U.from("workspaces").select(`
              *,
              plan:plans(*),
              subscription:subscriptions(*)
            `).eq("id",c.id).single();if(u)return t().setCurrentWorkspace({...u,user_role:"admin"}),G.showSuccess("Bem-vindo de volta!",`Voc j faz parte do workspace "${n.name}"`),u}throw new Error(`J existe um workspace com o nome "${n.name}". Escolha um nome diferente.`)}if(a.slugExists)throw new Error(`A URL "${s}" j est em uso. Escolha um nome diferente.`);const{data:o,error:l}=await U.from("workspaces").insert({name:n.name,slug:s,plan_id:n.plan_id,owner_id:r.id}).select(`
          *,
          plan:plans(*),
          subscription:subscriptions(*)
        `).single();if(l)throw l;return await U.from("subscriptions").insert({workspace_id:o.id,plan_id:n.plan_id,status:"active"}),await U.from("workspace_users").insert({workspace_id:o.id,user_id:r.id,role:"admin",joined_at:new Date().toISOString(),status:"active"}),await t().fetchWorkspaces(),{...o,user_role:"owner"}})||null,setCurrentWorkspace:n=>{n?(localStorage.setItem("currentWorkspaceId",n.id),console.log("Setting current workspace:",n.name,n.id),e({currentWorkspace:n}),t().fetchChannels(),t().fetchWhatsAppInstances()):(localStorage.removeItem("currentWorkspaceId"),console.log("Clearing current workspace"),e({currentWorkspace:null,channels:[],whatsappInstances:[],workspaceUsers:[],userInvitations:[]}))},updateCurrentWorkspace:n=>{e({currentWorkspace:n}),localStorage.setItem("currentWorkspaceId",n.id)},inviteUser:async(n,r)=>{await G.handleAsync(async()=>{throw new Error("Funcionalidade de convite de usurios temporariamente indisponvel")})},registerUser:async n=>{await G.handleAsync(async()=>{const{data:{session:r}}=await U.auth.getSession();if(!r)throw new Error("Usurio no autenticado");const s=await fetch("https://oqwstanztqdiexgrpdta.supabase.co/functions/v1/register-user",{method:"POST",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({name:n.name,email:n.email,password:n.password,role:n.role,workspace_id:n.workspace_id})});if(!s.ok){const a=await s.json();throw new Error(a.error||"Falha ao cadastrar usurio")}await s.json(),G.showSuccess("Usurio cadastrado com sucesso!",`${n.name} foi criado e pode fazer login com o email ${n.email}`),t().fetchWorkspaceUsers()})},removeUser:async n=>{await G.handleAsync(async()=>{throw new Error("Funcionalidade de gerenciamento de usurios temporariamente indisponvel")})},updateUserRole:async(n,r)=>{await G.handleAsync(async()=>{throw new Error("Funcionalidade de alterao de roles temporariamente indisponvel")})},cancelInvitation:async n=>{await G.handleAsync(async()=>{throw new Error("Funcionalidade de cancelamento de convites temporariamente indisponvel")})},resendInvitation:async n=>{await G.handleAsync(async()=>{throw new Error("Funcionalidade de reenvio de convites temporariamente indisponvel")})},connectWhatsApp:async n=>await G.handleAsync(async()=>{var c,u;const r=t().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");const s=`${r.slug}_${n.toLowerCase().replace(/[^a-z0-9]/g,"_")}_${Date.now()}`,a="https://oqwstanztqdiexgrpdta.supabase.co/functions/v1/evolution-webhook",{data:o,error:l}=await U.from("whatsapp_instances").insert({workspace_id:r.id,instance_name:n,session_id:s,status:"connecting",webhook_url:a}).select().single();if(l)throw l;try{const d=ci();if(await d.instanceExists(s))try{const g=await d.getInstanceStatus(s);if(g.instance.state==="open")return await U.from("whatsapp_instances").update({status:"connected",phone_number:g.instance.state||null}).eq("id",o.id),t().fetchWhatsAppInstances(),{...o,status:"connected",phone_number:g.instance.state||null}}catch(g){console.warn("Could not get instance status:",g)}const h=await d.createInstance(s,a),{error:m}=await U.from("whatsapp_instances").update({qr_code:((c=h.qrcode)==null?void 0:c.base64)||null,status:"connecting"}).eq("id",o.id);if(m)throw m;return t().fetchWhatsAppInstances(),setTimeout(()=>{t().syncWhatsAppStatus(o.id)},5e3),{...o,qr_code:((u=h.qrcode)==null?void 0:u.base64)||null}}catch(d){await U.from("whatsapp_instances").update({status:"disconnected"}).eq("id",o.id);let f="Falha ao criar instncia na Evolution API";throw d.message&&(d.message.includes("already exists")?f="Uma instncia com este nome j existe. Tente um nome diferente.":d.message.includes("Bad Request")?f="Dados invlidos enviados para a API. Verifique o nome da instncia.":d.message.includes("Unauthorized")?f="Chave de API invlida ou expirada.":f=`${f}: ${d.message}`),new Error(f)}})||null,reconnectWhatsApp:async n=>{await G.handleAsync(async()=>{var o;const{data:r,error:s}=await U.from("whatsapp_instances").select("*").eq("id",n).maybeSingle();if(s)throw s;if(!r){console.log(`WhatsApp instance ${n} not found in database`);return}if(!r.session_id)throw new Error("Session ID no encontrado");const a=ci();try{if((await a.getInstanceStatus(r.session_id)).instance.state==="open")await U.from("whatsapp_instances").update({status:"connected",qr_code:null}).eq("id",n);else{const c=await a.connectInstance(r.session_id);await U.from("whatsapp_instances").update({status:"connecting",qr_code:c.base64}).eq("id",n),setTimeout(()=>{t().syncWhatsAppStatus(n)},5e3)}}catch(l){if(l.message&&l.message.includes("Not Found")){if(!t().currentWorkspace)throw new Error("Nenhum workspace selecionado");const d=await a.createInstance(r.session_id,"https://oqwstanztqdiexgrpdta.supabase.co/functions/v1/evolution-webhook");await U.from("whatsapp_instances").update({status:"connecting",qr_code:((o=d.qrcode)==null?void 0:o.base64)||null}).eq("id",n),setTimeout(()=>{t().syncWhatsAppStatus(n)},5e3)}else throw l}t().fetchWhatsAppInstances(),G.showSuccess("Reconectando instncia WhatsApp...")})},disconnectWhatsApp:async n=>{await G.handleAsync(async()=>{const{data:r,error:s}=await U.from("whatsapp_instances").select("session_id").eq("id",n).maybeSingle();if(s)throw s;if(!r){console.log(`WhatsApp instance ${n} not found in database`);return}if(r.session_id)try{await ci().logoutInstance(r.session_id)}catch(o){o.message&&o.message.includes("Not Found")?console.log("Instance not found in Evolution API - already disconnected"):console.warn("Evolution API disconnect failed:",o)}const{error:a}=await U.from("whatsapp_instances").update({status:"disconnected",qr_code:null,phone_number:null}).eq("id",n);if(a)throw a;t().fetchWhatsAppInstances()})},deleteWhatsApp:async n=>{await G.handleAsync(async()=>{const{data:r,error:s}=await U.from("whatsapp_instances").select("session_id").eq("id",n).maybeSingle();if(s)throw s;if(!r){console.log(`WhatsApp instance ${n} not found in database`);return}if(r.session_id)try{await ci().deleteInstance(r.session_id)}catch(o){o.message&&o.message.includes("Not Found")?console.log("Instance not found in Evolution API - already deleted"):console.warn("Evolution API delete failed:",o)}const{error:a}=await U.from("whatsapp_instances").delete().eq("id",n);if(a)throw a;t().fetchWhatsAppInstances()})},getWhatsAppQR:async n=>await G.handleAsync(async()=>{const{data:r,error:s}=await U.from("whatsapp_instances").select("session_id").eq("id",n).maybeSingle();if(s)throw s;if(!r)throw new Error("Instncia WhatsApp no encontrada");if(!r.session_id)throw new Error("Session ID no encontrado");const o=await ci().getQRCode(r.session_id);return await U.from("whatsapp_instances").update({qr_code:o.base64}).eq("id",n),t().fetchWhatsAppInstances(),o.base64})||"",updateWhatsAppStatus:async(n,r,s)=>{await G.handleAsync(async()=>{const a={status:r};s&&(a.phone_number=s),r==="disconnected"&&(a.qr_code=null,a.phone_number=null);const{error:o}=await U.from("whatsapp_instances").update(a).eq("id",n);if(o)throw o;t().fetchWhatsAppInstances()})},restartWhatsApp:async n=>{await G.handleAsync(async()=>{const{data:r,error:s}=await U.from("whatsapp_instances").select("session_id").eq("id",n).maybeSingle();if(s)throw s;if(!r)throw new Error("Instncia WhatsApp no encontrada");if(!r.session_id)throw new Error("Session ID no encontrado");const a=ci();try{await a.restartInstance(r.session_id)}catch(o){if(o.message&&o.message.includes("Not Found")){await t().reconnectWhatsApp(n);return}else throw o}await U.from("whatsapp_instances").update({status:"connecting"}).eq("id",n),t().fetchWhatsAppInstances(),setTimeout(()=>{t().syncWhatsAppStatus(n)},5e3)})},syncWhatsAppStatus:async n=>{await G.handleAsync(async()=>{const{data:r,error:s}=await U.from("whatsapp_instances").select("session_id, status").eq("id",n).maybeSingle();if(s)throw s;if(!r){console.log(`WhatsApp instance ${n} not found in database, skipping sync`);return}if(!r.session_id)return;const a=ci();try{const o=await a.getInstanceStatus(r.session_id);let l="disconnected",c=null;if(o.instance.state==="open"){l="connected";try{const u=await a.fetchInstances(r.session_id);u&&u.length>0&&(c=u[0].profileName||null)}catch(u){console.warn("Could not fetch instance info:",u)}}else o.instance.state==="connecting"&&(l="connecting");l!==r.status&&(await U.from("whatsapp_instances").update({status:l,phone_number:c,qr_code:l==="connected"?null:r.qr_code}).eq("id",n),t().fetchWhatsAppInstances()),l==="connecting"&&setTimeout(()=>{t().syncWhatsAppStatus(n)},1e4)}catch(o){o.message&&o.message.includes("Not Found")&&(await U.from("whatsapp_instances").update({status:"disconnected",qr_code:null,phone_number:null}).eq("id",n),t().fetchWhatsAppInstances())}})},syncAllWhatsAppInstances:async()=>{await G.handleAsync(async()=>{const r=t().whatsappInstances.filter(s=>s.status!=="disconnected"&&s.session_id);for(const s of r)setTimeout(()=>{t().syncWhatsAppStatus(s.id)},Math.random()*2e3)})},sendWhatsAppMessage:async(n,r,s)=>{await G.handleAsync(async()=>{const{data:a,error:o}=await U.from("whatsapp_instances").select("session_id").eq("id",n).maybeSingle();if(o)throw o;if(!a)throw new Error("Instncia WhatsApp no encontrada");if(!a.session_id)throw new Error("Session ID no encontrado");const l=ci(),c=iO(r);await l.sendSimpleTextMessage(a.session_id,c,s)})},sendWhatsAppMedia:async(n,r,s,a,o)=>{await G.handleAsync(async()=>{const{data:l,error:c}=await U.from("whatsapp_instances").select("session_id").eq("id",n).maybeSingle();if(c)throw c;if(!l)throw new Error("Instncia WhatsApp no encontrada");if(!l.session_id)throw new Error("Session ID no encontrado");const u=ci(),d=iO(r);switch(a){case"image":await u.sendImageMessage(l.session_id,d,s,o);break;case"video":await u.sendVideoMessage(l.session_id,d,s,o);break;case"audio":await u.sendVoiceMessage(l.session_id,d,s);break;case"document":const f=s.split("/").pop()||"document";await u.sendDocumentMessage(l.session_id,d,s,f,o);break;default:throw new Error("Tipo de mdia no suportado")}})},connectChannel:async(n,r)=>await G.handleAsync(async()=>{const s=t().currentWorkspace;if(!s)throw new Error("Nenhum workspace selecionado");const{data:a,error:o}=await U.from("channels").insert({workspace_id:s.id,type:n,name:`${n.charAt(0).toUpperCase()+n.slice(1)} Channel`,config:r,status:"connected"}).select().single();if(o)throw o;return t().fetchChannels(),a})||null,disconnectChannel:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("channels").update({status:"disconnected"}).eq("id",n);if(r)throw r;t().fetchChannels()})}})),ri=ka((e,t)=>({user:null,loading:!0,signIn:async(n,r)=>{try{e({loading:!0});const{error:s}=await U.auth.signInWithPassword({email:n,password:r});if(s)throw s;G.showSuccess("Login realizado com sucesso!","Bem-vindo de volta!")}catch(s){throw G.showError(s),s}finally{e({loading:!1})}},signUp:async(n,r)=>{try{e({loading:!0});const{error:s}=await U.auth.signUp({email:n,password:r});if(s)throw s;G.showSuccess("Conta criada com sucesso!","Bem-vindo ao OmniCRM!")}catch(s){throw G.showError(s),s}finally{e({loading:!1})}},signOut:async()=>{try{e({loading:!0});const{error:n}=await U.auth.signOut();if(n)throw n;e({user:null}),G.showSuccess("Logout realizado","At logo!")}catch(n){throw G.showError(n),n}finally{e({loading:!1})}},initialize:async()=>{var n;try{e({loading:!0}),console.log("Initializing auth...");const{data:{session:r},error:s}=await U.auth.getSession();if(s)throw s;console.log("Auth session:",((n=r==null?void 0:r.user)==null?void 0:n.email)||"No user"),e({user:(r==null?void 0:r.user)??null,loading:!1}),U.auth.onAuthStateChange((a,o)=>{var c;console.log("Auth state changed:",a,(c=o==null?void 0:o.user)==null?void 0:c.email);const l=(o==null?void 0:o.user)??null;if(e({user:l,loading:!1}),!l){localStorage.removeItem("currentWorkspaceId"),localStorage.removeItem("lastVisitedRoute");const{setCurrentWorkspace:u}=je.getState();u(null)}})}catch(r){e({loading:!1}),console.error("Auth initialization error:",r),G.showError(r)}}}));function vr({children:e}){const{user:t,loading:n,initialize:r}=ri();return v.useEffect(()=>{n&&r()},[r]),n?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):t?i.jsx(i.Fragment,{children:e}):i.jsx(Cn,{to:"/login",replace:!0})}const YE=v.createContext({});function XE(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const B0=v.createContext(null),JE=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class ire extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ore({children:e,isPresent:t}){const n=v.useId(),r=v.useRef(null),s=v.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=v.useContext(JE);return v.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),i.jsx(ire,{isPresent:t,childRef:r,sizeRef:s,children:v.cloneElement(e,{ref:r})})}const lre=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:o})=>{const l=XE(cre),c=v.useId(),u=v.useCallback(f=>{l.set(f,!0);for(const h of l.values())if(!h)return;r&&r()},[l,r]),d=v.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),a?[Math.random(),u]:[n,u]);return v.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[n]),v.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=i.jsx(ore,{isPresent:n,children:e})),i.jsx(B0.Provider,{value:d,children:e})};function cre(){return new Map}function qF(e=!0){const t=v.useContext(B0);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,a=v.useId();v.useEffect(()=>{e&&s(a)},[e]);const o=v.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const Lg=e=>e.key||"";function oO(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const QE=typeof window<"u",HF=QE?v.useLayoutEffect:v.useEffect,El=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=qF(o),u=v.useMemo(()=>oO(e),[e]),d=o&&!l?[]:u.map(Lg),f=v.useRef(!0),h=v.useRef(u),m=XE(()=>new Map),[g,p]=v.useState(u),[y,x]=v.useState(u);HF(()=>{f.current=!1,h.current=u;for(let b=0;b<y.length;b++){const S=Lg(y[b]);d.includes(S)?m.delete(S):m.get(S)!==!0&&m.set(S,!1)}},[y,d.length,d.join("-")]);const w=[];if(u!==g){let b=[...u];for(let S=0;S<y.length;S++){const N=y[S],C=Lg(N);d.includes(C)||(b.splice(S,0,N),w.push(N))}a==="wait"&&w.length&&(b=w),x(oO(b)),p(u);return}const{forceRender:j}=v.useContext(YE);return i.jsx(i.Fragment,{children:y.map(b=>{const S=Lg(b),N=o&&!l?!1:u===y||d.includes(S),C=()=>{if(m.has(S))m.set(S,!0);else return;let _=!0;m.forEach(k=>{k||(_=!1)}),_&&(j==null||j(),x(h.current),o&&(c==null||c()),r&&r())};return i.jsx(lre,{isPresent:N,initial:!f.current||n?void 0:!1,custom:N?void 0:t,presenceAffectsLayout:s,mode:a,onExitComplete:N?void 0:C,children:b},S)})})},us=e=>e;let lN=us;function ZE(e){let t;return()=>(t===void 0&&(t=e()),t)}const sd=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Ci=e=>e*1e3,Ei=e=>e/1e3,ure={skipAnimations:!1,useManualTiming:!1};function dre(e){let t=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const m=f&&r?t:n;return d&&a.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const Fg=["read","resolveKeyframes","update","preRender","render","postRender"],fre=40;function GF(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Fg.reduce((x,w)=>(x[w]=dre(a),x),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,m=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,fre),1),s.timestamp=x,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},g=()=>{n=!0,r=!0,s.isProcessing||e(m)};return{schedule:Fg.reduce((x,w)=>{const j=o[w];return x[w]=(b,S=!1,N=!1)=>(n||g(),j.schedule(b,S,N)),x},{}),cancel:x=>{for(let w=0;w<Fg.length;w++)o[Fg[w]].cancel(x)},state:s,steps:o}}const{schedule:Ft,cancel:Ho,state:Un,steps:Cj}=GF(typeof requestAnimationFrame<"u"?requestAnimationFrame:us,!0),KF=v.createContext({strict:!1}),lO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ad={};for(const e in lO)ad[e]={isEnabled:t=>lO[e].some(n=>!!t[n])};function hre(e){for(const t in e)ad[t]={...ad[t],...e[t]}}const mre=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ey(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mre.has(e)}let YF=e=>!Ey(e);function pre(e){e&&(YF=t=>t.startsWith("on")?!Ey(t):e(t))}try{pre(require("@emotion/is-prop-valid").default)}catch{}function gre(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(YF(s)||n===!0&&Ey(s)||!t&&!Ey(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function vre(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const z0=v.createContext({});function fm(e){return typeof e=="string"||Array.isArray(e)}function W0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const ek=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tk=["initial",...ek];function V0(e){return W0(e.animate)||tk.some(t=>fm(e[t]))}function XF(e){return!!(V0(e)||e.variants)}function yre(e,t){if(V0(e)){const{initial:n,animate:r}=e;return{initial:n===!1||fm(n)?n:void 0,animate:fm(r)?r:void 0}}return e.inherit!==!1?t:{}}function xre(e){const{initial:t,animate:n}=yre(e,v.useContext(z0));return v.useMemo(()=>({initial:t,animate:n}),[cO(t),cO(n)])}function cO(e){return Array.isArray(e)?e.join(" "):e}const wre=Symbol.for("motionComponentSymbol");function vu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bre(e,t,n){return v.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):vu(n)&&(n.current=r))},[t])}const nk=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jre="framerAppearId",JF="data-"+nk(jre),{schedule:rk,cancel:kKe}=GF(queueMicrotask,!1),QF=v.createContext({});function Sre(e,t,n,r,s){var a,o;const{visualElement:l}=v.useContext(z0),c=v.useContext(KF),u=v.useContext(B0),d=v.useContext(JE).reducedMotion,f=v.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,m=v.useContext(QF);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&Nre(f.current,n,s,m);const g=v.useRef(!1);v.useInsertionEffect(()=>{h&&g.current&&h.update(n,u)});const p=n[JF],y=v.useRef(!!p&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,p))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,p)));return HF(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),rk.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,p)}),y.current=!1))}),h}function Nre(e,t,n,r){const{layoutId:s,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ZF(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||l&&vu(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function ZF(e){if(e)return e.options.allowProjection!==!1?e.projection:ZF(e.parent)}function _re({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var a,o;e&&hre(e);function l(u,d){let f;const h={...v.useContext(JE),...u,layoutId:Cre(u)},{isStatic:m}=h,g=xre(u),p=r(u,m);if(!m&&QE){Ere();const y=kre(h);f=y.MeasureLayout,g.visualElement=Sre(s,p,h,t,y.ProjectionNode)}return i.jsxs(z0.Provider,{value:g,children:[f&&g.visualElement?i.jsx(f,{visualElement:g.visualElement,...h}):null,n(s,u,bre(p,g.visualElement,d),p,m,g.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&o!==void 0?o:""})`}`;const c=v.forwardRef(l);return c[wre]=s,c}function Cre({layoutId:e}){const t=v.useContext(YE).id;return t&&e!==void 0?t+"-"+e:e}function Ere(e,t){v.useContext(KF).strict}function kre(e){const{drag:t,layout:n}=ad;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Are=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sk(e){return typeof e!="string"||e.includes("-")?!1:!!(Are.indexOf(e)>-1||/[A-Z]/u.test(e))}function uO(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function ak(e,t,n,r){if(typeof t=="function"){const[s,a]=uO(r);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=uO(r);t=t(n!==void 0?n:e.custom,s,a)}return t}const cN=e=>Array.isArray(e),Pre=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Tre=e=>cN(e)?e[e.length-1]||0:e,hr=e=>!!(e&&e.getVelocity);function $v(e){const t=hr(e)?e.get():e;return Pre(t)?t.toValue():t}function Ore({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,a){const o={latestValues:Ire(r,s,a,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const eB=e=>(t,n)=>{const r=v.useContext(z0),s=v.useContext(B0),a=()=>Ore(e,t,r,s);return n?a():XE(a)};function Ire(e,t,n,r){const s={},a=r(e,{});for(const h in a)s[h]=$v(a[h]);let{initial:o,animate:l}=e;const c=V0(e),u=XF(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!W0(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=ak(e,h[m]);if(g){const{transitionEnd:p,transition:y,...x}=g;for(const w in x){let j=x[w];if(Array.isArray(j)){const b=d?j.length-1:0;j=j[b]}j!==null&&(s[w]=j)}for(const w in p)s[w]=p[w]}}}return s}const Hd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ec=new Set(Hd),tB=e=>t=>typeof t=="string"&&t.startsWith(e),nB=tB("--"),Dre=tB("var(--"),ik=e=>Dre(e)?Mre.test(e.split("/*")[0].trim()):!1,Mre=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rB=(e,t)=>t&&typeof e=="number"?t.transform(e):e,$i=(e,t,n)=>n>t?t:n<e?e:n,Gd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},hm={...Gd,transform:e=>$i(0,1,e)},Bg={...Gd,default:1},Dp=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),co=Dp("deg"),Ua=Dp("%"),Le=Dp("px"),Rre=Dp("vh"),$re=Dp("vw"),dO={...Ua,parse:e=>Ua.parse(e)/100,transform:e=>Ua.transform(e*100)},Lre={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le},Fre={rotate:co,rotateX:co,rotateY:co,rotateZ:co,scale:Bg,scaleX:Bg,scaleY:Bg,scaleZ:Bg,skew:co,skewX:co,skewY:co,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:hm,originX:dO,originY:dO,originZ:Le},fO={...Gd,transform:Math.round},ok={...Lre,...Fre,zIndex:fO,size:Le,fillOpacity:hm,strokeOpacity:hm,numOctaves:fO},Bre={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zre=Hd.length;function Wre(e,t,n){let r="",s=!0;for(let a=0;a<zre;a++){const o=Hd[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=rB(l,ok[o]);if(!c){s=!1;const d=Bre[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function lk(e,t,n){const{style:r,vars:s,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Ec.has(c)){o=!0;continue}else if(nB(c)){s[c]=u;continue}else{const d=rB(u,ok[c]);c.startsWith("origin")?(l=!0,a[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=Wre(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;r.transformOrigin=`${c} ${u} ${d}`}}const Vre={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ure={offset:"strokeDashoffset",array:"strokeDasharray"};function qre(e,t,n=1,r=0,s=!0){e.pathLength=1;const a=s?Vre:Ure;e[a.offset]=Le.transform(-r);const o=Le.transform(t),l=Le.transform(n);e[a.array]=`${o} ${l}`}function hO(e,t,n){return typeof e=="string"?e:Le.transform(t+n*e)}function Hre(e,t,n){const r=hO(t,e.x,e.width),s=hO(n,e.y,e.height);return`${r} ${s}`}function ck(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(lk(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:g}=e;h.transform&&(g&&(m.transform=h.transform),delete h.transform),g&&(s!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=Hre(g,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&qre(h,o,l,c,!1)}const uk=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),sB=()=>({...uk(),attrs:{}}),dk=e=>typeof e=="string"&&e.toLowerCase()==="svg";function aB(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const iB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oB(e,t,n,r){aB(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(iB.has(s)?s:nk(s),t.attrs[s])}const ky={};function Gre(e){Object.assign(ky,e)}function lB(e,{layout:t,layoutId:n}){return Ec.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ky[e]||e==="opacity")}function fk(e,t,n){var r;const{style:s}=e,a={};for(const o in s)(hr(s[o])||t.style&&hr(t.style[o])||lB(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=s[o]);return a}function cB(e,t,n){const r=fk(e,t,n);for(const s in e)if(hr(e[s])||hr(t[s])){const a=Hd.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=e[s]}return r}function Kre(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const mO=["x","y","width","height","cx","cy","r"],Yre={useVisualState:eB({scrapeMotionValuesFromProps:cB,createRenderState:sB,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!e.drag;if(!a){for(const l in s)if(Ec.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<mO.length;l++){const c=mO[l];e[c]!==t[c]&&(o=!0)}o&&Ft.read(()=>{Kre(n,r),Ft.render(()=>{ck(r,s,dk(n.tagName),e.transformTemplate),oB(n,r)})})}})},Xre={useVisualState:eB({scrapeMotionValuesFromProps:fk,createRenderState:uk})};function uB(e,t,n){for(const r in t)!hr(t[r])&&!lB(r,n)&&(e[r]=t[r])}function Jre({transformTemplate:e},t){return v.useMemo(()=>{const n=uk();return lk(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Qre(e,t){const n=e.style||{},r={};return uB(r,n,e),Object.assign(r,Jre(e,t)),r}function Zre(e,t){const n={},r=Qre(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function ese(e,t,n,r){const s=v.useMemo(()=>{const a=sB();return ck(a,t,dk(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};uB(a,e.style,e),s.style={...a,...s.style}}return s}function tse(e=!1){return(n,r,s,{latestValues:a},o)=>{const c=(sk(n)?ese:Zre)(r,a,o,n),u=gre(r,typeof n=="string",e),d=n!==v.Fragment?{...u,...c,ref:s}:{},{children:f}=r,h=v.useMemo(()=>hr(f)?f.get():f,[f]);return v.createElement(n,{...d,children:h})}}function nse(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...sk(r)?Yre:Xre,preloadedFeatures:e,useRender:tse(s),createVisualElement:t,Component:r};return _re(o)}}function dB(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function U0(e,t,n){const r=e.getProps();return ak(r,t,n!==void 0?n:r.custom,e)}const rse=ZE(()=>window.ScrollTimeline!==void 0);class sse{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(rse()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ase extends sse{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function hk(e,t){return e?e[t]||e.default||e:void 0}const uN=2e4;function fB(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<uN;)t+=n,r=e.next(t);return t>=uN?1/0:t}function mk(e){return typeof e=="function"}function pO(e,t){e.timeline=t,e.onfinish=null}const pk=e=>Array.isArray(e)&&typeof e[0]=="number",ise={linearEasing:void 0};function ose(e,t){const n=ZE(e);return()=>{var r;return(r=ise[t])!==null&&r!==void 0?r:n()}}const Ay=ose(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hB=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)r+=e(sd(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function mB(e){return!!(typeof e=="function"&&Ay()||!e||typeof e=="string"&&(e in dN||Ay())||pk(e)||Array.isArray(e)&&e.every(mB))}const th=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,dN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:th([0,.65,.55,1]),circOut:th([.55,0,1,.45]),backIn:th([.31,.01,.66,-.59]),backOut:th([.33,1.53,.69,.99])};function pB(e,t){if(e)return typeof e=="function"&&Ay()?hB(e,t):pk(e)?th(e):Array.isArray(e)?e.map(n=>pB(n,t)||dN.easeOut):dN[e]}const ra={x:!1,y:!1};function gB(){return ra.x||ra.y}function lse(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function vB(e,t){const n=lse(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function gO(e){return t=>{t.pointerType==="touch"||gB()||e(t)}}function cse(e,t,n={}){const[r,s,a]=vB(e,n),o=gO(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=gO(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),a}const yB=(e,t)=>t?e===t?!0:yB(e,t.parentElement):!1,gk=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,use=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dse(e){return use.has(e.tagName)||e.tabIndex!==-1}const nh=new WeakSet;function vO(e){return t=>{t.key==="Enter"&&e(t)}}function Ej(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const fse=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=vO(()=>{if(nh.has(n))return;Ej(n,"down");const s=vO(()=>{Ej(n,"up")}),a=()=>Ej(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function yO(e){return gk(e)&&!gB()}function hse(e,t,n={}){const[r,s,a]=vB(e,n),o=l=>{const c=l.currentTarget;if(!yO(l)||nh.has(c))return;nh.add(c);const u=t(l),d=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!yO(m)||!nh.has(c))&&(nh.delete(c),typeof u=="function"&&u(m,{success:g}))},f=m=>{d(m,n.useGlobalTarget||yB(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(l=>{!dse(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>fse(u,s),s)}),a}function mse(e){return e==="x"||e==="y"?ra[e]?null:(ra[e]=!0,()=>{ra[e]=!1}):ra.x||ra.y?null:(ra.x=ra.y=!0,()=>{ra.x=ra.y=!1})}const xB=new Set(["width","height","top","left","right","bottom",...Hd]);let Lv;function pse(){Lv=void 0}const qa={now:()=>(Lv===void 0&&qa.set(Un.isProcessing||ure.useManualTiming?Un.timestamp:performance.now()),Lv),set:e=>{Lv=e,queueMicrotask(pse)}};function vk(e,t){e.indexOf(t)===-1&&e.push(t)}function yk(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class xk{constructor(){this.subscriptions=[]}add(t){return vk(this.subscriptions,t),()=>yk(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function wB(e,t){return t?e*(1e3/t):0}const xO=30,gse=e=>!isNaN(parseFloat(e));class vse{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=qa.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=qa.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=gse(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new xk);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=qa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>xO)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xO);return wB(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mm(e,t){return new vse(e,t)}function yse(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,mm(n))}function xse(e,t){const n=U0(e,t);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const o in a){const l=Tre(a[o]);yse(e,o,l)}}function wse(e){return!!(hr(e)&&e.add)}function fN(e,t){const n=e.getValue("willChange");if(wse(n))return n.add(t)}function bB(e){return e.props[JF]}const jB=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,bse=1e-7,jse=12;function Sse(e,t,n,r,s){let a,o,l=0;do o=t+(n-t)/2,a=jB(o,r,s)-e,a>0?n=o:t=o;while(Math.abs(a)>bse&&++l<jse);return o}function Mp(e,t,n,r){if(e===t&&n===r)return us;const s=a=>Sse(a,0,1,e,n);return a=>a===0||a===1?a:jB(s(a),t,r)}const SB=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,NB=e=>t=>1-e(1-t),_B=Mp(.33,1.53,.69,.99),wk=NB(_B),CB=SB(wk),EB=e=>(e*=2)<1?.5*wk(e):.5*(2-Math.pow(2,-10*(e-1))),bk=e=>1-Math.sin(Math.acos(e)),kB=NB(bk),AB=SB(bk),PB=e=>/^0[^.\s]+$/u.test(e);function Nse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||PB(e):!0}const Sh=e=>Math.round(e*1e5)/1e5,jk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _se(e){return e==null}const Cse=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sk=(e,t)=>n=>!!(typeof n=="string"&&Cse.test(n)&&n.startsWith(e)||t&&!_se(n)&&Object.prototype.hasOwnProperty.call(n,t)),TB=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,a,o,l]=r.match(jk);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Ese=e=>$i(0,255,e),kj={...Gd,transform:e=>Math.round(Ese(e))},zl={test:Sk("rgb","red"),parse:TB("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+kj.transform(e)+", "+kj.transform(t)+", "+kj.transform(n)+", "+Sh(hm.transform(r))+")"};function kse(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const hN={test:Sk("#"),parse:kse,transform:zl.transform},yu={test:Sk("hsl","hue"),parse:TB("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ua.transform(Sh(t))+", "+Ua.transform(Sh(n))+", "+Sh(hm.transform(r))+")"},or={test:e=>zl.test(e)||hN.test(e)||yu.test(e),parse:e=>zl.test(e)?zl.parse(e):yu.test(e)?yu.parse(e):hN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?zl.transform(e):yu.transform(e)},Ase=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Pse(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(jk))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Ase))===null||n===void 0?void 0:n.length)||0)>0}const OB="number",IB="color",Tse="var",Ose="var(",wO="${}",Ise=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pm(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(Ise,c=>(or.test(c)?(r.color.push(a),s.push(IB),n.push(or.parse(c))):c.startsWith(Ose)?(r.var.push(a),s.push(Tse),n.push(c)):(r.number.push(a),s.push(OB),n.push(parseFloat(c))),++a,wO)).split(wO);return{values:n,split:l,indexes:r,types:s}}function DB(e){return pm(e).values}function MB(e){const{split:t,types:n}=pm(e),r=t.length;return s=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],s[o]!==void 0){const l=n[o];l===OB?a+=Sh(s[o]):l===IB?a+=or.transform(s[o]):a+=s[o]}return a}}const Dse=e=>typeof e=="number"?0:e;function Mse(e){const t=DB(e);return MB(e)(t.map(Dse))}const Go={test:Pse,parse:DB,createTransformer:MB,getAnimatableNone:Mse},Rse=new Set(["brightness","contrast","saturate","opacity"]);function $se(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(jk)||[];if(!r)return e;const s=n.replace(r,"");let a=Rse.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}const Lse=/\b([a-z-]*)\(.*?\)/gu,mN={...Go,getAnimatableNone:e=>{const t=e.match(Lse);return t?t.map($se).join(" "):e}},Fse={...ok,color:or,backgroundColor:or,outlineColor:or,fill:or,stroke:or,borderColor:or,borderTopColor:or,borderRightColor:or,borderBottomColor:or,borderLeftColor:or,filter:mN,WebkitFilter:mN},Nk=e=>Fse[e];function RB(e,t){let n=Nk(e);return n!==mN&&(n=Go),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Bse=new Set(["auto","none","0"]);function zse(e,t,n){let r=0,s;for(;r<e.length&&!s;){const a=e[r];typeof a=="string"&&!Bse.has(a)&&pm(a).values.length&&(s=e[r]),r++}if(s&&n)for(const a of t)e[a]=RB(n,s)}const bO=e=>e===Gd||e===Le,jO=(e,t)=>parseFloat(e.split(", ")[t]),SO=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return jO(s[1],t);{const a=r.match(/^matrix\((.+)\)$/u);return a?jO(a[1],e):0}},Wse=new Set(["x","y","z"]),Vse=Hd.filter(e=>!Wse.has(e));function Use(e){const t=[];return Vse.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const id={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:SO(4,13),y:SO(5,14)};id.translateX=id.x;id.translateY=id.y;const Yl=new Set;let pN=!1,gN=!1;function $B(){if(gN){const e=Array.from(Yl).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Use(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,o])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gN=!1,pN=!1,Yl.forEach(e=>e.complete()),Yl.clear()}function LB(){Yl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(gN=!0)})}function qse(){LB(),$B()}class _k{constructor(t,n,r,s,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Yl.add(this),pN||(pN=!0,Ft.read(LB),Ft.resolveKeyframes($B))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Yl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Yl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const FB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Hse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gse(e){const t=Hse.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function BB(e,t,n=1){const[r,s]=Gse(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return FB(o)?parseFloat(o):o}return ik(s)?BB(s,t,n+1):s}const zB=e=>t=>t.test(e),Kse={test:e=>e==="auto",parse:e=>e},WB=[Gd,Le,Ua,co,$re,Rre,Kse],NO=e=>WB.find(zB(e));class VB extends _k{constructor(t,n,r,s,a){super(t,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),ik(u))){const d=BB(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!xB.has(r)||t.length!==2)return;const[s,a]=t,o=NO(s),l=NO(a);if(o!==l)if(bO(o)&&bO(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)Nse(t[s])&&r.push(s);r.length&&zse(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=id[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=id[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const _O=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Go.test(e)||e==="0")&&!e.startsWith("url("));function Yse(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Xse(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=_O(s,t),l=_O(a,t);return!o||!l?!1:Yse(e)||(n==="spring"||mk(n))&&r}const Jse=e=>e!==null;function q0(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Jse),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const Qse=40;class UB{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qa.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Qse?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&qse(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=qa.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Xse(t,r,s,a))if(o)this.options.duration=0;else{c&&c(q0(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ht=(e,t,n)=>e+(t-e)*n;function Aj(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Zse({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,a=0,o=0;if(!t)s=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Aj(c,l,e+1/3),a=Aj(c,l,e),o=Aj(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Py(e,t){return n=>n>0?t:e}const Pj=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},eae=[hN,zl,yu],tae=e=>eae.find(t=>t.test(e));function CO(e){const t=tae(e);if(!t)return!1;let n=t.parse(e);return t===yu&&(n=Zse(n)),n}const EO=(e,t)=>{const n=CO(e),r=CO(t);if(!n||!r)return Py(e,t);const s={...n};return a=>(s.red=Pj(n.red,r.red,a),s.green=Pj(n.green,r.green,a),s.blue=Pj(n.blue,r.blue,a),s.alpha=Ht(n.alpha,r.alpha,a),zl.transform(s))},nae=(e,t)=>n=>t(e(n)),Rp=(...e)=>e.reduce(nae),vN=new Set(["none","hidden"]);function rae(e,t){return vN.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function sae(e,t){return n=>Ht(e,t,n)}function Ck(e){return typeof e=="number"?sae:typeof e=="string"?ik(e)?Py:or.test(e)?EO:oae:Array.isArray(e)?qB:typeof e=="object"?or.test(e)?EO:aae:Py}function qB(e,t){const n=[...e],r=n.length,s=e.map((a,o)=>Ck(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=s[o](a);return n}}function aae(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Ck(e[s])(e[s],t[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function iae(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[a]=c,s[o]++}return r}const oae=(e,t)=>{const n=Go.createTransformer(t),r=pm(e),s=pm(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?vN.has(e)&&!s.values.length||vN.has(t)&&!r.values.length?rae(e,t):Rp(qB(iae(r,s),s.values),n):Py(e,t)};function HB(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ht(e,t,n):Ck(e)(e,t)}const lae=5;function GB(e,t,n){const r=Math.max(t-lae,0);return wB(n-e(r),t-r)}const Xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tj=.001;function cae({duration:e=Xt.duration,bounce:t=Xt.bounce,velocity:n=Xt.velocity,mass:r=Xt.mass}){let s,a,o=1-t;o=$i(Xt.minDamping,Xt.maxDamping,o),e=$i(Xt.minDuration,Xt.maxDuration,Ei(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-n,m=yN(u,o),g=Math.exp(-f);return Tj-h/m*g},a=u=>{const f=u*o*e,h=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),p=yN(Math.pow(u,2),o);return(-s(u)+Tj>0?-1:1)*((h-m)*g)/p}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Tj+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=dae(s,a,l);if(e=Ci(e),isNaN(c))return{stiffness:Xt.stiffness,damping:Xt.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const uae=12;function dae(e,t,n){let r=n;for(let s=1;s<uae;s++)r=r-e(r)/t(r);return r}function yN(e,t){return e*Math.sqrt(1-t*t)}const fae=["duration","bounce"],hae=["stiffness","damping","mass"];function kO(e,t){return t.some(n=>e[n]!==void 0)}function mae(e){let t={velocity:Xt.velocity,stiffness:Xt.stiffness,damping:Xt.damping,mass:Xt.mass,isResolvedFromDuration:!1,...e};if(!kO(e,hae)&&kO(e,fae))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*$i(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Xt.mass,stiffness:s,damping:a}}else{const n=cae(e);t={...t,...n,mass:Xt.mass},t.isResolvedFromDuration=!0}return t}function KB(e=Xt.visualDuration,t=Xt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=mae({...n,velocity:-Ei(n.velocity||0)}),g=h||0,p=u/(2*Math.sqrt(c*d)),y=o-a,x=Ei(Math.sqrt(c/d)),w=Math.abs(y)<5;r||(r=w?Xt.restSpeed.granular:Xt.restSpeed.default),s||(s=w?Xt.restDelta.granular:Xt.restDelta.default);let j;if(p<1){const S=yN(x,p);j=N=>{const C=Math.exp(-p*x*N);return o-C*((g+p*x*y)/S*Math.sin(S*N)+y*Math.cos(S*N))}}else if(p===1)j=S=>o-Math.exp(-x*S)*(y+(g+x*y)*S);else{const S=x*Math.sqrt(p*p-1);j=N=>{const C=Math.exp(-p*x*N),_=Math.min(S*N,300);return o-C*((g+p*x*y)*Math.sinh(_)+S*y*Math.cosh(_))/S}}const b={calculatedDuration:m&&f||null,next:S=>{const N=j(S);if(m)l.done=S>=f;else{let C=0;p<1&&(C=S===0?Ci(g):GB(j,S,N));const _=Math.abs(C)<=r,k=Math.abs(o-N)<=s;l.done=_&&k}return l.value=l.done?o:N,l},toString:()=>{const S=Math.min(fB(b),uN),N=hB(C=>b.next(S*C).value,S,30);return S+"ms "+N}};return b}function AO({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=_=>l!==void 0&&_<l||c!==void 0&&_>c,g=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let p=n*t;const y=f+p,x=o===void 0?y:o(y);x!==y&&(p=x-f);const w=_=>-p*Math.exp(-_/r),j=_=>x+w(_),b=_=>{const k=w(_),P=j(_);h.done=Math.abs(k)<=u,h.value=h.done?x:P};let S,N;const C=_=>{m(h.value)&&(S=_,N=KB({keyframes:[h.value,g(h.value)],velocity:GB(j,_,h.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:_=>{let k=!1;return!N&&S===void 0&&(k=!0,b(_),C(_)),S!==void 0&&_>=S?N.next(_-S):(!k&&b(_),h)}}}const pae=Mp(.42,0,1,1),gae=Mp(0,0,.58,1),YB=Mp(.42,0,.58,1),vae=e=>Array.isArray(e)&&typeof e[0]!="number",PO={linear:us,easeIn:pae,easeInOut:YB,easeOut:gae,circIn:bk,circInOut:AB,circOut:kB,backIn:wk,backInOut:CB,backOut:_B,anticipate:EB},TO=e=>{if(pk(e)){lN(e.length===4);const[t,n,r,s]=e;return Mp(t,n,r,s)}else if(typeof e=="string")return lN(PO[e]!==void 0),PO[e];return e};function yae(e,t,n){const r=[],s=n||HB,a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||us:t;l=Rp(c,l)}r.push(l)}return r}function xae(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const a=e.length;if(lN(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=yae(t,r,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=sd(e[f],e[f+1],d);return l[f](h)};return n?d=>u($i(e[0],e[a-1],d)):u}function wae(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=sd(0,t,r);e.push(Ht(n,1,s))}}function bae(e){const t=[0];return wae(t,e.length-1),t}function jae(e,t){return e.map(n=>n*t)}function Sae(e,t){return e.map(()=>t||YB).splice(0,e.length-1)}function Ty({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=vae(r)?r.map(TO):TO(r),a={done:!1,value:t[0]},o=jae(n&&n.length===t.length?n:bae(t),e),l=xae(o,t,{ease:Array.isArray(s)?s:Sae(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Nae=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ft.update(t,!0),stop:()=>Ho(t),now:()=>Un.isProcessing?Un.timestamp:qa.now()}},_ae={decay:AO,inertia:AO,tween:Ty,keyframes:Ty,spring:KB},Cae=e=>e/100;class Ek extends UB{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,o=(s==null?void 0:s.KeyframeResolver)||_k,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,l=mk(n)?n:_ae[n]||Ty;let c,u;l!==Ty&&typeof t[0]!="number"&&(c=Rp(Cae,HB(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});a==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=fB(d));const{calculatedDuration:f}=d,h=f+s,m=h*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return a.next(0);const{delay:h,repeat:m,repeatType:g,repeatDelay:p,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-h*(this.speed>=0?1:-1),w=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let j=this.currentTime,b=a;if(m){const _=Math.min(this.currentTime,d)/f;let k=Math.floor(_),P=_%1;!P&&_>=1&&(P=1),P===1&&k--,k=Math.min(k,m+1),!!(k%2)&&(g==="reverse"?(P=1-P,p&&(P-=p/f)):g==="mirror"&&(b=o)),j=$i(0,1,P)*f}const S=w?{done:!1,value:c[0]}:b.next(j);l&&(S.value=l(S.value));let{done:N}=S;!w&&u!==null&&(N=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return C&&s!==void 0&&(S.value=q0(c,this.options,s)),y&&y(S.value),C&&this.finish(),S}get duration(){const{resolved:t}=this;return t?Ei(t.calculatedDuration):0}get time(){return Ei(this.currentTime)}set time(t){t=Ci(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ei(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Nae,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Eae=new Set(["opacity","clipPath","filter","transform"]);function kae(e,t,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=pB(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const Aae=ZE(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Oy=10,Pae=2e4;function Tae(e){return mk(e.type)||e.type==="spring"||!mB(e.ease)}function Oae(e,t){const n=new Ek({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let a=0;for(;!r.done&&a<Pae;)r=n.sample(a),s.push(r.value),a+=Oy;return{times:void 0,keyframes:s,duration:a-Oy,ease:"linear"}}const XB={anticipate:EB,backInOut:CB,circInOut:AB};function Iae(e){return e in XB}class OO extends UB{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new VB(a,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&Ay()&&Iae(a)&&(a=XB[a]),Tae(this.options)){const{onComplete:f,onUpdate:h,motionValue:m,element:g,...p}=this.options,y=Oae(t,p);t=y.keyframes,t.length===1&&(t[1]=t[0]),r=y.duration,s=y.times,a=y.ease,o="keyframes"}const d=kae(l.owner.current,c,t,{...this.options,duration:r,times:s,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(pO(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(q0(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ei(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ei(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ci(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return us;const{animation:r}=n;pO(r,t)}return us}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:a,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...m}=this.options,g=new Ek({...m,keyframes:r,duration:s,type:a,ease:o,times:l,isGenerator:!0}),p=Ci(this.time);u.setWithVelocity(g.sample(p-Oy).value,g.sample(p).value,Oy)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return Aae()&&r&&Eae.has(r)&&!c&&!u&&!s&&a!=="mirror"&&o!==0&&l!=="inertia"}}const Dae={type:"spring",stiffness:500,damping:25,restSpeed:10},Mae=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Rae={type:"keyframes",duration:.8},$ae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lae=(e,{keyframes:t})=>t.length>2?Rae:Ec.has(e)?e.startsWith("scale")?Mae(t[1]):Dae:$ae;function Fae({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const kk=(e,t,n,r={},s,a)=>o=>{const l=hk(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ci(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};Fae(l)||(d={...d,...Lae(e,d)}),d.duration&&(d.duration=Ci(d.duration)),d.repeatDelay&&(d.repeatDelay=Ci(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!a&&t.get()!==void 0){const h=q0(d.keyframes,l);if(h!==void 0)return Ft.update(()=>{d.onUpdate(h),d.onComplete()}),new ase([])}return!a&&OO.supports(d)?new OO(d):new Ek(d)};function Bae({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function JB(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in c){const h=e.getValue(f,(a=e.latestValues[f])!==null&&a!==void 0?a:null),m=c[f];if(m===void 0||d&&Bae(d,f))continue;const g={delay:n,...hk(o||{},f)};let p=!1;if(window.MotionHandoffAnimation){const x=bB(e);if(x){const w=window.MotionHandoffAnimation(x,f,Ft);w!==null&&(g.startTime=w,p=!0)}}fN(e,f),h.start(kk(f,h,m,e.shouldReduceMotion&&xB.has(f)?{type:!1}:g,e,p));const y=h.animation;y&&u.push(y)}return l&&Promise.all(u).then(()=>{Ft.update(()=>{l&&xse(e,l)})}),u}function xN(e,t,n={}){var r;const s=U0(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const o=s?()=>Promise.all(JB(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=a;return zae(e,t,d+u,f,h,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function zae(e,t,n=0,r=0,s=1,a){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(Wae).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(xN(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Wae(e,t){return e.sortNodePosition(t)}function Vae(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(a=>xN(e,a,n));r=Promise.all(s)}else if(typeof t=="string")r=xN(e,t,n);else{const s=typeof t=="function"?U0(e,t,n.custom):t;r=Promise.all(JB(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const Uae=tk.length;function QB(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?QB(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Uae;n++){const r=tk[n],s=e.props[r];(fm(s)||s===!1)&&(t[r]=s)}return t}const qae=[...ek].reverse(),Hae=ek.length;function Gae(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Vae(e,n,r)))}function Kae(e){let t=Gae(e),n=IO(),r=!0;const s=c=>(u,d)=>{var f;const h=U0(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:g,...p}=h;u={...u,...p,...g}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=QB(e.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let y=0;y<Hae;y++){const x=qae[y],w=n[x],j=u[x]!==void 0?u[x]:d[x],b=fm(j),S=x===c?w.isActive:null;S===!1&&(g=y);let N=j===d[x]&&j!==u[x]&&b;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),w.protectedKeys={...m},!w.isActive&&S===null||!j&&!w.prevProp||W0(j)||typeof j=="boolean")continue;const C=Yae(w.prevProp,j);let _=C||x===c&&w.isActive&&!N&&b||y>g&&b,k=!1;const P=Array.isArray(j)?j:[j];let A=P.reduce(s(x),{});S===!1&&(A={});const{prevResolvedValues:I={}}=w,L={...I,...A},E=F=>{_=!0,h.has(F)&&(k=!0,h.delete(F)),w.needsAnimating[F]=!0;const D=e.getValue(F);D&&(D.liveStyle=!1)};for(const F in L){const D=A[F],M=I[F];if(m.hasOwnProperty(F))continue;let $=!1;cN(D)&&cN(M)?$=!dB(D,M):$=D!==M,$?D!=null?E(F):h.add(F):D!==void 0&&h.has(F)?E(F):w.protectedKeys[F]=!0}w.prevProp=j,w.prevResolvedValues=A,w.isActive&&(m={...m,...A}),r&&e.blockInitialAnimation&&(_=!1),_&&(!(N&&C)||k)&&f.push(...P.map(F=>({animation:F,options:{type:x}})))}if(h.size){const y={};h.forEach(x=>{const w=e.getBaseTarget(x),j=e.getValue(x);j&&(j.liveStyle=!0),y[x]=w??null}),f.push({animation:y})}let p=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(f):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),n[c].isActive=u;const f=o(c);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=IO(),r=!0}}}function Yae(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dB(t,e):!1}function xl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IO(){return{animate:xl(!0),whileInView:xl(),whileHover:xl(),whileTap:xl(),whileDrag:xl(),whileFocus:xl(),exit:xl()}}class cl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Xae extends cl{constructor(t){super(t),t.animationState||(t.animationState=Kae(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();W0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Jae=0;class Qae extends cl{constructor(){super(...arguments),this.id=Jae++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Zae={animation:{Feature:Xae},exit:{Feature:Qae}};function gm(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function $p(e){return{point:{x:e.pageX,y:e.pageY}}}const eie=e=>t=>gk(t)&&e(t,$p(t));function Nh(e,t,n,r){return gm(e,t,eie(n),r)}const DO=(e,t)=>Math.abs(e-t);function tie(e,t){const n=DO(e.x,t.x),r=DO(e.y,t.y);return Math.sqrt(n**2+r**2)}class ZB{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ij(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=tie(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:g}=f,{timestamp:p}=Un;this.history.push({...g,timestamp:p});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Oj(h,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Ij(f.type==="pointercancel"?this.lastMoveEventInfo:Oj(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),g&&g(f,y)},!gk(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=$p(t),l=Oj(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Un;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Ij(l,this.history)),this.removeListeners=Rp(Nh(this.contextWindow,"pointermove",this.handlePointerMove),Nh(this.contextWindow,"pointerup",this.handlePointerUp),Nh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ho(this.updatePoint)}}function Oj(e,t){return t?{point:t(e.point)}:e}function MO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ij({point:e},t){return{point:e,delta:MO(e,e6(t)),offset:MO(e,nie(t)),velocity:rie(t,.1)}}function nie(e){return e[0]}function e6(e){return e[e.length-1]}function rie(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=e6(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ci(t)));)n--;if(!r)return{x:0,y:0};const a=Ei(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const t6=1e-4,sie=1-t6,aie=1+t6,n6=.01,iie=0-n6,oie=0+n6;function ys(e){return e.max-e.min}function lie(e,t,n){return Math.abs(e-t)<=n}function RO(e,t,n,r=.5){e.origin=r,e.originPoint=Ht(t.min,t.max,e.origin),e.scale=ys(n)/ys(t),e.translate=Ht(n.min,n.max,e.origin)-e.originPoint,(e.scale>=sie&&e.scale<=aie||isNaN(e.scale))&&(e.scale=1),(e.translate>=iie&&e.translate<=oie||isNaN(e.translate))&&(e.translate=0)}function _h(e,t,n,r){RO(e.x,t.x,n.x,r?r.originX:void 0),RO(e.y,t.y,n.y,r?r.originY:void 0)}function $O(e,t,n){e.min=n.min+t.min,e.max=e.min+ys(t)}function cie(e,t,n){$O(e.x,t.x,n.x),$O(e.y,t.y,n.y)}function LO(e,t,n){e.min=t.min-n.min,e.max=e.min+ys(t)}function Ch(e,t,n){LO(e.x,t.x,n.x),LO(e.y,t.y,n.y)}function uie(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ht(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ht(n,e,r.max):Math.min(e,n)),e}function FO(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function die(e,{top:t,left:n,bottom:r,right:s}){return{x:FO(e.x,n,s),y:FO(e.y,t,r)}}function BO(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function fie(e,t){return{x:BO(e.x,t.x),y:BO(e.y,t.y)}}function hie(e,t){let n=.5;const r=ys(e),s=ys(t);return s>r?n=sd(t.min,t.max-r,e.min):r>s&&(n=sd(e.min,e.max-s,t.min)),$i(0,1,n)}function mie(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const wN=.35;function pie(e=wN){return e===!1?e=0:e===!0&&(e=wN),{x:zO(e,"left","right"),y:zO(e,"top","bottom")}}function zO(e,t,n){return{min:WO(e,t),max:WO(e,n)}}function WO(e,t){return typeof e=="number"?e:e[t]||0}const VO=()=>({translate:0,scale:1,origin:0,originPoint:0}),xu=()=>({x:VO(),y:VO()}),UO=()=>({min:0,max:0}),Zt=()=>({x:UO(),y:UO()});function Ps(e){return[e("x"),e("y")]}function r6({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function gie({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function vie(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Dj(e){return e===void 0||e===1}function bN({scale:e,scaleX:t,scaleY:n}){return!Dj(e)||!Dj(t)||!Dj(n)}function kl(e){return bN(e)||s6(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function s6(e){return qO(e.x)||qO(e.y)}function qO(e){return e&&e!=="0%"}function Iy(e,t,n){const r=e-n,s=t*r;return n+s}function HO(e,t,n,r,s){return s!==void 0&&(e=Iy(e,s,r)),Iy(e,n,r)+t}function jN(e,t=0,n=1,r,s){e.min=HO(e.min,t,n,r,s),e.max=HO(e.max,t,n,r,s)}function a6(e,{x:t,y:n}){jN(e.x,t.translate,t.scale,t.originPoint),jN(e.y,n.translate,n.scale,n.originPoint)}const GO=.999999999999,KO=1.0000000000001;function yie(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,o;for(let l=0;l<s;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&bu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,a6(e,o)),r&&kl(a.latestValues)&&bu(e,a.latestValues))}t.x<KO&&t.x>GO&&(t.x=1),t.y<KO&&t.y>GO&&(t.y=1)}function wu(e,t){e.min=e.min+t,e.max=e.max+t}function YO(e,t,n,r,s=.5){const a=Ht(e.min,e.max,s);jN(e,t,n,a,r)}function bu(e,t){YO(e.x,t.x,t.scaleX,t.scale,t.originX),YO(e.y,t.y,t.scaleY,t.scale,t.originY)}function i6(e,t){return r6(vie(e.getBoundingClientRect(),t))}function xie(e,t,n){const r=i6(e,n),{scroll:s}=t;return s&&(wu(r.x,s.offset.x),wu(r.y,s.offset.y)),r}const o6=({current:e})=>e?e.ownerDocument.defaultView:null,wie=new WeakMap;class bie{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($p(d).point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:g}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mse(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ps(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Ua.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const j=w.layout.layoutBox[y];j&&(x=ys(j)*(parseFloat(x)/100))}}this.originPoint[y]=x}),g&&Ft.postRender(()=>g(d,f)),fN(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:p}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=jie(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),p&&p(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Ps(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ZB(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:o6(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ft.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!zg(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=uie(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&vu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=die(s.layoutBox,n):this.constraints=!1,this.elastic=pie(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ps(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=mie(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!vu(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=xie(r,s.root,this.visualElement.getTransformPagePoint());let o=fie(s.layout.layoutBox,a);if(n){const l=n(gie(o));this.hasMutatedConstraints=!!l,l&&(o=r6(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ps(d=>{if(!zg(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return fN(this.visualElement,t),r.start(kk(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ps(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ps(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ps(n=>{const{drag:r}=this.getProps();if(!zg(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];a.set(t[n]-Ht(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!vu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ps(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=hie({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ps(o=>{if(!zg(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Ht(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;wie.set(this.visualElement,this);const t=this.visualElement.current,n=Nh(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();vu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ft.read(r);const o=gm(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ps(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=wN,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function zg(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function jie(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Sie extends cl{constructor(t){super(t),this.removeGroupControls=us,this.removeListeners=us,this.controls=new bie(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||us}unmount(){this.removeGroupControls(),this.removeListeners()}}const XO=e=>(t,n)=>{e&&Ft.postRender(()=>e(t,n))};class Nie extends cl{constructor(){super(...arguments),this.removePointerDownListener=us}onPointerDown(t){this.session=new ZB(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:o6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:XO(t),onStart:XO(n),onMove:r,onEnd:(a,o)=>{delete this.session,s&&Ft.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=Nh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function JO(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Af={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Le.test(e))e=parseFloat(e);else return e;const n=JO(e,t.target.x),r=JO(e,t.target.y);return`${n}% ${r}%`}},_ie={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Go.parse(e);if(s.length>5)return r;const a=Go.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=Ht(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}};class Cie extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=t;Gre(Eie),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Fv.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Ft.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),rk.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function l6(e){const[t,n]=qF(),r=v.useContext(YE);return i.jsx(Cie,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(QF),isPresent:t,safeToRemove:n})}const Eie={borderRadius:{...Af,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Af,borderTopRightRadius:Af,borderBottomLeftRadius:Af,borderBottomRightRadius:Af,boxShadow:_ie};function kie(e,t,n){const r=hr(e)?e:mm(e);return r.start(kk("",r,t,n)),r.animation}function Aie(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Pie=(e,t)=>e.depth-t.depth;class Tie{constructor(){this.children=[],this.isDirty=!1}add(t){vk(this.children,t),this.isDirty=!0}remove(t){yk(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Pie),this.isDirty=!1,this.children.forEach(t)}}function Oie(e,t){const n=qa.now(),r=({timestamp:s})=>{const a=s-n;a>=t&&(Ho(r),e(a-t))};return Ft.read(r,!0),()=>Ho(r)}const c6=["TopLeft","TopRight","BottomLeft","BottomRight"],Iie=c6.length,QO=e=>typeof e=="string"?parseFloat(e):e,ZO=e=>typeof e=="number"||Le.test(e);function Die(e,t,n,r,s,a){s?(e.opacity=Ht(0,n.opacity!==void 0?n.opacity:1,Mie(r)),e.opacityExit=Ht(t.opacity!==void 0?t.opacity:1,0,Rie(r))):a&&(e.opacity=Ht(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Iie;o++){const l=`border${c6[o]}Radius`;let c=eI(t,l),u=eI(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||ZO(c)===ZO(u)?(e[l]=Math.max(Ht(QO(c),QO(u),r),0),(Ua.test(u)||Ua.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Ht(t.rotate||0,n.rotate||0,r))}function eI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Mie=u6(0,.5,kB),Rie=u6(.5,.95,us);function u6(e,t,n){return r=>r<e?0:r>t?1:n(sd(e,t,r))}function tI(e,t){e.min=t.min,e.max=t.max}function _s(e,t){tI(e.x,t.x),tI(e.y,t.y)}function nI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function rI(e,t,n,r,s){return e-=t,e=Iy(e,1/n,r),s!==void 0&&(e=Iy(e,1/s,r)),e}function $ie(e,t=0,n=1,r=.5,s,a=e,o=e){if(Ua.test(t)&&(t=parseFloat(t),t=Ht(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ht(a.min,a.max,r);e===a&&(l-=t),e.min=rI(e.min,t,n,l,s),e.max=rI(e.max,t,n,l,s)}function sI(e,t,[n,r,s],a,o){$ie(e,t[n],t[r],t[s],t.scale,a,o)}const Lie=["x","scaleX","originX"],Fie=["y","scaleY","originY"];function aI(e,t,n,r){sI(e.x,t,Lie,n?n.x:void 0,r?r.x:void 0),sI(e.y,t,Fie,n?n.y:void 0,r?r.y:void 0)}function iI(e){return e.translate===0&&e.scale===1}function d6(e){return iI(e.x)&&iI(e.y)}function oI(e,t){return e.min===t.min&&e.max===t.max}function Bie(e,t){return oI(e.x,t.x)&&oI(e.y,t.y)}function lI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function f6(e,t){return lI(e.x,t.x)&&lI(e.y,t.y)}function cI(e){return ys(e.x)/ys(e.y)}function uI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class zie{constructor(){this.members=[]}add(t){vk(this.members,t),t.scheduleRender()}remove(t){if(yk(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Wie(e,t,n){let r="";const s=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||a||o)&&(r=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Al={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},rh=typeof window<"u"&&window.MotionDebug!==void 0,Mj=["","X","Y","Z"],Vie={visibility:"hidden"},dI=1e3;let Uie=0;function Rj(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function h6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=bB(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ft,!(s||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&h6(r)}function m6({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Uie++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,rh&&(Al.totalNodes=Al.resolvedTargetDeltas=Al.recalculatedProjection=0),this.nodes.forEach(Gie),this.nodes.forEach(Qie),this.nodes.forEach(Zie),this.nodes.forEach(Kie),rh&&window.MotionDebug.record(Al)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tie)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new xk),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Aie(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Oie(h,250),Fv.hasAnimatedSinceResize&&(Fv.hasAnimatedSinceResize=!1,this.nodes.forEach(hI))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||soe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),w=!this.targetLayout||!f6(this.targetLayout,g)||m,j=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,j);const b={...hk(p,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||hI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ho(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eoe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&h6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fI);return}this.isUpdating||this.nodes.forEach(Xie),this.isUpdating=!1,this.nodes.forEach(Jie),this.nodes.forEach(qie),this.nodes.forEach(Hie),this.clearAllSnapshots();const l=qa.now();Un.delta=$i(0,1e3/60,l-Un.timestamp),Un.timestamp=l,Un.isProcessing=!0,Cj.update.process(Un),Cj.preRender.process(Un),Cj.render.process(Un),Un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Yie),this.sharedNodes.forEach(toe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!d6(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||kl(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),aoe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Zt();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(ioe))){const{scroll:d}=this.root;d&&(wu(c.x,d.offset.x),wu(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=Zt();if(_s(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&_s(c,o),wu(c.x,f.offset.x),wu(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=Zt();_s(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&bu(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),kl(d.latestValues)&&bu(c,d.latestValues)}return kl(this.latestValues)&&bu(c,this.latestValues),c}removeTransform(o){const l=Zt();_s(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!kl(u.latestValues))continue;bN(u.latestValues)&&u.updateSnapshot();const d=Zt(),f=u.measurePageBox();_s(d,f),aI(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return kl(this.latestValues)&&aI(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Un.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Ch(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cie(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_s(this.target,this.layout.layoutBox),a6(this.target,this.targetDelta)):_s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Ch(this.relativeTargetOrigin,this.target,m.target),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}rh&&Al.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bN(this.parent.latestValues)||s6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Un.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;_s(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;yie(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Zt());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nI(this.prevProjectionDelta.x,this.projectionDelta.x),nI(this.prevProjectionDelta.y,this.projectionDelta.y)),_h(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!uI(this.projectionDelta.x,this.prevProjectionDelta.x)||!uI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),rh&&Al.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xu(),this.projectionDelta=xu(),this.projectionDeltaWithTransform=xu()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=xu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Zt(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=m!==g,y=this.getStack(),x=!y||y.members.length<=1,w=!!(p&&!x&&this.options.crossfade===!0&&!this.path.some(roe));this.animationProgress=0;let j;this.mixTargetDelta=b=>{const S=b/1e3;mI(f.x,o.x,S),mI(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ch(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),noe(this.relativeTarget,this.relativeTargetOrigin,h,S),j&&Bie(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Zt()),_s(j,this.relativeTarget)),p&&(this.animationValues=d,Die(d,u,this.latestValues,S,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ho(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{Fv.hasAnimatedSinceResize=!0,this.currentAnimation=kie(0,dI,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&p6(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Zt();const f=ys(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=ys(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}_s(l,c),bu(l,d),_h(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zie),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Rj("z",o,u,this.animationValues);for(let d=0;d<Mj.length;d++)Rj(`rotate${Mj[d]}`,o,u,this.animationValues),Rj(`skew${Mj[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Vie;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=$v(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=$v(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!kl(this.latestValues)&&(p.transform=d?d({},""):"none",this.hasProjected=!1),p}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Wie(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const p in ky){if(h[p]===void 0)continue;const{correct:y,applyTo:x}=ky[p],w=u.transform==="none"?h[p]:y(h[p],f);if(x){const j=x.length;for(let b=0;b<j;b++)u[x[b]]=w}else u[p]=w}return this.options.layoutId&&(u.pointerEvents=f===this?$v(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(fI),this.root.sharedNodes.clear()}}}function qie(e){e.updateLayout()}function Hie(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?Ps(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=ys(h);h.min=r[f].min,h.max=h.min+m}):p6(a,n.layoutBox,r)&&Ps(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=ys(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=xu();_h(l,r,n.layoutBox);const c=xu();o?_h(c,e.applyTransform(s,!0),n.measuredBox):_h(c,r,n.layoutBox);const u=!d6(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=Zt();Ch(g,n.layoutBox,h.layoutBox);const p=Zt();Ch(p,r,m.layoutBox),f6(g,p)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Gie(e){rh&&Al.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Kie(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Yie(e){e.clearSnapshot()}function fI(e){e.clearMeasurements()}function Xie(e){e.isLayoutDirty=!1}function Jie(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Qie(e){e.resolveTargetDelta()}function Zie(e){e.calcProjection()}function eoe(e){e.resetSkewAndRotation()}function toe(e){e.removeLeadSnapshot()}function mI(e,t,n){e.translate=Ht(t.translate,0,n),e.scale=Ht(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function pI(e,t,n,r){e.min=Ht(t.min,n.min,r),e.max=Ht(t.max,n.max,r)}function noe(e,t,n,r){pI(e.x,t.x,n.x,r),pI(e.y,t.y,n.y,r)}function roe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const soe={duration:.45,ease:[.4,0,.1,1]},gI=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),vI=gI("applewebkit/")&&!gI("chrome/")?Math.round:us;function yI(e){e.min=vI(e.min),e.max=vI(e.max)}function aoe(e){yI(e.x),yI(e.y)}function p6(e,t,n){return e==="position"||e==="preserve-aspect"&&!lie(cI(t),cI(n),.2)}function ioe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const ooe=m6({attachResizeListener:(e,t)=>gm(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$j={current:void 0},g6=m6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!$j.current){const e=new ooe({});e.mount(window),e.setOptions({layoutScroll:!0}),$j.current=e}return $j.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),loe={pan:{Feature:Nie},drag:{Feature:Sie,ProjectionNode:g6,MeasureLayout:l6}};function xI(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&Ft.postRender(()=>a(t,$p(t)))}class coe extends cl{mount(){const{current:t}=this.node;t&&(this.unmount=cse(t,n=>(xI(this.node,n,"Start"),r=>xI(this.node,r,"End"))))}unmount(){}}class uoe extends cl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rp(gm(this.node.current,"focus",()=>this.onFocus()),gm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wI(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&Ft.postRender(()=>a(t,$p(t)))}class doe extends cl{mount(){const{current:t}=this.node;t&&(this.unmount=hse(t,n=>(wI(this.node,n,"Start"),(r,{success:s})=>wI(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const SN=new WeakMap,Lj=new WeakMap,foe=e=>{const t=SN.get(e.target);t&&t(e)},hoe=e=>{e.forEach(foe)};function moe({root:e,...t}){const n=e||document;Lj.has(n)||Lj.set(n,{});const r=Lj.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(hoe,{root:e,...t})),r[s]}function poe(e,t,n){const r=moe(t);return SN.set(e,n),r.observe(e),()=>{SN.delete(e),r.unobserve(e)}}const goe={some:0,all:1};class voe extends cl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:goe[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return poe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(yoe(t,n))&&this.startObserver()}unmount(){}}function yoe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const xoe={inView:{Feature:voe},tap:{Feature:doe},focus:{Feature:uoe},hover:{Feature:coe}},woe={layout:{ProjectionNode:g6,MeasureLayout:l6}},NN={current:null},v6={current:!1};function boe(){if(v6.current=!0,!!QE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>NN.current=e.matches;e.addListener(t),t()}else NN.current=!1}const joe=[...WB,or,Go],Soe=e=>joe.find(zB(e)),bI=new WeakMap;function Noe(e,t,n){for(const r in t){const s=t[r],a=n[r];if(hr(s))e.addValue(r,s);else if(hr(a))e.addValue(r,mm(s,{owner:e}));else if(a!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,mm(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const jI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _oe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_k,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=qa.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ft.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=V0(n),this.isVariantNode=XF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const g=h[m];c[m]!==void 0&&hr(g)&&g.set(c[m],!1)}}mount(t){this.current=t,bI.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),v6.current||boe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:NN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){bI.delete(this.current),this.projection&&this.projection.unmount(),Ho(this.notifyUpdate),Ho(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ec.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ad){const n=ad[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jI.length;r++){const s=jI[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Noe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=mm(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(FB(s)||PB(s))?s=parseFloat(s):!Soe(s)&&Go.test(n)&&(s=RB(t,n)),this.setBaseTarget(t,hr(s)?s.get():s)),hr(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=ak(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!hr(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new xk),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class y6 extends _oe{constructor(){super(...arguments),this.KeyframeResolver=VB}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Coe(e){return window.getComputedStyle(e)}class Eoe extends y6{constructor(){super(...arguments),this.type="html",this.renderInstance=aB}readValueFromInstance(t,n){if(Ec.has(n)){const r=Nk(n);return r&&r.default||0}else{const r=Coe(t),s=(nB(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return i6(t,n)}build(t,n,r){lk(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return fk(t,n,r)}}class koe extends y6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ec.has(n)){const r=Nk(n);return r&&r.default||0}return n=iB.has(n)?n:nk(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return cB(t,n,r)}build(t,n,r){ck(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){oB(t,n,r,s)}mount(t){this.isSVGTag=dk(t.tagName),super.mount(t)}}const Aoe=(e,t)=>sk(e)?new koe(t):new Eoe(t,{allowProjection:e!==v.Fragment}),Poe=nse({...Zae,...xoe,...loe,...woe},Aoe),Nt=vre(Poe);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x6=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ooe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...Ooe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:x6("lucide",s),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(e,t)=>{const n=v.forwardRef(({className:r,...s},a)=>v.createElement(Ioe,{ref:a,iconNode:t,className:x6(`lucide-${Toe(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=ue("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=ue("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=ue("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=ue("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ue("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=ue("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=ue("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ue("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=ue("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=ue("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=ue("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=ue("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=ue("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=ue("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=ue("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=ue("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ue("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=ue("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=ue("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=ue("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=ue("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=ue("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=ue("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=ue("FolderSync",[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v.5",key:"1dkoa9"}],["path",{d:"M12 10v4h4",key:"1czhmt"}],["path",{d:"m12 14 1.535-1.605a5 5 0 0 1 8 1.5",key:"lvuxfi"}],["path",{d:"M22 22v-4h-4",key:"1ewp4q"}],["path",{d:"m22 18-1.535 1.605a5 5 0 0 1-8-1.5",key:"14ync0"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=ue("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=ue("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=ue("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=ue("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=ue("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=ue("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=ue("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=ue("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=ue("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=ue("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=ue("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=ue("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ele=ue("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=ue("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=ue("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=ue("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=ue("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=ue("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=ue("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=ue("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=ue("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=ue("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=ue("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=ue("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=ue("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=ue("SquareCheck",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ile=ue("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=ue("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=ue("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=ue("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ue("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=ue("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=ue("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=ue("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=ue("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=ue("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=ue("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ue("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function dle(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function X0(...e){return t=>e.forEach(n=>dle(n,t))}function ze(...e){return v.useCallback(X0(...e),e)}var Fi=v.forwardRef((e,t)=>{const{children:n,...r}=e,s=v.Children.toArray(n),a=s.find(fle);if(a){const o=a.props.children,l=s.map(c=>c===a?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return i.jsx(PN,{...r,ref:t,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return i.jsx(PN,{...r,ref:t,children:n})});Fi.displayName="Slot";var PN=v.forwardRef((e,t)=>{const{children:n,...r}=e;if(v.isValidElement(n)){const s=mle(n);return v.cloneElement(n,{...hle(r,n.props),ref:t?X0(t,s):s})}return v.Children.count(n)>1?v.Children.only(null):null});PN.displayName="SlotClone";var Dk=({children:e})=>i.jsx(i.Fragment,{children:e});function fle(e){return v.isValidElement(e)&&e.type===Dk}function hle(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function mle(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function O6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=O6(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ple(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=O6(e))&&(r&&(r+=" "),r+=t);return r}const EI=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,kI=ple,J0=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return kI(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const h=EI(d)||EI(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,y]=g;return Array.isArray(y)?y.includes({...a,...l}[p]):{...a,...l}[p]===y})?[...u,f,h]:u},[]);return kI(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};function I6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=I6(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=I6(e))&&(r&&(r+=" "),r+=t);return r}const Mk="-",gle=e=>{const t=yle(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(Mk);return l[0]===""&&l.length!==1&&l.shift(),D6(l,t)||vle(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},D6=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?D6(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Mk);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},AI=/^\[(.+)\]$/,vle=e=>{if(AI.test(e)){const t=AI.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},yle=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return wle(Object.entries(e.classGroups),n).forEach(([a,o])=>{TN(o,r,a,t)}),r},TN=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:PI(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(xle(s)){TN(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{TN(o,PI(t,a),n,r)})})},PI=(e,t)=>{let n=e;return t.split(Mk).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},xle=e=>e.isThemeGetter,wle=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,s]}):e,ble=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},M6="!",jle=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let x=l[y];if(u===0){if(x===s&&(r||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(x==="/"){f=y;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(M6),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},Sle=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Nle=e=>({cache:ble(e.cacheSize),parseClassName:jle(e),...gle(e)}),_le=/\s+/,Cle=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(_le);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let g=!!m,p=r(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=r(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const y=Sle(d).join(":"),x=f?y+M6:y,w=x+p;if(a.includes(w))continue;a.push(w);const j=s(p,g);for(let b=0;b<j.length;++b){const S=j[b];a.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function Ele(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=R6(t))&&(r&&(r+=" "),r+=n);return r}const R6=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=R6(e[r]))&&(n&&(n+=" "),n+=t);return n};function kle(e,...t){let n,r,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=Nle(u),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=Cle(c,n);return s(c,d),d}return function(){return a(Ele.apply(null,arguments))}}const Dt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},$6=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ale=/^\d+\/\d+$/,Ple=new Set(["px","full","screen"]),Tle=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ole=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ile=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Dle=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mle=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ui=e=>Ru(e)||Ple.has(e)||Ale.test(e),so=e=>Kd(e,"length",Vle),Ru=e=>!!e&&!Number.isNaN(Number(e)),zj=e=>Kd(e,"number",Ru),Pf=e=>!!e&&Number.isInteger(Number(e)),Rle=e=>e.endsWith("%")&&Ru(e.slice(0,-1)),Ge=e=>$6.test(e),ao=e=>Tle.test(e),$le=new Set(["length","size","percentage"]),Lle=e=>Kd(e,$le,L6),Fle=e=>Kd(e,"position",L6),Ble=new Set(["image","url"]),zle=e=>Kd(e,Ble,qle),Wle=e=>Kd(e,"",Ule),Tf=()=>!0,Kd=(e,t,n)=>{const r=$6.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Vle=e=>Ole.test(e)&&!Ile.test(e),L6=()=>!1,Ule=e=>Dle.test(e),qle=e=>Mle.test(e),Hle=()=>{const e=Dt("colors"),t=Dt("spacing"),n=Dt("blur"),r=Dt("brightness"),s=Dt("borderColor"),a=Dt("borderRadius"),o=Dt("borderSpacing"),l=Dt("borderWidth"),c=Dt("contrast"),u=Dt("grayscale"),d=Dt("hueRotate"),f=Dt("invert"),h=Dt("gap"),m=Dt("gradientColorStops"),g=Dt("gradientColorStopPositions"),p=Dt("inset"),y=Dt("margin"),x=Dt("opacity"),w=Dt("padding"),j=Dt("saturate"),b=Dt("scale"),S=Dt("sepia"),N=Dt("skew"),C=Dt("space"),_=Dt("translate"),k=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Ge,t],I=()=>[Ge,t],L=()=>["",ui,so],E=()=>["auto",Ru,Ge],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Ge],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Ru,Ge];return{cacheSize:500,separator:":",theme:{colors:[Tf],spacing:[ui,so],blur:["none","",ao,Ge],brightness:z(),borderColor:[e],borderRadius:["none","","full",ao,Ge],borderSpacing:I(),borderWidth:L(),contrast:z(),grayscale:M(),hueRotate:z(),invert:M(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[Rle,so],inset:A(),margin:A(),opacity:z(),padding:I(),saturate:z(),scale:z(),sepia:M(),skew:z(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[ao]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),Ge]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pf,Ge]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Pf,Ge]}],"grid-cols":[{"grid-cols":[Tf]}],"col-start-end":[{col:["auto",{span:["full",Pf,Ge]},Ge]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[Tf]}],"row-start-end":[{row:["auto",{span:[Pf,Ge]},Ge]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,t]}],"min-w":[{"min-w":[Ge,t,"min","max","fit"]}],"max-w":[{"max-w":[Ge,t,"none","full","min","max","fit","prose",{screen:[ao]},ao]}],h:[{h:[Ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ao,so]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zj]}],"font-family":[{font:[Tf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",Ru,zj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ui,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ui,so]}],"underline-offset":[{"underline-offset":["auto",ui,Ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),Fle]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Lle]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zle]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[ui,Ge]}],"outline-w":[{outline:[ui,so]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ui,so]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ao,Wle]}],"shadow-color":[{shadow:[Tf]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ao,Ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Pf,Ge]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ui,so,zj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Gle=kle(Hle);function ve(...e){return Gle(Ye(e))}const Rk=J0("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-green-600 text-white hover:bg-green-700",warning:"bg-amber-500 text-white hover:bg-amber-600",info:"bg-blue-500 text-white hover:bg-blue-600"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10","icon-sm":"h-8 w-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),B=v.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const o=r?Fi:"button";return i.jsx(o,{className:ve(Rk({variant:t,size:n,className:e})),ref:a,...s})});B.displayName="Button";const ie=v.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:ve("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));ie.displayName="Input";var Kle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Me=Kle.reduce((e,t)=>{const n=v.forwardRef((r,s)=>{const{asChild:a,...o}=r,l=a?Fi:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function F6(e,t){e&&ni.flushSync(()=>e.dispatchEvent(t))}var Yle="Label",B6=v.forwardRef((e,t)=>i.jsx(Me.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));B6.displayName=Yle;var z6=B6;const Xle=J0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Y=v.forwardRef(({className:e,...t},n)=>i.jsx(z6,{ref:n,className:ve(Xle(),e),...t}));Y.displayName=z6.displayName;function Jle({onSubmit:e,loading:t}){const[n,r]=v.useState(""),[s,a]=v.useState(""),o=async l=>{l.preventDefault(),await e(n,s)};return i.jsxs("form",{onSubmit:o,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"email",children:"Email"}),i.jsx(ie,{id:"email",type:"email",placeholder:"seu@email.com",value:n,onChange:l=>r(l.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"password",children:"Senha"}),i.jsx(ie,{id:"password",type:"password",placeholder:"Sua senha",value:s,onChange:l=>a(l.target.value),required:!0})]}),i.jsx(B,{type:"submit",className:"w-full",disabled:t,children:t?"Entrando...":"Entrar"})]})}const re=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ve("rounded-xl border bg-card text-card-foreground shadow-sm",e),...t}));re.displayName="Card";const pe=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ve("flex flex-col space-y-1.5 p-6",e),...t}));pe.displayName="CardHeader";const ge=v.forwardRef(({className:e,...t},n)=>i.jsx("h3",{ref:n,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));ge.displayName="CardTitle";const He=v.forwardRef(({className:e,...t},n)=>i.jsx("p",{ref:n,className:ve("text-sm text-muted-foreground",e),...t}));He.displayName="CardDescription";const se=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ve("p-6 pt-0",e),...t}));se.displayName="CardContent";const $u=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ve("flex items-center p-6 pt-0",e),...t}));$u.displayName="CardFooter";function ye(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Qle(e,t){const n=v.createContext(t),r=a=>{const{children:o,...l}=a,c=v.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(a){const o=v.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function js(e,t=[]){let n=[];function r(a,o){const l=v.createContext(o),c=n.length;n=[...n,o];const u=f=>{var x;const{scope:h,children:m,...g}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=v.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:y,children:m})};u.displayName=a+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Zle(s,...t)]}function Zle(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function ece(e,t=[]){let n=[];function r(a,o){const l=v.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:h,children:m,...g}=f,p=(h==null?void 0:h[e][c])||l,y=v.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:y,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,tce(s,...t)]}function tce(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Q0(e){const t=e+"CollectionProvider",[n,r]=ece(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:p}=m,y=T.useRef(null),x=T.useRef(new Map).current;return i.jsx(s,{scope:g,itemMap:x,collectionRef:y,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=T.forwardRef((m,g)=>{const{scope:p,children:y}=m,x=a(l,p),w=ze(g,x.collectionRef);return i.jsx(Fi,{ref:w,children:y})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=T.forwardRef((m,g)=>{const{scope:p,children:y,...x}=m,w=T.useRef(null),j=ze(g,w),b=a(u,p);return T.useEffect(()=>(b.itemMap.set(w,{ref:w,...x}),()=>void b.itemMap.delete(w))),i.jsx(Fi,{[d]:"",ref:j,children:y})});f.displayName=u;function h(m){const g=a(e+"CollectionConsumer",m);return T.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((b,S)=>x.indexOf(b.ref.current)-x.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,r]}function nce(e,t=[]){let n=[];function r(a,o){const l=v.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:h,children:m,...g}=f,p=(h==null?void 0:h[e][c])||l,y=v.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:y,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,rce(s,...t)]}function rce(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Dn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},sce=f0.useId||(()=>{}),ace=0;function Ws(e){const[t,n]=v.useState(sce());return Dn(()=>{e||n(r=>r??String(ace++))},[e]),e||(t?`radix-${t}`:"")}function fn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Na({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=ice({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,l=fn(n),c=v.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[o,c]}function ice({defaultProp:e,onChange:t}){const n=v.useState(e),[r]=n,s=v.useRef(r),a=fn(t);return v.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var oce=v.createContext(void 0);function Yd(e){const t=v.useContext(oce);return e||t||"ltr"}var Wj="rovingFocusGroup.onEntryFocus",lce={bubbles:!1,cancelable:!0},Z0="RovingFocusGroup",[ON,W6,cce]=Q0(Z0),[uce,ew]=nce(Z0,[cce]),[dce,fce]=uce(Z0),V6=v.forwardRef((e,t)=>i.jsx(ON.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(ON.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(hce,{...e,ref:t})})}));V6.displayName=Z0;var hce=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=v.useRef(null),m=ze(t,h),g=Yd(a),[p=null,y]=Na({prop:o,defaultProp:l,onChange:c}),[x,w]=v.useState(!1),j=fn(u),b=W6(n),S=v.useRef(!1),[N,C]=v.useState(0);return v.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(Wj,j),()=>_.removeEventListener(Wj,j)},[j]),i.jsx(dce,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:p,onItemFocus:v.useCallback(_=>y(_),[y]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:v.useCallback(()=>C(_=>_-1),[]),children:i.jsx(Me.div,{tabIndex:x||N===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ye(e.onMouseDown,()=>{S.current=!0}),onFocus:ye(e.onFocus,_=>{const k=!S.current;if(_.target===_.currentTarget&&k&&!x){const P=new CustomEvent(Wj,lce);if(_.currentTarget.dispatchEvent(P),!P.defaultPrevented){const A=b().filter(O=>O.focusable),I=A.find(O=>O.active),L=A.find(O=>O.id===p),R=[I,L,...A].filter(Boolean).map(O=>O.ref.current);H6(R,d)}}S.current=!1}),onBlur:ye(e.onBlur,()=>w(!1))})})}),U6="RovingFocusGroupItem",q6=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...o}=e,l=Ws(),c=a||l,u=fce(U6,n),d=u.currentTabStopId===c,f=W6(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return v.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),i.jsx(ON.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:i.jsx(Me.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:ye(e.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:ye(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:ye(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=gce(g,u.orientation,u.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=f().filter(w=>w.focusable).map(w=>w.ref.current);if(p==="last")x.reverse();else if(p==="prev"||p==="next"){p==="prev"&&x.reverse();const w=x.indexOf(g.currentTarget);x=u.loop?vce(x,w+1):x.slice(w+1)}setTimeout(()=>H6(x))}})})})});q6.displayName=U6;var mce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pce(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function gce(e,t,n){const r=pce(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return mce[r]}function H6(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function vce(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var G6=V6,K6=q6;function yce(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var Qn=e=>{const{present:t,children:n}=e,r=xce(t),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),a=ze(r.ref,wce(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:a}):null};Qn.displayName="Presence";function xce(e){const[t,n]=v.useState(),r=v.useRef({}),s=v.useRef(e),a=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=yce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Wg(r.current);a.current=l==="mounted"?u:"none"},[l]),Dn(()=>{const u=r.current,d=s.current;if(d!==e){const h=a.current,m=Wg(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Dn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Wg(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(a.current=Wg(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Wg(e){return(e==null?void 0:e.animationName)||"none"}function wce(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $k="Tabs",[bce,PKe]=js($k,[ew]),Y6=ew(),[jce,Lk]=bce($k),X6=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Yd(l),[f,h]=Na({prop:r,onChange:s,defaultProp:a});return i.jsx(jce,{scope:n,baseId:Ws(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(Me.div,{dir:d,"data-orientation":o,...u,ref:t})})});X6.displayName=$k;var J6="TabsList",Q6=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=Lk(J6,n),o=Y6(n);return i.jsx(G6,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:i.jsx(Me.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});Q6.displayName=J6;var Z6="TabsTrigger",ez=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,o=Lk(Z6,n),l=Y6(n),c=rz(o.baseId,r),u=sz(o.baseId,r),d=r===o.value;return i.jsx(K6,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:ye(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ye(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ye(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});ez.displayName=Z6;var tz="TabsContent",nz=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...o}=e,l=Lk(tz,n),c=rz(l.baseId,r),u=sz(l.baseId,r),d=r===l.value,f=v.useRef(d);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Qn,{present:s||d,children:({present:h})=>i.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});nz.displayName=tz;function rz(e,t){return`${e}-trigger-${t}`}function sz(e,t){return`${e}-content-${t}`}var Sce=X6,az=Q6,iz=ez,oz=nz;const Jn=Sce,Mn=v.forwardRef(({className:e,...t},n)=>i.jsx(az,{ref:n,className:ve("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Mn.displayName=az.displayName;const Fe=v.forwardRef(({className:e,...t},n)=>i.jsx(iz,{ref:n,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Fe.displayName=iz.displayName;const Ve=v.forwardRef(({className:e,...t},n)=>i.jsx(oz,{ref:n,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ve.displayName=oz.displayName;function Nce(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,a]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState(!1),{signIn:d}=ri(),{workspaces:f,fetchWorkspaces:h,setCurrentWorkspace:m}=je(),g=_c(),p=async x=>{if(x.preventDefault(),!e||!n||!s){G.showError(G.createError("Campos Obrigatrios","Por favor, preencha todos os campos para continuar."));return}u(!0);try{await d(n,s),await h();const j=je.getState().workspaces.find(b=>b.slug===e);if(!j){G.showError(G.createError("Workspace No Encontrado","O workspace informado no foi encontrado ou voc no tem acesso a ele. Verifique a URL e tente novamente.")),u(!1);return}m(j),g("/dashboard")}catch{}finally{u(!1)}},y=async(x,w)=>{l(!0);try{await d(x,w),await h();const j=je.getState().workspaces;j.length>0?(m(j[0]),g("/dashboard")):g("/onboarding")}catch{}finally{l(!1)}};return i.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsxs(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OmniCRM"}),i.jsx("p",{className:"text-gray-600",children:"Entre na sua conta"})]}),i.jsx(re,{children:i.jsx(se,{className:"p-6",children:i.jsxs(Jn,{defaultValue:"workspace",className:"w-full",children:[i.jsxs(Mn,{className:"grid w-full grid-cols-2",children:[i.jsx(Fe,{value:"workspace",children:"Workspace"}),i.jsx(Fe,{value:"personal",children:"Pessoal"})]}),i.jsxs(Ve,{value:"workspace",className:"space-y-4 mt-6",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx(Du,{className:"h-8 w-8 mx-auto text-blue-600 mb-2"}),i.jsx("h3",{className:"text-lg font-semibold",children:"Entrar no Workspace"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Entre com a URL do seu workspace"})]}),i.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workspaceSlug",children:"URL do Workspace"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"omnicrm.com/"}),i.jsx(ie,{id:"workspaceSlug",placeholder:"minha-empresa",value:e,onChange:x=>t(x.target.value),required:!0})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workspaceEmail",children:"Email"}),i.jsx(ie,{id:"workspaceEmail",type:"email",placeholder:"seu@email.com",value:n,onChange:x=>r(x.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workspacePassword",children:"Senha"}),i.jsx(ie,{id:"workspacePassword",type:"password",placeholder:"Sua senha",value:s,onChange:x=>a(x.target.value),required:!0})]}),i.jsxs(B,{type:"submit",className:"w-full",disabled:c,children:[c?"Entrando...":"Entrar no Workspace",i.jsx(Xl,{className:"ml-2 h-4 w-4"})]})]})]}),i.jsxs(Ve,{value:"personal",className:"space-y-4 mt-6",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Login Pessoal"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Entre com sua conta pessoal"})]}),i.jsx(Jle,{onSubmit:y,loading:o})]})]})})}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["No tem uma conta?"," ",i.jsx(VE,{to:"/signup",className:"text-blue-600 hover:underline",children:"Criar conta"})]})})]})})})}function _ce({children:e,title:t,description:n}){return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:i.jsxs(re,{className:"w-full max-w-md",children:[i.jsxs(pe,{className:"space-y-1",children:[i.jsx(ge,{className:"text-2xl font-bold text-center",children:t}),i.jsx(He,{className:"text-center",children:n})]}),i.jsx(se,{children:e})]})})}function Cce(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,a]=v.useState(""),[o,l]=v.useState(!1),c=ri(f=>f.signUp),u=_c(),d=async f=>{if(f.preventDefault(),n!==s){G.showError(G.createError("Senhas No Coincidem","As senhas digitadas no coincidem. Verifique e tente novamente."));return}if(n.length<6){G.showError(G.createError("Senha Muito Fraca","A senha deve ter pelo menos 6 caracteres."));return}l(!0);try{await c(e,n),u("/dashboard")}catch{}finally{l(!1)}};return i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"email",children:"Email"}),i.jsx(ie,{id:"email",type:"email",placeholder:"Digite seu email",value:e,onChange:f=>t(f.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"password",children:"Senha"}),i.jsx(ie,{id:"password",type:"password",placeholder:"Digite sua senha",value:n,onChange:f=>r(f.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),i.jsx(ie,{id:"confirmPassword",type:"password",placeholder:"Confirme sua senha",value:s,onChange:f=>a(f.target.value),required:!0})]}),i.jsx(B,{type:"submit",className:"w-full",disabled:o,children:o?"Criando conta...":"Criar Conta"})]})}function Ece(){return i.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsxs(_ce,{title:"Create Account",description:"Get started with your CRM dashboard",children:[i.jsx(Cce,{}),i.jsx("div",{className:"mt-4 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",i.jsx(VE,{to:"/login",className:"text-blue-600 hover:underline",children:"Sign in"})]})})]})})})}const kce=J0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-amber-100 text-amber-800 hover:bg-amber-200",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200"}},defaultVariants:{variant:"default"}});function fe({className:e,variant:t,...n}){return i.jsx("div",{className:ve(kce({variant:t}),e),...n})}const Ace=1,Pce=1e6;let Vj=0;function Tce(){return Vj=(Vj+1)%Number.MAX_SAFE_INTEGER,Vj.toString()}const Uj=new Map,TI=e=>{if(Uj.has(e))return;const t=setTimeout(()=>{Uj.delete(e),Th({type:"REMOVE_TOAST",toastId:e})},Pce);Uj.set(e,t)},Oce=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Ace)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?TI(n):e.toasts.forEach(r=>{TI(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Bv=[];let zv={toasts:[]};function Th(e){zv=Oce(zv,e),Bv.forEach(t=>{t(zv)})}function Ice({...e}){const t=Tce(),n=s=>Th({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Th({type:"DISMISS_TOAST",toastId:t});return Th({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Zn(){const[e,t]=v.useState(zv);return v.useEffect(()=>(Bv.push(t),()=>{const n=Bv.indexOf(t);n>-1&&Bv.splice(n,1)}),[e]),{...e,toast:Ice,dismiss:n=>Th({type:"DISMISS_TOAST",toastId:n})}}function Dce(){const[e,t]=v.useState(1),[n,r]=v.useState(""),[s,a]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState(!1),{workspaces:d,plans:f,fetchWorkspaces:h,fetchPlans:m,createWorkspace:g,setCurrentWorkspace:p}=je(),{checkWorkspaceUniqueness:y}=je();ri();const x=_c(),{toast:w}=Zn();v.useEffect(()=>{h(),m()},[h,m]);const j=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),b=_=>{p(_),x("/dashboard")},S=async()=>{if(!n||!s){w({title:"Erro",description:"Por favor, preencha todos os campos obrigatrios",variant:"destructive"});return}l(!0);try{const _=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),k=await y(n,_);if(k.nameExists){w({title:"Nome j existe",description:`J existe um workspace com o nome "${n}". Escolha um nome diferente.`,variant:"destructive"}),l(!1);return}if(k.slugExists){w({title:"URL j existe",description:`A URL "${_}" j est em uso. Escolha um nome diferente.`,variant:"destructive"}),l(!1);return}const P=await g({name:n,plan_id:s});p(P),w({title:"Sucesso!",description:"Workspace criado com sucesso!"}),x("/dashboard")}catch(_){w({title:"Erro",description:_.message||"Falha ao criar workspace",variant:"destructive"})}finally{l(!1)}},N=_=>{switch(_.toLowerCase()){case"starter":return Fr;case"pro":return Du;case"enterprise":return ds;default:return Fr}},C=_=>{const k=[];return _.features.whatsapp&&k.push("Integrao WhatsApp"),_.features.all_channels&&k.push("Todos os Canais"),_.features.advanced_crm&&k.push("CRM Avanado"),_.features.rfm_analysis&&k.push("Anlise RFM"),_.features.campaigns&&k.push("Gesto de Campanhas"),_.features.custom_integrations&&k.push("Integraes Personalizadas"),_.features.white_label&&k.push("White Label"),k};return i.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsxs("div",{className:"w-full max-w-4xl",children:[i.jsxs(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Bem-vindo ao OmniCRM"}),i.jsx("p",{className:"text-xl text-gray-600",children:d.length>0&&!c?"Escolha um workspace ou crie um novo":"Vamos configurar seu workspace e comear"})]}),d.length>0&&!c&&i.jsx(Nt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:i.jsxs(re,{className:"max-w-2xl mx-auto",children:[i.jsxs(pe,{children:[i.jsxs(ge,{className:"flex items-center",children:[i.jsx(Du,{className:"mr-2 h-5 w-5"}),"Seus Workspaces"]}),i.jsxs(He,{children:["Voc j possui ",d.length," workspace(s). Escolha um para acessar ou crie um novo."]})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsx("div",{className:"space-y-3",children:d.map(_=>{var k;return i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(Du,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900",children:_.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:["omnicrm.com/",_.slug]}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsx(fe,{variant:"outline",className:"text-xs",children:((k=_.plan)==null?void 0:k.name)||"Plano no encontrado"}),i.jsx(fe,{className:"text-xs bg-yellow-100 text-yellow-800",children:"Proprietrio"})]})]})]}),i.jsxs(B,{onClick:()=>b(_),children:[i.jsx(Joe,{className:"h-4 w-4 mr-2"}),"Acessar"]})]},_.id)})}),i.jsx("div",{className:"flex justify-center pt-4 border-t",children:i.jsxs(B,{variant:"outline",onClick:()=>u(!0),children:[i.jsx(tn,{className:"h-4 w-4 mr-2"}),"Criar Novo Workspace"]})})]})]})}),(d.length===0||c)&&e===1&&i.jsxs(Nt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[c&&i.jsx("div",{className:"text-center mb-6",children:i.jsx(B,{variant:"ghost",onClick:()=>u(!1),className:"mb-4",children:" Voltar para meus workspaces"})}),i.jsxs(re,{className:"max-w-md mx-auto",children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Crie Seu Workspace"}),i.jsx(He,{children:"Configure o workspace da sua empresa para comear"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workspaceName",children:"Nome do Workspace *"}),i.jsx(ie,{id:"workspaceName",placeholder:"Minha Empresa",value:n,onChange:_=>r(_.target.value)})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workspaceSlug",children:"Preview da URL do Workspace"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"omnicrm.com/"}),i.jsx(ie,{id:"workspaceSlug",placeholder:"minha-empresa",value:j,readOnly:!0,className:"bg-gray-50"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Uma URL nica ser gerada automaticamente para seu workspace"})]}),i.jsxs(B,{onClick:()=>t(2),className:"w-full",disabled:!n,children:["Continuar",i.jsx(Xl,{className:"ml-2 h-4 w-4"})]})]})]})]}),(d.length===0||c)&&e===2&&i.jsxs(Nt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Escolha Seu Plano"}),i.jsx("p",{className:"text-gray-600",children:"Selecione o plano que melhor atende s necessidades do seu negcio"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:f.map(_=>{const k=N(_.name),P=C(_),A=s===_.id;return i.jsxs(re,{className:`cursor-pointer transition-all duration-200 ${A?"ring-2 ring-blue-500 shadow-lg":"hover:shadow-md"}`,onClick:()=>a(_.id),children:[i.jsxs(pe,{className:"text-center",children:[i.jsx("div",{className:"mx-auto mb-4",children:i.jsx(k,{className:`h-12 w-12 ${A?"text-blue-600":"text-gray-400"}`})}),i.jsx(ge,{className:"text-xl",children:_.name}),i.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:["R$",_.price_monthly,i.jsx("span",{className:"text-sm font-normal text-gray-500",children:"/ms"})]})]}),i.jsxs(se,{children:[i.jsx("ul",{className:"space-y-2 mb-6",children:P.slice(0,4).map((I,L)=>i.jsxs("li",{className:"flex items-center text-sm",children:[i.jsx($s,{className:"h-4 w-4 text-green-500 mr-2"}),I]},L))}),i.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Canais:"}),i.jsx("span",{children:_.limits.channels===-1?"Ilimitado":_.limits.channels})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Usurios:"}),i.jsx("span",{children:_.limits.users===-1?"Ilimitado":_.limits.users})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Mensagens/ms:"}),i.jsx("span",{children:_.limits.monthly_messages===-1?"Ilimitado":_.limits.monthly_messages.toLocaleString()})]})]}),_.name==="Pro"&&i.jsx(fe,{className:"w-full justify-center mt-4",variant:"secondary",children:"Mais Popular"})]})]},_.id)})}),i.jsxs("div",{className:"flex justify-center space-x-4",children:[i.jsx(B,{variant:"outline",onClick:()=>t(1),children:"Voltar"}),i.jsxs(B,{onClick:S,disabled:!s||o,children:[o?"Criando...":"Criar Workspace",i.jsx(Xl,{className:"ml-2 h-4 w-4"})]})]})]})]})})})}var Fk="Avatar",[Mce,TKe]=js(Fk),[Rce,lz]=Mce(Fk),cz=v.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=v.useState("idle");return i.jsx(Rce,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(Me.span,{...r,ref:t})})});cz.displayName=Fk;var uz="AvatarImage",dz=v.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,o=lz(uz,n),l=$ce(r,a.referrerPolicy),c=fn(u=>{s(u),o.onImageLoadingStatusChange(u)});return Dn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(Me.img,{...a,ref:t,src:r}):null});dz.displayName=uz;var fz="AvatarFallback",hz=v.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=lz(fz,n),[o,l]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(Me.span,{...s,ref:t}):null});hz.displayName=fz;function $ce(e,t){const[n,r]=v.useState("idle");return Dn(()=>{if(!e){r("error");return}let s=!0;const a=new window.Image,o=l=>()=>{s&&r(l)};return r("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),n}var mz=cz,pz=dz,gz=hz;const Bi=v.forwardRef(({className:e,...t},n)=>i.jsx(mz,{ref:n,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Bi.displayName=mz.displayName;const Lce=v.forwardRef(({className:e,...t},n)=>i.jsx(pz,{ref:n,className:ve("aspect-square h-full w-full",e),...t}));Lce.displayName=pz.displayName;const zi=v.forwardRef(({className:e,...t},n)=>i.jsx(gz,{ref:n,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));zi.displayName=gz.displayName;function Fce(e,t=globalThis==null?void 0:globalThis.document){const n=fn(e);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Bce="DismissableLayer",IN="dismissableLayer.update",zce="dismissableLayer.pointerDownOutside",Wce="dismissableLayer.focusOutside",OI,vz=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xd=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(vz),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),g=ze(t,C=>f(C)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),w=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,b=w>=x,S=qce(C=>{const _=C.target,k=[...u.branches].some(P=>P.contains(_));!b||k||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},h),N=Hce(C=>{const _=C.target;[...u.branches].some(P=>P.contains(_))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},h);return Fce(C=>{w===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(OI=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),II(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=OI)}},[d,h,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),II())},[d,u]),v.useEffect(()=>{const C=()=>m({});return document.addEventListener(IN,C),()=>document.removeEventListener(IN,C)},[]),i.jsx(Me.div,{...c,ref:g,style:{pointerEvents:j?b?"auto":"none":void 0,...e.style},onFocusCapture:ye(e.onFocusCapture,N.onFocusCapture),onBlurCapture:ye(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ye(e.onPointerDownCapture,S.onPointerDownCapture)})});Xd.displayName=Bce;var Vce="DismissableLayerBranch",Uce=v.forwardRef((e,t)=>{const n=v.useContext(vz),r=v.useRef(null),s=ze(t,r);return v.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(Me.div,{...e,ref:s})});Uce.displayName=Vce;function qce(e,t=globalThis==null?void 0:globalThis.document){const n=fn(e),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){yz(zce,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Hce(e,t=globalThis==null?void 0:globalThis.document){const n=fn(e),r=v.useRef(!1);return v.useEffect(()=>{const s=a=>{a.target&&!r.current&&yz(Wce,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function II(){const e=new CustomEvent(IN);document.dispatchEvent(e)}function yz(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?F6(s,a):s.dispatchEvent(a)}const Gce=["top","right","bottom","left"],Ko=Math.min,ss=Math.max,$y=Math.round,Vg=Math.floor,Yo=e=>({x:e,y:e}),Kce={left:"right",right:"left",bottom:"top",top:"bottom"},Yce={start:"end",end:"start"};function DN(e,t,n){return ss(e,Ko(t,n))}function Wi(e,t){return typeof e=="function"?e(t):e}function Vi(e){return e.split("-")[0]}function Jd(e){return e.split("-")[1]}function Bk(e){return e==="x"?"y":"x"}function zk(e){return e==="y"?"height":"width"}function Xo(e){return["top","bottom"].includes(Vi(e))?"y":"x"}function Wk(e){return Bk(Xo(e))}function Xce(e,t,n){n===void 0&&(n=!1);const r=Jd(e),s=Wk(e),a=zk(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Ly(o)),[o,Ly(o)]}function Jce(e){const t=Ly(e);return[MN(e),t,MN(t)]}function MN(e){return e.replace(/start|end/g,t=>Yce[t])}function Qce(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:o;default:return[]}}function Zce(e,t,n,r){const s=Jd(e);let a=Qce(Vi(e),n==="start",r);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(MN)))),a}function Ly(e){return e.replace(/left|right|bottom|top/g,t=>Kce[t])}function eue(e){return{top:0,right:0,bottom:0,left:0,...e}}function xz(e){return typeof e!="number"?eue(e):{top:e,right:e,bottom:e,left:e}}function Fy(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function DI(e,t,n){let{reference:r,floating:s}=e;const a=Xo(t),o=Wk(t),l=zk(o),c=Vi(t),u=a==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Jd(t)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const tue=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=DI(u,r,c),h=r,m={},g=0;for(let p=0;p<l.length;p++){const{name:y,fn:x}=l[p],{x:w,y:j,data:b,reset:S}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=w??d,f=j??f,m={...m,[y]:{...m[y],...b}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=DI(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function ym(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Wi(t,e),g=xz(m),y=l[h?f==="floating"?"reference":"floating":f],x=Fy(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),b=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},S=Fy(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:j,strategy:c}):w);return{top:(x.top-S.top+g.top)/b.y,bottom:(S.bottom-x.bottom+g.bottom)/b.y,left:(x.left-S.left+g.left)/b.x,right:(S.right-x.right+g.right)/b.x}}const nue=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Wi(e,t)||{};if(u==null)return{};const f=xz(d),h={x:n,y:r},m=Wk(s),g=zk(m),p=await o.getDimensions(u),y=m==="y",x=y?"top":"left",w=y?"bottom":"right",j=y?"clientHeight":"clientWidth",b=a.reference[g]+a.reference[m]-h[m]-a.floating[g],S=h[m]-a.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=N?N[j]:0;(!C||!await(o.isElement==null?void 0:o.isElement(N)))&&(C=l.floating[j]||a.floating[g]);const _=b/2-S/2,k=C/2-p[g]/2-1,P=Ko(f[x],k),A=Ko(f[w],k),I=P,L=C-p[g]-A,E=C/2-p[g]/2+_,R=DN(I,E,L),O=!c.arrow&&Jd(s)!=null&&E!==R&&a.reference[g]/2-(E<I?P:A)-p[g]/2<0,F=O?E<I?E-I:E-L:0;return{[m]:h[m]+F,data:{[m]:R,centerOffset:E-R-F,...O&&{alignmentOffset:F}},reset:O}}}),rue=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...y}=Wi(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const x=Vi(s),w=Xo(l),j=Vi(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(j||!p?[Ly(l)]:Jce(l)),N=g!=="none";!h&&N&&S.push(...Zce(l,p,g,b));const C=[l,...S],_=await ym(t,y),k=[];let P=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&k.push(_[x]),f){const E=Xce(s,o,b);k.push(_[E[0]],_[E[1]])}if(P=[...P,{placement:s,overflows:k}],!k.every(E=>E<=0)){var A,I;const E=(((A=a.flip)==null?void 0:A.index)||0)+1,R=C[E];if(R)return{data:{index:E,overflows:P},reset:{placement:R}};let O=(I=P.filter(F=>F.overflows[0]<=0).sort((F,D)=>F.overflows[1]-D.overflows[1])[0])==null?void 0:I.placement;if(!O)switch(m){case"bestFit":{var L;const F=(L=P.filter(D=>{if(N){const M=Xo(D.placement);return M===w||M==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(M=>M>0).reduce((M,$)=>M+$,0)]).sort((D,M)=>D[1]-M[1])[0])==null?void 0:L[0];F&&(O=F);break}case"initialPlacement":O=l;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function MI(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function RI(e){return Gce.some(t=>e[t]>=0)}const sue=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Wi(e,t);switch(r){case"referenceHidden":{const a=await ym(t,{...s,elementContext:"reference"}),o=MI(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:RI(o)}}}case"escaped":{const a=await ym(t,{...s,altBoundary:!0}),o=MI(a,n.floating);return{data:{escapedOffsets:o,escaped:RI(o)}}}default:return{}}}}};async function aue(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Vi(n),l=Jd(n),c=Xo(n)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,f=Wi(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const iue=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await aue(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},oue=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x,y:w}=y;return{x,y:w}}},...c}=Wi(e,t),u={x:n,y:r},d=await ym(t,c),f=Xo(Vi(s)),h=Bk(f);let m=u[h],g=u[f];if(a){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=m+d[y],j=m-d[x];m=DN(w,m,j)}if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=g+d[y],j=g-d[x];g=DN(w,g,j)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:a,[f]:o}}}}}},lue=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Wi(e,t),d={x:n,y:r},f=Xo(s),h=Bk(f);let m=d[h],g=d[f];const p=Wi(l,t),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const j=h==="y"?"height":"width",b=a.reference[h]-a.floating[j]+y.mainAxis,S=a.reference[h]+a.reference[j]-y.mainAxis;m<b?m=b:m>S&&(m=S)}if(u){var x,w;const j=h==="y"?"width":"height",b=["top","left"].includes(Vi(s)),S=a.reference[f]-a.floating[j]+(b&&((x=o.offset)==null?void 0:x[f])||0)+(b?0:y.crossAxis),N=a.reference[f]+a.reference[j]+(b?0:((w=o.offset)==null?void 0:w[f])||0)-(b?y.crossAxis:0);g<S?g=S:g>N&&(g=N)}return{[h]:m,[f]:g}}}},cue=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Wi(e,t),d=await ym(t,u),f=Vi(s),h=Jd(s),m=Xo(s)==="y",{width:g,height:p}=a.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,y=h==="end"?"top":"bottom");const w=p-d.top-d.bottom,j=g-d.left-d.right,b=Ko(p-d[y],w),S=Ko(g-d[x],j),N=!t.middlewareData.shift;let C=b,_=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=w),N&&!h){const P=ss(d.left,0),A=ss(d.right,0),I=ss(d.top,0),L=ss(d.bottom,0);m?_=g-2*(P!==0||A!==0?P+A:ss(d.left,d.right)):C=p-2*(I!==0||L!==0?I+L:ss(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:C});const k=await o.getDimensions(l.floating);return g!==k.width||p!==k.height?{reset:{rects:!0}}:{}}}};function tw(){return typeof window<"u"}function Qd(e){return wz(e)?(e.nodeName||"").toLowerCase():"#document"}function fs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function si(e){var t;return(t=(wz(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wz(e){return tw()?e instanceof Node||e instanceof fs(e).Node:!1}function _a(e){return tw()?e instanceof Element||e instanceof fs(e).Element:!1}function Ja(e){return tw()?e instanceof HTMLElement||e instanceof fs(e).HTMLElement:!1}function $I(e){return!tw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fs(e).ShadowRoot}function Wp(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ca(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function uue(e){return["table","td","th"].includes(Qd(e))}function nw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Vk(e){const t=Uk(),n=_a(e)?Ca(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function due(e){let t=Jo(e);for(;Ja(t)&&!od(t);){if(Vk(t))return t;if(nw(t))return null;t=Jo(t)}return null}function Uk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function od(e){return["html","body","#document"].includes(Qd(e))}function Ca(e){return fs(e).getComputedStyle(e)}function rw(e){return _a(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jo(e){if(Qd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$I(e)&&e.host||si(e);return $I(t)?t.host:t}function bz(e){const t=Jo(e);return od(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ja(t)&&Wp(t)?t:bz(t)}function xm(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=bz(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),o=fs(s);if(a){const l=RN(o);return t.concat(o,o.visualViewport||[],Wp(s)?s:[],l&&n?xm(l):[])}return t.concat(s,xm(s,[],n))}function RN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jz(e){const t=Ca(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ja(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=$y(n)!==a||$y(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function qk(e){return _a(e)?e:e.contextElement}function Lu(e){const t=qk(e);if(!Ja(t))return Yo(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=jz(t);let o=(a?$y(n.width):n.width)/r,l=(a?$y(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const fue=Yo(0);function Sz(e){const t=fs(e);return!Uk()||!t.visualViewport?fue:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hue(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==fs(e)?!1:t}function uc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=qk(e);let o=Yo(1);t&&(r?_a(r)&&(o=Lu(r)):o=Lu(e));const l=hue(a,n,r)?Sz(a):Yo(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=fs(a),m=r&&_a(r)?fs(r):r;let g=h,p=RN(g);for(;p&&r&&m!==g;){const y=Lu(p),x=p.getBoundingClientRect(),w=Ca(p),j=x.left+(p.clientLeft+parseFloat(w.paddingLeft))*y.x,b=x.top+(p.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=j,u+=b,g=fs(p),p=RN(g)}}return Fy({width:d,height:f,x:c,y:u})}function mue(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",o=si(r),l=t?nw(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Yo(1);const d=Yo(0),f=Ja(r);if((f||!f&&!a)&&((Qd(r)!=="body"||Wp(o))&&(c=rw(r)),Ja(r))){const h=uc(r);u=Lu(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function pue(e){return Array.from(e.getClientRects())}function $N(e,t){const n=rw(e).scrollLeft;return t?t.left+n:uc(si(e)).left+n}function gue(e){const t=si(e),n=rw(e),r=e.ownerDocument.body,s=ss(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ss(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+$N(e);const l=-n.scrollTop;return Ca(r).direction==="rtl"&&(o+=ss(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:o,y:l}}function vue(e,t){const n=fs(e),r=si(e),s=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=Uk();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function yue(e,t){const n=uc(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Ja(e)?Lu(e):Yo(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:o,height:l,x:c,y:u}}function LI(e,t,n){let r;if(t==="viewport")r=vue(e,n);else if(t==="document")r=gue(si(e));else if(_a(t))r=yue(t,n);else{const s=Sz(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return Fy(r)}function Nz(e,t){const n=Jo(e);return n===t||!_a(n)||od(n)?!1:Ca(n).position==="fixed"||Nz(n,t)}function xue(e,t){const n=t.get(e);if(n)return n;let r=xm(e,[],!1).filter(l=>_a(l)&&Qd(l)!=="body"),s=null;const a=Ca(e).position==="fixed";let o=a?Jo(e):e;for(;_a(o)&&!od(o);){const l=Ca(o),c=Vk(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Wp(o)&&!c&&Nz(e,o))?r=r.filter(d=>d!==o):s=l,o=Jo(o)}return t.set(e,r),r}function wue(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?nw(t)?[]:xue(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=LI(t,d,s);return u.top=ss(f.top,u.top),u.right=Ko(f.right,u.right),u.bottom=Ko(f.bottom,u.bottom),u.left=ss(f.left,u.left),u},LI(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function bue(e){const{width:t,height:n}=jz(e);return{width:t,height:n}}function jue(e,t,n){const r=Ja(t),s=si(t),a=n==="fixed",o=uc(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Yo(0);if(r||!r&&!a)if((Qd(t)!=="body"||Wp(s))&&(l=rw(t)),r){const m=uc(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=$N(s));let u=0,d=0;if(s&&!r&&!a){const m=s.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-$N(s,m)}const f=o.left+l.scrollLeft-c.x-u,h=o.top+l.scrollTop-c.y-d;return{x:f,y:h,width:o.width,height:o.height}}function qj(e){return Ca(e).position==="static"}function FI(e,t){if(!Ja(e)||Ca(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return si(e)===n&&(n=n.ownerDocument.body),n}function _z(e,t){const n=fs(e);if(nw(e))return n;if(!Ja(e)){let s=Jo(e);for(;s&&!od(s);){if(_a(s)&&!qj(s))return s;s=Jo(s)}return n}let r=FI(e,t);for(;r&&uue(r)&&qj(r);)r=FI(r,t);return r&&od(r)&&qj(r)&&!Vk(r)?n:r||due(e)||n}const Sue=async function(e){const t=this.getOffsetParent||_z,n=this.getDimensions,r=await n(e.floating);return{reference:jue(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Nue(e){return Ca(e).direction==="rtl"}const _ue={convertOffsetParentRelativeRectToViewportRelativeRect:mue,getDocumentElement:si,getClippingRect:wue,getOffsetParent:_z,getElementRects:Sue,getClientRects:pue,getDimensions:bue,getScale:Lu,isElement:_a,isRTL:Nue};function Cue(e,t){let n=null,r;const s=si(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const m=Vg(d),g=Vg(s.clientWidth-(u+f)),p=Vg(s.clientHeight-(d+h)),y=Vg(u),w={rootMargin:-m+"px "+-g+"px "+-p+"px "+-y+"px",threshold:ss(0,Ko(1,c))||1};let j=!0;function b(S){const N=S[0].intersectionRatio;if(N!==c){if(!j)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}j=!1}try{n=new IntersectionObserver(b,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(b,w)}n.observe(e)}return o(!0),a}function Eue(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=qk(e),d=s||a?[...u?xm(u):[],...xm(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),a&&x.addEventListener("resize",n)});const f=u&&l?Cue(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?uc(e):null;c&&y();function y(){const x=uc(e);p&&(x.x!==p.x||x.y!==p.y||x.width!==p.width||x.height!==p.height)&&n(),p=x,g=requestAnimationFrame(y)}return n(),()=>{var x;d.forEach(w=>{s&&w.removeEventListener("scroll",n),a&&w.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const kue=iue,Aue=oue,Pue=rue,Tue=cue,Oue=sue,BI=nue,Iue=lue,Due=(e,t,n)=>{const r=new Map,s={platform:_ue,...n},a={...s.platform,_c:r};return tue(e,t,{...s,platform:a})};var Wv=typeof document<"u"?v.useLayoutEffect:v.useEffect;function By(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!By(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!By(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Cz(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function zI(e,t){const n=Cz(e);return Math.round(t*n)/n}function Hj(e){const t=v.useRef(e);return Wv(()=>{t.current=e}),t}function Mue(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=v.useState(r);By(h,r)||m(r);const[g,p]=v.useState(null),[y,x]=v.useState(null),w=v.useCallback(D=>{D!==N.current&&(N.current=D,p(D))},[]),j=v.useCallback(D=>{D!==C.current&&(C.current=D,x(D))},[]),b=a||g,S=o||y,N=v.useRef(null),C=v.useRef(null),_=v.useRef(d),k=c!=null,P=Hj(c),A=Hj(s),I=Hj(u),L=v.useCallback(()=>{if(!N.current||!C.current)return;const D={placement:t,strategy:n,middleware:h};A.current&&(D.platform=A.current),Due(N.current,C.current,D).then(M=>{const $={...M,isPositioned:I.current!==!1};E.current&&!By(_.current,$)&&(_.current=$,ni.flushSync(()=>{f($)}))})},[h,t,n,A,I]);Wv(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const E=v.useRef(!1);Wv(()=>(E.current=!0,()=>{E.current=!1}),[]),Wv(()=>{if(b&&(N.current=b),S&&(C.current=S),b&&S){if(P.current)return P.current(b,S,L);L()}},[b,S,L,P,k]);const R=v.useMemo(()=>({reference:N,floating:C,setReference:w,setFloating:j}),[w,j]),O=v.useMemo(()=>({reference:b,floating:S}),[b,S]),F=v.useMemo(()=>{const D={position:n,left:0,top:0};if(!O.floating)return D;const M=zI(O.floating,d.x),$=zI(O.floating,d.y);return l?{...D,transform:"translate("+M+"px, "+$+"px)",...Cz(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:$}},[n,l,O.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:L,refs:R,elements:O,floatingStyles:F}),[d,L,R,O,F])}const Rue=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?BI({element:r.current,padding:s}).fn(n):{}:r?BI({element:r,padding:s}).fn(n):{}}}},$ue=(e,t)=>({...kue(e),options:[e,t]}),Lue=(e,t)=>({...Aue(e),options:[e,t]}),Fue=(e,t)=>({...Iue(e),options:[e,t]}),Bue=(e,t)=>({...Pue(e),options:[e,t]}),zue=(e,t)=>({...Tue(e),options:[e,t]}),Wue=(e,t)=>({...Oue(e),options:[e,t]}),Vue=(e,t)=>({...Rue(e),options:[e,t]});var Uue="Arrow",Ez=v.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return i.jsx(Me.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ez.displayName=Uue;var que=Ez;function Hue(e,t=[]){let n=[];function r(a,o){const l=v.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:h,children:m,...g}=f,p=(h==null?void 0:h[e][c])||l,y=v.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:y,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Gue(s,...t)]}function Gue(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function sw(e){const[t,n]=v.useState(void 0);return Dn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Hk="Popper",[kz,ul]=Hue(Hk),[Kue,Az]=kz(Hk),Pz=e=>{const{__scopePopper:t,children:n}=e,[r,s]=v.useState(null);return i.jsx(Kue,{scope:t,anchor:r,onAnchorChange:s,children:n})};Pz.displayName=Hk;var Tz="PopperAnchor",Oz=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=Az(Tz,n),o=v.useRef(null),l=ze(t,o);return v.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:i.jsx(Me.div,{...s,ref:l})});Oz.displayName=Tz;var Gk="PopperContent",[Yue,Xue]=kz(Gk),Iz=v.forwardRef((e,t)=>{var X,ee,Z,ae,ce,q;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,y=Az(Gk,n),[x,w]=v.useState(null),j=ze(t,be=>w(be)),[b,S]=v.useState(null),N=sw(b),C=(N==null?void 0:N.width)??0,_=(N==null?void 0:N.height)??0,k=r+(a!=="center"?"-"+a:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],I=A.length>0,L={padding:P,boundary:A.filter(Que),altBoundary:I},{refs:E,floatingStyles:R,placement:O,isPositioned:F,middlewareData:D}=Mue({strategy:"fixed",placement:k,whileElementsMounted:(...be)=>Eue(...be,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[$ue({mainAxis:s+_,alignmentAxis:o}),c&&Lue({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Fue():void 0,...L}),c&&Bue({...L}),zue({...L,apply:({elements:be,rects:Se,availableWidth:Ae,availableHeight:Q})=>{const{width:me,height:J}=Se.reference,_e=be.floating.style;_e.setProperty("--radix-popper-available-width",`${Ae}px`),_e.setProperty("--radix-popper-available-height",`${Q}px`),_e.setProperty("--radix-popper-anchor-width",`${me}px`),_e.setProperty("--radix-popper-anchor-height",`${J}px`)}}),b&&Vue({element:b,padding:l}),Zue({arrowWidth:C,arrowHeight:_}),h&&Wue({strategy:"referenceHidden",...L})]}),[M,$]=Rz(O),z=fn(g);Dn(()=>{F&&(z==null||z())},[F,z]);const W=(X=D.arrow)==null?void 0:X.x,H=(ee=D.arrow)==null?void 0:ee.y,V=((Z=D.arrow)==null?void 0:Z.centerOffset)!==0,[te,ne]=v.useState();return Dn(()=>{x&&ne(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:F?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(ae=D.transformOrigin)==null?void 0:ae.x,(ce=D.transformOrigin)==null?void 0:ce.y].join(" "),...((q=D.hide)==null?void 0:q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Yue,{scope:n,placedSide:M,onArrowChange:S,arrowX:W,arrowY:H,shouldHideArrow:V,children:i.jsx(Me.div,{"data-side":M,"data-align":$,...p,ref:j,style:{...p.style,animation:F?void 0:"none"}})})})});Iz.displayName=Gk;var Dz="PopperArrow",Jue={top:"bottom",right:"left",bottom:"top",left:"right"},Mz=v.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=Xue(Dz,r),o=Jue[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(que,{...s,ref:n,style:{...s.style,display:"block"}})})});Mz.displayName=Dz;function Que(e){return e!==null}var Zue=e=>({name:"transformOrigin",options:e,fn(t){var y,x,w;const{placement:n,rects:r,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=Rz(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${r.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function Rz(e){const[t,n="center"]=e.split("-");return[t,n]}var aw=Pz,Vp=Oz,iw=Iz,ow=Mz,ede="Portal",lw=v.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=v.useState(!1);Dn(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?k0.createPortal(i.jsx(Me.div,{...r,ref:t}),o):null});lw.displayName=ede;var tde="VisuallyHidden",Kk=v.forwardRef((e,t)=>i.jsx(Me.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Kk.displayName=tde;var nde=Kk,[cw,OKe]=js("Tooltip",[ul]),uw=ul(),$z="TooltipProvider",rde=700,LN="tooltip.open",[sde,Yk]=cw($z),Lz=e=>{const{__scopeTooltip:t,delayDuration:n=rde,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,[o,l]=v.useState(!0),c=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),i.jsx(sde,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};Lz.displayName=$z;var dw="Tooltip",[ade,fw]=cw(dw),Fz=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=Yk(dw,e.__scopeTooltip),u=uw(t),[d,f]=v.useState(null),h=Ws(),m=v.useRef(0),g=o??c.disableHoverableContent,p=l??c.delayDuration,y=v.useRef(!1),[x=!1,w]=Na({prop:r,defaultProp:s,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(LN))):c.onClose(),a==null||a(C)}}),j=v.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),b=v.useCallback(()=>{window.clearTimeout(m.current),y.current=!1,w(!0)},[w]),S=v.useCallback(()=>{window.clearTimeout(m.current),w(!1)},[w]),N=v.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,w(!0)},p)},[p,w]);return v.useEffect(()=>()=>window.clearTimeout(m.current),[]),i.jsx(aw,{...u,children:i.jsx(ade,{scope:t,contentId:h,open:x,stateAttribute:j,trigger:d,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?N():b()},[c.isOpenDelayed,N,b]),onTriggerLeave:v.useCallback(()=>{g?S():window.clearTimeout(m.current)},[S,g]),onOpen:b,onClose:S,disableHoverableContent:g,children:n})})};Fz.displayName=dw;var FN="TooltipTrigger",Bz=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=fw(FN,n),a=Yk(FN,n),o=uw(n),l=v.useRef(null),c=ze(t,l,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Vp,{asChild:!0,...o,children:i.jsx(Me.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ye(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ye(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ye(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ye(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ye(e.onBlur,s.onClose),onClick:ye(e.onClick,s.onClose)})})});Bz.displayName=FN;var ide="TooltipPortal",[IKe,ode]=cw(ide,{forceMount:void 0}),ld="TooltipContent",zz=v.forwardRef((e,t)=>{const n=ode(ld,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,o=fw(ld,e.__scopeTooltip);return i.jsx(Qn,{present:r||o.open,children:o.disableHoverableContent?i.jsx(Wz,{side:s,...a,ref:t}):i.jsx(lde,{side:s,...a,ref:t})})}),lde=v.forwardRef((e,t)=>{const n=fw(ld,e.__scopeTooltip),r=Yk(ld,e.__scopeTooltip),s=v.useRef(null),a=ze(t,s),[o,l]=v.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=v.useCallback(()=>{l(null),f(!1)},[f]),m=v.useCallback((g,p)=>{const y=g.currentTarget,x={x:g.clientX,y:g.clientY},w=fde(x,y.getBoundingClientRect()),j=hde(x,w),b=mde(p.getBoundingClientRect()),S=gde([...j,...b]);l(S),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&d){const g=y=>m(y,d),p=y=>m(y,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),v.useEffect(()=>{if(o){const g=p=>{const y=p.target,x={x:p.clientX,y:p.clientY},w=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),j=!pde(x,o);w?h():j&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),i.jsx(Wz,{...e,ref:a})}),[cde,ude]=cw(dw,{isInside:!1}),Wz=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=fw(ld,n),u=uw(n),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(LN,d),()=>document.removeEventListener(LN,d)),[d]),v.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Xd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(iw,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Dk,{children:r}),i.jsx(cde,{scope:n,isInside:!0,children:i.jsx(nde,{id:c.contentId,role:"tooltip",children:s||r})})]})})});zz.displayName=ld;var Vz="TooltipArrow",dde=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=uw(n);return ude(Vz,n).isInside?null:i.jsx(ow,{...s,...r,ref:t})});dde.displayName=Vz;function fde(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function hde(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function mde(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function pde(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function gde(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),vde(t)}function vde(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var yde=Lz,xde=Fz,wde=Bz,Uz=zz;const zy=yde,Wy=xde,Vy=wde,wm=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(Uz,{ref:r,sideOffset:t,className:ve("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));wm.displayName=Uz.displayName;const WI=[{name:"Dashboard",href:"/dashboard",icon:qoe},{name:"Inbox",href:"https://chat.suplelive.com.br/app/accounts/1/inbox/1",icon:Uoe,badge:3,target:"_blank"},{name:"Clientes",href:"/clients",icon:Fr},{name:"Pedidos",href:"/orders",icon:Bp},{name:"Estoque",href:"/estoque",icon:Tt},{name:"Campanhas",href:"/campaigns",icon:T6},{name:"Automao",href:"/automation",icon:jr},{name:"Integraes",href:"/integrations",icon:ds},{name:"Acompanhamento",href:"/tracking",icon:cc},{name:"Jobs & Logs",href:"/jobs",icon:w6},{name:"Configuraes",href:"/settings",icon:oc}];function bde(){var h,m,g,p;const[e,t]=v.useState(!1),[n,r]=v.useState(!1),[s,a]=v.useState(window.innerWidth<1024),o=ri(y=>y.signOut),{currentWorkspace:l}=je(),c=ol();v.useEffect(()=>{const y=()=>{a(window.innerWidth<1024),window.innerWidth>=1024&&t(!1)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const u=async()=>{try{await o()}catch(y){console.error("Error signing out:",y)}},d=n?"w-20":"w-72",f=({item:y,isCollapsed:x})=>{const w=c.pathname===y.href;return i.jsx(zy,{children:i.jsxs(Wy,{children:[i.jsx(Vy,{asChild:!0,children:i.jsxs(RT,{to:y.href,className:({isActive:j})=>ve("flex items-center gap-3 px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 mb-1",x?"justify-center":"justify-between",j?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),onClick:()=>t(!1),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(y.icon,{className:ve("h-5 w-5",w?"text-primary":"text-muted-foreground")}),i.jsx(El,{children:!x&&i.jsx(Nt.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2},className:"overflow-hidden whitespace-nowrap",children:y.name})})]}),y.badge&&!x&&i.jsx(fe,{variant:"default",className:"text-xs",children:y.badge}),y.badge&&x&&i.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-primary rounded-full"})]})}),x&&i.jsxs(wm,{side:"right",children:[i.jsx("p",{children:y.name}),y.badge&&i.jsx(fe,{variant:"default",className:"ml-2 text-xs",children:y.badge})]})]})})};return i.jsxs(i.Fragment,{children:[i.jsx(B,{variant:"outline",size:"icon",className:"lg:hidden fixed top-4 left-4 z-50 bg-background shadow-sm border",onClick:()=>t(!e),children:e?i.jsx($a,{className:"h-5 w-5"}):i.jsx(Qoe,{className:"h-5 w-5"})}),i.jsx(Nt.div,{animate:{width:n?80:288},transition:{duration:.3,ease:"easeInOut"},className:ve("hidden lg:flex lg:flex-col lg:fixed lg:inset-y-0 lg:z-30 border-r bg-background",d),children:i.jsxs("div",{className:"flex flex-col flex-grow h-full",children:[i.jsxs("div",{className:ve("flex flex-col",n?"px-3":"px-6","py-6"),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(El,{children:!n&&i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-primary",children:i.jsx(ds,{className:"h-5 w-5 text-primary-foreground"})}),i.jsx("h1",{className:"text-xl font-bold",children:"OmniCRM"})]})}),i.jsx(B,{variant:"ghost",size:"icon",onClick:()=>r(!n),className:"h-8 w-8 rounded-md hover:bg-muted",children:n?i.jsx(G0,{className:"h-4 w-4"}):i.jsx(H0,{className:"h-4 w-4"})})]}),i.jsx(El,{children:!n&&l&&i.jsxs(Nt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex items-center gap-2 mt-4 px-2 py-2 rounded-md bg-muted/50",children:[i.jsx(Du,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),i.jsx("span",{className:"text-sm font-medium truncate",children:l.name})]})})]}),i.jsx(El,{children:!n&&i.jsx(Nt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"px-6 mb-6",children:i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[i.jsx(Bi,{className:"h-9 w-9",children:i.jsx(zi,{className:"bg-primary/10 text-primary",children:((h=l==null?void 0:l.name)==null?void 0:h.charAt(0))||"U"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:(l==null?void 0:l.name)||"User"}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:((m=l==null?void 0:l.plan)==null?void 0:m.name)||"Free Plan"})]})]})})}),i.jsx(El,{children:!n&&i.jsx(Nt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"px-6 mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-10 pr-4 py-2 text-sm rounded-md bg-muted/50 border-0 focus:ring-2 focus:ring-primary/20 focus:outline-none"})]})})}),i.jsx("div",{className:ve("flex-1 overflow-y-auto",n?"px-3":"px-6"),children:i.jsx("nav",{className:"space-y-1",children:WI.map(y=>i.jsx(f,{item:y,isCollapsed:n},y.name))})}),i.jsx("div",{className:ve(n?"p-3":"p-6","mt-auto border-t"),children:i.jsxs("div",{className:"flex flex-col gap-3",children:[!n&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ak,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Notificaes"})]}),i.jsx(fe,{variant:"outline",className:"text-xs",children:"3"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[!n&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(j6,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Ajuda"})]}),i.jsx(zy,{children:i.jsxs(Wy,{children:[i.jsx(Vy,{asChild:!0,children:i.jsxs(B,{variant:"ghost",size:n?"icon":"sm",onClick:u,className:ve("text-muted-foreground hover:text-foreground",n?"w-full":""),children:[i.jsx(NI,{className:ve("h-4 w-4",n?"":"mr-2")}),!n&&"Sair"]})}),n&&i.jsx(wm,{side:"right",children:i.jsx("p",{children:"Sair"})})]})})]})]})})]})}),i.jsx(El,{children:e&&i.jsxs(i.Fragment,{children:[i.jsx(Nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"lg:hidden fixed inset-0 z-30 bg-black/50 backdrop-blur-sm",onClick:()=>t(!1)}),i.jsx(Nt.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:300},className:"lg:hidden fixed inset-y-0 left-0 z-40 w-72 bg-background shadow-xl",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-primary",children:i.jsx(ds,{className:"h-5 w-5 text-primary-foreground"})}),i.jsx("h1",{className:"text-xl font-bold",children:"OmniCRM"})]}),i.jsx(B,{variant:"ghost",size:"icon",onClick:()=>t(!1),children:i.jsx($a,{className:"h-5 w-5"})})]}),i.jsx("div",{className:"p-6 border-b",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Bi,{className:"h-10 w-10",children:i.jsx(zi,{className:"bg-primary/10 text-primary",children:((g=l==null?void 0:l.name)==null?void 0:g.charAt(0))||"U"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:(l==null?void 0:l.name)||"User"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:((p=l==null?void 0:l.plan)==null?void 0:p.name)||"Free Plan"})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsx("nav",{className:"space-y-1",children:WI.map(y=>i.jsxs(RT,{to:y.href,className:({isActive:x})=>ve("flex items-center gap-3 px-3 py-3 text-sm font-medium rounded-lg transition-colors",x?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),onClick:()=>t(!1),children:[i.jsx(y.icon,{className:"h-5 w-5"}),i.jsx("span",{children:y.name}),y.badge&&i.jsx(fe,{variant:"default",className:"ml-auto text-xs",children:y.badge})]},y.name))})}),i.jsx("div",{className:"p-6 border-t",children:i.jsxs(B,{variant:"outline",className:"w-full justify-start",onClick:u,children:[i.jsx(NI,{className:"mr-2 h-5 w-5"}),"Sair"]})})]})})]})}),i.jsx("div",{className:ve("hidden lg:block",d,"flex-shrink-0")})]})}var Gj=0;function hw(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??VI()),document.body.insertAdjacentElement("beforeend",e[1]??VI()),Gj++,()=>{Gj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Gj--}},[])}function VI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Kj="focusScope.autoFocusOnMount",Yj="focusScope.autoFocusOnUnmount",UI={bubbles:!1,cancelable:!0},jde="FocusScope",Up=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=v.useState(null),u=fn(s),d=fn(a),f=v.useRef(null),h=ze(t,p=>c(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let p=function(j){if(m.paused||!l)return;const b=j.target;l.contains(b)?f.current=b:uo(f.current,{select:!0})},y=function(j){if(m.paused||!l)return;const b=j.relatedTarget;b!==null&&(l.contains(b)||uo(f.current,{select:!0}))},x=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&uo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),w.disconnect()}}},[r,l,m.paused]),v.useEffect(()=>{if(l){HI.add(m);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(Kj,UI);l.addEventListener(Kj,u),l.dispatchEvent(x),x.defaultPrevented||(Sde(kde(qz(l)),{select:!0}),document.activeElement===p&&uo(l))}return()=>{l.removeEventListener(Kj,u),setTimeout(()=>{const x=new CustomEvent(Yj,UI);l.addEventListener(Yj,d),l.dispatchEvent(x),x.defaultPrevented||uo(p??document.body,{select:!0}),l.removeEventListener(Yj,d),HI.remove(m)},0)}}},[l,u,d,m]);const g=v.useCallback(p=>{if(!n&&!r||m.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const w=p.currentTarget,[j,b]=Nde(w);j&&b?!p.shiftKey&&x===b?(p.preventDefault(),n&&uo(j,{select:!0})):p.shiftKey&&x===j&&(p.preventDefault(),n&&uo(b,{select:!0})):x===w&&p.preventDefault()}},[n,r,m.paused]);return i.jsx(Me.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Up.displayName=jde;function Sde(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(uo(r,{select:t}),document.activeElement!==n)return}function Nde(e){const t=qz(e),n=qI(t,e),r=qI(t.reverse(),e);return[n,r]}function qz(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function qI(e,t){for(const n of e)if(!_de(n,{upTo:t}))return n}function _de(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Cde(e){return e instanceof HTMLInputElement&&"select"in e}function uo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Cde(e)&&t&&e.select()}}var HI=Ede();function Ede(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=GI(e,t),e.unshift(t)},remove(t){var n;e=GI(e,t),(n=e[0])==null||n.resume()}}}function GI(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function kde(e){return e.filter(t=>t.tagName!=="A")}var Ade=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zc=new WeakMap,Ug=new WeakMap,qg={},Xj=0,Hz=function(e){return e&&(e.host||Hz(e.parentNode))},Pde=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Hz(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Tde=function(e,t,n,r){var s=Pde(t,Array.isArray(e)?e:[e]);qg[n]||(qg[n]=new WeakMap);var a=qg[n],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(r),g=m!==null&&m!=="false",p=(zc.get(h)||0)+1,y=(a.get(h)||0)+1;zc.set(h,p),a.set(h,y),o.push(h),p===1&&g&&Ug.set(h,!0),y===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),Xj++,function(){o.forEach(function(f){var h=zc.get(f)-1,m=a.get(f)-1;zc.set(f,h),a.set(f,m),h||(Ug.has(f)||f.removeAttribute(r),Ug.delete(f)),m||f.removeAttribute(n)}),Xj--,Xj||(zc=new WeakMap,zc=new WeakMap,Ug=new WeakMap,qg={})}},qp=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=Ade(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Tde(r,s,n,"aria-hidden")):function(){return null}},dr=function(){return dr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},dr.apply(this,arguments)};function Xk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Gz(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Oh="right-scroll-bar-position",Ih="width-before-scroll-bar",Ode="with-scroll-bars-hidden",Ide="--removed-body-scroll-bar-size";function Jj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Dde(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var Mde=typeof window<"u"?v.useLayoutEffect:v.useEffect,KI=new WeakMap;function Kz(e,t){var n=Dde(null,function(r){return e.forEach(function(s){return Jj(s,r)})});return Mde(function(){var r=KI.get(n);if(r){var s=new Set(r),a=new Set(e),o=n.current;s.forEach(function(l){a.has(l)||Jj(l,null)}),a.forEach(function(l){s.has(l)||Jj(l,o)})}KI.set(n,e)},[e]),n}function Rde(e){return e}function $de(e,t){t===void 0&&(t=Rde);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function Yz(e){e===void 0&&(e={});var t=$de(null);return t.options=dr({async:!0,ssr:!1},e),t}var Xz=function(e){var t=e.sideCar,n=Xk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,dr({},n))};Xz.isSideCarExport=!0;function Jz(e,t){return e.useMedium(t),Xz}var Qz=Yz(),Qj=function(){},mw=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:Qj,onWheelCapture:Qj,onTouchMoveCapture:Qj}),s=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,g=e.inert,p=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,w=e.gapMode,j=Xk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,S=Kz([n,t]),N=dr(dr({},j),s);return v.createElement(v.Fragment,null,d&&v.createElement(b,{sideCar:Qz,removeScrollBar:u,shards:f,noIsolation:m,inert:g,setCallbacks:a,allowPinchZoom:!!p,lockRef:n,gapMode:w}),o?v.cloneElement(v.Children.only(l),dr(dr({},N),{ref:S})):v.createElement(x,dr({},N,{className:c,ref:S}),l))});mw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mw.classNames={fullWidth:Ih,zeroRight:Oh};var Lde=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Fde(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Lde();return t&&e.setAttribute("nonce",t),e}function Bde(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zde(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Wde=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Fde())&&(Bde(t,n),zde(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Vde=function(){var e=Wde();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Jk=function(){var e=Vde(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Ude={left:0,top:0,right:0,gap:0},Zj=function(e){return parseInt(e||"",10)||0},qde=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Zj(n),Zj(r),Zj(s)]},Hde=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ude;var t=qde(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Gde=Jk(),Fu="data-scroll-locked",Kde=function(e,t,n,r){var s=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ode,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Fu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oh,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ih,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Oh," .").concat(Oh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ih," .").concat(Ih,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fu,`] {
    `).concat(Ide,": ").concat(l,`px;
  }
`)},YI=function(){var e=parseInt(document.body.getAttribute(Fu)||"0",10);return isFinite(e)?e:0},Yde=function(){v.useEffect(function(){return document.body.setAttribute(Fu,(YI()+1).toString()),function(){var e=YI()-1;e<=0?document.body.removeAttribute(Fu):document.body.setAttribute(Fu,e.toString())}},[])},Zz=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;Yde();var a=v.useMemo(function(){return Hde(s)},[s]);return v.createElement(Gde,{styles:Kde(a,!t,s,n?"":"!important")})},BN=!1;if(typeof window<"u")try{var Hg=Object.defineProperty({},"passive",{get:function(){return BN=!0,!0}});window.addEventListener("test",Hg,Hg),window.removeEventListener("test",Hg,Hg)}catch{BN=!1}var Wc=BN?{passive:!1}:!1,Xde=function(e){return e.tagName==="TEXTAREA"},e8=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Xde(e)&&n[t]==="visible")},Jde=function(e){return e8(e,"overflowY")},Qde=function(e){return e8(e,"overflowX")},XI=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=t8(e,r);if(s){var a=n8(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Zde=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},efe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},t8=function(e,t){return e==="v"?Jde(t):Qde(t)},n8=function(e,t){return e==="v"?Zde(t):efe(t)},tfe=function(e,t){return e==="h"&&t==="rtl"?-1:1},nfe=function(e,t,n,r,s){var a=tfe(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var m=n8(e,l),g=m[0],p=m[1],y=m[2],x=p-y-a*g;(g||x)&&t8(e,l)&&(f+=x,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Gg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},JI=function(e){return[e.deltaX,e.deltaY]},QI=function(e){return e&&"current"in e?e.current:e},rfe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sfe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},afe=0,Vc=[];function ife(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(afe++)[0],a=v.useState(Jk)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=Gz([e.lockRef.current],(e.shards||[]).map(QI),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=Gg(p),w=n.current,j="deltaX"in p?p.deltaX:w[0]-x[0],b="deltaY"in p?p.deltaY:w[1]-x[1],S,N=p.target,C=Math.abs(j)>Math.abs(b)?"h":"v";if("touches"in p&&C==="h"&&N.type==="range")return!1;var _=XI(C,N);if(!_)return!0;if(_?S=C:(S=C==="v"?"h":"v",_=XI(C,N)),!_)return!1;if(!r.current&&"changedTouches"in p&&(j||b)&&(r.current=S),!S)return!0;var k=r.current||S;return nfe(k,y,p,k==="h"?j:b,!0)},[]),c=v.useCallback(function(p){var y=p;if(!(!Vc.length||Vc[Vc.length-1]!==a)){var x="deltaY"in y?JI(y):Gg(y),w=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&rfe(S.delta,x)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var j=(o.current.shards||[]).map(QI).filter(Boolean).filter(function(S){return S.contains(y.target)}),b=j.length>0?l(y,j[0]):!o.current.noIsolation;b&&y.cancelable&&y.preventDefault()}}},[]),u=v.useCallback(function(p,y,x,w){var j={name:p,delta:y,target:x,should:w,shadowParent:ofe(x)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(b){return b!==j})},1)},[]),d=v.useCallback(function(p){n.current=Gg(p),r.current=void 0},[]),f=v.useCallback(function(p){u(p.type,JI(p),p.target,l(p,e.lockRef.current))},[]),h=v.useCallback(function(p){u(p.type,Gg(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Vc.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Wc),document.addEventListener("touchmove",c,Wc),document.addEventListener("touchstart",d,Wc),function(){Vc=Vc.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Wc),document.removeEventListener("touchmove",c,Wc),document.removeEventListener("touchstart",d,Wc)}},[]);var m=e.removeScrollBar,g=e.inert;return v.createElement(v.Fragment,null,g?v.createElement(a,{styles:sfe(s)}):null,m?v.createElement(Zz,{gapMode:e.gapMode}):null)}function ofe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lfe=Jz(Qz,ife);var Hp=v.forwardRef(function(e,t){return v.createElement(mw,dr({},e,{ref:t,sideCar:lfe}))});Hp.classNames=mw.classNames;var zN=["Enter"," "],cfe=["ArrowDown","PageUp","Home"],r8=["ArrowUp","PageDown","End"],ufe=[...cfe,...r8],dfe={ltr:[...zN,"ArrowRight"],rtl:[...zN,"ArrowLeft"]},ffe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gp="Menu",[bm,hfe,mfe]=Q0(Gp),[kc,s8]=js(Gp,[mfe,ul,ew]),pw=ul(),a8=ew(),[pfe,Ac]=kc(Gp),[gfe,Kp]=kc(Gp),i8=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:o=!0}=e,l=pw(t),[c,u]=v.useState(null),d=v.useRef(!1),f=fn(a),h=Yd(s);return v.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(aw,{...l,children:i.jsx(pfe,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(gfe,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};i8.displayName=Gp;var vfe="MenuAnchor",Qk=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=pw(n);return i.jsx(Vp,{...s,...r,ref:t})});Qk.displayName=vfe;var Zk="MenuPortal",[yfe,o8]=kc(Zk,{forceMount:void 0}),l8=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=Ac(Zk,t);return i.jsx(yfe,{scope:t,forceMount:n,children:i.jsx(Qn,{present:n||a.open,children:i.jsx(lw,{asChild:!0,container:s,children:r})})})};l8.displayName=Zk;var Vs="MenuContent",[xfe,eA]=kc(Vs),c8=v.forwardRef((e,t)=>{const n=o8(Vs,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Ac(Vs,e.__scopeMenu),o=Kp(Vs,e.__scopeMenu);return i.jsx(bm.Provider,{scope:e.__scopeMenu,children:i.jsx(Qn,{present:r||a.open,children:i.jsx(bm.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(wfe,{...s,ref:t}):i.jsx(bfe,{...s,ref:t})})})})}),wfe=v.forwardRef((e,t)=>{const n=Ac(Vs,e.__scopeMenu),r=v.useRef(null),s=ze(t,r);return v.useEffect(()=>{const a=r.current;if(a)return qp(a)},[]),i.jsx(tA,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ye(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),bfe=v.forwardRef((e,t)=>{const n=Ac(Vs,e.__scopeMenu);return i.jsx(tA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),tA=v.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,y=Ac(Vs,n),x=Kp(Vs,n),w=pw(n),j=a8(n),b=hfe(n),[S,N]=v.useState(null),C=v.useRef(null),_=ze(t,C,y.onContentChange),k=v.useRef(0),P=v.useRef(""),A=v.useRef(0),I=v.useRef(null),L=v.useRef("right"),E=v.useRef(0),R=g?Hp:v.Fragment,O=g?{as:Fi,allowPinchZoom:!0}:void 0,F=M=>{var X,ee;const $=P.current+M,z=b().filter(Z=>!Z.disabled),W=document.activeElement,H=(X=z.find(Z=>Z.ref.current===W))==null?void 0:X.textValue,V=z.map(Z=>Z.textValue),te=Ife(V,$,H),ne=(ee=z.find(Z=>Z.textValue===te))==null?void 0:ee.ref.current;(function Z(ae){P.current=ae,window.clearTimeout(k.current),ae!==""&&(k.current=window.setTimeout(()=>Z(""),1e3))})($),ne&&setTimeout(()=>ne.focus())};v.useEffect(()=>()=>window.clearTimeout(k.current),[]),hw();const D=v.useCallback(M=>{var z,W;return L.current===((z=I.current)==null?void 0:z.side)&&Mfe(M,(W=I.current)==null?void 0:W.area)},[]);return i.jsx(xfe,{scope:n,searchRef:P,onItemEnter:v.useCallback(M=>{D(M)&&M.preventDefault()},[D]),onItemLeave:v.useCallback(M=>{var $;D(M)||(($=C.current)==null||$.focus(),N(null))},[D]),onTriggerLeave:v.useCallback(M=>{D(M)&&M.preventDefault()},[D]),pointerGraceTimerRef:A,onPointerGraceIntentChange:v.useCallback(M=>{I.current=M},[]),children:i.jsx(R,{...O,children:i.jsx(Up,{asChild:!0,trapped:s,onMountAutoFocus:ye(a,M=>{var $;M.preventDefault(),($=C.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Xd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(G6,{asChild:!0,...j,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:ye(c,M=>{x.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(iw,{role:"menu","aria-orientation":"vertical","data-state":_8(y.open),"data-radix-menu-content":"",dir:x.dir,...w,...p,ref:_,style:{outline:"none",...p.style},onKeyDown:ye(p.onKeyDown,M=>{const z=M.target.closest("[data-radix-menu-content]")===M.currentTarget,W=M.ctrlKey||M.altKey||M.metaKey,H=M.key.length===1;z&&(M.key==="Tab"&&M.preventDefault(),!W&&H&&F(M.key));const V=C.current;if(M.target!==V||!ufe.includes(M.key))return;M.preventDefault();const ne=b().filter(X=>!X.disabled).map(X=>X.ref.current);r8.includes(M.key)&&ne.reverse(),Tfe(ne)}),onBlur:ye(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(k.current),P.current="")}),onPointerMove:ye(e.onPointerMove,jm(M=>{const $=M.target,z=E.current!==M.clientX;if(M.currentTarget.contains($)&&z){const W=M.clientX>E.current?"right":"left";L.current=W,E.current=M.clientX}}))})})})})})})});c8.displayName=Vs;var jfe="MenuGroup",nA=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Me.div,{role:"group",...r,ref:t})});nA.displayName=jfe;var Sfe="MenuLabel",u8=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Me.div,{...r,ref:t})});u8.displayName=Sfe;var Uy="MenuItem",ZI="menu.itemSelect",gw=v.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=v.useRef(null),o=Kp(Uy,e.__scopeMenu),l=eA(Uy,e.__scopeMenu),c=ze(t,a),u=v.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const h=new CustomEvent(ZI,{bubbles:!0,cancelable:!0});f.addEventListener(ZI,m=>r==null?void 0:r(m),{once:!0}),F6(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(d8,{...s,ref:c,disabled:n,onClick:ye(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:ye(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ye(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||zN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});gw.displayName=Uy;var d8=v.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,o=eA(Uy,n),l=a8(n),c=v.useRef(null),u=ze(t,c),[d,f]=v.useState(!1),[h,m]=v.useState("");return v.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[a.children]),i.jsx(bm.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:i.jsx(K6,{asChild:!0,...l,focusable:!r,children:i.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:ye(e.onPointerMove,jm(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(e.onPointerLeave,jm(g=>o.onItemLeave(g))),onFocus:ye(e.onFocus,()=>f(!0)),onBlur:ye(e.onBlur,()=>f(!1))})})})}),Nfe="MenuCheckboxItem",f8=v.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return i.jsx(v8,{scope:e.__scopeMenu,checked:n,children:i.jsx(gw,{role:"menuitemcheckbox","aria-checked":qy(n)?"mixed":n,...s,ref:t,"data-state":sA(n),onSelect:ye(s.onSelect,()=>r==null?void 0:r(qy(n)?!0:!n),{checkForDefaultPrevented:!1})})})});f8.displayName=Nfe;var h8="MenuRadioGroup",[_fe,Cfe]=kc(h8,{value:void 0,onValueChange:()=>{}}),m8=v.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=fn(r);return i.jsx(_fe,{scope:e.__scopeMenu,value:n,onValueChange:a,children:i.jsx(nA,{...s,ref:t})})});m8.displayName=h8;var p8="MenuRadioItem",g8=v.forwardRef((e,t)=>{const{value:n,...r}=e,s=Cfe(p8,e.__scopeMenu),a=n===s.value;return i.jsx(v8,{scope:e.__scopeMenu,checked:a,children:i.jsx(gw,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":sA(a),onSelect:ye(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});g8.displayName=p8;var rA="MenuItemIndicator",[v8,Efe]=kc(rA,{checked:!1}),y8=v.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=Efe(rA,n);return i.jsx(Qn,{present:r||qy(a.checked)||a.checked===!0,children:i.jsx(Me.span,{...s,ref:t,"data-state":sA(a.checked)})})});y8.displayName=rA;var kfe="MenuSeparator",x8=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});x8.displayName=kfe;var Afe="MenuArrow",w8=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=pw(n);return i.jsx(ow,{...s,...r,ref:t})});w8.displayName=Afe;var Pfe="MenuSub",[DKe,b8]=kc(Pfe),sh="MenuSubTrigger",j8=v.forwardRef((e,t)=>{const n=Ac(sh,e.__scopeMenu),r=Kp(sh,e.__scopeMenu),s=b8(sh,e.__scopeMenu),a=eA(sh,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(Qk,{asChild:!0,...u,children:i.jsx(d8,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":_8(n.open),...e,ref:X0(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ye(e.onPointerMove,jm(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ye(e.onPointerLeave,jm(f=>{var m,g;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=n.content)==null?void 0:g.dataset.side,y=p==="right",x=y?-5:5,w=h[y?"left":"right"],j=h[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:w,y:h.top},{x:j,y:h.top},{x:j,y:h.bottom},{x:w,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ye(e.onKeyDown,f=>{var m;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||dfe[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});j8.displayName=sh;var S8="MenuSubContent",N8=v.forwardRef((e,t)=>{const n=o8(Vs,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Ac(Vs,e.__scopeMenu),o=Kp(Vs,e.__scopeMenu),l=b8(S8,e.__scopeMenu),c=v.useRef(null),u=ze(t,c);return i.jsx(bm.Provider,{scope:e.__scopeMenu,children:i.jsx(Qn,{present:r||a.open,children:i.jsx(bm.Slot,{scope:e.__scopeMenu,children:i.jsx(tA,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ye(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ye(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ye(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=ffe[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});N8.displayName=S8;function _8(e){return e?"open":"closed"}function qy(e){return e==="indeterminate"}function sA(e){return qy(e)?"indeterminate":e?"checked":"unchecked"}function Tfe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Ofe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Ife(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Ofe(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Dfe(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function Mfe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Dfe(n,t)}function jm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Rfe=i8,$fe=Qk,Lfe=l8,Ffe=c8,Bfe=nA,zfe=u8,Wfe=gw,Vfe=f8,Ufe=m8,qfe=g8,Hfe=y8,Gfe=x8,Kfe=w8,Yfe=j8,Xfe=N8,aA="DropdownMenu",[Jfe,MKe]=js(aA,[s8]),Tr=s8(),[Qfe,C8]=Jfe(aA),E8=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Tr(t),u=v.useRef(null),[d=!1,f]=Na({prop:s,defaultProp:a,onChange:o});return i.jsx(Qfe,{scope:t,triggerId:Ws(),triggerRef:u,contentId:Ws(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(Rfe,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};E8.displayName=aA;var k8="DropdownMenuTrigger",A8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=C8(k8,n),o=Tr(n);return i.jsx($fe,{asChild:!0,...o,children:i.jsx(Me.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:X0(t,a.triggerRef),onPointerDown:ye(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:ye(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});A8.displayName=k8;var Zfe="DropdownMenuPortal",P8=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Tr(t);return i.jsx(Lfe,{...r,...n})};P8.displayName=Zfe;var T8="DropdownMenuContent",O8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=C8(T8,n),a=Tr(n),o=v.useRef(!1);return i.jsx(Ffe,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:ye(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ye(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});O8.displayName=T8;var ehe="DropdownMenuGroup",the=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Bfe,{...s,...r,ref:t})});the.displayName=ehe;var nhe="DropdownMenuLabel",I8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(zfe,{...s,...r,ref:t})});I8.displayName=nhe;var rhe="DropdownMenuItem",D8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Wfe,{...s,...r,ref:t})});D8.displayName=rhe;var she="DropdownMenuCheckboxItem",M8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Vfe,{...s,...r,ref:t})});M8.displayName=she;var ahe="DropdownMenuRadioGroup",ihe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Ufe,{...s,...r,ref:t})});ihe.displayName=ahe;var ohe="DropdownMenuRadioItem",R8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(qfe,{...s,...r,ref:t})});R8.displayName=ohe;var lhe="DropdownMenuItemIndicator",$8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Hfe,{...s,...r,ref:t})});$8.displayName=lhe;var che="DropdownMenuSeparator",L8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Gfe,{...s,...r,ref:t})});L8.displayName=che;var uhe="DropdownMenuArrow",dhe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Kfe,{...s,...r,ref:t})});dhe.displayName=uhe;var fhe="DropdownMenuSubTrigger",F8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Yfe,{...s,...r,ref:t})});F8.displayName=fhe;var hhe="DropdownMenuSubContent",B8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Xfe,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});B8.displayName=hhe;var mhe=E8,phe=A8,ghe=P8,z8=O8,W8=I8,V8=D8,U8=M8,q8=R8,H8=$8,G8=L8,K8=F8,Y8=B8;function vw(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var vhe=["color"],X8=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=vw(e,vhe);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),v.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),yhe=["color"],xhe=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=vw(e,yhe);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),v.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),whe=["color"],bhe=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=vw(e,whe);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),v.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),jhe=["color"],She=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=vw(e,jhe);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),v.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))});const Qa=mhe,Za=phe,Nhe=v.forwardRef(({className:e,inset:t,children:n,...r},s)=>i.jsxs(K8,{ref:s,className:ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,i.jsx(xhe,{className:"ml-auto h-4 w-4"})]}));Nhe.displayName=K8.displayName;const _he=v.forwardRef(({className:e,...t},n)=>i.jsx(Y8,{ref:n,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));_he.displayName=Y8.displayName;const Ea=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(ghe,{children:i.jsx(z8,{ref:r,sideOffset:t,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Ea.displayName=z8.displayName;const at=v.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(V8,{ref:r,className:ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));at.displayName=V8.displayName;const Che=v.forwardRef(({className:e,children:t,checked:n,...r},s)=>i.jsxs(U8,{ref:s,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(H8,{children:i.jsx(X8,{className:"h-4 w-4"})})}),t]}));Che.displayName=U8.displayName;const Ehe=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(q8,{ref:r,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(H8,{children:i.jsx(She,{className:"h-4 w-4 fill-current"})})}),t]}));Ehe.displayName=q8.displayName;const J8=v.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(W8,{ref:r,className:ve("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));J8.displayName=W8.displayName;const WN=v.forwardRef(({className:e,...t},n)=>i.jsx(G8,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));WN.displayName=G8.displayName;function khe(){var o,l,c;const[e,t]=v.useState(""),{user:n,signOut:r}=ri(),{currentWorkspace:s}=je(),a=async()=>{try{await r()}catch(u){console.error("Error signing out:",u)}};return i.jsxs("div",{className:"h-16 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 z-20 flex items-center justify-between px-6",children:[i.jsxs("div",{className:"relative w-full max-w-md hidden md:block",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(ie,{type:"search",placeholder:"Buscar clientes, pedidos, conversas...",className:"pl-10 bg-muted/40 border-none focus-visible:ring-1",value:e,onChange:u=>t(u.target.value)})]}),i.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[i.jsx(B,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(j6,{className:"h-5 w-5"})}),i.jsxs(B,{variant:"ghost",size:"icon",className:"text-muted-foreground relative",children:[i.jsx(Ak,{className:"h-5 w-5"}),i.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-primary rounded-full"})]}),i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsxs(B,{variant:"ghost",className:"gap-2",children:[i.jsx(Bi,{className:"h-8 w-8",children:i.jsx(zi,{className:"bg-primary/10 text-primary text-sm",children:((o=n==null?void 0:n.email)==null?void 0:o.charAt(0).toUpperCase())||"U"})}),i.jsxs("div",{className:"hidden md:block text-left",children:[i.jsx("p",{className:"text-sm font-medium",children:((l=n==null?void 0:n.email)==null?void 0:l.split("@")[0])||"User"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:((c=s==null?void 0:s.plan)==null?void 0:c.name)||"Free Plan"})]}),i.jsx(Pk,{className:"h-4 w-4 text-muted-foreground hidden md:block"})]})}),i.jsxs(Ea,{align:"end",className:"w-56",children:[i.jsx(J8,{children:"Minha Conta"}),i.jsx(WN,{}),i.jsxs(at,{children:[i.jsx(Ga,{className:"mr-2 h-4 w-4"}),"Perfil"]}),i.jsxs(at,{children:[i.jsx(oc,{className:"mr-2 h-4 w-4"}),"Configuraes"]}),i.jsx(WN,{}),i.jsx(at,{onClick:a,children:"Sair"})]})]})]})]})}function kr({children:e}){return i.jsxs("div",{className:"min-h-screen bg-background flex",children:[i.jsx(bde,{}),i.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[i.jsx(khe,{}),i.jsx("main",{className:"flex-1 w-full p-0",children:i.jsx("div",{className:"p-6 w-full h-full max-w-[1600px] mx-auto",children:e})})]})]})}function Ahe({title:e,value:t,icon:n,trend:r,index:s,className:a,valueClassName:o,iconClassName:l}){return i.jsx(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1},children:i.jsx(re,{className:ve("hover:shadow-md transition-all duration-300",a),children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),i.jsx("p",{className:ve("text-2xl font-bold",o),children:t}),r&&i.jsxs("p",{className:ve("text-xs flex items-center gap-1",r.isPositive?"text-green-600":"text-red-600"),children:[i.jsx("span",{className:ve("inline-block",r.isPositive?"border-l border-b rotate-45":"border-l border-t -rotate-45"),style:{width:"6px",height:"6px"}}),r.isPositive?"+":"",r.value,"% desde o ms passado"]})]}),i.jsx("div",{className:ve("flex items-center justify-center w-12 h-12 rounded-full bg-primary/10",l),children:i.jsx(n,{className:"h-6 w-6 text-primary"})})]})})})})}var Phe=Array.isArray,Yr=Phe,The=typeof fr=="object"&&fr&&fr.Object===Object&&fr,Q8=The,Ohe=Q8,Ihe=typeof self=="object"&&self&&self.Object===Object&&self,Dhe=Ohe||Ihe||Function("return this")(),ai=Dhe,Mhe=ai,Rhe=Mhe.Symbol,Yp=Rhe,eD=Yp,Z8=Object.prototype,$he=Z8.hasOwnProperty,Lhe=Z8.toString,Of=eD?eD.toStringTag:void 0;function Fhe(e){var t=$he.call(e,Of),n=e[Of];try{e[Of]=void 0;var r=!0}catch{}var s=Lhe.call(e);return r&&(t?e[Of]=n:delete e[Of]),s}var Bhe=Fhe,zhe=Object.prototype,Whe=zhe.toString;function Vhe(e){return Whe.call(e)}var Uhe=Vhe,tD=Yp,qhe=Bhe,Hhe=Uhe,Ghe="[object Null]",Khe="[object Undefined]",nD=tD?tD.toStringTag:void 0;function Yhe(e){return e==null?e===void 0?Khe:Ghe:nD&&nD in Object(e)?qhe(e):Hhe(e)}var Ji=Yhe;function Xhe(e){return e!=null&&typeof e=="object"}var Qi=Xhe,Jhe=Ji,Qhe=Qi,Zhe="[object Symbol]";function eme(e){return typeof e=="symbol"||Qhe(e)&&Jhe(e)==Zhe}var Zd=eme,tme=Yr,nme=Zd,rme=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sme=/^\w*$/;function ame(e,t){if(tme(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||nme(e)?!0:sme.test(e)||!rme.test(e)||t!=null&&e in Object(t)}var iA=ame;function ime(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var dl=ime;const ef=mt(dl);var ome=Ji,lme=dl,cme="[object AsyncFunction]",ume="[object Function]",dme="[object GeneratorFunction]",fme="[object Proxy]";function hme(e){if(!lme(e))return!1;var t=ome(e);return t==ume||t==dme||t==cme||t==fme}var oA=hme;const We=mt(oA);var mme=ai,pme=mme["__core-js_shared__"],gme=pme,e1=gme,rD=function(){var e=/[^.]+$/.exec(e1&&e1.keys&&e1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function vme(e){return!!rD&&rD in e}var yme=vme,xme=Function.prototype,wme=xme.toString;function bme(e){if(e!=null){try{return wme.call(e)}catch{}try{return e+""}catch{}}return""}var eW=bme,jme=oA,Sme=yme,Nme=dl,_me=eW,Cme=/[\\^$.*+?()[\]{}|]/g,Eme=/^\[object .+?Constructor\]$/,kme=Function.prototype,Ame=Object.prototype,Pme=kme.toString,Tme=Ame.hasOwnProperty,Ome=RegExp("^"+Pme.call(Tme).replace(Cme,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ime(e){if(!Nme(e)||Sme(e))return!1;var t=jme(e)?Ome:Eme;return t.test(_me(e))}var Dme=Ime;function Mme(e,t){return e==null?void 0:e[t]}var Rme=Mme,$me=Dme,Lme=Rme;function Fme(e,t){var n=Lme(e,t);return $me(n)?n:void 0}var Pc=Fme,Bme=Pc,zme=Bme(Object,"create"),yw=zme,sD=yw;function Wme(){this.__data__=sD?sD(null):{},this.size=0}var Vme=Wme;function Ume(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qme=Ume,Hme=yw,Gme="__lodash_hash_undefined__",Kme=Object.prototype,Yme=Kme.hasOwnProperty;function Xme(e){var t=this.__data__;if(Hme){var n=t[e];return n===Gme?void 0:n}return Yme.call(t,e)?t[e]:void 0}var Jme=Xme,Qme=yw,Zme=Object.prototype,epe=Zme.hasOwnProperty;function tpe(e){var t=this.__data__;return Qme?t[e]!==void 0:epe.call(t,e)}var npe=tpe,rpe=yw,spe="__lodash_hash_undefined__";function ape(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=rpe&&t===void 0?spe:t,this}var ipe=ape,ope=Vme,lpe=qme,cpe=Jme,upe=npe,dpe=ipe;function tf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}tf.prototype.clear=ope;tf.prototype.delete=lpe;tf.prototype.get=cpe;tf.prototype.has=upe;tf.prototype.set=dpe;var fpe=tf;function hpe(){this.__data__=[],this.size=0}var mpe=hpe;function ppe(e,t){return e===t||e!==e&&t!==t}var lA=ppe,gpe=lA;function vpe(e,t){for(var n=e.length;n--;)if(gpe(e[n][0],t))return n;return-1}var xw=vpe,ype=xw,xpe=Array.prototype,wpe=xpe.splice;function bpe(e){var t=this.__data__,n=ype(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():wpe.call(t,n,1),--this.size,!0}var jpe=bpe,Spe=xw;function Npe(e){var t=this.__data__,n=Spe(t,e);return n<0?void 0:t[n][1]}var _pe=Npe,Cpe=xw;function Epe(e){return Cpe(this.__data__,e)>-1}var kpe=Epe,Ape=xw;function Ppe(e,t){var n=this.__data__,r=Ape(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Tpe=Ppe,Ope=mpe,Ipe=jpe,Dpe=_pe,Mpe=kpe,Rpe=Tpe;function nf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}nf.prototype.clear=Ope;nf.prototype.delete=Ipe;nf.prototype.get=Dpe;nf.prototype.has=Mpe;nf.prototype.set=Rpe;var ww=nf,$pe=Pc,Lpe=ai,Fpe=$pe(Lpe,"Map"),cA=Fpe,aD=fpe,Bpe=ww,zpe=cA;function Wpe(){this.size=0,this.__data__={hash:new aD,map:new(zpe||Bpe),string:new aD}}var Vpe=Wpe;function Upe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var qpe=Upe,Hpe=qpe;function Gpe(e,t){var n=e.__data__;return Hpe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var bw=Gpe,Kpe=bw;function Ype(e){var t=Kpe(this,e).delete(e);return this.size-=t?1:0,t}var Xpe=Ype,Jpe=bw;function Qpe(e){return Jpe(this,e).get(e)}var Zpe=Qpe,ege=bw;function tge(e){return ege(this,e).has(e)}var nge=tge,rge=bw;function sge(e,t){var n=rge(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var age=sge,ige=Vpe,oge=Xpe,lge=Zpe,cge=nge,uge=age;function rf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}rf.prototype.clear=ige;rf.prototype.delete=oge;rf.prototype.get=lge;rf.prototype.has=cge;rf.prototype.set=uge;var uA=rf,tW=uA,dge="Expected a function";function dA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(dge);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],a=n.cache;if(a.has(s))return a.get(s);var o=e.apply(this,r);return n.cache=a.set(s,o)||a,o};return n.cache=new(dA.Cache||tW),n}dA.Cache=tW;var nW=dA;const fge=mt(nW);var hge=nW,mge=500;function pge(e){var t=hge(e,function(r){return n.size===mge&&n.clear(),r}),n=t.cache;return t}var gge=pge,vge=gge,yge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xge=/\\(\\)?/g,wge=vge(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yge,function(n,r,s,a){t.push(s?a.replace(xge,"$1"):r||n)}),t}),bge=wge;function jge(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var fA=jge,iD=Yp,Sge=fA,Nge=Yr,_ge=Zd,Cge=1/0,oD=iD?iD.prototype:void 0,lD=oD?oD.toString:void 0;function rW(e){if(typeof e=="string")return e;if(Nge(e))return Sge(e,rW)+"";if(_ge(e))return lD?lD.call(e):"";var t=e+"";return t=="0"&&1/e==-Cge?"-0":t}var Ege=rW,kge=Ege;function Age(e){return e==null?"":kge(e)}var sW=Age,Pge=Yr,Tge=iA,Oge=bge,Ige=sW;function Dge(e,t){return Pge(e)?e:Tge(e,t)?[e]:Oge(Ige(e))}var aW=Dge,Mge=Zd,Rge=1/0;function $ge(e){if(typeof e=="string"||Mge(e))return e;var t=e+"";return t=="0"&&1/e==-Rge?"-0":t}var jw=$ge,Lge=aW,Fge=jw;function Bge(e,t){t=Lge(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Fge(t[n++])];return n&&n==r?e:void 0}var hA=Bge,zge=hA;function Wge(e,t,n){var r=e==null?void 0:zge(e,t);return r===void 0?n:r}var iW=Wge;const hs=mt(iW);function Vge(e){return e==null}var Uge=Vge;const Ue=mt(Uge);var qge=Ji,Hge=Yr,Gge=Qi,Kge="[object String]";function Yge(e){return typeof e=="string"||!Hge(e)&&Gge(e)&&qge(e)==Kge}var Xge=Yge;const Xp=mt(Xge);var oW={exports:{}},bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ln=typeof Symbol=="function"&&Symbol.for,mA=Ln?Symbol.for("react.element"):60103,pA=Ln?Symbol.for("react.portal"):60106,Sw=Ln?Symbol.for("react.fragment"):60107,Nw=Ln?Symbol.for("react.strict_mode"):60108,_w=Ln?Symbol.for("react.profiler"):60114,Cw=Ln?Symbol.for("react.provider"):60109,Ew=Ln?Symbol.for("react.context"):60110,gA=Ln?Symbol.for("react.async_mode"):60111,kw=Ln?Symbol.for("react.concurrent_mode"):60111,Aw=Ln?Symbol.for("react.forward_ref"):60112,Pw=Ln?Symbol.for("react.suspense"):60113,Jge=Ln?Symbol.for("react.suspense_list"):60120,Tw=Ln?Symbol.for("react.memo"):60115,Ow=Ln?Symbol.for("react.lazy"):60116,Qge=Ln?Symbol.for("react.block"):60121,Zge=Ln?Symbol.for("react.fundamental"):60117,eve=Ln?Symbol.for("react.responder"):60118,tve=Ln?Symbol.for("react.scope"):60119;function Ss(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case mA:switch(e=e.type,e){case gA:case kw:case Sw:case _w:case Nw:case Pw:return e;default:switch(e=e&&e.$$typeof,e){case Ew:case Aw:case Ow:case Tw:case Cw:return e;default:return t}}case pA:return t}}}function lW(e){return Ss(e)===kw}bt.AsyncMode=gA;bt.ConcurrentMode=kw;bt.ContextConsumer=Ew;bt.ContextProvider=Cw;bt.Element=mA;bt.ForwardRef=Aw;bt.Fragment=Sw;bt.Lazy=Ow;bt.Memo=Tw;bt.Portal=pA;bt.Profiler=_w;bt.StrictMode=Nw;bt.Suspense=Pw;bt.isAsyncMode=function(e){return lW(e)||Ss(e)===gA};bt.isConcurrentMode=lW;bt.isContextConsumer=function(e){return Ss(e)===Ew};bt.isContextProvider=function(e){return Ss(e)===Cw};bt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===mA};bt.isForwardRef=function(e){return Ss(e)===Aw};bt.isFragment=function(e){return Ss(e)===Sw};bt.isLazy=function(e){return Ss(e)===Ow};bt.isMemo=function(e){return Ss(e)===Tw};bt.isPortal=function(e){return Ss(e)===pA};bt.isProfiler=function(e){return Ss(e)===_w};bt.isStrictMode=function(e){return Ss(e)===Nw};bt.isSuspense=function(e){return Ss(e)===Pw};bt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Sw||e===kw||e===_w||e===Nw||e===Pw||e===Jge||typeof e=="object"&&e!==null&&(e.$$typeof===Ow||e.$$typeof===Tw||e.$$typeof===Cw||e.$$typeof===Ew||e.$$typeof===Aw||e.$$typeof===Zge||e.$$typeof===eve||e.$$typeof===tve||e.$$typeof===Qge)};bt.typeOf=Ss;oW.exports=bt;var Hy=oW.exports,nve=Ji,rve=Qi,sve="[object Number]";function ave(e){return typeof e=="number"||rve(e)&&nve(e)==sve}var cW=ave;const ive=mt(cW);var ove=cW;function lve(e){return ove(e)&&e!=+e}var cve=lve;const Jp=mt(cve);var Sr=function(t){return t===0?0:t>0?1:-1},Wl=function(t){return Xp(t)&&t.indexOf("%")===t.length-1},we=function(t){return ive(t)&&!Jp(t)},Sn=function(t){return we(t)||Xp(t)},uve=0,sf=function(t){var n=++uve;return"".concat(t||"").concat(n)},Nr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(t)&&!Xp(t))return r;var a;if(Wl(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Jp(a)&&(a=r),s&&a>n&&(a=n),a},jo=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},dve=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},s=0;s<n;s++)if(!r[t[s]])r[t[s]]=!0;else return!0;return!1},as=function(t,n){return we(t)&&we(n)?function(r){return t+r*(n-t)}:function(){return n}};function Gy(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):hs(r,t))===n})}function Bu(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function VN(e){"@babel/helpers - typeof";return VN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VN(e)}var fve=["viewBox","children"],hve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cD=["points","pathLength"],t1={svg:fve,polygon:cD,polyline:cD},vA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ky=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(v.isValidElement(t)&&(r=t.props),!ef(r))return null;var s={};return Object.keys(r).forEach(function(a){vA.includes(a)&&(s[a]=n||function(o){return r[a](r,o)})}),s},mve=function(t,n,r){return function(s){return t(n,r,s),null}},dc=function(t,n,r){if(!ef(t)||VN(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var o=t[a];vA.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=mve(o,n,r))}),s},pve=["children"],gve=["children"];function uD(e,t){if(e==null)return{};var n=vve(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vve(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function UN(e){"@babel/helpers - typeof";return UN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UN(e)}var dD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ai=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},fD=null,n1=null,yA=function e(t){if(t===fD&&Array.isArray(n1))return n1;var n=[];return v.Children.forEach(t,function(r){Ue(r)||(Hy.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),n1=n,fD=t,n};function ms(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(s){return Ai(s)}):r=[Ai(t)],yA(e).forEach(function(s){var a=hs(s,"type.displayName")||hs(s,"type.name");r.indexOf(a)!==-1&&n.push(s)}),n}function ns(e,t){var n=ms(e,t);return n&&n[0]}var hD=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,s=n.height;return!(!we(r)||r<=0||!we(s)||s<=0)},yve=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],xve=function(t){return t&&t.type&&Xp(t.type)&&yve.indexOf(t.type)>=0},wve=function(t){return t&&UN(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},bve=function(t,n,r,s){var a,o=(a=t1==null?void 0:t1[s])!==null&&a!==void 0?a:[];return!We(t)&&(s&&o.includes(n)||hve.includes(n))||r&&vA.includes(n)},$e=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!ef(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;bve((l=s)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=s[o])}),a},qN=function e(t,n){if(t===n)return!0;var r=v.Children.count(t);if(r!==v.Children.count(n))return!1;if(r===0)return!0;if(r===1)return mD(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var a=t[s],o=n[s];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!mD(a,o))return!1}return!0},mD=function(t,n){if(Ue(t)&&Ue(n))return!0;if(!Ue(t)&&!Ue(n)){var r=t.props||{},s=r.children,a=uD(r,pve),o=n.props||{},l=o.children,c=uD(o,gve);return s&&l?Bu(a,c)&&qN(s,l):!s&&!l?Bu(a,c):!1}return!1},pD=function(t,n){var r=[],s={};return yA(t).forEach(function(a,o){if(xve(a))r.push(a);else if(a){var l=Ai(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(a,l,o);r.push(f),s[l]=!0}}}),r},jve=function(t){var n=t&&t.type;return n&&dD[n]?dD[n]:null},Sve=function(t,n){return yA(n).indexOf(t)},Nve=["children","width","height","viewBox","className","style","title","desc"];function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HN.apply(this,arguments)}function _ve(e,t){if(e==null)return{};var n=Cve(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cve(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function GN(e){var t=e.children,n=e.width,r=e.height,s=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=_ve(e,Nve),d=s||{width:n,height:r,x:0,y:0},f=Ye("recharts-surface",a);return T.createElement("svg",HN({},$e(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),T.createElement("title",null,l),T.createElement("desc",null,c),t)}var Eve=["children","className"];function KN(){return KN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KN.apply(this,arguments)}function kve(e,t){if(e==null)return{};var n=Ave(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ave(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var dt=T.forwardRef(function(e,t){var n=e.children,r=e.className,s=kve(e,Eve),a=Ye("recharts-layer",r);return T.createElement("g",KN({className:a},$e(s,!0),{ref:t}),n)}),xa=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a]};function Pve(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(s);++r<s;)a[r]=e[r+t];return a}var Tve=Pve,Ove=Tve;function Ive(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Ove(e,t,n)}var Dve=Ive,Mve="\\ud800-\\udfff",Rve="\\u0300-\\u036f",$ve="\\ufe20-\\ufe2f",Lve="\\u20d0-\\u20ff",Fve=Rve+$ve+Lve,Bve="\\ufe0e\\ufe0f",zve="\\u200d",Wve=RegExp("["+zve+Mve+Fve+Bve+"]");function Vve(e){return Wve.test(e)}var uW=Vve;function Uve(e){return e.split("")}var qve=Uve,dW="\\ud800-\\udfff",Hve="\\u0300-\\u036f",Gve="\\ufe20-\\ufe2f",Kve="\\u20d0-\\u20ff",Yve=Hve+Gve+Kve,Xve="\\ufe0e\\ufe0f",Jve="["+dW+"]",YN="["+Yve+"]",XN="\\ud83c[\\udffb-\\udfff]",Qve="(?:"+YN+"|"+XN+")",fW="[^"+dW+"]",hW="(?:\\ud83c[\\udde6-\\uddff]){2}",mW="[\\ud800-\\udbff][\\udc00-\\udfff]",Zve="\\u200d",pW=Qve+"?",gW="["+Xve+"]?",eye="(?:"+Zve+"(?:"+[fW,hW,mW].join("|")+")"+gW+pW+")*",tye=gW+pW+eye,nye="(?:"+[fW+YN+"?",YN,hW,mW,Jve].join("|")+")",rye=RegExp(XN+"(?="+XN+")|"+nye+tye,"g");function sye(e){return e.match(rye)||[]}var aye=sye,iye=qve,oye=uW,lye=aye;function cye(e){return oye(e)?lye(e):iye(e)}var uye=cye,dye=Dve,fye=uW,hye=uye,mye=sW;function pye(e){return function(t){t=mye(t);var n=fye(t)?hye(t):void 0,r=n?n[0]:t.charAt(0),s=n?dye(n,1).join(""):t.slice(1);return r[e]()+s}}var gye=pye,vye=gye,yye=vye("toUpperCase"),xye=yye;const Iw=mt(xye);function At(e){return function(){return e}}const vW=Math.cos,Yy=Math.sin,Aa=Math.sqrt,Xy=Math.PI,Dw=2*Xy,JN=Math.PI,QN=2*JN,Pl=1e-6,wye=QN-Pl;function yW(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function bye(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yW;const n=10**t;return function(r){this._+=r[0];for(let s=1,a=r.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class jye{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yW:bye(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,a,o){this._append`C${+t},${+n},${+r},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,s,a){if(t=+t,n=+n,r=+r,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-t,u=s-n,d=o-t,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Pl)if(!(Math.abs(f*c-u*d)>Pl)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,g=s-l,p=c*c+u*u,y=m*m+g*g,x=Math.sqrt(p),w=Math.sqrt(h),j=a*Math.tan((JN-Math.acos((p+h-y)/(2*x*w)))/2),b=j/w,S=j/x;Math.abs(b-1)>Pl&&this._append`L${t+b*d},${n+b*f}`,this._append`A${a},${a},0,0,${+(f*m>d*g)},${this._x1=t+S*c},${this._y1=n+S*u}`}}arc(t,n,r,s,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),u=t+l,d=n+c,f=1^o,h=o?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Pl||Math.abs(this._y1-d)>Pl)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%QN+QN),h>wye?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Pl&&this._append`A${r},${r},0,${+(h>=JN)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function xA(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new jye(t)}function wA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xW(e){this._context=e}xW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Mw(e){return new xW(e)}function wW(e){return e[0]}function bW(e){return e[1]}function jW(e,t){var n=At(!0),r=null,s=Mw,a=null,o=xA(l);e=typeof e=="function"?e:e===void 0?wW:At(e),t=typeof t=="function"?t:t===void 0?bW:At(t);function l(c){var u,d=(c=wA(c)).length,f,h=!1,m;for(r==null&&(a=s(m=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:At(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:At(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:At(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(a=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=a=null:a=s(r=c),l):r},l}function Kg(e,t,n){var r=null,s=At(!0),a=null,o=Mw,l=null,c=xA(u);e=typeof e=="function"?e:e===void 0?wW:At(+e),t=typeof t=="function"?t:At(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?bW:At(+n);function u(f){var h,m,g,p=(f=wA(f)).length,y,x=!1,w,j=new Array(p),b=new Array(p);for(a==null&&(l=o(w=c())),h=0;h<=p;++h){if(!(h<p&&s(y=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(j[g],b[g]);l.lineEnd(),l.areaEnd()}x&&(j[h]=+e(y,h,f),b[h]=+t(y,h,f),l.point(r?+r(y,h,f):j[h],n?+n(y,h,f):b[h]))}if(w)return l=null,w+""||null}function d(){return jW().defined(s).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:At(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:At(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:At(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:At(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:At(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:At(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:At(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class SW{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Sye(e){return new SW(e,!0)}function Nye(e){return new SW(e,!1)}const bA={draw(e,t){const n=Aa(t/Xy);e.moveTo(n,0),e.arc(0,0,n,0,Dw)}},_ye={draw(e,t){const n=Aa(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},NW=Aa(1/3),Cye=NW*2,Eye={draw(e,t){const n=Aa(t/Cye),r=n*NW;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},kye={draw(e,t){const n=Aa(t),r=-n/2;e.rect(r,r,n,n)}},Aye=.8908130915292852,_W=Yy(Xy/10)/Yy(7*Xy/10),Pye=Yy(Dw/10)*_W,Tye=-vW(Dw/10)*_W,Oye={draw(e,t){const n=Aa(t*Aye),r=Pye*n,s=Tye*n;e.moveTo(0,-n),e.lineTo(r,s);for(let a=1;a<5;++a){const o=Dw*a/5,l=vW(o),c=Yy(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*s,c*r+l*s)}e.closePath()}},r1=Aa(3),Iye={draw(e,t){const n=-Aa(t/(r1*3));e.moveTo(0,n*2),e.lineTo(-r1*n,-n),e.lineTo(r1*n,-n),e.closePath()}},Cs=-.5,Es=Aa(3)/2,ZN=1/Aa(12),Dye=(ZN/2+1)*3,Mye={draw(e,t){const n=Aa(t/Dye),r=n/2,s=n*ZN,a=r,o=n*ZN+n,l=-a,c=o;e.moveTo(r,s),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Cs*r-Es*s,Es*r+Cs*s),e.lineTo(Cs*a-Es*o,Es*a+Cs*o),e.lineTo(Cs*l-Es*c,Es*l+Cs*c),e.lineTo(Cs*r+Es*s,Cs*s-Es*r),e.lineTo(Cs*a+Es*o,Cs*o-Es*a),e.lineTo(Cs*l+Es*c,Cs*c-Es*l),e.closePath()}};function Rye(e,t){let n=null,r=xA(s);e=typeof e=="function"?e:At(e||bA),t=typeof t=="function"?t:At(t===void 0?64:+t);function s(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:At(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:At(+a),s):t},s.context=function(a){return arguments.length?(n=a??null,s):n},s}function Jy(){}function Qy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function CW(e){this._context=e}CW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $ye(e){return new CW(e)}function EW(e){this._context=e}EW.prototype={areaStart:Jy,areaEnd:Jy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lye(e){return new EW(e)}function kW(e){this._context=e}kW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Qy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fye(e){return new kW(e)}function AW(e){this._context=e}AW.prototype={areaStart:Jy,areaEnd:Jy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Bye(e){return new AW(e)}function gD(e){return e<0?-1:1}function vD(e,t,n){var r=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(r||s<0&&-0),o=(n-e._y1)/(s||r<0&&-0),l=(a*s+o*r)/(r+s);return(gD(a)+gD(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function yD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function s1(e,t,n){var r=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,s+l*t,a-l,o-l*n,a,o)}function Zy(e){this._context=e}Zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:s1(this,this._t0,yD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,s1(this,yD(this,n=vD(this,e,t)),n);break;default:s1(this,this._t0,n=vD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function PW(e){this._context=new TW(e)}(PW.prototype=Object.create(Zy.prototype)).point=function(e,t){Zy.prototype.point.call(this,t,e)};function TW(e){this._context=e}TW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,a){this._context.bezierCurveTo(t,e,r,n,a,s)}};function zye(e){return new Zy(e)}function Wye(e){return new PW(e)}function OW(e){this._context=e}OW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=xD(e),s=xD(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],s[0][a],r[1][a],s[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xD(e){var t,n=e.length-1,r,s=new Array(n),a=new Array(n),o=new Array(n);for(s[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(s[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/a[t];for(a[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function Vye(e){return new OW(e)}function Rw(e,t){this._context=e,this._t=t}Rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Uye(e){return new Rw(e,.5)}function qye(e){return new Rw(e,0)}function Hye(e){return new Rw(e,1)}function cd(e,t){if((o=e.length)>1)for(var n=1,r,s,a=e[t[0]],o,l=a.length;n<o;++n)for(s=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function e_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Gye(e,t){return e[t]}function Kye(e){const t=[];return t.key=e,t}function Yye(){var e=At([]),t=e_,n=cd,r=Gye;function s(a){var o=Array.from(e.apply(this,arguments),Kye),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,a)]).data=f;for(l=0,d=wA(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:At(Array.from(a)),s):e},s.value=function(a){return arguments.length?(r=typeof a=="function"?a:At(+a),s):r},s.order=function(a){return arguments.length?(t=a==null?e_:typeof a=="function"?a:At(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(n=a??cd,s):n},s}function Xye(e,t){if((r=e.length)>0){for(var n,r,s=0,a=e[0].length,o;s<a;++s){for(o=n=0;n<r;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<r;++n)e[n][s][1]/=o}cd(e,t)}}function Jye(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,a=r.length;n<a;++n){for(var o=0,l=0;o<s;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}cd(e,t)}}function Qye(e,t){if(!(!((o=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,a,o;r<a;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],y=p[r][1]||0,x=p[r-1][1]||0;m+=y-x}c+=f,u+=m*f}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,cd(e,t)}}function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}var Zye=["type","size","sizeType"];function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t_.apply(this,arguments)}function wD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(n),!0).forEach(function(r){exe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function exe(e,t,n){return t=txe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function txe(e){var t=nxe(e,"string");return Sm(t)=="symbol"?t:String(t)}function nxe(e,t){if(Sm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rxe(e,t){if(e==null)return{};var n=sxe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sxe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var IW={symbolCircle:bA,symbolCross:_ye,symbolDiamond:Eye,symbolSquare:kye,symbolStar:Oye,symbolTriangle:Iye,symbolWye:Mye},axe=Math.PI/180,ixe=function(t){var n="symbol".concat(Iw(t));return IW[n]||bA},oxe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*axe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},lxe=function(t,n){IW["symbol".concat(Iw(t))]=n},jA=function(t){var n=t.type,r=n===void 0?"circle":n,s=t.size,a=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=rxe(t,Zye),u=bD(bD({},c),{},{type:r,size:a,sizeType:l}),d=function(){var y=ixe(r),x=Rye().type(y).size(oxe(a,l,r));return x()},f=u.className,h=u.cx,m=u.cy,g=$e(u,!0);return h===+h&&m===+m&&a===+a?T.createElement("path",t_({},g,{className:Ye("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};jA.registerSymbol=lxe;function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n_.apply(this,arguments)}function jD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function cxe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(n),!0).forEach(function(r){Nm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dxe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MW(r.key),r)}}function fxe(e,t,n){return t&&dxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hxe(e,t,n){return t=ex(t),mxe(e,DW()?Reflect.construct(t,n||[],ex(e).constructor):t.apply(e,n))}function mxe(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pxe(e)}function pxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DW=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(e)}function gxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r_(e,t)}function r_(e,t){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},r_(e,t)}function Nm(e,t,n){return t=MW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MW(e){var t=vxe(e,"string");return ud(t)=="symbol"?t:String(t)}function vxe(e,t){if(ud(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ks=32,SA=function(e){gxe(t,e);function t(){return uxe(this,t),hxe(this,t,arguments)}return fxe(t,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,a=ks/2,o=ks/6,l=ks/3,c=r.inactive?s:r.color;if(r.type==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:ks,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ks,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return T.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ks/8,"h").concat(ks,"v").concat(ks*3/4,"h").concat(-ks,"z"),className:"recharts-legend-icon"});if(T.isValidElement(r.legendIcon)){var u=cxe({},r);return delete u.legendIcon,T.cloneElement(r.legendIcon,u)}return T.createElement(jA,{fill:c,cx:a,cy:a,size:ks,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:ks,height:ks},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,g){var p=m.formatter||c,y=Ye(Nm(Nm({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=We(m.value)?null:m.value;xa(!We(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return T.createElement("li",n_({className:y,style:f,key:"legend-item-".concat(g)},dc(r.props,m,g)),T.createElement(GN,{width:o,height:o,viewBox:d,style:h},r.renderIcon(m)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},p?p(x,m,g):x))})}},{key:"render",value:function(){var r=this.props,s=r.payload,a=r.layout,o=r.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}]),t}(v.PureComponent);Nm(SA,"displayName","Legend");Nm(SA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yxe=ww;function xxe(){this.__data__=new yxe,this.size=0}var wxe=xxe;function bxe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var jxe=bxe;function Sxe(e){return this.__data__.get(e)}var Nxe=Sxe;function _xe(e){return this.__data__.has(e)}var Cxe=_xe,Exe=ww,kxe=cA,Axe=uA,Pxe=200;function Txe(e,t){var n=this.__data__;if(n instanceof Exe){var r=n.__data__;if(!kxe||r.length<Pxe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Axe(r)}return n.set(e,t),this.size=n.size,this}var Oxe=Txe,Ixe=ww,Dxe=wxe,Mxe=jxe,Rxe=Nxe,$xe=Cxe,Lxe=Oxe;function af(e){var t=this.__data__=new Ixe(e);this.size=t.size}af.prototype.clear=Dxe;af.prototype.delete=Mxe;af.prototype.get=Rxe;af.prototype.has=$xe;af.prototype.set=Lxe;var RW=af,Fxe="__lodash_hash_undefined__";function Bxe(e){return this.__data__.set(e,Fxe),this}var zxe=Bxe;function Wxe(e){return this.__data__.has(e)}var Vxe=Wxe,Uxe=uA,qxe=zxe,Hxe=Vxe;function tx(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Uxe;++t<n;)this.add(e[t])}tx.prototype.add=tx.prototype.push=qxe;tx.prototype.has=Hxe;var $W=tx;function Gxe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var LW=Gxe;function Kxe(e,t){return e.has(t)}var FW=Kxe,Yxe=$W,Xxe=LW,Jxe=FW,Qxe=1,Zxe=2;function e0e(e,t,n,r,s,a){var o=n&Qxe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=n&Zxe?new Yxe:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var g=e[f],p=t[f];if(r)var y=o?r(p,g,f,t,e,a):r(g,p,f,e,t,a);if(y!==void 0){if(y)continue;h=!1;break}if(m){if(!Xxe(t,function(x,w){if(!Jxe(m,w)&&(g===x||s(g,x,n,r,a)))return m.push(w)})){h=!1;break}}else if(!(g===p||s(g,p,n,r,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var BW=e0e,t0e=ai,n0e=t0e.Uint8Array,r0e=n0e;function s0e(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}var a0e=s0e;function i0e(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var NA=i0e,SD=Yp,ND=r0e,o0e=lA,l0e=BW,c0e=a0e,u0e=NA,d0e=1,f0e=2,h0e="[object Boolean]",m0e="[object Date]",p0e="[object Error]",g0e="[object Map]",v0e="[object Number]",y0e="[object RegExp]",x0e="[object Set]",w0e="[object String]",b0e="[object Symbol]",j0e="[object ArrayBuffer]",S0e="[object DataView]",_D=SD?SD.prototype:void 0,a1=_D?_D.valueOf:void 0;function N0e(e,t,n,r,s,a,o){switch(n){case S0e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case j0e:return!(e.byteLength!=t.byteLength||!a(new ND(e),new ND(t)));case h0e:case m0e:case v0e:return o0e(+e,+t);case p0e:return e.name==t.name&&e.message==t.message;case y0e:case w0e:return e==t+"";case g0e:var l=c0e;case x0e:var c=r&d0e;if(l||(l=u0e),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=f0e,o.set(e,t);var d=l0e(l(e),l(t),r,s,a,o);return o.delete(e),d;case b0e:if(a1)return a1.call(e)==a1.call(t)}return!1}var _0e=N0e;function C0e(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var zW=C0e,E0e=zW,k0e=Yr;function A0e(e,t,n){var r=t(e);return k0e(e)?r:E0e(r,n(e))}var P0e=A0e;function T0e(e,t){for(var n=-1,r=e==null?0:e.length,s=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[s++]=o)}return a}var O0e=T0e;function I0e(){return[]}var D0e=I0e,M0e=O0e,R0e=D0e,$0e=Object.prototype,L0e=$0e.propertyIsEnumerable,CD=Object.getOwnPropertySymbols,F0e=CD?function(e){return e==null?[]:(e=Object(e),M0e(CD(e),function(t){return L0e.call(e,t)}))}:R0e,B0e=F0e;function z0e(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var W0e=z0e,V0e=Ji,U0e=Qi,q0e="[object Arguments]";function H0e(e){return U0e(e)&&V0e(e)==q0e}var G0e=H0e,ED=G0e,K0e=Qi,WW=Object.prototype,Y0e=WW.hasOwnProperty,X0e=WW.propertyIsEnumerable,J0e=ED(function(){return arguments}())?ED:function(e){return K0e(e)&&Y0e.call(e,"callee")&&!X0e.call(e,"callee")},_A=J0e,nx={exports:{}};function Q0e(){return!1}var Z0e=Q0e;nx.exports;(function(e,t){var n=ai,r=Z0e,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(nx,nx.exports);var VW=nx.exports,ewe=9007199254740991,twe=/^(?:0|[1-9]\d*)$/;function nwe(e,t){var n=typeof e;return t=t??ewe,!!t&&(n=="number"||n!="symbol"&&twe.test(e))&&e>-1&&e%1==0&&e<t}var CA=nwe,rwe=9007199254740991;function swe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rwe}var EA=swe,awe=Ji,iwe=EA,owe=Qi,lwe="[object Arguments]",cwe="[object Array]",uwe="[object Boolean]",dwe="[object Date]",fwe="[object Error]",hwe="[object Function]",mwe="[object Map]",pwe="[object Number]",gwe="[object Object]",vwe="[object RegExp]",ywe="[object Set]",xwe="[object String]",wwe="[object WeakMap]",bwe="[object ArrayBuffer]",jwe="[object DataView]",Swe="[object Float32Array]",Nwe="[object Float64Array]",_we="[object Int8Array]",Cwe="[object Int16Array]",Ewe="[object Int32Array]",kwe="[object Uint8Array]",Awe="[object Uint8ClampedArray]",Pwe="[object Uint16Array]",Twe="[object Uint32Array]",Rt={};Rt[Swe]=Rt[Nwe]=Rt[_we]=Rt[Cwe]=Rt[Ewe]=Rt[kwe]=Rt[Awe]=Rt[Pwe]=Rt[Twe]=!0;Rt[lwe]=Rt[cwe]=Rt[bwe]=Rt[uwe]=Rt[jwe]=Rt[dwe]=Rt[fwe]=Rt[hwe]=Rt[mwe]=Rt[pwe]=Rt[gwe]=Rt[vwe]=Rt[ywe]=Rt[xwe]=Rt[wwe]=!1;function Owe(e){return owe(e)&&iwe(e.length)&&!!Rt[awe(e)]}var Iwe=Owe;function Dwe(e){return function(t){return e(t)}}var UW=Dwe,rx={exports:{}};rx.exports;(function(e,t){var n=Q8,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===r,o=a&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(rx,rx.exports);var Mwe=rx.exports,Rwe=Iwe,$we=UW,kD=Mwe,AD=kD&&kD.isTypedArray,Lwe=AD?$we(AD):Rwe,qW=Lwe,Fwe=W0e,Bwe=_A,zwe=Yr,Wwe=VW,Vwe=CA,Uwe=qW,qwe=Object.prototype,Hwe=qwe.hasOwnProperty;function Gwe(e,t){var n=zwe(e),r=!n&&Bwe(e),s=!n&&!r&&Wwe(e),a=!n&&!r&&!s&&Uwe(e),o=n||r||s||a,l=o?Fwe(e.length,String):[],c=l.length;for(var u in e)(t||Hwe.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vwe(u,c)))&&l.push(u);return l}var Kwe=Gwe,Ywe=Object.prototype;function Xwe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Ywe;return e===n}var Jwe=Xwe;function Qwe(e,t){return function(n){return e(t(n))}}var HW=Qwe,Zwe=HW,ebe=Zwe(Object.keys,Object),tbe=ebe,nbe=Jwe,rbe=tbe,sbe=Object.prototype,abe=sbe.hasOwnProperty;function ibe(e){if(!nbe(e))return rbe(e);var t=[];for(var n in Object(e))abe.call(e,n)&&n!="constructor"&&t.push(n);return t}var obe=ibe,lbe=oA,cbe=EA;function ube(e){return e!=null&&cbe(e.length)&&!lbe(e)}var Qp=ube,dbe=Kwe,fbe=obe,hbe=Qp;function mbe(e){return hbe(e)?dbe(e):fbe(e)}var $w=mbe,pbe=P0e,gbe=B0e,vbe=$w;function ybe(e){return pbe(e,vbe,gbe)}var xbe=ybe,PD=xbe,wbe=1,bbe=Object.prototype,jbe=bbe.hasOwnProperty;function Sbe(e,t,n,r,s,a){var o=n&wbe,l=PD(e),c=l.length,u=PD(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:jbe.call(t,h)))return!1}var m=a.get(e),g=a.get(t);if(m&&g)return m==t&&g==e;var p=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){h=l[f];var x=e[h],w=t[h];if(r)var j=o?r(w,x,h,t,e,a):r(x,w,h,e,t,a);if(!(j===void 0?x===w||s(x,w,n,r,a):j)){p=!1;break}y||(y=h=="constructor")}if(p&&!y){var b=e.constructor,S=t.constructor;b!=S&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(p=!1)}return a.delete(e),a.delete(t),p}var Nbe=Sbe,_be=Pc,Cbe=ai,Ebe=_be(Cbe,"DataView"),kbe=Ebe,Abe=Pc,Pbe=ai,Tbe=Abe(Pbe,"Promise"),Obe=Tbe,Ibe=Pc,Dbe=ai,Mbe=Ibe(Dbe,"Set"),GW=Mbe,Rbe=Pc,$be=ai,Lbe=Rbe($be,"WeakMap"),Fbe=Lbe,s_=kbe,a_=cA,i_=Obe,o_=GW,l_=Fbe,KW=Ji,of=eW,TD="[object Map]",Bbe="[object Object]",OD="[object Promise]",ID="[object Set]",DD="[object WeakMap]",MD="[object DataView]",zbe=of(s_),Wbe=of(a_),Vbe=of(i_),Ube=of(o_),qbe=of(l_),Tl=KW;(s_&&Tl(new s_(new ArrayBuffer(1)))!=MD||a_&&Tl(new a_)!=TD||i_&&Tl(i_.resolve())!=OD||o_&&Tl(new o_)!=ID||l_&&Tl(new l_)!=DD)&&(Tl=function(e){var t=KW(e),n=t==Bbe?e.constructor:void 0,r=n?of(n):"";if(r)switch(r){case zbe:return MD;case Wbe:return TD;case Vbe:return OD;case Ube:return ID;case qbe:return DD}return t});var Hbe=Tl,i1=RW,Gbe=BW,Kbe=_0e,Ybe=Nbe,RD=Hbe,$D=Yr,LD=VW,Xbe=qW,Jbe=1,FD="[object Arguments]",BD="[object Array]",Yg="[object Object]",Qbe=Object.prototype,zD=Qbe.hasOwnProperty;function Zbe(e,t,n,r,s,a){var o=$D(e),l=$D(t),c=o?BD:RD(e),u=l?BD:RD(t);c=c==FD?Yg:c,u=u==FD?Yg:u;var d=c==Yg,f=u==Yg,h=c==u;if(h&&LD(e)){if(!LD(t))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new i1),o||Xbe(e)?Gbe(e,t,n,r,s,a):Kbe(e,t,c,n,r,s,a);if(!(n&Jbe)){var m=d&&zD.call(e,"__wrapped__"),g=f&&zD.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,y=g?t.value():t;return a||(a=new i1),s(p,y,n,r,a)}}return h?(a||(a=new i1),Ybe(e,t,n,r,s,a)):!1}var eje=Zbe,tje=eje,WD=Qi;function YW(e,t,n,r,s){return e===t?!0:e==null||t==null||!WD(e)&&!WD(t)?e!==e&&t!==t:tje(e,t,n,r,YW,s)}var kA=YW,nje=RW,rje=kA,sje=1,aje=2;function ije(e,t,n,r){var s=n.length,a=s,o=!r;if(e==null)return!a;for(e=Object(e);s--;){var l=n[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=n[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new nje;if(r)var h=r(u,d,c,e,t,f);if(!(h===void 0?rje(d,u,sje|aje,r,f):h))return!1}}return!0}var oje=ije,lje=dl;function cje(e){return e===e&&!lje(e)}var XW=cje,uje=XW,dje=$w;function fje(e){for(var t=dje(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,uje(s)]}return t}var hje=fje;function mje(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var JW=mje,pje=oje,gje=hje,vje=JW;function yje(e){var t=gje(e);return t.length==1&&t[0][2]?vje(t[0][0],t[0][1]):function(n){return n===e||pje(n,e,t)}}var xje=yje;function wje(e,t){return e!=null&&t in Object(e)}var bje=wje,jje=aW,Sje=_A,Nje=Yr,_je=CA,Cje=EA,Eje=jw;function kje(e,t,n){t=jje(t,e);for(var r=-1,s=t.length,a=!1;++r<s;){var o=Eje(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=s?a:(s=e==null?0:e.length,!!s&&Cje(s)&&_je(o,s)&&(Nje(e)||Sje(e)))}var Aje=kje,Pje=bje,Tje=Aje;function Oje(e,t){return e!=null&&Tje(e,t,Pje)}var Ije=Oje,Dje=kA,Mje=iW,Rje=Ije,$je=iA,Lje=XW,Fje=JW,Bje=jw,zje=1,Wje=2;function Vje(e,t){return $je(e)&&Lje(t)?Fje(Bje(e),t):function(n){var r=Mje(n,e);return r===void 0&&r===t?Rje(n,e):Dje(t,r,zje|Wje)}}var Uje=Vje;function qje(e){return e}var lf=qje;function Hje(e){return function(t){return t==null?void 0:t[e]}}var Gje=Hje,Kje=hA;function Yje(e){return function(t){return Kje(t,e)}}var Xje=Yje,Jje=Gje,Qje=Xje,Zje=iA,e1e=jw;function t1e(e){return Zje(e)?Jje(e1e(e)):Qje(e)}var n1e=t1e,r1e=xje,s1e=Uje,a1e=lf,i1e=Yr,o1e=n1e;function l1e(e){return typeof e=="function"?e:e==null?a1e:typeof e=="object"?i1e(e)?s1e(e[0],e[1]):r1e(e):o1e(e)}var ii=l1e;function c1e(e,t,n,r){for(var s=e.length,a=n+(r?1:-1);r?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var QW=c1e;function u1e(e){return e!==e}var d1e=u1e;function f1e(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var h1e=f1e,m1e=QW,p1e=d1e,g1e=h1e;function v1e(e,t,n){return t===t?g1e(e,t,n):m1e(e,p1e,n)}var y1e=v1e,x1e=y1e;function w1e(e,t){var n=e==null?0:e.length;return!!n&&x1e(e,t,0)>-1}var b1e=w1e;function j1e(e,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}var S1e=j1e;function N1e(){}var _1e=N1e,o1=GW,C1e=_1e,E1e=NA,k1e=1/0,A1e=o1&&1/E1e(new o1([,-0]))[1]==k1e?function(e){return new o1(e)}:C1e,P1e=A1e,T1e=$W,O1e=b1e,I1e=S1e,D1e=FW,M1e=P1e,R1e=NA,$1e=200;function L1e(e,t,n){var r=-1,s=O1e,a=e.length,o=!0,l=[],c=l;if(n)o=!1,s=I1e;else if(a>=$1e){var u=t?null:M1e(e);if(u)return R1e(u);o=!1,s=D1e,c=new T1e}else c=t?[]:l;e:for(;++r<a;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var F1e=L1e,B1e=ii,z1e=F1e;function W1e(e,t){return e&&e.length?z1e(e,B1e(t)):[]}var V1e=W1e;const VD=mt(V1e);function ZW(e,t,n){return t===!0?VD(e,n):We(t)?VD(e,t):e}function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}var U1e=["ref"];function UD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function wl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(n),!0).forEach(function(r){Lw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nV(r.key),r)}}function H1e(e,t,n){return t&&qD(e.prototype,t),n&&qD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function G1e(e,t,n){return t=sx(t),K1e(e,eV()?Reflect.construct(t,n||[],sx(e).constructor):t.apply(e,n))}function K1e(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tV(e)}function eV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eV=function(){return!!e})()}function sx(e){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(e)}function tV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c_(e,t)}function c_(e,t){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},c_(e,t)}function Lw(e,t,n){return t=nV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nV(e){var t=X1e(e,"string");return dd(t)=="symbol"?t:String(t)}function X1e(e,t){if(dd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J1e(e,t){if(e==null)return{};var n=Q1e(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Q1e(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Z1e(e){return e.value}function eSe(e,t){if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return T.createElement(e,t);t.ref;var n=J1e(t,U1e);return T.createElement(SA,n)}var HD=1,fd=function(e){Y1e(t,e);function t(){var n;q1e(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=G1e(this,t,[].concat(s)),Lw(tV(n),"lastBoundingBox",{width:-1,height:-1}),n}return H1e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>HD||Math.abs(s.height-this.lastBoundingBox.height)>HD)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return wl(wl({},f),h)}},{key:"render",value:function(){var r=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=wl(wl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return T.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},eSe(a,wl(wl({},this.props),{},{payload:ZW(d,u,Z1e)})))}}],[{key:"getWithHeight",value:function(r,s){var a=r.props.layout;return a==="vertical"&&we(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||s}:null}}]),t}(v.PureComponent);Lw(fd,"displayName","Legend");Lw(fd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var GD=Yp,tSe=_A,nSe=Yr,KD=GD?GD.isConcatSpreadable:void 0;function rSe(e){return nSe(e)||tSe(e)||!!(KD&&e&&e[KD])}var sSe=rSe,aSe=zW,iSe=sSe;function rV(e,t,n,r,s){var a=-1,o=e.length;for(n||(n=iSe),s||(s=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?rV(l,t-1,n,r,s):aSe(s,l):r||(s[s.length]=l)}return s}var sV=rV;function oSe(e){return function(t,n,r){for(var s=-1,a=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++s];if(n(a[c],c,a)===!1)break}return t}}var lSe=oSe,cSe=lSe,uSe=cSe(),dSe=uSe,fSe=dSe,hSe=$w;function mSe(e,t){return e&&fSe(e,t,hSe)}var aV=mSe,pSe=Qp;function gSe(e,t){return function(n,r){if(n==null)return n;if(!pSe(n))return e(n,r);for(var s=n.length,a=t?s:-1,o=Object(n);(t?a--:++a<s)&&r(o[a],a,o)!==!1;);return n}}var vSe=gSe,ySe=aV,xSe=vSe,wSe=xSe(ySe),AA=wSe,bSe=AA,jSe=Qp;function SSe(e,t){var n=-1,r=jSe(e)?Array(e.length):[];return bSe(e,function(s,a,o){r[++n]=t(s,a,o)}),r}var iV=SSe;function NSe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var _Se=NSe,YD=Zd;function CSe(e,t){if(e!==t){var n=e!==void 0,r=e===null,s=e===e,a=YD(e),o=t!==void 0,l=t===null,c=t===t,u=YD(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!s)return 1;if(!r&&!a&&!u&&e<t||u&&n&&s&&!r&&!a||l&&n&&s||!o&&s||!c)return-1}return 0}var ESe=CSe,kSe=ESe;function ASe(e,t,n){for(var r=-1,s=e.criteria,a=t.criteria,o=s.length,l=n.length;++r<o;){var c=kSe(s[r],a[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var PSe=ASe,l1=fA,TSe=hA,OSe=ii,ISe=iV,DSe=_Se,MSe=UW,RSe=PSe,$Se=lf,LSe=Yr;function FSe(e,t,n){t.length?t=l1(t,function(a){return LSe(a)?function(o){return TSe(o,a.length===1?a[0]:a)}:a}):t=[$Se];var r=-1;t=l1(t,MSe(OSe));var s=ISe(e,function(a,o,l){var c=l1(t,function(u){return u(a)});return{criteria:c,index:++r,value:a}});return DSe(s,function(a,o){return RSe(a,o,n)})}var BSe=FSe;function zSe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var WSe=zSe,VSe=WSe,XD=Math.max;function USe(e,t,n){return t=XD(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,a=XD(r.length-t,0),o=Array(a);++s<a;)o[s]=r[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=r[s];return l[t]=n(o),VSe(e,this,l)}}var qSe=USe;function HSe(e){return function(){return e}}var GSe=HSe,KSe=Pc,YSe=function(){try{var e=KSe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),oV=YSe,XSe=GSe,JD=oV,JSe=lf,QSe=JD?function(e,t){return JD(e,"toString",{configurable:!0,enumerable:!1,value:XSe(t),writable:!0})}:JSe,ZSe=QSe,eNe=800,tNe=16,nNe=Date.now;function rNe(e){var t=0,n=0;return function(){var r=nNe(),s=tNe-(r-n);if(n=r,s>0){if(++t>=eNe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var sNe=rNe,aNe=ZSe,iNe=sNe,oNe=iNe(aNe),lNe=oNe,cNe=lf,uNe=qSe,dNe=lNe;function fNe(e,t){return dNe(uNe(e,t,cNe),e+"")}var hNe=fNe,mNe=lA,pNe=Qp,gNe=CA,vNe=dl;function yNe(e,t,n){if(!vNe(n))return!1;var r=typeof t;return(r=="number"?pNe(n)&&gNe(t,n.length):r=="string"&&t in n)?mNe(n[t],e):!1}var Fw=yNe,xNe=sV,wNe=BSe,bNe=hNe,QD=Fw,jNe=bNe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&QD(e,t[0],t[1])?t=[]:n>2&&QD(t[0],t[1],t[2])&&(t=[t[0]]),wNe(e,xNe(t,1),[])}),SNe=jNe;const PA=mt(SNe);function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function u_(){return u_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u_.apply(this,arguments)}function NNe(e,t){return kNe(e)||ENe(e,t)||CNe(e,t)||_Ne()}function _Ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CNe(e,t){if(e){if(typeof e=="string")return ZD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZD(e,t)}}function ZD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ENe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function kNe(e){if(Array.isArray(e))return e}function eM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function c1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(n),!0).forEach(function(r){ANe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ANe(e,t,n){return t=PNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PNe(e){var t=TNe(e,"string");return _m(t)=="symbol"?t:String(t)}function TNe(e,t){if(_m(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ONe(e){return Array.isArray(e)&&Sn(e[0])&&Sn(e[1])?e.join(" ~ "):e}var INe=function(t){var n=t.separator,r=n===void 0?" : ":n,s=t.contentStyle,a=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,y=t.labelFormatter,x=t.accessibilityLayer,w=x===void 0?!1:x,j=function(){if(d&&d.length){var I={padding:0,margin:0},L=(h?PA(d,h):d).map(function(E,R){if(E.type==="none")return null;var O=c1({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},l),F=E.formatter||f||ONe,D=E.value,M=E.name,$=D,z=M;if(F&&$!=null&&z!=null){var W=F(D,M,E,R,d);if(Array.isArray(W)){var H=NNe(W,2);$=H[0],z=H[1]}else $=W}return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:O},Sn(z)?T.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Sn(z)?T.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,T.createElement("span",{className:"recharts-tooltip-item-value"},$),T.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:I},L)}return null},b=c1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=c1({margin:0},u),N=!Ue(p),C=N?p:"",_=Ye("recharts-default-tooltip",m),k=Ye("recharts-tooltip-label",g);N&&y&&d!==void 0&&d!==null&&(C=y(p,d));var P=w?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",u_({className:_,style:b},P),T.createElement("p",{className:k,style:S},T.isValidElement(C)?C:"".concat(C)),j())};function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function Xg(e,t,n){return t=DNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DNe(e){var t=MNe(e,"string");return Cm(t)=="symbol"?t:String(t)}function MNe(e,t){if(Cm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var If="recharts-tooltip-wrapper",RNe={visibility:"hidden"};function $Ne(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Ye(If,Xg(Xg(Xg(Xg({},"".concat(If,"-right"),we(n)&&t&&we(t.x)&&n>=t.x),"".concat(If,"-left"),we(n)&&t&&we(t.x)&&n<t.x),"".concat(If,"-bottom"),we(r)&&t&&we(t.y)&&r>=t.y),"".concat(If,"-top"),we(r)&&t&&we(t.y)&&r<t.y))}function tM(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,s=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&we(a[r]))return a[r];var d=n[r]-l-s,f=n[r]+s;if(t[r])return o[r]?d:f;if(o[r]){var h=d,m=c[r];return h<m?Math.max(f,c[r]):Math.max(d,c[r])}var g=f+l,p=c[r]+u;return g>p?Math.max(d,c[r]):Math.max(f,c[r])}function LNe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function FNe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=tM({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=tM({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=LNe({translateX:d,translateY:f,useTranslate3d:l})):u=RNe,{cssProperties:u,cssClasses:$Ne({translateX:d,translateY:f,coordinate:n})}}function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function nM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function rM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(n),!0).forEach(function(r){h_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cV(r.key),r)}}function WNe(e,t,n){return t&&zNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VNe(e,t,n){return t=ax(t),UNe(e,lV()?Reflect.construct(t,n||[],ax(e).constructor):t.apply(e,n))}function UNe(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d_(e)}function lV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lV=function(){return!!e})()}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(e)}function d_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},f_(e,t)}function h_(e,t,n){return t=cV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cV(e){var t=HNe(e,"string");return hd(t)=="symbol"?t:String(t)}function HNe(e,t){if(hd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sM=1,GNe=function(e){qNe(t,e);function t(){var n;BNe(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=VNe(this,t,[].concat(s)),h_(d_(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),h_(d_(n),"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return WNe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>sM||Math.abs(r.height-this.state.lastBoundingBox.height)>sM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,m=s.offset,g=s.position,p=s.reverseDirection,y=s.useTranslate3d,x=s.viewBox,w=s.wrapperStyle,j=FNe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),b=j.cssClasses,S=j.cssProperties,N=rM(rM({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return T.createElement("div",{tabIndex:-1,className:b,style:N,ref:function(_){r.wrapperNode=_}},u)}}]),t}(v.PureComponent),KNe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ka={isSsr:KNe(),get:function(t){return Ka[t]},set:function(t,n){if(typeof t=="string")Ka[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(s){Ka[s]=t[s]})}}};function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function aM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function iM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(n),!0).forEach(function(r){TA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dV(r.key),r)}}function JNe(e,t,n){return t&&XNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QNe(e,t,n){return t=ix(t),ZNe(e,uV()?Reflect.construct(t,n||[],ix(e).constructor):t.apply(e,n))}function ZNe(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e_e(e)}function e_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ix(e)}function t_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m_(e,t)}function m_(e,t){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},m_(e,t)}function TA(e,t,n){return t=dV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dV(e){var t=n_e(e,"string");return md(t)=="symbol"?t:String(t)}function n_e(e,t){if(md(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r_e(e){return e.dataKey}function s_e(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(INe,t)}var rs=function(e){t_e(t,e);function t(){return YNe(this,t),QNe(this,t,arguments)}return JNe(t,[{key:"render",value:function(){var r=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,m=s.offset,g=s.payload,p=s.payloadUniqBy,y=s.position,x=s.reverseDirection,w=s.useTranslate3d,j=s.viewBox,b=s.wrapperStyle,S=g??[];f&&S.length&&(S=ZW(g.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),p,r_e));var N=S.length>0;return T.createElement(GNe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:N,offset:m,position:y,reverseDirection:x,useTranslate3d:w,viewBox:j,wrapperStyle:b},s_e(u,iM(iM({},this.props),{},{payload:S})))}}]),t}(v.PureComponent);TA(rs,"displayName","Tooltip");TA(rs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ka.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var a_e=ai,i_e=function(){return a_e.Date.now()},o_e=i_e,l_e=/\s/;function c_e(e){for(var t=e.length;t--&&l_e.test(e.charAt(t)););return t}var u_e=c_e,d_e=u_e,f_e=/^\s+/;function h_e(e){return e&&e.slice(0,d_e(e)+1).replace(f_e,"")}var m_e=h_e,p_e=m_e,oM=dl,g_e=Zd,lM=NaN,v_e=/^[-+]0x[0-9a-f]+$/i,y_e=/^0b[01]+$/i,x_e=/^0o[0-7]+$/i,w_e=parseInt;function b_e(e){if(typeof e=="number")return e;if(g_e(e))return lM;if(oM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=oM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=p_e(e);var n=y_e.test(e);return n||x_e.test(e)?w_e(e.slice(2),n?2:8):v_e.test(e)?lM:+e}var fV=b_e,j_e=dl,u1=o_e,cM=fV,S_e="Expected a function",N_e=Math.max,__e=Math.min;function C_e(e,t,n){var r,s,a,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(S_e);t=cM(t)||0,j_e(n)&&(d=!!n.leading,f="maxWait"in n,a=f?N_e(cM(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h);function m(N){var C=r,_=s;return r=s=void 0,u=N,o=e.apply(_,C),o}function g(N){return u=N,l=setTimeout(x,t),d?m(N):o}function p(N){var C=N-c,_=N-u,k=t-C;return f?__e(k,a-_):k}function y(N){var C=N-c,_=N-u;return c===void 0||C>=t||C<0||f&&_>=a}function x(){var N=u1();if(y(N))return w(N);l=setTimeout(x,p(N))}function w(N){return l=void 0,h&&r?m(N):(r=s=void 0,o)}function j(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function b(){return l===void 0?o:w(u1())}function S(){var N=u1(),C=y(N);if(r=arguments,s=this,c=N,C){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(x,t),m(c)}return l===void 0&&(l=setTimeout(x,t)),o}return S.cancel=j,S.flush=b,S}var E_e=C_e,k_e=E_e,A_e=dl,P_e="Expected a function";function T_e(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(P_e);return A_e(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),k_e(e,t,{leading:r,maxWait:t,trailing:s})}var O_e=T_e;const hV=mt(O_e);function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function uM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Jg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uM(Object(n),!0).forEach(function(r){I_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I_e(e,t,n){return t=D_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D_e(e){var t=M_e(e,"string");return Em(t)=="symbol"?t:String(t)}function M_e(e,t){if(Em(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R_e(e,t){return B_e(e)||F_e(e,t)||L_e(e,t)||$_e()}function $_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L_e(e,t){if(e){if(typeof e=="string")return dM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dM(e,t)}}function dM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function B_e(e){if(Array.isArray(e))return e}var Vv=v.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,s=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,y=e.id,x=e.className,w=e.onResize,j=e.style,b=j===void 0?{}:j,S=v.useRef(null),N=v.useRef();N.current=w,v.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var C=v.useState({containerWidth:s.width,containerHeight:s.height}),_=R_e(C,2),k=_[0],P=_[1],A=v.useCallback(function(L,E){P(function(R){var O=Math.round(L),F=Math.round(E);return R.containerWidth===O&&R.containerHeight===F?R:{containerWidth:O,containerHeight:F}})},[]);v.useEffect(function(){var L=function(M){var $,z=M[0].contentRect,W=z.width,H=z.height;A(W,H),($=N.current)===null||$===void 0||$.call(N,W,H)};p>0&&(L=hV(L,p,{trailing:!0,leading:!1}));var E=new ResizeObserver(L),R=S.current.getBoundingClientRect(),O=R.width,F=R.height;return A(O,F),E.observe(S.current),function(){E.disconnect()}},[A,p]);var I=v.useMemo(function(){var L=k.containerWidth,E=k.containerHeight;if(L<0||E<0)return null;xa(Wl(o)||Wl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),xa(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=Wl(o)?L:o,O=Wl(c)?E:c;n&&n>0&&(R?O=R/n:O&&(R=O*n),h&&O>h&&(O=h)),xa(R>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,O,o,c,d,f,n);var F=!Array.isArray(m)&&Hy.isElement(m)&&Ai(m.type).endsWith("Chart");return T.Children.map(m,function(D){return Hy.isElement(D)?v.cloneElement(D,Jg({width:R,height:O},F?{style:Jg({height:"100%",width:"100%",maxHeight:O,maxWidth:R},D.props.style)}:{})):D})},[n,m,c,h,f,d,k,o]);return T.createElement("div",{id:y?"".concat(y):void 0,className:Ye("recharts-responsive-container",x),style:Jg(Jg({},b),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},I)}),Bw=function(t){return null};Bw.displayName="Cell";function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function fM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function p_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(n),!0).forEach(function(r){z_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z_e(e,t,n){return t=W_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_e(e){var t=V_e(e,"string");return km(t)=="symbol"?t:String(t)}function V_e(e,t){if(km(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uc={widthCache:{},cacheCount:0},U_e=2e3,q_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hM="recharts_measurement_span";function H_e(e){var t=p_({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Dh=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ka.isSsr)return{width:0,height:0};var r=H_e(n),s=JSON.stringify({text:t,copyStyle:r});if(Uc.widthCache[s])return Uc.widthCache[s];try{var a=document.getElementById(hM);a||(a=document.createElement("span"),a.setAttribute("id",hM),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=p_(p_({},q_e),r);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Uc.widthCache[s]=c,++Uc.cacheCount>U_e&&(Uc.cacheCount=0,Uc.widthCache={}),c}catch{return{width:0,height:0}}},G_e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function ox(e,t){return J_e(e)||X_e(e,t)||Y_e(e,t)||K_e()}function K_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y_e(e,t){if(e){if(typeof e=="string")return mM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mM(e,t)}}function mM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function J_e(e){if(Array.isArray(e))return e}function Q_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eCe(r.key),r)}}function Z_e(e,t,n){return t&&pM(e.prototype,t),n&&pM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function eCe(e){var t=tCe(e,"string");return Am(t)=="symbol"?t:String(t)}function tCe(e,t){if(Am(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sCe=Object.keys(mV),ju="NaN";function aCe(e,t){return e*mV[t]}var Qg=function(){function e(t,n){Q_e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!nCe.test(n)&&(this.num=NaN,this.unit=""),sCe.includes(n)&&(this.num=aCe(t,n),this.unit="px")}return Z_e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=rCe.exec(n))!==null&&r!==void 0?r:[],a=ox(s,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}]),e}();function pV(e){if(e.includes(ju))return ju;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=gM.exec(t))!==null&&n!==void 0?n:[],s=ox(r,4),a=s[1],o=s[2],l=s[3],c=Qg.parse(a??""),u=Qg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return ju;t=t.replace(gM,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=vM.exec(t))!==null&&f!==void 0?f:[],m=ox(h,4),g=m[1],p=m[2],y=m[3],x=Qg.parse(g??""),w=Qg.parse(y??""),j=p==="+"?x.add(w):x.subtract(w);if(j.isNaN())return ju;t=t.replace(vM,j.toString())}return t}var yM=/\(([^()]*)\)/;function iCe(e){for(var t=e;t.includes("(");){var n=yM.exec(t),r=ox(n,2),s=r[1];t=t.replace(yM,pV(s))}return t}function oCe(e){var t=e.replace(/\s+/g,"");return t=iCe(t),t=pV(t),t}function lCe(e){try{return oCe(e)}catch{return ju}}function d1(e){var t=lCe(e.slice(5,-1));return t===ju?"":t}var cCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uCe=["dx","dy","angle","className","breakAll"];function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g_.apply(this,arguments)}function xM(e,t){if(e==null)return{};var n=dCe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dCe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function wM(e,t){return pCe(e)||mCe(e,t)||hCe(e,t)||fCe()}function fCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hCe(e,t){if(e){if(typeof e=="string")return bM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bM(e,t)}}function bM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mCe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function pCe(e){if(Array.isArray(e))return e}var gV=/[ \f\n\r\t\v\u2028\u2029]+/,vV=function(t){var n=t.children,r=t.breakAll,s=t.style;try{var a=[];Ue(n)||(r?a=n.toString().split(""):a=n.toString().split(gV));var o=a.map(function(c){return{word:c,width:Dh(c,s).width}}),l=r?0:Dh("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},gCe=function(t,n,r,s,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=we(o),f=l,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(O,F){var D=F.word,M=F.width,$=O[O.length-1];if($&&(s==null||a||$.width+M+r<Number(s)))$.words.push(D),$.width+=M+r;else{var z={words:[D],width:M};O.push(z)}return O},[])},m=h(n),g=function(R){return R.reduce(function(O,F){return O.width>F.width?O:F})};if(!d)return m;for(var p="",y=function(R){var O=f.slice(0,R),F=vV({breakAll:u,style:c,children:O+p}).wordsWithComputedWidth,D=h(F),M=D.length>o||g(D).width>Number(s);return[M,D]},x=0,w=f.length-1,j=0,b;x<=w&&j<=f.length-1;){var S=Math.floor((x+w)/2),N=S-1,C=y(N),_=wM(C,2),k=_[0],P=_[1],A=y(S),I=wM(A,1),L=I[0];if(!k&&!L&&(x=S+1),k&&L&&(w=S-1),!k&&L){b=P;break}j++}return b||m},jM=function(t){var n=Ue(t)?[]:t.toString().split(gV);return[{words:n}]},vCe=function(t){var n=t.width,r=t.scaleToFit,s=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!Ka.isSsr){var c,u,d=vV({breakAll:o,children:s,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return jM(s);return gCe({breakAll:o,children:s,maxLines:l,style:a},c,u,n,r)}return jM(s)},SM="#808080",fc=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,y=t.fill,x=y===void 0?SM:y,w=xM(t,cCe),j=v.useMemo(function(){return vCe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),b=w.dx,S=w.dy,N=w.angle,C=w.className,_=w.breakAll,k=xM(w,uCe);if(!Sn(r)||!Sn(a))return null;var P=r+(we(b)?b:0),A=a+(we(S)?S:0),I;switch(p){case"start":I=d1("calc(".concat(u,")"));break;case"middle":I=d1("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=d1("calc(".concat(j.length-1," * -").concat(l,")"));break}var L=[];if(f){var E=j[0].width,R=w.width;L.push("scale(".concat((we(R)?R/E:1)/E,")"))}return N&&L.push("rotate(".concat(N,", ").concat(P,", ").concat(A,")")),L.length&&(k.transform=L.join(" ")),T.createElement("text",g_({},$e(k,!0),{x:P,y:A,className:Ye("recharts-text",C),textAnchor:m,fill:x.includes("url")?SM:x}),j.map(function(O,F){var D=O.words.join(_?"":" ");return T.createElement("tspan",{x:P,dy:F===0?I:l,key:D},D)}))};function $o(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yCe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function OA(e){let t,n,r;e.length!==2?(t=$o,n=(l,c)=>$o(e(l),c),r=(l,c)=>e(l)-c):(t=e===$o||e===yCe?e:xCe,n=e,r=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:s,center:o,right:a}}function xCe(){return 0}function yV(e){return e===null?NaN:+e}function*wCe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const bCe=OA($o),Zp=bCe.right;OA(yV).center;class NM extends Map{constructor(t,n=NCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(_M(this,t))}has(t){return super.has(_M(this,t))}set(t,n){return super.set(jCe(this,t),n)}delete(t){return super.delete(SCe(this,t))}}function _M({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function jCe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function SCe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function NCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _Ce(e=$o){if(e===$o)return xV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function xV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const CCe=Math.sqrt(50),ECe=Math.sqrt(10),kCe=Math.sqrt(2);function lx(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),a=r/Math.pow(10,s),o=a>=CCe?10:a>=ECe?5:a>=kCe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?lx(e,t,n*2):[l,c,u]}function v_(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,a,o]=r?lx(t,e,n):lx(e,t,n);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function y_(e,t,n){return t=+t,e=+e,n=+n,lx(e,t,n)[2]}function x_(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?y_(t,e,n):y_(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function CM(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function EM(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function wV(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?xV:_Ce(s);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/c+h)),g=Math.min(r,Math.floor(t+(c-u)*f/c+h));wV(e,t,m,g,s)}const a=e[t];let o=n,l=r;for(Df(e,n,t),s(e[r],a)>0&&Df(e,n,r);o<l;){for(Df(e,o,l),++o,--l;s(e[o],a)<0;)++o;for(;s(e[l],a)>0;)--l}s(e[n],a)===0?Df(e,n,l):(++l,Df(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Df(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ACe(e,t,n){if(e=Float64Array.from(wCe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return EM(e);if(t>=1)return CM(e);var r,s=(r-1)*t,a=Math.floor(s),o=CM(wV(e,a).subarray(0,a+1)),l=EM(e.subarray(a+1));return o+(l-o)*(s-a)}}function PCe(e,t,n=yV){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,a=Math.floor(s),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(s-a)}}function TCe(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(s);++r<s;)a[r]=e+r*n;return a}function Ys(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const w_=Symbol("implicit");function IA(){var e=new NM,t=[],n=[],r=w_;function s(a){let o=e.get(a);if(o===void 0){if(r!==w_)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new NM;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return IA(t,n).unknown(r)},Ys.apply(s,arguments),s}function Pm(){var e=IA().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<r,g=m?s:r,p=m?r:s;a=(p-g)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),g+=(p-g-a*(h-c))*d,o=a*(1-c),l&&(g=Math.round(g),o=Math.round(o));var y=TCe(h).map(function(x){return g+a*x});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,s]=h,r=+r,s=+s,f()):[r,s]},e.rangeRound=function(h){return[r,s]=h,r=+r,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Pm(t(),[r,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ys.apply(f(),arguments)}function bV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return bV(t())},e}function Mh(){return bV(Pm.apply(null,arguments).paddingInner(1))}function DA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jV(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function eg(){}var Tm=.7,cx=1/Tm,zu="\\s*([+-]?\\d+)\\s*",Om="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OCe=/^#([0-9a-f]{3,8})$/,ICe=new RegExp(`^rgb\\(${zu},${zu},${zu}\\)$`),DCe=new RegExp(`^rgb\\(${Ya},${Ya},${Ya}\\)$`),MCe=new RegExp(`^rgba\\(${zu},${zu},${zu},${Om}\\)$`),RCe=new RegExp(`^rgba\\(${Ya},${Ya},${Ya},${Om}\\)$`),$Ce=new RegExp(`^hsl\\(${Om},${Ya},${Ya}\\)$`),LCe=new RegExp(`^hsla\\(${Om},${Ya},${Ya},${Om}\\)$`),kM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DA(eg,hc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:AM,formatHex:AM,formatHex8:FCe,formatHsl:BCe,formatRgb:PM,toString:PM});function AM(){return this.rgb().formatHex()}function FCe(){return this.rgb().formatHex8()}function BCe(){return SV(this).formatHsl()}function PM(){return this.rgb().formatRgb()}function hc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=OCe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?TM(t):n===3?new Wr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Zg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Zg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ICe.exec(e))?new Wr(t[1],t[2],t[3],1):(t=DCe.exec(e))?new Wr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=MCe.exec(e))?Zg(t[1],t[2],t[3],t[4]):(t=RCe.exec(e))?Zg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$Ce.exec(e))?DM(t[1],t[2]/100,t[3]/100,1):(t=LCe.exec(e))?DM(t[1],t[2]/100,t[3]/100,t[4]):kM.hasOwnProperty(e)?TM(kM[e]):e==="transparent"?new Wr(NaN,NaN,NaN,0):null}function TM(e){return new Wr(e>>16&255,e>>8&255,e&255,1)}function Zg(e,t,n,r){return r<=0&&(e=t=n=NaN),new Wr(e,t,n,r)}function zCe(e){return e instanceof eg||(e=hc(e)),e?(e=e.rgb(),new Wr(e.r,e.g,e.b,e.opacity)):new Wr}function b_(e,t,n,r){return arguments.length===1?zCe(e):new Wr(e,t,n,r??1)}function Wr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}DA(Wr,b_,jV(eg,{brighter(e){return e=e==null?cx:Math.pow(cx,e),new Wr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tm:Math.pow(Tm,e),new Wr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wr(Ql(this.r),Ql(this.g),Ql(this.b),ux(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OM,formatHex:OM,formatHex8:WCe,formatRgb:IM,toString:IM}));function OM(){return`#${Vl(this.r)}${Vl(this.g)}${Vl(this.b)}`}function WCe(){return`#${Vl(this.r)}${Vl(this.g)}${Vl(this.b)}${Vl((isNaN(this.opacity)?1:this.opacity)*255)}`}function IM(){const e=ux(this.opacity);return`${e===1?"rgb(":"rgba("}${Ql(this.r)}, ${Ql(this.g)}, ${Ql(this.b)}${e===1?")":`, ${e})`}`}function ux(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ql(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vl(e){return e=Ql(e),(e<16?"0":"")+e.toString(16)}function DM(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ha(e,t,n,r)}function SV(e){if(e instanceof ha)return new ha(e.h,e.s,e.l,e.opacity);if(e instanceof eg||(e=hc(e)),!e)return new ha;if(e instanceof ha)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new ha(o,l,c,e.opacity)}function VCe(e,t,n,r){return arguments.length===1?SV(e):new ha(e,t,n,r??1)}function ha(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}DA(ha,VCe,jV(eg,{brighter(e){return e=e==null?cx:Math.pow(cx,e),new ha(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tm:Math.pow(Tm,e),new ha(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Wr(f1(e>=240?e-240:e+120,s,r),f1(e,s,r),f1(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new ha(MM(this.h),ev(this.s),ev(this.l),ux(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ux(this.opacity);return`${e===1?"hsl(":"hsla("}${MM(this.h)}, ${ev(this.s)*100}%, ${ev(this.l)*100}%${e===1?")":`, ${e})`}`}}));function MM(e){return e=(e||0)%360,e<0?e+360:e}function ev(e){return Math.max(0,Math.min(1,e||0))}function f1(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const MA=e=>()=>e;function UCe(e,t){return function(n){return e+n*t}}function qCe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function HCe(e){return(e=+e)==1?NV:function(t,n){return n-t?qCe(t,n,e):MA(isNaN(t)?n:t)}}function NV(e,t){var n=t-e;return n?UCe(e,n):MA(isNaN(e)?t:e)}const dx=function e(t){var n=HCe(t);function r(s,a){var o=n((s=b_(s)).r,(a=b_(a)).r),l=n(s.g,a.g),c=n(s.b,a.b),u=NV(s.opacity,a.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function GCe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(a){for(s=0;s<n;++s)r[s]=e[s]*(1-a)+t[s]*a;return r}}function KCe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function YCe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)s[o]=cf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=s[o](l);return a}}function XCe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function fa(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function JCe(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=cf(e[s],t[s]):r[s]=t[s];return function(a){for(s in n)r[s]=n[s](a);return r}}var j_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,h1=new RegExp(j_.source,"g");function QCe(e){return function(){return e}}function ZCe(e){return function(t){return e(t)+""}}function _V(e,t){var n=j_.lastIndex=h1.lastIndex=0,r,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=j_.exec(e))&&(s=h1.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:fa(r,s)})),n=h1.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?ZCe(c[0].x):QCe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function cf(e,t){var n=typeof t,r;return t==null||n==="boolean"?MA(t):(n==="number"?fa:n==="string"?(r=hc(t))?(t=r,dx):_V:t instanceof hc?dx:t instanceof Date?XCe:KCe(t)?GCe:Array.isArray(t)?YCe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?JCe:fa)(e,t)}function RA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var RM=180/Math.PI,S_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function CV(e,t,n,r,s,a){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:s,translateY:a,rotate:Math.atan2(t,e)*RM,skewX:Math.atan(c)*RM,scaleX:o,scaleY:l}}var tv;function eEe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?S_:CV(t.a,t.b,t.c,t.d,t.e,t.f)}function tEe(e){return e==null||(tv||(tv=document.createElementNS("http://www.w3.org/2000/svg","g")),tv.setAttribute("transform",e),!(e=tv.transform.baseVal.consolidate()))?S_:(e=e.matrix,CV(e.a,e.b,e.c,e.d,e.e,e.f))}function EV(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function a(u,d,f,h,m,g){if(u!==f||d!==h){var p=m.push("translate(",null,t,null,n);g.push({i:p-4,x:fa(u,f)},{i:p-2,x:fa(d,h)})}else(f||h)&&m.push("translate("+f+t+h+n)}function o(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(s(f)+"rotate(",null,r)-2,x:fa(u,d)})):d&&f.push(s(f)+"rotate("+d+r)}function l(u,d,f,h){u!==d?h.push({i:f.push(s(f)+"skewX(",null,r)-2,x:fa(u,d)}):d&&f.push(s(f)+"skewX("+d+r)}function c(u,d,f,h,m,g){if(u!==f||d!==h){var p=m.push(s(m)+"scale(",null,",",null,")");g.push({i:p-4,x:fa(u,f)},{i:p-2,x:fa(d,h)})}else(f!==1||h!==1)&&m.push(s(m)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),a(u.translateX,u.translateY,d.translateX,d.translateY,f,h),o(u.rotate,d.rotate,f,h),l(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(m){for(var g=-1,p=h.length,y;++g<p;)f[(y=h[g]).i]=y.x(m);return f.join("")}}}var nEe=EV(eEe,"px, ","px)","deg)"),rEe=EV(tEe,", ",")",")"),sEe=1e-12;function $M(e){return((e=Math.exp(e))+1/e)/2}function aEe(e){return((e=Math.exp(e))-1/e)/2}function iEe(e){return((e=Math.exp(2*e))-1)/(e+1)}const oEe=function e(t,n,r){function s(a,o){var l=a[0],c=a[1],u=a[2],d=o[0],f=o[1],h=o[2],m=d-l,g=f-c,p=m*m+g*g,y,x;if(p<sEe)x=Math.log(h/u)/t,y=function(C){return[l+C*m,c+C*g,u*Math.exp(t*C*x)]};else{var w=Math.sqrt(p),j=(h*h-u*u+r*p)/(2*u*n*w),b=(h*h-u*u-r*p)/(2*h*n*w),S=Math.log(Math.sqrt(j*j+1)-j),N=Math.log(Math.sqrt(b*b+1)-b);x=(N-S)/t,y=function(C){var _=C*x,k=$M(S),P=u/(n*w)*(k*iEe(t*_+S)-aEe(S));return[l+P*m,c+P*g,u*k/$M(t*_+S)]}}return y.duration=x*1e3*t/Math.SQRT2,y}return s.rho=function(a){var o=Math.max(.001,+a),l=o*o,c=l*l;return e(o,l,c)},s}(Math.SQRT2,2,4);function lEe(e,t){t===void 0&&(t=e,e=cf);for(var n=0,r=t.length-1,s=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(s,s=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function cEe(e){return function(){return e}}function fx(e){return+e}var LM=[0,1];function _r(e){return e}function N_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:cEe(isNaN(t)?NaN:.5)}function uEe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function dEe(e,t,n){var r=e[0],s=e[1],a=t[0],o=t[1];return s<r?(r=N_(s,r),a=n(o,a)):(r=N_(r,s),a=n(a,o)),function(l){return a(r(l))}}function fEe(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)s[o]=N_(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=Zp(e,l,1,r)-1;return a[c](s[c](l))}}function tg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zw(){var e=LM,t=LM,n=cf,r,s,a,o=_r,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==_r&&(o=uEe(e[0],e[h-1])),l=h>2?fEe:dEe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(r),fa)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,fx),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=RA,d()},f.clamp=function(h){return arguments.length?(o=h?!0:_r,d()):o!==_r},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,s=m,d()}}function $A(){return zw()(_r,_r)}function hEe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function hx(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function pd(e){return e=hx(Math.abs(e)),e?e[1]:NaN}function mEe(e,t){return function(n,r){for(var s=n.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function pEe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var gEe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Im(e){if(!(t=gEe.exec(e)))throw new Error("invalid format: "+e);var t;return new LA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Im.prototype=LA.prototype;function LA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}LA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vEe(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var kV;function yEe(e,t){var n=hx(e,t);if(!n)return e+"";var r=n[0],s=n[1],a=s-(kV=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+hx(e,Math.max(0,t+a-1))[0]}function FM(e,t){var n=hx(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const BM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:hEe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>FM(e*100,t),r:FM,s:yEe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zM(e){return e}var WM=Array.prototype.map,VM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xEe(e){var t=e.grouping===void 0||e.thousands===void 0?zM:mEe(WM.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?zM:pEe(WM.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Im(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,y=f.zero,x=f.width,w=f.comma,j=f.precision,b=f.trim,S=f.type;S==="n"?(w=!0,S="g"):BM[S]||(j===void 0&&(j=12),b=!0,S="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var N=p==="$"?n:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",C=p==="$"?r:/[%p]/.test(S)?o:"",_=BM[S],k=/[defgprs%]/.test(S);j=j===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function P(A){var I=N,L=C,E,R,O;if(S==="c")L=_(A)+L,A="";else{A=+A;var F=A<0||1/A<0;if(A=isNaN(A)?c:_(Math.abs(A),j),b&&(A=vEe(A)),F&&+A==0&&g!=="+"&&(F=!1),I=(F?g==="("?g:l:g==="-"||g==="("?"":g)+I,L=(S==="s"?VM[8+kV/3]:"")+L+(F&&g==="("?")":""),k){for(E=-1,R=A.length;++E<R;)if(O=A.charCodeAt(E),48>O||O>57){L=(O===46?s+A.slice(E+1):A.slice(E))+L,A=A.slice(0,E);break}}}w&&!y&&(A=t(A,1/0));var D=I.length+A.length+L.length,M=D<x?new Array(x-D+1).join(h):"";switch(w&&y&&(A=t(M+A,M.length?x-L.length:1/0),M=""),m){case"<":A=I+A+L+M;break;case"=":A=I+M+A+L;break;case"^":A=M.slice(0,D=M.length>>1)+I+A+L+M.slice(D);break;default:A=M+I+A+L;break}return a(A)}return P.toString=function(){return f+""},P}function d(f,h){var m=u((f=Im(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(pd(h)/3)))*3,p=Math.pow(10,-g),y=VM[8+g/3];return function(x){return m(p*x)+y}}return{format:u,formatPrefix:d}}var nv,FA,AV;wEe({thousands:",",grouping:[3],currency:["$",""]});function wEe(e){return nv=xEe(e),FA=nv.format,AV=nv.formatPrefix,nv}function bEe(e){return Math.max(0,-pd(Math.abs(e)))}function jEe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pd(t)/3)))*3-pd(Math.abs(e)))}function SEe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pd(t)-pd(e))+1}function PV(e,t,n,r){var s=x_(e,t,n),a;switch(r=Im(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=jEe(s,o))&&(r.precision=a),AV(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=SEe(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=bEe(s))&&(r.precision=a-(r.type==="%")*2);break}}return FA(r)}function fl(e){var t=e.domain;return e.ticks=function(n){var r=t();return v_(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return PV(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,a=r.length-1,o=r[s],l=r[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=y_(o,l,n),u===c)return r[s]=o,r[a]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function mx(){var e=$A();return e.copy=function(){return tg(e,mx())},Ys.apply(e,arguments),fl(e)}function TV(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,fx),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return TV(e).unknown(t)},e=arguments.length?Array.from(e,fx):[0,1],fl(n)}function OV(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],a=e[r],o;return a<s&&(o=n,n=r,r=o,o=s,s=a,a=o),e[n]=t.floor(s),e[r]=t.ceil(a),e}function UM(e){return Math.log(e)}function qM(e){return Math.exp(e)}function NEe(e){return-Math.log(-e)}function _Ee(e){return-Math.exp(-e)}function CEe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function EEe(e){return e===10?CEe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function kEe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function HM(e){return(t,n)=>-e(-t,n)}function BA(e){const t=e(UM,qM),n=t.domain;let r=10,s,a;function o(){return s=kEe(r),a=EEe(r),n()[0]<0?(s=HM(s),a=HM(a),e(NEe,_Ee)):e(UM,qM),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),g,p;const y=l==null?10:+l;let x=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<r;++g)if(p=h<0?g/a(-h):g*a(h),!(p<u)){if(p>d)break;x.push(p)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(p=h>0?g/a(-h):g*a(h),!(p<u)){if(p>d)break;x.push(p)}x.length*2<y&&(x=v_(u,d,y))}else x=v_(h,m,Math.min(m-h,y)).map(a);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Im(c)).precision==null&&(c.trim=!0),c=FA(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let f=d/a(Math.round(s(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},t.nice=()=>n(OV(n(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function IV(){const e=BA(zw()).domain([1,10]);return e.copy=()=>tg(e,IV()).base(e.base()),Ys.apply(e,arguments),e}function GM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function KM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zA(e){var t=1,n=e(GM(t),KM(t));return n.constant=function(r){return arguments.length?e(GM(t=+r),KM(t)):t},fl(n)}function DV(){var e=zA(zw());return e.copy=function(){return tg(e,DV()).constant(e.constant())},Ys.apply(e,arguments)}function YM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function AEe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function PEe(e){return e<0?-e*e:e*e}function WA(e){var t=e(_r,_r),n=1;function r(){return n===1?e(_r,_r):n===.5?e(AEe,PEe):e(YM(n),YM(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},fl(t)}function VA(){var e=WA(zw());return e.copy=function(){return tg(e,VA()).exponent(e.exponent())},Ys.apply(e,arguments),e}function TEe(){return VA.apply(null,arguments).exponent(.5)}function XM(e){return Math.sign(e)*e*e}function OEe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function MV(){var e=$A(),t=[0,1],n=!1,r;function s(a){var o=OEe(e(a));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(a){return e.invert(XM(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,fx)).map(XM)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(n=!!a,s):n},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return MV(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ys.apply(s,arguments),fl(s)}function RV(){var e=[],t=[],n=[],r;function s(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=PCe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Zp(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort($o),s()},a.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return RV().domain(e).range(t).unknown(r)},Ys.apply(a,arguments)}function $V(){var e=0,t=1,n=1,r=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[Zp(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return $V().domain([e,t]).range(s).unknown(a)},Ys.apply(fl(o),arguments)}function LV(){var e=[.5],t=[0,1],n,r=1;function s(a){return a!=null&&a<=a?t[Zp(e,a,0,r)]:n}return s.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return LV().domain(e).range(t).unknown(n)},Ys.apply(s,arguments)}const m1=new Date,p1=new Date;function Nn(e,t,n,r){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},s.filter=a=>Nn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(s.count=(a,o)=>(m1.setTime(+a),p1.setTime(+o),e(m1),e(p1),Math.floor(n(m1,p1))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(r?o=>r(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const px=Nn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);px.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Nn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):px);px.range;const bi=1e3,Ls=bi*60,ji=Ls*60,Ui=ji*24,UA=Ui*7,JM=Ui*30,g1=Ui*365,Ul=Nn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bi)},(e,t)=>(t-e)/bi,e=>e.getUTCSeconds());Ul.range;const qA=Nn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bi)},(e,t)=>{e.setTime(+e+t*Ls)},(e,t)=>(t-e)/Ls,e=>e.getMinutes());qA.range;const HA=Nn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ls)},(e,t)=>(t-e)/Ls,e=>e.getUTCMinutes());HA.range;const GA=Nn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bi-e.getMinutes()*Ls)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getHours());GA.range;const KA=Nn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getUTCHours());KA.range;const ng=Nn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ls)/Ui,e=>e.getDate()-1);ng.range;const Ww=Nn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ui,e=>e.getUTCDate()-1);Ww.range;const FV=Nn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ui,e=>Math.floor(e/Ui));FV.range;function Tc(e){return Nn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ls)/UA)}const Vw=Tc(0),gx=Tc(1),IEe=Tc(2),DEe=Tc(3),gd=Tc(4),MEe=Tc(5),REe=Tc(6);Vw.range;gx.range;IEe.range;DEe.range;gd.range;MEe.range;REe.range;function Oc(e){return Nn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/UA)}const Uw=Oc(0),vx=Oc(1),$Ee=Oc(2),LEe=Oc(3),vd=Oc(4),FEe=Oc(5),BEe=Oc(6);Uw.range;vx.range;$Ee.range;LEe.range;vd.range;FEe.range;BEe.range;const YA=Nn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());YA.range;const XA=Nn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());XA.range;const qi=Nn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());qi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});qi.range;const Hi=Nn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Nn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Hi.range;function BV(e,t,n,r,s,a){const o=[[Ul,1,bi],[Ul,5,5*bi],[Ul,15,15*bi],[Ul,30,30*bi],[a,1,Ls],[a,5,5*Ls],[a,15,15*Ls],[a,30,30*Ls],[s,1,ji],[s,3,3*ji],[s,6,6*ji],[s,12,12*ji],[r,1,Ui],[r,2,2*Ui],[n,1,UA],[t,1,JM],[t,3,3*JM],[e,1,g1]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=OA(([,,y])=>y).right(o,h);if(m===o.length)return e.every(x_(u/g1,d/g1,f));if(m===0)return px.every(Math.max(x_(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[zEe,WEe]=BV(Hi,XA,Uw,FV,KA,HA),[VEe,UEe]=BV(qi,YA,Vw,ng,GA,qA);function v1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function y1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Mf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function qEe(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Rf(s),d=$f(s),f=Rf(a),h=$f(a),m=Rf(o),g=$f(o),p=Rf(l),y=$f(l),x=Rf(c),w=$f(c),j={a:F,A:D,b:M,B:$,c:null,d:rR,e:rR,f:mke,g:Nke,G:Cke,H:dke,I:fke,j:hke,L:zV,m:pke,M:gke,p:z,q:W,Q:iR,s:oR,S:vke,u:yke,U:xke,V:wke,w:bke,W:jke,x:null,X:null,y:Ske,Y:_ke,Z:Eke,"%":aR},b={a:H,A:V,b:te,B:ne,c:null,d:sR,e:sR,f:Tke,g:zke,G:Vke,H:kke,I:Ake,j:Pke,L:VV,m:Oke,M:Ike,p:X,q:ee,Q:iR,s:oR,S:Dke,u:Mke,U:Rke,V:$ke,w:Lke,W:Fke,x:null,X:null,y:Bke,Y:Wke,Z:Uke,"%":aR},S={a:P,A,b:I,B:L,c:E,d:tR,e:tR,f:oke,g:eR,G:ZM,H:nR,I:nR,j:rke,L:ike,m:nke,M:ske,p:k,q:tke,Q:cke,s:uke,S:ake,u:XEe,U:JEe,V:QEe,w:YEe,W:ZEe,x:R,X:O,y:eR,Y:ZM,Z:eke,"%":lke};j.x=N(n,j),j.X=N(r,j),j.c=N(t,j),b.x=N(n,b),b.X=N(r,b),b.c=N(t,b);function N(Z,ae){return function(ce){var q=[],be=-1,Se=0,Ae=Z.length,Q,me,J;for(ce instanceof Date||(ce=new Date(+ce));++be<Ae;)Z.charCodeAt(be)===37&&(q.push(Z.slice(Se,be)),(me=QM[Q=Z.charAt(++be)])!=null?Q=Z.charAt(++be):me=Q==="e"?" ":"0",(J=ae[Q])&&(Q=J(ce,me)),q.push(Q),Se=be+1);return q.push(Z.slice(Se,be)),q.join("")}}function C(Z,ae){return function(ce){var q=Mf(1900,void 0,1),be=_(q,Z,ce+="",0),Se,Ae;if(be!=ce.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ae&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(Se=y1(Mf(q.y,0,1)),Ae=Se.getUTCDay(),Se=Ae>4||Ae===0?vx.ceil(Se):vx(Se),Se=Ww.offset(Se,(q.V-1)*7),q.y=Se.getUTCFullYear(),q.m=Se.getUTCMonth(),q.d=Se.getUTCDate()+(q.w+6)%7):(Se=v1(Mf(q.y,0,1)),Ae=Se.getDay(),Se=Ae>4||Ae===0?gx.ceil(Se):gx(Se),Se=ng.offset(Se,(q.V-1)*7),q.y=Se.getFullYear(),q.m=Se.getMonth(),q.d=Se.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Ae="Z"in q?y1(Mf(q.y,0,1)).getUTCDay():v1(Mf(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Ae+5)%7:q.w+q.U*7-(Ae+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,y1(q)):v1(q)}}function _(Z,ae,ce,q){for(var be=0,Se=ae.length,Ae=ce.length,Q,me;be<Se;){if(q>=Ae)return-1;if(Q=ae.charCodeAt(be++),Q===37){if(Q=ae.charAt(be++),me=S[Q in QM?ae.charAt(be++):Q],!me||(q=me(Z,ce,q))<0)return-1}else if(Q!=ce.charCodeAt(q++))return-1}return q}function k(Z,ae,ce){var q=u.exec(ae.slice(ce));return q?(Z.p=d.get(q[0].toLowerCase()),ce+q[0].length):-1}function P(Z,ae,ce){var q=m.exec(ae.slice(ce));return q?(Z.w=g.get(q[0].toLowerCase()),ce+q[0].length):-1}function A(Z,ae,ce){var q=f.exec(ae.slice(ce));return q?(Z.w=h.get(q[0].toLowerCase()),ce+q[0].length):-1}function I(Z,ae,ce){var q=x.exec(ae.slice(ce));return q?(Z.m=w.get(q[0].toLowerCase()),ce+q[0].length):-1}function L(Z,ae,ce){var q=p.exec(ae.slice(ce));return q?(Z.m=y.get(q[0].toLowerCase()),ce+q[0].length):-1}function E(Z,ae,ce){return _(Z,t,ae,ce)}function R(Z,ae,ce){return _(Z,n,ae,ce)}function O(Z,ae,ce){return _(Z,r,ae,ce)}function F(Z){return o[Z.getDay()]}function D(Z){return a[Z.getDay()]}function M(Z){return c[Z.getMonth()]}function $(Z){return l[Z.getMonth()]}function z(Z){return s[+(Z.getHours()>=12)]}function W(Z){return 1+~~(Z.getMonth()/3)}function H(Z){return o[Z.getUTCDay()]}function V(Z){return a[Z.getUTCDay()]}function te(Z){return c[Z.getUTCMonth()]}function ne(Z){return l[Z.getUTCMonth()]}function X(Z){return s[+(Z.getUTCHours()>=12)]}function ee(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ae=N(Z+="",j);return ae.toString=function(){return Z},ae},parse:function(Z){var ae=C(Z+="",!1);return ae.toString=function(){return Z},ae},utcFormat:function(Z){var ae=N(Z+="",b);return ae.toString=function(){return Z},ae},utcParse:function(Z){var ae=C(Z+="",!0);return ae.toString=function(){return Z},ae}}}var QM={"-":"",_:" ",0:"0"},Fn=/^\s*\d+/,HEe=/^%/,GEe=/[\\^$*+?|[\]().{}]/g;function ht(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",a=s.length;return r+(a<n?new Array(n-a+1).join(t)+s:s)}function KEe(e){return e.replace(GEe,"\\$&")}function Rf(e){return new RegExp("^(?:"+e.map(KEe).join("|")+")","i")}function $f(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function YEe(e,t,n){var r=Fn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function XEe(e,t,n){var r=Fn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function JEe(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function QEe(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ZEe(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ZM(e,t,n){var r=Fn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function eR(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eke(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tke(e,t,n){var r=Fn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function nke(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function tR(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function rke(e,t,n){var r=Fn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function nR(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ske(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ake(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ike(e,t,n){var r=Fn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function oke(e,t,n){var r=Fn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lke(e,t,n){var r=HEe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function cke(e,t,n){var r=Fn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function uke(e,t,n){var r=Fn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function rR(e,t){return ht(e.getDate(),t,2)}function dke(e,t){return ht(e.getHours(),t,2)}function fke(e,t){return ht(e.getHours()%12||12,t,2)}function hke(e,t){return ht(1+ng.count(qi(e),e),t,3)}function zV(e,t){return ht(e.getMilliseconds(),t,3)}function mke(e,t){return zV(e,t)+"000"}function pke(e,t){return ht(e.getMonth()+1,t,2)}function gke(e,t){return ht(e.getMinutes(),t,2)}function vke(e,t){return ht(e.getSeconds(),t,2)}function yke(e){var t=e.getDay();return t===0?7:t}function xke(e,t){return ht(Vw.count(qi(e)-1,e),t,2)}function WV(e){var t=e.getDay();return t>=4||t===0?gd(e):gd.ceil(e)}function wke(e,t){return e=WV(e),ht(gd.count(qi(e),e)+(qi(e).getDay()===4),t,2)}function bke(e){return e.getDay()}function jke(e,t){return ht(gx.count(qi(e)-1,e),t,2)}function Ske(e,t){return ht(e.getFullYear()%100,t,2)}function Nke(e,t){return e=WV(e),ht(e.getFullYear()%100,t,2)}function _ke(e,t){return ht(e.getFullYear()%1e4,t,4)}function Cke(e,t){var n=e.getDay();return e=n>=4||n===0?gd(e):gd.ceil(e),ht(e.getFullYear()%1e4,t,4)}function Eke(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function sR(e,t){return ht(e.getUTCDate(),t,2)}function kke(e,t){return ht(e.getUTCHours(),t,2)}function Ake(e,t){return ht(e.getUTCHours()%12||12,t,2)}function Pke(e,t){return ht(1+Ww.count(Hi(e),e),t,3)}function VV(e,t){return ht(e.getUTCMilliseconds(),t,3)}function Tke(e,t){return VV(e,t)+"000"}function Oke(e,t){return ht(e.getUTCMonth()+1,t,2)}function Ike(e,t){return ht(e.getUTCMinutes(),t,2)}function Dke(e,t){return ht(e.getUTCSeconds(),t,2)}function Mke(e){var t=e.getUTCDay();return t===0?7:t}function Rke(e,t){return ht(Uw.count(Hi(e)-1,e),t,2)}function UV(e){var t=e.getUTCDay();return t>=4||t===0?vd(e):vd.ceil(e)}function $ke(e,t){return e=UV(e),ht(vd.count(Hi(e),e)+(Hi(e).getUTCDay()===4),t,2)}function Lke(e){return e.getUTCDay()}function Fke(e,t){return ht(vx.count(Hi(e)-1,e),t,2)}function Bke(e,t){return ht(e.getUTCFullYear()%100,t,2)}function zke(e,t){return e=UV(e),ht(e.getUTCFullYear()%100,t,2)}function Wke(e,t){return ht(e.getUTCFullYear()%1e4,t,4)}function Vke(e,t){var n=e.getUTCDay();return e=n>=4||n===0?vd(e):vd.ceil(e),ht(e.getUTCFullYear()%1e4,t,4)}function Uke(){return"+0000"}function aR(){return"%"}function iR(e){return+e}function oR(e){return Math.floor(+e/1e3)}var qc,qV,HV;qke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qke(e){return qc=qEe(e),qV=qc.format,qc.parse,HV=qc.utcFormat,qc.utcParse,qc}function Hke(e){return new Date(e)}function Gke(e){return e instanceof Date?+e:+new Date(+e)}function JA(e,t,n,r,s,a,o,l,c,u){var d=$A(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),w=u("%b %d"),j=u("%B"),b=u("%Y");function S(N){return(c(N)<N?m:l(N)<N?g:o(N)<N?p:a(N)<N?y:r(N)<N?s(N)<N?x:w:n(N)<N?j:b)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Gke)):h().map(Hke)},d.ticks=function(N){var C=h();return e(C[0],C[C.length-1],N??10)},d.tickFormat=function(N,C){return C==null?S:u(C)},d.nice=function(N){var C=h();return(!N||typeof N.range!="function")&&(N=t(C[0],C[C.length-1],N??10)),N?h(OV(C,N)):d},d.copy=function(){return tg(d,JA(e,t,n,r,s,a,o,l,c,u))},d}function Kke(){return Ys.apply(JA(VEe,UEe,qi,YA,Vw,ng,GA,qA,Ul,qV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yke(){return Ys.apply(JA(zEe,WEe,Hi,XA,Uw,Ww,KA,HA,Ul,HV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qw(){var e=0,t=1,n,r,s,a,o=_r,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(a(f)-n)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),s=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(cf),u.rangeRound=d(RA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(e),r=f(t),s=n===r?0:1/(r-n),u}}function hl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function GV(){var e=fl(qw()(_r));return e.copy=function(){return hl(e,GV())},Zi.apply(e,arguments)}function KV(){var e=BA(qw()).domain([1,10]);return e.copy=function(){return hl(e,KV()).base(e.base())},Zi.apply(e,arguments)}function YV(){var e=zA(qw());return e.copy=function(){return hl(e,YV()).constant(e.constant())},Zi.apply(e,arguments)}function QA(){var e=WA(qw());return e.copy=function(){return hl(e,QA()).exponent(e.exponent())},Zi.apply(e,arguments)}function Xke(){return QA.apply(null,arguments).exponent(.5)}function XV(){var e=[],t=_r;function n(r){if(r!=null&&!isNaN(r=+r))return t((Zp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort($o),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,a)=>ACe(e,a/r))},n.copy=function(){return XV(t).domain(e)},Zi.apply(n,arguments)}function Hw(){var e=0,t=.5,n=1,r=1,s,a,o,l,c,u=_r,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-a)*(r*p<r*a?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,n]=p,s=d(e=+e),a=d(t=+t),o=d(n=+n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),r=a<s?-1:1,m):[e,t,n]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(y){var x,w,j;return arguments.length?([x,w,j]=y,u=lEe(p,[x,w,j]),m):[u(0),u(.5),u(1)]}}return m.range=g(cf),m.rangeRound=g(RA),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,s=p(e),a=p(t),o=p(n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),r=a<s?-1:1,m}}function JV(){var e=fl(Hw()(_r));return e.copy=function(){return hl(e,JV())},Zi.apply(e,arguments)}function QV(){var e=BA(Hw()).domain([.1,1,10]);return e.copy=function(){return hl(e,QV()).base(e.base())},Zi.apply(e,arguments)}function ZV(){var e=zA(Hw());return e.copy=function(){return hl(e,ZV()).constant(e.constant())},Zi.apply(e,arguments)}function ZA(){var e=WA(Hw());return e.copy=function(){return hl(e,ZA()).exponent(e.exponent())},Zi.apply(e,arguments)}function Jke(){return ZA.apply(null,arguments).exponent(.5)}const lR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Pm,scaleDiverging:JV,scaleDivergingLog:QV,scaleDivergingPow:ZA,scaleDivergingSqrt:Jke,scaleDivergingSymlog:ZV,scaleIdentity:TV,scaleImplicit:w_,scaleLinear:mx,scaleLog:IV,scaleOrdinal:IA,scalePoint:Mh,scalePow:VA,scaleQuantile:RV,scaleQuantize:$V,scaleRadial:MV,scaleSequential:GV,scaleSequentialLog:KV,scaleSequentialPow:QA,scaleSequentialQuantile:XV,scaleSequentialSqrt:Xke,scaleSequentialSymlog:YV,scaleSqrt:TEe,scaleSymlog:DV,scaleThreshold:LV,scaleTime:Kke,scaleUtc:Yke,tickFormat:PV},Symbol.toStringTag,{value:"Module"}));var Qke=Zd;function Zke(e,t,n){for(var r=-1,s=e.length;++r<s;){var a=e[r],o=t(a);if(o!=null&&(l===void 0?o===o&&!Qke(o):n(o,l)))var l=o,c=a}return c}var Gw=Zke;function eAe(e,t){return e>t}var eU=eAe,tAe=Gw,nAe=eU,rAe=lf;function sAe(e){return e&&e.length?tAe(e,rAe,nAe):void 0}var aAe=sAe;const Kw=mt(aAe);function iAe(e,t){return e<t}var tU=iAe,oAe=Gw,lAe=tU,cAe=lf;function uAe(e){return e&&e.length?oAe(e,cAe,lAe):void 0}var dAe=uAe;const Yw=mt(dAe);var fAe=fA,hAe=ii,mAe=iV,pAe=Yr;function gAe(e,t){var n=pAe(e)?fAe:mAe;return n(e,hAe(t))}var vAe=gAe,yAe=sV,xAe=vAe;function wAe(e,t){return yAe(xAe(e,t),1)}var bAe=wAe;const jAe=mt(bAe);var SAe=kA;function NAe(e,t){return SAe(e,t)}var _Ae=NAe;const rg=mt(_Ae);var uf=1e9,CAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tP,Ut=!0,Gs="[DecimalError] ",Zl=Gs+"Invalid argument: ",eP=Gs+"Exponent out of range: ",df=Math.floor,Ol=Math.pow,EAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,is,An=1e7,$t=7,nU=9007199254740991,yx=df(nU/$t),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,n,r,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===s?0:r>s^a.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*$t;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ke.dividedBy=ke.div=function(e){return Pi(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,n=t.constructor;return Ct(Pi(t,new n(e),0,1),n.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return hn(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,n=this,r=n.constructor,s=r.precision,a=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(is))throw Error(Gs+"NaN");if(n.s<1)throw Error(Gs+(n.s?"NaN":"-Infinity"));return n.eq(is)?new r(0):(Ut=!1,t=Pi(Dm(n,a),Dm(e,a),a),Ut=!0,Ct(t,s))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aU(t,e):rU(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(Gs+"NaN");return n.s?(Ut=!1,t=Pi(n,e,0,1).times(e),Ut=!0,n.minus(t)):Ct(new r(n),s)};ke.naturalExponential=ke.exp=function(){return sU(this)};ke.naturalLogarithm=ke.ln=function(){return Dm(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rU(t,e):aU(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Zl+e);if(t=hn(s)+1,r=s.d.length-1,n=r*$t+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ke.squareRoot=ke.sqrt=function(){var e,t,n,r,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Gs+"NaN")}for(e=hn(l),Ut=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=za(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=df((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(s.toString()),n=c.precision,s=o=n+3;;)if(a=r,r=a.plus(Pi(l,a,o+2)).times(.5),za(a.d).slice(0,o)===(t=za(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Ct(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return Ut=!0,Ct(r,n)};ke.times=ke.mul=function(e){var t,n,r,s,a,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,o=c,c=u,u=o),a=[],o=c+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,s=c+r;s>r;)l=a[s]+m[r]*h[s-r-1]+t,a[s--]=l%An|0,t=l/An|0;a[s]=(a[s]+t)%An|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Ut?Ct(e,f.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ei(e,0,uf),t===void 0?t=r.rounding:ei(t,0,8),Ct(n,e+hn(n)+1,t))};ke.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=mc(r,!0):(ei(e,0,uf),t===void 0?t=s.rounding:ei(t,0,8),r=Ct(new s(r),e+1,t),n=mc(r,!0,e+1)),n};ke.toFixed=function(e,t){var n,r,s=this,a=s.constructor;return e===void 0?mc(s):(ei(e,0,uf),t===void 0?t=a.rounding:ei(t,0,8),r=Ct(new a(s),e+hn(s)+1,t),n=mc(r.abs(),!1,e+hn(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return Ct(new t(e),hn(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,n,r,s,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(is);if(l=new c(l),!l.s){if(e.s<1)throw Error(Gs+"Infinity");return l}if(l.eq(is))return l;if(r=c.precision,e.eq(is))return Ct(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=d<0?-d:d)<=nU){for(s=new c(is),t=Math.ceil(r/$t+4),Ut=!1;n%2&&(s=s.times(l),uR(s.d,t)),n=df(n/2),n!==0;)l=l.times(l),uR(l.d,t);return Ut=!0,e.s<0?new c(is).div(s):Ct(s,r)}}else if(a<0)throw Error(Gs+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Ut=!1,s=e.times(Dm(l,r+u)),Ut=!0,s=sU(s),s.s=a,s};ke.toPrecision=function(e,t){var n,r,s=this,a=s.constructor;return e===void 0?(n=hn(s),r=mc(s,n<=a.toExpNeg||n>=a.toExpPos)):(ei(e,1,uf),t===void 0?t=a.rounding:ei(t,0,8),s=Ct(new a(s),e,t),n=hn(s),r=mc(s,e<=n||n<=a.toExpNeg,e)),r};ke.toSignificantDigits=ke.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ei(e,1,uf),t===void 0?t=r.rounding:ei(t,0,8)),Ct(new r(n),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=hn(e),n=e.constructor;return mc(e,t<=n.toExpNeg||t>=n.toExpPos)};function rU(e,t){var n,r,s,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ut?Ct(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),a=o-s,a){for(a<0?(r=c,a=-a,l=u.length):(r=u,s=o,l=c.length),o=Math.ceil(f/$t),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/An|0,c[a]%=An;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Ut?Ct(t,f):t}function ei(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Zl+e)}function za(e){var t,n,r,s=e.length-1,a="",o=e[0];if(s>0){for(a+=o,t=1;t<s;t++)r=e[t]+"",n=$t-r.length,n&&(a+=vo(n)),a+=r;o=e[t],r=o+"",n=$t-r.length,n&&(a+=vo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Pi=function(){function e(r,s){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*s+o,r[l]=a%An|0,o=a/An|0;return o&&r.unshift(o),r}function t(r,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,a){for(var o=0;a--;)r[a]-=o,o=r[a]<s[a]?1:0,r[a]=o*An+r[a]-s[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,a,o){var l,c,u,d,f,h,m,g,p,y,x,w,j,b,S,N,C,_,k=r.constructor,P=r.s==s.s?1:-1,A=r.d,I=s.d;if(!r.s)return new k(r);if(!s.s)throw Error(Gs+"Division by zero");for(c=r.e-s.e,C=I.length,S=A.length,m=new k(P),g=m.d=[],u=0;I[u]==(A[u]||0);)++u;if(I[u]>(A[u]||0)&&--c,a==null?w=a=k.precision:o?w=a+(hn(r)-hn(s))+1:w=a,w<0)return new k(0);if(w=w/$t+2|0,u=0,C==1)for(d=0,I=I[0],w++;(u<S||d)&&w--;u++)j=d*An+(A[u]||0),g[u]=j/I|0,d=j%I|0;else{for(d=An/(I[0]+1)|0,d>1&&(I=e(I,d),A=e(A,d),C=I.length,S=A.length),b=C,p=A.slice(0,C),y=p.length;y<C;)p[y++]=0;_=I.slice(),_.unshift(0),N=I[0],I[1]>=An/2&&++N;do d=0,l=t(I,p,C,y),l<0?(x=p[0],C!=y&&(x=x*An+(p[1]||0)),d=x/N|0,d>1?(d>=An&&(d=An-1),f=e(I,d),h=f.length,y=p.length,l=t(f,p,h,y),l==1&&(d--,n(f,C<h?_:I,h))):(d==0&&(l=d=1),f=I.slice()),h=f.length,h<y&&f.unshift(0),n(p,f,y),l==-1&&(y=p.length,l=t(I,p,C,y),l<1&&(d++,n(p,C<y?_:I,y))),y=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[y++]=A[b]||0:(p=[A[b]],y=1);while((b++<S||p[0]!==void 0)&&w--)}return g[0]||g.shift(),m.e=c,Ct(m,o?a+hn(m)+1:a)}}();function sU(e,t){var n,r,s,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(hn(e)>16)throw Error(eP+hn(e));if(!e.s)return new d(is);for(t==null?(Ut=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Ol(2,u))/Math.LN10*2+5|0,l+=r,n=s=a=new d(is),d.precision=l;;){if(s=Ct(s.times(e),l),n=n.times(++c),o=a.plus(Pi(s,n,l)),za(o.d).slice(0,l)===za(a.d).slice(0,l)){for(;u--;)a=Ct(a.times(a),l);return d.precision=f,t==null?(Ut=!0,Ct(a,f)):a}a=o}}function hn(e){for(var t=e.e*$t,n=e.d[0];n>=10;n/=10)t++;return t}function x1(e,t,n){if(t>e.LN10.sd())throw Ut=!0,n&&(e.precision=n),Error(Gs+"LN10 precision limit exceeded");return Ct(new e(e.LN10),t)}function vo(e){for(var t="";e--;)t+="0";return t}function Dm(e,t){var n,r,s,a,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,y=p.precision;if(m.s<1)throw Error(Gs+(m.s?"NaN":"-Infinity"));if(m.eq(is))return new p(0);if(t==null?(Ut=!1,u=y):u=t,m.eq(10))return t==null&&(Ut=!0),x1(p,u);if(u+=h,p.precision=u,n=za(g),r=n.charAt(0),a=hn(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=za(m.d),r=n.charAt(0),f++;a=hn(m),r>1?(m=new p("0."+n),a++):m=new p(r+"."+n.slice(1))}else return c=x1(p,u+2,y).times(a+""),m=Dm(new p(r+"."+n.slice(1)),u-h).plus(c),p.precision=y,t==null?(Ut=!0,Ct(m,y)):m;for(l=o=m=Pi(m.minus(is),m.plus(is),u),d=Ct(m.times(m),u),s=3;;){if(o=Ct(o.times(d),u),c=l.plus(Pi(o,new p(s),u)),za(c.d).slice(0,u)===za(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(x1(p,u+2,y).times(a+""))),l=Pi(l,new p(f),u),p.precision=y,t==null?(Ut=!0,Ct(l,y)):l;l=c,s+=2}}function cR(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=df(n/$t),e.d=[],r=(n+1)%$t,n<0&&(r+=$t),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=$t;r<s;)e.d.push(+t.slice(r,r+=$t));t=t.slice(r),r=$t-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),Ut&&(e.e>yx||e.e<-yx))throw Error(eP+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ct(e,t,n){var r,s,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=$t,s=t,u=f[d=0];else{if(d=Math.ceil((r+1)/$t),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;r%=$t,s=r-$t+o}if(n!==void 0&&(a=Ol(10,o-s-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?u/Ol(10,o-s):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=hn(e),f.length=1,t=t-a-1,f[0]=Ol(10,($t-t%$t)%$t),e.e=df(-t/$t)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Ol(10,$t-r),f[d]=s>0?(u/Ol(10,o-s)%Ol(10,s)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==An&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=An)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Ut&&(e.e>yx||e.e<-yx))throw Error(eP+hn(e));return e}function aU(e,t){var n,r,s,a,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ut?Ct(t,m):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),s=Math.max(Math.ceil(m/$t),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=An-1;--c[a],c[s]+=An}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Ut?Ct(t,m):t):new h(0)}function mc(e,t,n){var r,s=hn(e),a=za(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+vo(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+vo(-s-1)+a,n&&(r=n-o)>0&&(a+=vo(r))):s>=o?(a+=vo(s+1-o),n&&(r=n-s-1)>0&&(a=a+"."+vo(r))):((r=s+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(a+="."),a+=vo(r))),e.s<0?"-"+a:a}function uR(e,t){if(e.length>t)return e.length=t,!0}function iU(e){var t,n,r;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Zl+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return cR(o,a.toString())}else if(typeof a!="string")throw Error(Zl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,EAe.test(a))cR(o,a);else throw Error(Zl+a)}if(s.prototype=ke,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=iU,s.config=s.set=kAe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function kAe(e){if(!e||typeof e!="object")throw Error(Gs+"Object expected");var t,n,r,s=["precision",1,uf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(df(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(Zl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Zl+n+": "+r);return this}var tP=iU(CAe);is=new tP(1);const St=tP;function AAe(e){return IAe(e)||OAe(e)||TAe(e)||PAe()}function PAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TAe(e,t){if(e){if(typeof e=="string")return __(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(e,t)}}function OAe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function IAe(e){if(Array.isArray(e))return __(e)}function __(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var DAe=function(t){return t},oU={"@@functional/placeholder":!0},lU=function(t){return t===oU},dR=function(t){return function n(){return arguments.length===0||arguments.length===1&&lU(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},MAe=function e(t,n){return t===1?n:dR(function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==oU}).length;return o>=t?n.apply(void 0,s):e(t-o,dR(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return lU(f)?c.shift():f});return n.apply(void 0,AAe(d).concat(c))}))})},Xw=function(t){return MAe(t.length,t)},C_=function(t,n){for(var r=[],s=t;s<n;++s)r[s-t]=s;return r},RAe=Xw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),$Ae=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return DAe;var s=n.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},E_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},cU=function(t){var n=null,r=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=t.apply(void 0,a)),r}};function LAe(e){var t;return e===0?t=1:t=Math.floor(new St(e).abs().log(10).toNumber())+1,t}function FAe(e,t,n){for(var r=new St(e),s=0,a=[];r.lt(t)&&s<1e5;)a.push(r.toNumber()),r=r.add(n),s++;return a}var BAe=Xw(function(e,t,n){var r=+e,s=+t;return r+n*(s-r)}),zAe=Xw(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),WAe=Xw(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Jw={rangeStep:FAe,getDigitCount:LAe,interpolateNumber:BAe,uninterpolateNumber:zAe,uninterpolateTruncation:WAe};function k_(e){return qAe(e)||UAe(e)||uU(e)||VAe()}function VAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UAe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qAe(e){if(Array.isArray(e))return A_(e)}function Mm(e,t){return KAe(e)||GAe(e,t)||uU(e,t)||HAe()}function HAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uU(e,t){if(e){if(typeof e=="string")return A_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A_(e,t)}}function A_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GAe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,s=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){s=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(s)throw a}}return n}}function KAe(e){if(Array.isArray(e))return e}function dU(e){var t=Mm(e,2),n=t[0],r=t[1],s=n,a=r;return n>r&&(s=r,a=n),[s,a]}function fU(e,t,n){if(e.lte(0))return new St(0);var r=Jw.getDigitCount(e.toNumber()),s=new St(10).pow(r),a=e.div(s),o=r!==1?.05:.1,l=new St(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return t?c:new St(Math.ceil(c))}function YAe(e,t,n){var r=1,s=new St(e);if(!s.isint()&&n){var a=Math.abs(e);a<1?(r=new St(10).pow(Jw.getDigitCount(e)-1),s=new St(Math.floor(s.div(r).toNumber())).mul(r)):a>1&&(s=new St(Math.floor(e)))}else e===0?s=new St(Math.floor((t-1)/2)):n||(s=new St(Math.floor(e)));var o=Math.floor((t-1)/2),l=$Ae(RAe(function(c){return s.add(new St(c-o).mul(r)).toNumber()}),C_);return l(0,t)}function hU(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new St(0),tickMin:new St(0),tickMax:new St(0)};var a=fU(new St(t).sub(e).div(n-1),r,s),o;e<=0&&t>=0?o=new St(0):(o=new St(e).add(t).div(2),o=o.sub(new St(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new St(t).sub(o).div(a).toNumber()),u=l+c+1;return u>n?hU(e,t,n,r,s+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:o.sub(new St(l).mul(a)),tickMax:o.add(new St(c).mul(a))})}function XAe(e){var t=Mm(e,2),n=t[0],r=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=dU([n,r]),c=Mm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(k_(C_(0,s-1).map(function(){return 1/0}))):[].concat(k_(C_(0,s-1).map(function(){return-1/0})),[d]);return n>r?E_(f):f}if(u===d)return YAe(u,s,a);var h=hU(u,d,o,a),m=h.step,g=h.tickMin,p=h.tickMax,y=Jw.rangeStep(g,p.add(new St(.1).mul(m)),m);return n>r?E_(y):y}function JAe(e,t){var n=Mm(e,2),r=n[0],s=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=dU([r,s]),l=Mm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,s];if(c===u)return[c];var d=Math.max(t,2),f=fU(new St(u).sub(c).div(d-1),a,0),h=[].concat(k_(Jw.rangeStep(new St(c),new St(u).sub(new St(.99).mul(f)),f)),[u]);return r>s?E_(h):h}var QAe=cU(XAe),ZAe=cU(JAe),ePe="Invariant failed";function Qo(e,t){throw new Error(ePe)}var tPe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xx.apply(this,arguments)}function nPe(e,t){return iPe(e)||aPe(e,t)||sPe(e,t)||rPe()}function rPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sPe(e,t){if(e){if(typeof e=="string")return fR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fR(e,t)}}function fR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function iPe(e){if(Array.isArray(e))return e}function oPe(e,t){if(e==null)return{};var n=lPe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lPe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function sg(e){var t=e.offset,n=e.layout,r=e.width,s=e.dataKey,a=e.data,o=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=oPe(e,tPe),d=$e(u,!1);e.direction==="x"&&l.type!=="number"&&Qo();var f=a.map(function(h){var m=o(h,s),g=m.x,p=m.y,y=m.value,x=m.errorVal;if(!x)return null;var w=[],j,b;if(Array.isArray(x)){var S=nPe(x,2);j=S[0],b=S[1]}else j=b=x;if(n==="vertical"){var N=l.scale,C=p+t,_=C+r,k=C-r,P=N(y-j),A=N(y+b);w.push({x1:A,y1:_,x2:A,y2:k}),w.push({x1:P,y1:C,x2:A,y2:C}),w.push({x1:P,y1:_,x2:P,y2:k})}else if(n==="horizontal"){var I=c.scale,L=g+t,E=L-r,R=L+r,O=I(y-j),F=I(y+b);w.push({x1:E,y1:F,x2:R,y2:F}),w.push({x1:L,y1:O,x2:L,y2:F}),w.push({x1:E,y1:O,x2:R,y2:O})}return T.createElement(dt,xx({className:"recharts-errorBar",key:"bar-".concat(w.map(function(D){return"".concat(D.x1,"-").concat(D.x2,"-").concat(D.y1,"-").concat(D.y2)}))},d),w.map(function(D){return T.createElement("line",xx({},D,{key:"line-".concat(D.x1,"-").concat(D.x2,"-").concat(D.y1,"-").concat(D.y2)}))}))});return T.createElement(dt,{className:"recharts-errorBars"},f)}sg.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};sg.displayName="ErrorBar";function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function hR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function w1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(n),!0).forEach(function(r){cPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cPe(e,t,n){return t=uPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uPe(e){var t=dPe(e,"string");return Rm(t)=="symbol"?t:String(t)}function dPe(e,t){if(Rm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mU=function(t){var n=t.children,r=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,o=ns(n,fd);if(!o)return null;var l;return o.props&&o.props.payload?l=o.props&&o.props.payload:a==="children"?l=(r||[]).reduce(function(c,u){var d=u.item,f=u.props,h=f.sectors||f.data||[];return c.concat(h.map(function(m){return{type:o.props.iconType||d.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):l=(r||[]).map(function(c){var u=c.item,d=u.props,f=d.dataKey,h=d.name,m=d.legendType,g=d.hide;return{inactive:g,dataKey:f,type:o.props.iconType||m||"square",color:nP(u),value:h||f,payload:u.props}}),w1(w1(w1({},o.props),fd.getWithHeight(o,s)),{},{payload:l,item:o})};function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function mR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Is(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(n),!0).forEach(function(r){Wu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wu(e,t,n){return t=fPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fPe(e){var t=hPe(e,"string");return $m(t)=="symbol"?t:String(t)}function hPe(e,t){if($m(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pR(e){return vPe(e)||gPe(e)||pPe(e)||mPe()}function mPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pPe(e,t){if(e){if(typeof e=="string")return P_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P_(e,t)}}function gPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vPe(e){if(Array.isArray(e))return P_(e)}function P_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wn(e,t,n){return Ue(e)||Ue(t)?n:Sn(t)?hs(e,t,n):We(t)?t(e):n}function Rh(e,t,n,r){var s=jAe(e,function(l){return wn(l,t)});if(n==="number"){var a=s.filter(function(l){return we(l)||parseFloat(l)});return a.length?[Yw(a),Kw(a)]:[1/0,-1/0]}var o=r?s.filter(function(l){return!Ue(l)}):s;return o.map(function(l){return Sn(l)||l instanceof Date?l:""})}var yPe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(Sr(f-d)!==Sr(h-f)){var g=[];if(Sr(h-f)===Sr(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var y=h+c[1]-c[0];g[0]=Math.min(f,(y+f)/2),g[1]=Math.max(f,(y+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var w=Math.min(d,h),j=Math.max(d,h);if(t>(w+f)/2&&t<=(j+f)/2){o=s[u].index;break}}}else for(var b=0;b<l;b++)if(b===0&&t<=(r[b].coordinate+r[b+1].coordinate)/2||b>0&&b<l-1&&t>(r[b].coordinate+r[b-1].coordinate)/2&&t<=(r[b].coordinate+r[b+1].coordinate)/2||b===l-1&&t>(r[b].coordinate+r[b-1].coordinate)/2){o=r[b].index;break}return o},nP=function(t){var n=t,r=n.type.displayName,s=t.props,a=s.stroke,o=s.fill,l;switch(r){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},xPe=function(t){var n=t.barSize,r=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,y=g.cateAxisId,x=p.filter(function(S){return Ai(S.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].props.barSize,j=x[0].props[y];o[j]||(o[j]=[]);var b=Ue(w)?n:w;o[j].push({item:x[0],stackList:x.slice(1),barSize:Ue(b)?void 0:Nr(b,r,0)})}}return o},wPe=function(t){var n=t.barGap,r=t.barCategoryGap,s=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Nr(n,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=s/c,g=o.reduce(function(b,S){return b+S.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&m>0&&(h=!0,m*=.9,g=c*m);var p=(s-g)/2>>0,y={offset:p-u,size:0};d=o.reduce(function(b,S){var N={item:S.item,position:{offset:y.offset+y.size+u,size:h?m:S.barSize}},C=[].concat(pR(b),[N]);return y=C[C.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(_){C.push({item:_,position:y})}),C},f)}else{var x=Nr(r,s,0,!0);s-2*x-(c-1)*u<=0&&(u=0);var w=(s-2*x-(c-1)*u)/c;w>1&&(w>>=0);var j=l===+l?Math.min(w,l):w;d=o.reduce(function(b,S,N){var C=[].concat(pR(b),[{item:S.item,position:{offset:x+(w+u)*N+(w-j)/2,size:j}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(_){C.push({item:_,position:C[C.length-1].position})}),C},f)}return d},bPe=function(t,n,r,s){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=mU({children:a,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&we(t[m]))return Is(Is({},t),{},Wu({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&we(t[g]))return Is(Is({},t),{},Wu({},g,t[g]+(h||0)))}return t},jPe=function(t,n,r){return Ue(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},pU=function(t,n,r,s,a){var o=n.props.children,l=ms(o,sg).filter(function(u){return jPe(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=wn(d,r);if(Ue(f))return u;var h=Array.isArray(f)?[Yw(f),Kw(f)]:[f,f],m=c.reduce(function(g,p){var y=wn(d,p,0),x=h[0]-Math.abs(Array.isArray(y)?y[0]:y),w=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},SPe=function(t,n,r,s,a){var o=n.map(function(l){return pU(t,l,r,a,s)}).filter(function(l){return!Ue(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},gU=function(t,n,r,s,a){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&pU(t,c,u,s)||Rh(t,u,r,a)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},vU=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},yU=function(t,n,r,s){if(s)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(r),l},Si=function(t,n,r){if(!t)return null;var s=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(n||r)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Sr(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Jp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!r?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:a?a[f]:f,index:h,offset:u}})},b1=new WeakMap,rv=function(t,n){if(typeof n!="function")return t;b1.has(t)||b1.set(t,new WeakMap);var r=b1.get(t);if(r.has(n))return r.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},xU=function(t,n,r){var s=t.scale,a=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Pm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:mx(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Mh(),realScaleType:"point"}:a==="category"?{scale:Pm(),realScaleType:"band"}:{scale:mx(),realScaleType:"linear"};if(Xp(s)){var c="scale".concat(Iw(s));return{scale:(lR[c]||Mh)(),realScaleType:lR[c]?c:"point"}}return We(s)?{scale:s}:{scale:Mh(),realScaleType:"point"}},gR=1e-4,wU=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,s=t.range(),a=Math.min(s[0],s[1])-gR,o=Math.max(s[0],s[1])+gR,l=t(n[0]),c=t(n[r-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[r-1]])}},NPe=function(t,n){if(!t)return null;for(var r=0,s=t.length;r<s;r++)if(t[r].item===n)return t[r].position;return null},_Pe=function(t,n){if(!n||n.length!==2||!we(n[0])||!we(n[1]))return t;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!we(t[0])||t[0]<r)&&(a[0]=r),(!we(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<r&&(a[1]=r),a},CPe=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var a=0,o=0,l=0;l<n;++l){var c=Jp(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=a,t[l][r][1]=a+c,a=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},EPe=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var a=0,o=0;o<n;++o){var l=Jp(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=a,t[o][r][1]=a+l,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},kPe={sign:CPe,expand:Xye,none:cd,silhouette:Jye,wiggle:Qye,positive:EPe},APe=function(t,n,r){var s=n.map(function(l){return l.props.dataKey}),a=kPe[r],o=Yye().keys(s).value(function(l,c){return+wn(l,c,0)}).order(e_).offset(a);return o(t)},PPe=function(t,n,r,s,a,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var m=h.props,g=m.stackId,p=m.hide;if(p)return f;var y=h.props[r],x=f[y]||{hasStack:!1,stackGroups:{}};if(Sn(g)){var w=x.stackGroups[g]||{numericAxisId:r,cateAxisId:s,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[g]=w}else x.stackGroups[sf("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[h]};return Is(Is({},f),{},Wu({},y,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,y){var x=m.stackGroups[y];return Is(Is({},p),{},Wu({},y,{numericAxisId:r,cateAxisId:s,items:x.items,stackedData:APe(t,x.items,a)}))},g)}return Is(Is({},f),{},Wu({},h,m))},d)},bU=function(t,n){var r=n.realScaleType,s=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=QAe(u,a,l);return t.domain([Yw(d),Kw(d)]),{niceTicks:d}}if(a&&s==="number"){var f=t.domain(),h=ZAe(f,a,l);return{niceTicks:h}}return null};function vR(e){var t=e.axis,n=e.ticks,r=e.bandSize,s=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ue(s[t.dataKey])){var l=Gy(n,"value",s[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=wn(s,Ue(o)?t.dataKey:o);return Ue(c)?null:t.scale(c)}var yR=function(t){var n=t.axis,r=t.ticks,s=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+s:null;var c=wn(o,n.dataKey,n.domain[l]);return Ue(c)?null:n.scale(c)-a/2+s},TPe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return s<=0&&a>=0?0:a<0?a:s}return r[0]},OPe=function(t,n){var r=t.props.stackId;if(Sn(r)){var s=n[r];if(s){var a=s.items.indexOf(t);return a>=0?s.stackedData[a]:null}}return null},IPe=function(t){return t.reduce(function(n,r){return[Yw(r.concat([n[0]]).filter(we)),Kw(r.concat([n[1]]).filter(we))]},[1/0,-1/0])},jU=function(t,n,r){return Object.keys(t).reduce(function(s,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=IPe(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},xR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,T_=function(t,n,r){if(We(t))return t(n,r);if(!Array.isArray(t))return n;var s=[];if(we(t[0]))s[0]=r?t[0]:Math.min(t[0],n[0]);else if(xR.test(t[0])){var a=+xR.exec(t[0])[1];s[0]=n[0]-a}else We(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(we(t[1]))s[1]=r?t[1]:Math.max(t[1],n[1]);else if(wR.test(t[1])){var o=+wR.exec(t[1])[1];s[1]=n[1]+o}else We(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},wx=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!r||s>0)return s}if(t&&n&&n.length>=2){for(var a=PA(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},bR=function(t,n,r){return!t||!t.length||rg(t,hs(r,"type.defaultProps.domain"))?n:t},SU=function(t,n){var r=t.props,s=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Is(Is({},$e(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:nP(t),value:wn(n,s),type:c,payload:n,chartType:u,hide:d})};function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function jR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function pi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(n),!0).forEach(function(r){NU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NU(e,t,n){return t=DPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DPe(e){var t=MPe(e,"string");return Lm(t)=="symbol"?t:String(t)}function MPe(e,t){if(Lm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RPe(e,t){return BPe(e)||FPe(e,t)||LPe(e,t)||$Pe()}function $Pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LPe(e,t){if(e){if(typeof e=="string")return SR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SR(e,t)}}function SR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function BPe(e){if(Array.isArray(e))return e}var bx=Math.PI/180,zPe=function(t){return t*180/Math.PI},Ot=function(t,n,r,s){return{x:t+Math.cos(-bx*s)*r,y:n+Math.sin(-bx*s)*r}},_U=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},WPe=function(t,n,r,s,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Nr(t.cx,o,o/2),f=Nr(t.cy,l,l/2),h=_U(o,l,r),m=Nr(t.innerRadius,h,0),g=Nr(t.outerRadius,h,h*.8),p=Object.keys(n);return p.reduce(function(y,x){var w=n[x],j=w.domain,b=w.reversed,S;if(Ue(w.range))s==="angleAxis"?S=[c,u]:s==="radiusAxis"&&(S=[m,g]),b&&(S=[S[1],S[0]]);else{S=w.range;var N=S,C=RPe(N,2);c=C[0],u=C[1]}var _=xU(w,a),k=_.realScaleType,P=_.scale;P.domain(j).range(S),wU(P);var A=bU(P,pi(pi({},w),{},{realScaleType:k})),I=pi(pi(pi({},w),A),{},{range:S,radius:g,realScaleType:k,scale:P,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return pi(pi({},y),{},NU({},x,I))},{})},VPe=function(t,n){var r=t.x,s=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(s-o,2))},UPe=function(t,n){var r=t.x,s=t.y,a=n.cx,o=n.cy,l=VPe({x:r,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:zPe(u),angleInRadian:u}},qPe=function(t){var n=t.startAngle,r=t.endAngle,s=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(s,a);return{startAngle:n-o*360,endAngle:r-o*360}},HPe=function(t,n){var r=n.startAngle,s=n.endAngle,a=Math.floor(r/360),o=Math.floor(s/360),l=Math.min(a,o);return t+l*360},NR=function(t,n){var r=t.x,s=t.y,a=UPe({x:r,y:s},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=qPe(n),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?pi(pi({},n),{},{radius:o,angle:HPe(m,n)}):null},CU=function(t){return!v.isValidElement(t)&&!We(t)&&typeof t!="boolean"?t.className:""};function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}var GPe=["offset"];function KPe(e){return QPe(e)||JPe(e)||XPe(e)||YPe()}function YPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XPe(e,t){if(e){if(typeof e=="string")return O_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O_(e,t)}}function JPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QPe(e){if(Array.isArray(e))return O_(e)}function O_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZPe(e,t){if(e==null)return{};var n=e2e(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function e2e(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function _R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(n),!0).forEach(function(r){t2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t2e(e,t,n){return t=n2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n2e(e){var t=r2e(e,"string");return Fm(t)=="symbol"?t:String(t)}function r2e(e,t){if(Fm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bm.apply(this,arguments)}var s2e=function(t){var n=t.value,r=t.formatter,s=Ue(t.children)?n:t.children;return We(r)?r(s):s},a2e=function(t,n){var r=Sr(n-t),s=Math.min(Math.abs(n-t),360);return r*s},i2e=function(t,n,r){var s=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,y=(f+h)/2,x=a2e(m,g),w=x>=0?1:-1,j,b;s==="insideStart"?(j=m+w*o,b=p):s==="insideEnd"?(j=g-w*o,b=!p):s==="end"&&(j=g+w*o,b=p),b=x<=0?b:!b;var S=Ot(u,d,y,j),N=Ot(u,d,y,j+(b?1:-1)*359),C="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(b?0:1,`,
    `).concat(N.x,",").concat(N.y),_=Ue(t.id)?sf("recharts-radial-line-"):t.id;return T.createElement("text",Bm({},r,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:_,d:C})),T.createElement("textPath",{xlinkHref:"#".concat(_)},n))},o2e=function(t){var n=t.viewBox,r=t.offset,s=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(s==="outside"){var m=Ot(o,l,u+r,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,x=Ot(o,l,y,h),w=x.x,j=x.y;return{x:w,y:j,textAnchor:"middle",verticalAnchor:"middle"}},l2e=function(t){var n=t.viewBox,r=t.parentViewBox,s=t.offset,a=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,y=p*s,x=p>0?"end":"start",w=p>0?"start":"end";if(a==="top"){var j={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:m};return vn(vn({},j),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var b={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return vn(vn({},b),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(a==="left"){var S={x:l-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return vn(vn({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(a==="right"){var N={x:l+u+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return vn(vn({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var C=r?{width:u,height:d}:{};return a==="insideLeft"?vn({x:l+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},C):a==="insideRight"?vn({x:l+u-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):a==="insideTop"?vn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},C):a==="insideBottom"?vn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},C):a==="insideTopLeft"?vn({x:l+y,y:c+h,textAnchor:w,verticalAnchor:g},C):a==="insideTopRight"?vn({x:l+u-y,y:c+h,textAnchor:x,verticalAnchor:g},C):a==="insideBottomLeft"?vn({x:l+y,y:c+d-h,textAnchor:w,verticalAnchor:m},C):a==="insideBottomRight"?vn({x:l+u-y,y:c+d-h,textAnchor:x,verticalAnchor:m},C):ef(a)&&(we(a.x)||Wl(a.x))&&(we(a.y)||Wl(a.y))?vn({x:l+Nr(a.x,u),y:c+Nr(a.y,d),textAnchor:"end",verticalAnchor:"end"},C):vn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},c2e=function(t){return"cx"in t&&we(t.cx)};function Tn(e){var t=e.offset,n=t===void 0?5:t,r=ZPe(e,GPe),s=vn({offset:n},r),a=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!a||Ue(l)&&Ue(c)&&!v.isValidElement(u)&&!We(u))return null;if(v.isValidElement(u))return v.cloneElement(u,s);var m;if(We(u)){if(m=v.createElement(u,s),v.isValidElement(m))return m}else m=s2e(s);var g=c2e(a),p=$e(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return i2e(s,m,p);var y=g?o2e(s):l2e(s);return T.createElement(fc,Bm({className:Ye("recharts-label",f)},p,y,{breakAll:h}),m)}Tn.displayName="Label";var EU=function(t){var n=t.cx,r=t.cy,s=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,y=t.height,x=t.clockWise,w=t.labelViewBox;if(w)return w;if(we(p)&&we(y)){if(we(f)&&we(h))return{x:f,y:h,width:p,height:y};if(we(m)&&we(g))return{x:m,y:g,width:p,height:y}}return we(f)&&we(h)?{x:f,y:h,width:0,height:0}:we(n)&&we(r)?{cx:n,cy:r,startAngle:a||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},u2e=function(t,n){return t?t===!0?T.createElement(Tn,{key:"label-implicit",viewBox:n}):Sn(t)?T.createElement(Tn,{key:"label-implicit",viewBox:n,value:t}):v.isValidElement(t)?t.type===Tn?v.cloneElement(t,{key:"label-implicit",viewBox:n}):T.createElement(Tn,{key:"label-implicit",content:t,viewBox:n}):We(t)?T.createElement(Tn,{key:"label-implicit",content:t,viewBox:n}):ef(t)?T.createElement(Tn,Bm({viewBox:n},t,{key:"label-implicit"})):null:null},d2e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var s=t.children,a=EU(t),o=ms(s,Tn).map(function(c,u){return v.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var l=u2e(t.label,n||a);return[l].concat(KPe(o))};Tn.parseViewBox=EU;Tn.renderCallByParent=d2e;function f2e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var h2e=f2e;const m2e=mt(h2e);function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}var p2e=["valueAccessor"],g2e=["data","dataKey","clockWise","id","textBreakAll"];function v2e(e){return b2e(e)||w2e(e)||x2e(e)||y2e()}function y2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x2e(e,t){if(e){if(typeof e=="string")return I_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(e,t)}}function w2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b2e(e){if(Array.isArray(e))return I_(e)}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jx.apply(this,arguments)}function CR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ER(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(n),!0).forEach(function(r){j2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j2e(e,t,n){return t=S2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S2e(e){var t=N2e(e,"string");return zm(t)=="symbol"?t:String(t)}function N2e(e,t){if(zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kR(e,t){if(e==null)return{};var n=_2e(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _2e(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var C2e=function(t){return Array.isArray(t.value)?m2e(t.value):t.value};function Ti(e){var t=e.valueAccessor,n=t===void 0?C2e:t,r=kR(e,p2e),s=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=kR(r,g2e);return!s||!s.length?null:T.createElement(dt,{className:"recharts-label-list"},s.map(function(d,f){var h=Ue(a)?n(d,f):wn(d&&d.payload,a),m=Ue(l)?{}:{id:"".concat(l,"-").concat(f)};return T.createElement(Tn,jx({},$e(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Tn.parseViewBox(Ue(o)?d:ER(ER({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ti.displayName="LabelList";function E2e(e,t){return e?e===!0?T.createElement(Ti,{key:"labelList-implicit",data:t}):T.isValidElement(e)||We(e)?T.createElement(Ti,{key:"labelList-implicit",data:t,content:e}):ef(e)?T.createElement(Ti,jx({data:t},e,{key:"labelList-implicit"})):null:null}function k2e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,s=ms(r,Ti).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return s;var a=E2e(e.label,t);return[a].concat(v2e(s))}Ti.renderCallByParent=k2e;function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function D_(){return D_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D_.apply(this,arguments)}function AR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function PR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(n),!0).forEach(function(r){A2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A2e(e,t,n){return t=P2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P2e(e){var t=T2e(e,"string");return Wm(t)=="symbol"?t:String(t)}function T2e(e,t){if(Wm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O2e=function(t,n){var r=Sr(n-t),s=Math.min(Math.abs(n-t),359.999);return r*s},sv=function(t){var n=t.cx,r=t.cy,s=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/bx,h=u?a:a+o*f,m=Ot(n,r,d,h),g=Ot(n,r,s,h),p=u?a-o*f:a,y=Ot(n,r,d*Math.cos(f*bx),p);return{center:m,circleTangency:g,lineTangency:y,theta:f}},kU=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=O2e(o,l),u=o+c,d=Ot(n,r,a,o),f=Ot(n,r,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var m=Ot(n,r,s,o),g=Ot(n,r,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},I2e=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Sr(d-u),h=sv({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,y=sv({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=y.circleTangency,w=y.lineTangency,j=y.theta,b=c?Math.abs(u-d):Math.abs(u-d)-p-j;if(b<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):kU({cx:n,cy:r,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(s>0){var N=sv({cx:n,cy:r,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=N.circleTangency,_=N.lineTangency,k=N.theta,P=sv({cx:n,cy:r,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=P.circleTangency,I=P.lineTangency,L=P.theta,E=c?Math.abs(u-d):Math.abs(u-d)-k-L;if(E<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},D2e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AU=function(t){var n=PR(PR({},D2e),t),r=n.cx,s=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<a||d===f)return null;var m=Ye("recharts-sector",h),g=o-a,p=Nr(l,g,0,!0),y;return p>0&&Math.abs(d-f)<360?y=I2e({cx:r,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=kU({cx:r,cy:s,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),T.createElement("path",D_({},$e(n,!0),{className:m,d:y,role:"img"}))};function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M_.apply(this,arguments)}function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function OR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(r){M2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M2e(e,t,n){return t=R2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R2e(e){var t=$2e(e,"string");return Vm(t)=="symbol"?t:String(t)}function $2e(e,t){if(Vm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IR={curveBasisClosed:Lye,curveBasisOpen:Fye,curveBasis:$ye,curveBumpX:Sye,curveBumpY:Nye,curveLinearClosed:Bye,curveLinear:Mw,curveMonotoneX:zye,curveMonotoneY:Wye,curveNatural:Vye,curveStep:Uye,curveStepAfter:Hye,curveStepBefore:qye},av=function(t){return t.x===+t.x&&t.y===+t.y},Lf=function(t){return t.x},Ff=function(t){return t.y},L2e=function(t,n){if(We(t))return t;var r="curve".concat(Iw(t));return(r==="curveMonotone"||r==="curveBump")&&n?IR["".concat(r).concat(n==="vertical"?"Y":"X")]:IR[r]||Mw},F2e=function(t){var n=t.type,r=n===void 0?"linear":n,s=t.points,a=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=L2e(r,l),f=u?a.filter(function(p){return av(p)}):a,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return av(p)}):o,g=f.map(function(p,y){return OR(OR({},p),{},{base:m[y]})});return l==="vertical"?h=Kg().y(Ff).x1(Lf).x0(function(p){return p.base.x}):h=Kg().x(Lf).y1(Ff).y0(function(p){return p.base.y}),h.defined(av).curve(d),h(g)}return l==="vertical"&&we(o)?h=Kg().y(Ff).x1(Lf).x0(o):we(o)?h=Kg().x(Lf).y1(Ff).y0(o):h=jW().x(Lf).y(Ff),h.defined(av).curve(d),h(f)},Sx=function(t){var n=t.className,r=t.points,s=t.path,a=t.pathRef;if((!r||!r.length)&&!s)return null;var o=r&&r.length?F2e(t):s;return T.createElement("path",M_({},$e(t,!1),Ky(t),{className:Ye("recharts-curve",n),d:o,ref:a}))},PU={exports:{}},B2e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",z2e=B2e,W2e=z2e;function TU(){}function OU(){}OU.resetWarningCache=TU;var V2e=function(){function e(r,s,a,o,l,c){if(c!==W2e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:OU,resetWarningCache:TU};return n.PropTypes=n,n};PU.exports=V2e();var U2e=PU.exports;const Ke=mt(U2e);var q2e=Object.getOwnPropertyNames,H2e=Object.getOwnPropertySymbols,G2e=Object.prototype.hasOwnProperty;function DR(e,t){return function(r,s,a){return e(r,s,a)&&t(r,s,a)}}function iv(e){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,s);var a=s.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var c=e(n,r,s);return a.delete(n),a.delete(r),c}}function MR(e){return q2e(e).concat(H2e(e))}var IU=Object.hasOwn||function(e,t){return G2e.call(e,t)};function ff(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var DU="_owner",RR=Object.getOwnPropertyDescriptor,$R=Object.keys;function K2e(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Y2e(e,t){return ff(e.getTime(),t.getTime())}function LR(e,t,n){if(e.size!==t.size)return!1;for(var r={},s=e.entries(),a=0,o,l;(o=s.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var f=o.value,h=f[0],m=f[1],g=l.value,p=g[0],y=g[1];!u&&!r[d]&&(u=n.equals(h,p,a,d,e,t,n)&&n.equals(m,y,h,p,e,t,n))&&(r[d]=!0),d++}if(!u)return!1;a++}return!0}function X2e(e,t,n){var r=$R(e),s=r.length;if($R(t).length!==s)return!1;for(var a;s-- >0;)if(a=r[s],a===DU&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!IU(t,a)||!n.equals(e[a],t[a],a,a,e,t,n))return!1;return!0}function Bf(e,t,n){var r=MR(e),s=r.length;if(MR(t).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=r[s],a===DU&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!IU(t,a)||!n.equals(e[a],t[a],a,a,e,t,n)||(o=RR(e,a),l=RR(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function J2e(e,t){return ff(e.valueOf(),t.valueOf())}function Q2e(e,t){return e.source===t.source&&e.flags===t.flags}function FR(e,t,n){if(e.size!==t.size)return!1;for(var r={},s=e.values(),a,o;(a=s.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!r[u]&&(c=n.equals(a.value,o.value,a.value,o.value,e,t,n))&&(r[u]=!0),u++;if(!c)return!1}return!0}function Z2e(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var eTe="[object Arguments]",tTe="[object Boolean]",nTe="[object Date]",rTe="[object Map]",sTe="[object Number]",aTe="[object Object]",iTe="[object RegExp]",oTe="[object Set]",lTe="[object String]",cTe=Array.isArray,BR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,zR=Object.assign,uTe=Object.prototype.toString.call.bind(Object.prototype.toString);function dTe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,s=e.areObjectsEqual,a=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(d,f,h){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var m=d.constructor;if(m!==f.constructor)return!1;if(m===Object)return s(d,f,h);if(cTe(d))return t(d,f,h);if(BR!=null&&BR(d))return c(d,f,h);if(m===Date)return n(d,f,h);if(m===RegExp)return o(d,f,h);if(m===Map)return r(d,f,h);if(m===Set)return l(d,f,h);var g=uTe(d);return g===nTe?n(d,f,h):g===iTe?o(d,f,h):g===rTe?r(d,f,h):g===oTe?l(d,f,h):g===aTe?typeof d.then!="function"&&typeof f.then!="function"&&s(d,f,h):g===eTe?s(d,f,h):g===tTe||g===sTe||g===lTe?a(d,f,h):!1}}function fTe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,s={areArraysEqual:r?Bf:K2e,areDatesEqual:Y2e,areMapsEqual:r?DR(LR,Bf):LR,areObjectsEqual:r?Bf:X2e,arePrimitiveWrappersEqual:J2e,areRegExpsEqual:Q2e,areSetsEqual:r?DR(FR,Bf):FR,areTypedArraysEqual:r?Bf:Z2e};if(n&&(s=zR({},s,n(s))),t){var a=iv(s.areArraysEqual),o=iv(s.areMapsEqual),l=iv(s.areObjectsEqual),c=iv(s.areSetsEqual);s=zR({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function hTe(e){return function(t,n,r,s,a,o,l){return e(t,n,l)}}function mTe(e){var t=e.circular,n=e.comparator,r=e.createState,s=e.equals,a=e.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return n(c,u,{cache:h,equals:s,meta:m,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var pTe=ml();ml({strict:!0});ml({circular:!0});ml({circular:!0,strict:!0});ml({createInternalComparator:function(){return ff}});ml({strict:!0,createInternalComparator:function(){return ff}});ml({circular:!0,createInternalComparator:function(){return ff}});ml({circular:!0,createInternalComparator:function(){return ff},strict:!0});function ml(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,s=e.createState,a=e.strict,o=a===void 0?!1:a,l=fTe(e),c=dTe(l),u=r?r(c):hTe(c);return mTe({circular:n,comparator:c,createState:s,equals:u,strict:o})}function gTe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function WR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(a){n<0&&(n=a),a-n>t?(e(a),n=-1):gTe(s)};requestAnimationFrame(r)}function R_(e){"@babel/helpers - typeof";return R_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R_(e)}function vTe(e){return bTe(e)||wTe(e)||xTe(e)||yTe()}function yTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xTe(e,t){if(e){if(typeof e=="string")return VR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VR(e,t)}}function VR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bTe(e){if(Array.isArray(e))return e}function jTe(){var e={},t=function(){return null},n=!1,r=function s(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=vTe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){WR(s.bind(null,u),c);return}s(c),WR(s.bind(null,u));return}R_(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function UR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function qR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(n),!0).forEach(function(r){MU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MU(e,t,n){return t=STe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function STe(e){var t=NTe(e,"string");return Um(t)==="symbol"?t:String(t)}function NTe(e,t){if(Um(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Um(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Te=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,s){return r.filter(function(a){return s.includes(a)})})},CTe=function(t){return t},ETe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},$h=function(t,n){return Object.keys(n).reduce(function(r,s){return qR(qR({},r),{},MU({},s,t(s,n[s])))},{})},HR=function(t,n,r){return t.map(function(s){return"".concat(ETe(s)," ").concat(n,"ms ").concat(r)}).join(",")};function kTe(e,t){return TTe(e)||PTe(e,t)||RU(e,t)||ATe()}function ATe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function TTe(e){if(Array.isArray(e))return e}function OTe(e){return MTe(e)||DTe(e)||RU(e)||ITe()}function ITe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RU(e,t){if(e){if(typeof e=="string")return $_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(e,t)}}function DTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MTe(e){if(Array.isArray(e))return $_(e)}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nx=1e-4,$U=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},LU=function(t,n){return t.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},GR=function(t,n){return function(r){var s=$U(t,n);return LU(s,r)}},RTe=function(t,n){return function(r){var s=$U(t,n),a=[].concat(OTe(s.map(function(o,l){return o*l}).slice(1)),[0]);return LU(a,r)}},KR=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=kTe(u,4);s=d[0],a=d[1],o=d[2],l=d[3]}}}var f=GR(s,o),h=GR(a,l),m=RTe(s,o),g=function(x){return x>1?1:x<0?0:x},p=function(x){for(var w=x>1?1:x,j=w,b=0;b<8;++b){var S=f(j)-w,N=m(j);if(Math.abs(S-w)<Nx||N<Nx)return h(j);j=g(j-S/N)}return h(j)};return p.isStepper=!1,p},$Te=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,s=t.damping,a=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*r,g=h*a,p=h+(m-g)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<Nx&&Math.abs(p)<Nx?[f,0]:[y,p]};return c.isStepper=!0,c.dt=l,c},LTe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KR(s);case"spring":return $Te();default:if(s.split("(")[0]==="cubic-bezier")return KR(s)}return typeof s=="function"?s:null};function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function YR(e){return zTe(e)||BTe(e)||FU(e)||FTe()}function FTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zTe(e){if(Array.isArray(e))return F_(e)}function XR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(n),!0).forEach(function(r){L_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L_(e,t,n){return t=WTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WTe(e){var t=VTe(e,"string");return qm(t)==="symbol"?t:String(t)}function VTe(e,t){if(qm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UTe(e,t){return GTe(e)||HTe(e,t)||FU(e,t)||qTe()}function qTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FU(e,t){if(e){if(typeof e=="string")return F_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(e,t)}}function F_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function GTe(e){if(Array.isArray(e))return e}var _x=function(t,n,r){return t+(n-t)*r},B_=function(t){var n=t.from,r=t.to;return n!==r},KTe=function e(t,n,r){var s=$h(function(a,o){if(B_(o)){var l=t(o.from,o.to,o.velocity),c=UTe(l,2),u=c[0],d=c[1];return Wn(Wn({},o),{},{from:u,velocity:d})}return o},n);return r<1?$h(function(a,o){return B_(o)?Wn(Wn({},o),{},{velocity:_x(o.velocity,s[a].velocity,r),from:_x(o.from,s[a].from,r)}):o},n):e(t,s,r-1)};const YTe=function(e,t,n,r,s){var a=_Te(e,t),o=a.reduce(function(y,x){return Wn(Wn({},y),{},L_({},x,[e[x],t[x]]))},{}),l=a.reduce(function(y,x){return Wn(Wn({},y),{},L_({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return $h(function(x,w){return w.from},l)},m=function(){return!Object.values(l).filter(B_).length},g=function(x){u||(u=x);var w=x-u,j=w/n.dt;l=KTe(n,l,j),s(Wn(Wn(Wn({},e),t),h())),u=x,m()||(c=requestAnimationFrame(f))},p=function(x){d||(d=x);var w=(x-d)/r,j=$h(function(S,N){return _x.apply(void 0,YR(N).concat([n(w)]))},o);if(s(Wn(Wn(Wn({},e),t),j)),w<1)c=requestAnimationFrame(f);else{var b=$h(function(S,N){return _x.apply(void 0,YR(N).concat([n(1)]))},o);s(Wn(Wn(Wn({},e),t),b))}};return f=n.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}var XTe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function JTe(e,t){if(e==null)return{};var n=QTe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QTe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function j1(e){return nOe(e)||tOe(e)||eOe(e)||ZTe()}function ZTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eOe(e,t){if(e){if(typeof e=="string")return z_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(e,t)}}function tOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nOe(e){if(Array.isArray(e))return z_(e)}function z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(n),!0).forEach(function(r){ah(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ah(e,t,n){return t=BU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sOe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BU(r.key),r)}}function aOe(e,t,n){return t&&sOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BU(e){var t=iOe(e,"string");return yd(t)==="symbol"?t:String(t)}function iOe(e,t){if(yd(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W_(e,t)}function W_(e,t){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},W_(e,t)}function lOe(e){var t=cOe();return function(){var r=Cx(e),s;if(t){var a=Cx(this).constructor;s=Reflect.construct(r,arguments,a)}else s=r.apply(this,arguments);return V_(this,s)}}function V_(e,t){if(t&&(yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U_(e)}function U_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cOe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cx(e){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cx(e)}var ti=function(e){oOe(n,e);var t=lOe(n);function n(r,s){var a;rOe(this,n),a=t.call(this,r,s);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(U_(a)),a.changeStyle=a.changeStyle.bind(U_(a)),!l||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),V_(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},V_(a);a.state={style:c?ah({},c,u):u}}else a.state={style:{}};return a}return aOe(n,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!o){var m={style:c?ah({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(pTe(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:s.to;if(this.state&&h){var y={style:c?ah({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(y)}this.runAnimation(ta(ta({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,m=YTe(o,l,LTe(u),c,this.changeStyle),g=function(){a.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,y,x){if(x===0)return p;var w=y.duration,j=y.easing,b=j===void 0?"ease":j,S=y.style,N=y.properties,C=y.onAnimationEnd,_=x>0?o[x-1]:y,k=N||Object.keys(S);if(typeof b=="function"||b==="spring")return[].concat(j1(p),[a.runJSAnimation.bind(a,{from:_.style,to:S,duration:w,easing:b}),w]);var P=HR(k,w,b),A=ta(ta(ta({},_.style),S),{},{transition:P});return[].concat(j1(p),[A,w,C]).filter(CTe)};return this.manager.start([c].concat(j1(o.reduce(m,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=jTe());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,m=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?ah({},l,c):c,y=HR(Object.keys(p),o,u);g.start([d,a,ta(ta({},p),{},{transition:y}),o,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=JTe(s,XTe),u=v.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(m){var g=m.props,p=g.style,y=p===void 0?{}:p,x=g.className,w=v.cloneElement(m,ta(ta({},c),{},{style:ta(ta({},y),d),className:x}));return w};return u===1?f(v.Children.only(a)):T.createElement("div",null,v.Children.map(a,function(h){return f(h)}))}}]),n}(v.PureComponent);ti.displayName="Animate";ti.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ti.propTypes={from:Ke.oneOfType([Ke.object,Ke.string]),to:Ke.oneOfType([Ke.object,Ke.string]),attributeName:Ke.string,duration:Ke.number,begin:Ke.number,easing:Ke.oneOfType([Ke.string,Ke.func]),steps:Ke.arrayOf(Ke.shape({duration:Ke.number.isRequired,style:Ke.object.isRequired,easing:Ke.oneOfType([Ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ke.func]),properties:Ke.arrayOf("string"),onAnimationEnd:Ke.func})),children:Ke.oneOfType([Ke.node,Ke.func]),isActive:Ke.bool,canBegin:Ke.bool,onAnimationEnd:Ke.func,shouldReAnimate:Ke.bool,onAnimationStart:Ke.func,onAnimationReStart:Ke.func};function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lo.apply(null,arguments)}function zU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}Ke.object,Ke.object,Ke.object,Ke.element;Ke.object,Ke.object,Ke.object,Ke.oneOfType([Ke.array,Ke.element]),Ke.any;function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ex.apply(this,arguments)}function uOe(e,t){return mOe(e)||hOe(e,t)||fOe(e,t)||dOe()}function dOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fOe(e,t){if(e){if(typeof e=="string")return QR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QR(e,t)}}function QR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hOe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function mOe(e){if(Array.isArray(e))return e}function ZR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function e$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(n),!0).forEach(function(r){pOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pOe(e,t,n){return t=gOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gOe(e){var t=vOe(e,"string");return Hm(t)=="symbol"?t:String(t)}function vOe(e,t){if(Hm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t$=function(t,n,r,s,a){var o=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,c=r>=0?1:-1,u=s>=0&&r>=0||s<0&&r<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>o?o:a[h];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*f[1])),d+="L ".concat(t+r,",").concat(n+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-c*f[2],",").concat(n+s)),d+="L ".concat(t+c*f[3],",").concat(n+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+s-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);d="M ".concat(t,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(n,`
            L `).concat(t+r-c*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*g,`
            L `).concat(t+r,",").concat(n+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r-c*g,",").concat(n+s,`
            L `).concat(t+c*g,",").concat(n+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(n+s-l*g," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return d},yOe=function(t,n){if(!t||!n)return!1;var r=t.x,s=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&s>=f&&s<=h}return!1},xOe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rP=function(t){var n=e$(e$({},xOe),t),r=v.useRef(),s=v.useState(-1),a=uOe(s,2),o=a[0],l=a[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,g=n.animationEasing,p=n.animationDuration,y=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=Ye("recharts-rectangle",m);return w?T.createElement(ti,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:w},function(b){var S=b.width,N=b.height,C=b.x,_=b.y;return T.createElement(ti,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,isActive:x,easing:g},T.createElement("path",Ex({},$e(n,!0),{className:j,d:t$(C,_,S,N,h),ref:r})))}):T.createElement("path",Ex({},$e(n,!0),{className:j,d:t$(c,u,d,f,h)}))},wOe=["points","className","baseLinePoints","connectNulls"];function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Su.apply(this,arguments)}function bOe(e,t){if(e==null)return{};var n=jOe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jOe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function n$(e){return COe(e)||_Oe(e)||NOe(e)||SOe()}function SOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NOe(e,t){if(e){if(typeof e=="string")return q_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(e,t)}}function _Oe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function COe(e){if(Array.isArray(e))return q_(e)}function q_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r$=function(t){return t&&t.x===+t.x&&t.y===+t.y},EOe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){r$(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),r$(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Lh=function(t,n){var r=EOe(t);n&&(r=[r.reduce(function(a,o){return[].concat(n$(a),n$(o))},[])]);var s=r.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(s,"Z"):s},kOe=function(t,n,r){var s=Lh(t,r);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Lh(n.reverse(),r).slice(1))},AOe=function(t){var n=t.points,r=t.className,s=t.baseLinePoints,a=t.connectNulls,o=bOe(t,wOe);if(!n||!n.length)return null;var l=Ye("recharts-polygon",r);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=kOe(n,s,a);return T.createElement("g",{className:l},T.createElement("path",Su({},$e(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?T.createElement("path",Su({},$e(o,!0),{fill:"none",d:Lh(n,a)})):null,c?T.createElement("path",Su({},$e(o,!0),{fill:"none",d:Lh(s,a)})):null)}var d=Lh(n,a);return T.createElement("path",Su({},$e(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H_.apply(this,arguments)}var Qw=function(t){var n=t.cx,r=t.cy,s=t.r,a=t.className,o=Ye("recharts-dot",a);return n===+n&&r===+r&&s===+s?T.createElement("circle",H_({},$e(t,!1),Ky(t),{className:o,cx:n,cy:r,r:s})):null};function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}var POe=["x","y","top","left","width","height","className"];function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G_.apply(this,arguments)}function s$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function TOe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(n),!0).forEach(function(r){OOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OOe(e,t,n){return t=IOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IOe(e){var t=DOe(e,"string");return Gm(t)=="symbol"?t:String(t)}function DOe(e,t){if(Gm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MOe(e,t){if(e==null)return{};var n=ROe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ROe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var $Oe=function(t,n,r,s,a,o){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(r)},LOe=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=MOe(t,POe),y=TOe({x:r,y:a,top:l,left:u,width:f,height:m},p);return!we(r)||!we(a)||!we(f)||!we(m)||!we(l)||!we(u)?null:T.createElement("path",G_({},$e(y,!0),{className:Ye("recharts-cross",g),d:$Oe(r,a,f,m,l,u)}))},FOe=Gw,BOe=eU,zOe=ii;function WOe(e,t){return e&&e.length?FOe(e,zOe(t),BOe):void 0}var VOe=WOe;const UOe=mt(VOe);var qOe=Gw,HOe=ii,GOe=tU;function KOe(e,t){return e&&e.length?qOe(e,HOe(t),GOe):void 0}var YOe=KOe;const XOe=mt(YOe);var JOe=["cx","cy","angle","ticks","axisLine"],QOe=["ticks","tick","angle","tickFormatter","stroke"];function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fh.apply(this,arguments)}function a$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(n),!0).forEach(function(r){Zw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i$(e,t){if(e==null)return{};var n=ZOe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZOe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function eIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VU(r.key),r)}}function tIe(e,t,n){return t&&o$(e.prototype,t),n&&o$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nIe(e,t,n){return t=kx(t),rIe(e,WU()?Reflect.construct(t,n||[],kx(e).constructor):t.apply(e,n))}function rIe(e,t){if(t&&(xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sIe(e)}function sIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WU=function(){return!!e})()}function kx(e){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kx(e)}function aIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K_(e,t)}function K_(e,t){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},K_(e,t)}function Zw(e,t,n){return t=VU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VU(e){var t=iIe(e,"string");return xd(t)=="symbol"?t:String(t)}function iIe(e,t){if(xd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eb=function(e){aIe(t,e);function t(){return eIe(this,t),nIe(this,t,arguments)}return tIe(t,[{key:"getTickValueCoord",value:function(r){var s=r.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Ot(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,s;switch(r){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var r=this.props,s=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=UOe(l,function(d){return d.coordinate||0}),u=XOe(l,function(d){return d.coordinate||0});return{cx:s,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=i$(r,JOe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=Ot(s,a,d[0],o),h=Ot(s,a,d[1],o),m=bl(bl(bl({},$e(u,!1)),{},{fill:"none"},$e(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return T.createElement("line",Fh({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,s=this.props,a=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=i$(s,QOe),f=this.getTickTextAnchor(),h=$e(d,!1),m=$e(o,!1),g=a.map(function(p,y){var x=r.getTickValueCoord(p),w=bl(bl(bl(bl({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:y},x),{},{payload:p});return T.createElement(dt,Fh({className:Ye("recharts-polar-radius-axis-tick",CU(o)),key:"tick-".concat(p.coordinate)},dc(r.props,p,y)),t.renderTickItem(o,w,c?c(p.value,y):p.value))});return T.createElement(dt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,s=r.ticks,a=r.axisLine,o=r.tick;return!s||!s.length?null:T.createElement(dt,{className:Ye("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Tn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,s,a){var o;return T.isValidElement(r)?o=T.cloneElement(r,s):We(r)?o=r(s):o=T.createElement(fc,Fh({},s,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}]),t}(v.PureComponent);Zw(eb,"displayName","PolarRadiusAxis");Zw(eb,"axisType","radiusAxis");Zw(eb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$l.apply(this,arguments)}function l$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l$(Object(n),!0).forEach(function(r){tb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qU(r.key),r)}}function lIe(e,t,n){return t&&c$(e.prototype,t),n&&c$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cIe(e,t,n){return t=Ax(t),uIe(e,UU()?Reflect.construct(t,n||[],Ax(e).constructor):t.apply(e,n))}function uIe(e,t){if(t&&(wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dIe(e)}function dIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UU=function(){return!!e})()}function Ax(e){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ax(e)}function fIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y_(e,t)}function Y_(e,t){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Y_(e,t)}function tb(e,t,n){return t=qU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qU(e){var t=hIe(e,"string");return wd(t)=="symbol"?t:String(t)}function hIe(e,t){if(wd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mIe=Math.PI/180,u$=1e-5,nb=function(e){fIe(t,e);function t(){return oIe(this,t),cIe(this,t,arguments)}return lIe(t,[{key:"getTickLineCoord",value:function(r){var s=this.props,a=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=Ot(a,o,l,r.coordinate),h=Ot(a,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var s=this.props.orientation,a=Math.cos(-r.coordinate*mIe),o;return a>u$?o=s==="outer"?"start":"end":a<-u$?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,a=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=jl(jl({},$e(this.props,!1)),{},{fill:"none"},$e(l,!1));if(c==="circle")return T.createElement(Qw,$l({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return Ot(s,a,o,h.coordinate)});return T.createElement(AOe,$l({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,s=this.props,a=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=$e(this.props,!1),f=$e(o,!1),h=jl(jl({},d),{},{fill:"none"},$e(l,!1)),m=a.map(function(g,p){var y=r.getTickLineCoord(g),x=r.getTickTextAnchor(g),w=jl(jl(jl({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:y.x2,y:y.y2});return T.createElement(dt,$l({className:Ye("recharts-polar-angle-axis-tick",CU(o)),key:"tick-".concat(g.coordinate)},dc(r.props,g,p)),l&&T.createElement("line",$l({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&t.renderTickItem(o,w,c?c(g.value,p):g.value))});return T.createElement(dt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,s=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!s||!s.length?null:T.createElement(dt,{className:Ye("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,s,a){var o;return T.isValidElement(r)?o=T.cloneElement(r,s):We(r)?o=r(s):o=T.createElement(fc,$l({},s,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}]),t}(v.PureComponent);tb(nb,"displayName","PolarAngleAxis");tb(nb,"axisType","angleAxis");tb(nb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var pIe=HW,gIe=pIe(Object.getPrototypeOf,Object),vIe=gIe,yIe=Ji,xIe=vIe,wIe=Qi,bIe="[object Object]",jIe=Function.prototype,SIe=Object.prototype,HU=jIe.toString,NIe=SIe.hasOwnProperty,_Ie=HU.call(Object);function CIe(e){if(!wIe(e)||yIe(e)!=bIe)return!1;var t=xIe(e);if(t===null)return!0;var n=NIe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&HU.call(n)==_Ie}var EIe=CIe;const kIe=mt(EIe);var AIe=Ji,PIe=Qi,TIe="[object Boolean]";function OIe(e){return e===!0||e===!1||PIe(e)&&AIe(e)==TIe}var IIe=OIe;const DIe=mt(IIe);function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Px.apply(this,arguments)}function MIe(e,t){return FIe(e)||LIe(e,t)||$Ie(e,t)||RIe()}function RIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ie(e,t){if(e){if(typeof e=="string")return d$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d$(e,t)}}function d$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function FIe(e){if(Array.isArray(e))return e}function f$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function h$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(n),!0).forEach(function(r){BIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BIe(e,t,n){return t=zIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zIe(e){var t=WIe(e,"string");return Km(t)=="symbol"?t:String(t)}function WIe(e,t){if(Km(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m$=function(t,n,r,s,a){var o=r-s,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+a),l+="L ".concat(t+r-o/2-s,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},VIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UIe=function(t){var n=h$(h$({},VIe),t),r=v.useRef(),s=v.useState(-1),a=MIe(s,2),o=a[0],l=a[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,g=n.animationEasing,p=n.animationDuration,y=n.animationBegin,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=Ye("recharts-trapezoid",m);return x?T.createElement(ti,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(j){var b=j.upperWidth,S=j.lowerWidth,N=j.height,C=j.x,_=j.y;return T.createElement(ti,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,easing:g},T.createElement("path",Px({},$e(n,!0),{className:w,d:m$(C,_,b,S,N),ref:r})))}):T.createElement("g",null,T.createElement("path",Px({},$e(n,!0),{className:w,d:m$(c,u,d,f,h)})))},qIe=["option","shapeType","propTransformer","activeClassName","isActive"];function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function HIe(e,t){if(e==null)return{};var n=GIe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GIe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function p$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Tx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p$(Object(n),!0).forEach(function(r){KIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KIe(e,t,n){return t=YIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YIe(e){var t=XIe(e,"string");return Ym(t)=="symbol"?t:String(t)}function XIe(e,t){if(Ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JIe(e,t){return Tx(Tx({},t),e)}function QIe(e,t){return e==="symbols"}function g$(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return T.createElement(rP,n);case"trapezoid":return T.createElement(UIe,n);case"sector":return T.createElement(AU,n);case"symbols":if(QIe(t))return T.createElement(jA,n);break;default:return null}}function ZIe(e){return v.isValidElement(e)?e.props:e}function GU(e){var t=e.option,n=e.shapeType,r=e.propTransformer,s=r===void 0?JIe:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=HIe(e,qIe),u;if(v.isValidElement(t))u=v.cloneElement(t,Tx(Tx({},c),ZIe(t)));else if(We(t))u=t(c);else if(kIe(t)&&!DIe(t)){var d=s(t,c);u=T.createElement(g$,{shapeType:n,elementProps:d})}else{var f=c;u=T.createElement(g$,{shapeType:n,elementProps:f})}return l?T.createElement(dt,{className:o},u):u}function rb(e,t){return t!=null&&"trapezoids"in e.props}function sb(e,t){return t!=null&&"sectors"in e.props}function Xm(e,t){return t!=null&&"points"in e.props}function eDe(e,t){var n,r,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return s&&a}function tDe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function nDe(e,t){var n=e.x===t.x,r=e.y===t.y,s=e.z===t.z;return n&&r&&s}function rDe(e,t){var n;return rb(e,t)?n=eDe:sb(e,t)?n=tDe:Xm(e,t)&&(n=nDe),n}function sDe(e,t){var n;return rb(e,t)?n="trapezoids":sb(e,t)?n="sectors":Xm(e,t)&&(n="points"),n}function aDe(e,t){if(rb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(sb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Xm(e,t)?t.payload:{}}function iDe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,s=sDe(n,t),a=aDe(n,t),o=r.filter(function(c,u){var d=rg(a,c),f=n.props[s].filter(function(g){var p=rDe(n,t);return p(g,t)}),h=n.props[s].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=r.indexOf(o[o.length-1]);return l}var Uv;function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nu.apply(this,arguments)}function v$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v$(Object(n),!0).forEach(function(r){Ds(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YU(r.key),r)}}function lDe(e,t,n){return t&&y$(e.prototype,t),n&&y$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cDe(e,t,n){return t=Ox(t),uDe(e,KU()?Reflect.construct(t,n||[],Ox(e).constructor):t.apply(e,n))}function uDe(e,t){if(t&&(bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return su(e)}function KU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KU=function(){return!!e})()}function Ox(e){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ox(e)}function su(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X_(e,t)}function X_(e,t){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},X_(e,t)}function Ds(e,t,n){return t=YU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YU(e){var t=fDe(e,"string");return bd(t)=="symbol"?t:String(t)}function fDe(e,t){if(bd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eo=function(e){dDe(t,e);function t(n){var r;return oDe(this,t),r=cDe(this,t,[n]),Ds(su(r),"pieRef",null),Ds(su(r),"sectorRefs",[]),Ds(su(r),"id",sf("recharts-pie-")),Ds(su(r),"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(s)&&s()}),Ds(su(r),"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(s)&&s()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return lDe(t,[{key:"isActiveIndex",value:function(r){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(r)!==-1:r===s}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=$e(this.props,!1),f=$e(o,!1),h=$e(l,!1),m=o&&o.offsetRadius||20,g=r.map(function(p,y){var x=(p.startAngle+p.endAngle)/2,w=Ot(p.cx,p.cy,p.outerRadius+m,x),j=Wt(Wt(Wt(Wt({},d),p),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(w.x,p.cx)},w),b=Wt(Wt(Wt(Wt({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:y,points:[Ot(p.cx,p.cy,p.outerRadius,x),w],key:"line"}),S=c;return Ue(c)&&Ue(u)?S="value":Ue(c)&&(S=u),T.createElement(dt,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,b),t.renderLabelItem(o,j,wn(p,S)))});return T.createElement(dt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var s=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,m=f?o:h,g=Wt(Wt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return T.createElement(dt,Nu({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},dc(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),T.createElement(GU,Nu({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,s=this.props,a=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return T.createElement(ti,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,y=[],x=a&&a[0],w=x.startAngle;return a.forEach(function(j,b){var S=h&&h[b],N=b>0?hs(j,"paddingAngle",0):0;if(S){var C=as(S.endAngle-S.startAngle,j.endAngle-j.startAngle),_=Wt(Wt({},j),{},{startAngle:w+N,endAngle:w+C(p)+N});y.push(_),w=_.endAngle}else{var k=j.endAngle,P=j.startAngle,A=as(0,k-P),I=A(p),L=Wt(Wt({},j),{},{startAngle:w+N,endAngle:w+I+N});y.push(L),w=L.endAngle}}),T.createElement(dt,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var s=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,s=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&s&&s.length&&(!o||!rg(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,s=this.props,a=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,m=s.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!we(u)||!we(d)||!we(f)||!we(h))return null;var p=Ye("recharts-pie",l);return T.createElement(dt,{tabIndex:this.props.rootTabIndex,className:p,ref:function(x){r.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),Tn.renderCallByParent(this.props,null,!1),(!m||g)&&Ti.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return s.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:r.sectors!==s.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,s){return r>s?"start":r<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,s){if(T.isValidElement(r))return T.cloneElement(r,s);if(We(r))return r(s);var a=Ye("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return T.createElement(Sx,Nu({},s,{type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,s,a){if(T.isValidElement(r))return T.cloneElement(r,s);var o=a;if(We(r)&&(o=r(s),T.isValidElement(o)))return o;var l=Ye("recharts-pie-label-text",typeof r!="boolean"&&!We(r)?r.className:"");return T.createElement(fc,Nu({},s,{alignmentBaseline:"middle",className:l}),o)}}]),t}(v.PureComponent);Uv=eo;Ds(eo,"displayName","Pie");Ds(eo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ka.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ds(eo,"parseDeltaAngle",function(e,t){var n=Sr(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Ds(eo,"getRealPieData",function(e){var t=e.props,n=t.data,r=t.children,s=$e(e.props,!1),a=ms(r,Bw);return n&&n.length?n.map(function(o,l){return Wt(Wt(Wt({payload:o},s),o),a&&a[l]&&a[l].props)}):a&&a.length?a.map(function(o){return Wt(Wt({},s),o.props)}):[]});Ds(eo,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,s=t.width,a=t.height,o=_U(s,a),l=r+Nr(e.props.cx,s,s/2),c=n+Nr(e.props.cy,a,a/2),u=Nr(e.props.innerRadius,o,0),d=Nr(e.props.outerRadius,o,o*.8),f=e.props.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ds(eo,"getComposedData",function(e){var t=e.item,n=e.offset,r=Uv.getRealPieData(t);if(!r||!r.length)return null;var s=t.props,a=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,u=s.dataKey,d=s.nameKey,f=s.valueKey,h=s.tooltipType,m=Math.abs(t.props.minAngle),g=Uv.parseCoordinateOfPie(t,n),p=Uv.parseDeltaAngle(o,l),y=Math.abs(p),x=u;Ue(u)&&Ue(f)?(xa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ue(u)&&(xa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var w=r.filter(function(_){return wn(_,x,0)!==0}).length,j=(y>=360?w:w-1)*c,b=y-w*m-j,S=r.reduce(function(_,k){var P=wn(k,x,0);return _+(we(P)?P:0)},0),N;if(S>0){var C;N=r.map(function(_,k){var P=wn(_,x,0),A=wn(_,d,k),I=(we(P)?P:0)/S,L;k?L=C.endAngle+Sr(p)*c*(P!==0?1:0):L=o;var E=L+Sr(p)*((P!==0?m:0)+I*b),R=(L+E)/2,O=(g.innerRadius+g.outerRadius)/2,F=[{name:A,value:P,payload:_,dataKey:x,type:h}],D=Ot(g.cx,g.cy,O,R);return C=Wt(Wt(Wt({percent:I,cornerRadius:a,name:A,tooltipPayload:F,midAngle:R,middleRadius:O,tooltipPosition:D},_),g),{},{value:wn(_,x),startAngle:L,endAngle:E,payload:_,paddingAngle:Sr(p)*c}),C})}return Wt(Wt({},g),{},{sectors:N,data:r})});var hDe=Math.ceil,mDe=Math.max;function pDe(e,t,n,r){for(var s=-1,a=mDe(hDe((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++s]=e,e+=n;return o}var gDe=pDe,vDe=fV,x$=1/0,yDe=17976931348623157e292;function xDe(e){if(!e)return e===0?e:0;if(e=vDe(e),e===x$||e===-x$){var t=e<0?-1:1;return t*yDe}return e===e?e:0}var XU=xDe,wDe=gDe,bDe=Fw,S1=XU;function jDe(e){return function(t,n,r){return r&&typeof r!="number"&&bDe(t,n,r)&&(n=r=void 0),t=S1(t),n===void 0?(n=t,t=0):n=S1(n),r=r===void 0?t<n?1:-1:S1(r),wDe(t,n,r,e)}}var SDe=jDe,NDe=SDe,_De=NDe(),CDe=_De;const Ix=mt(CDe);function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function w$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function b$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w$(Object(n),!0).forEach(function(r){JU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JU(e,t,n){return t=EDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EDe(e){var t=kDe(e,"string");return Jm(t)=="symbol"?t:String(t)}function kDe(e,t){if(Jm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ADe=["Webkit","Moz","O","ms"],PDe=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=ADe.reduce(function(a,o){return b$(b$({},a),{},JU({},o+r,n))},{});return s[t]=n,s};function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dx.apply(this,arguments)}function j$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function N1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j$(Object(n),!0).forEach(function(r){Zr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZU(r.key),r)}}function ODe(e,t,n){return t&&S$(e.prototype,t),n&&S$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function IDe(e,t,n){return t=Mx(t),DDe(e,QU()?Reflect.construct(t,n||[],Mx(e).constructor):t.apply(e,n))}function DDe(e,t){if(t&&(jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ma(e)}function QU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QU=function(){return!!e})()}function Mx(e){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mx(e)}function Ma(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J_(e,t)}function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},J_(e,t)}function Zr(e,t,n){return t=ZU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZU(e){var t=RDe(e,"string");return jd(t)=="symbol"?t:String(t)}function RDe(e,t){if(jd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $De=function(t){var n=t.data,r=t.startIndex,s=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Mh().domain(Ix(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(s),scale:u,scaleValues:d}},N$=function(t){return t.changedTouches&&!!t.changedTouches.length},Sd=function(e){MDe(t,e);function t(n){var r;return TDe(this,t),r=IDe(this,t,[n]),Zr(Ma(r),"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),Zr(Ma(r),"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),Zr(Ma(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),Zr(Ma(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Zr(Ma(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Zr(Ma(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Zr(Ma(r),"handleSlideDragStart",function(s){var a=N$(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(Ma(r),"startX"),endX:r.handleTravellerDragStart.bind(Ma(r),"endX")},r.state={},r}return ODe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,a),h=Math.max(s,a),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=wn(a[r],l,r);return We(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=r.pageX-a;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var y=this.getIndex({startX:o+p,endX:l+p});(y.startIndex!==h||y.endIndex!==m)&&g&&g(y),this.setState({startX:o+p,endX:l+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var a=N$(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,y=d.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-a;w>0?w=Math.min(w,f+h-m-u):w<0&&(w=Math.max(w,f-u)),x[o]=u+w;var j=this.getIndex(x),b=j.startIndex,S=j.endIndex,N=function(){var _=y.length-1;return o==="startX"&&(l>c?b%p===0:S%p===0)||l<c&&S===_||o==="endX"&&(l>c?S%p===0:b%p===0)||l>c&&S===_};this.setState(Zr(Zr({},o,u+w),"brushMoveStartX",r.pageX),function(){g&&N()&&g(j)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var m=l[h];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(Zr({},s,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return T.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=v.Children.only(u);return f?T.cloneElement(f,{x:s,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,y=c.endIndex,x=Math.max(r,this.props.x),w=N1(N1({},$e(this.props,!1)),{},{x,y:u,width:d,height:f}),j=m||"Min value: ".concat((a=g[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[y])===null||o===void 0?void 0:o.name);return T.createElement(dt,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(r,s)+u,f=Math.max(Math.abs(s-r)-u,0);return T.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,a=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return T.createElement(dt,{className:"recharts-brush-texts"},T.createElement(fc,Dx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(s)),T.createElement(fc,Dx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,s=r.data,a=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,y=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!s||!s.length||!we(l)||!we(c)||!we(u)||!we(d)||u<=0||d<=0)return null;var j=Ye("recharts-brush",a),b=T.Children.count(o)===1,S=PDe("userSelect","none");return T.createElement(dt,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||y||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,a=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(a+l/2)-1;return T.createElement(T.Fragment,null,T.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),T.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),T.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var a;return T.isValidElement(r)?a=T.cloneElement(r,s):We(r)?a=r(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(r,s){var a=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return N1({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?$De({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,s){for(var a=r.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>s?l=c:o=c}return s>=r[l]?l:o}}]),t}(v.PureComponent);Zr(Sd,"displayName","Brush");Zr(Sd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var LDe=AA;function FDe(e,t){var n;return LDe(e,function(r,s,a){return n=t(r,s,a),!n}),!!n}var BDe=FDe,zDe=LW,WDe=ii,VDe=BDe,UDe=Yr,qDe=Fw;function HDe(e,t,n){var r=UDe(e)?zDe:VDe;return n&&qDe(e,t,n)&&(t=void 0),r(e,WDe(t))}var GDe=HDe;const KDe=mt(GDe);var Xa=function(t,n){var r=t.alwaysShow,s=t.ifOverflow;return r&&(s="extendDomain"),s===n},_$=oV;function YDe(e,t,n){t=="__proto__"&&_$?_$(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var XDe=YDe,JDe=XDe,QDe=aV,ZDe=ii;function eMe(e,t){var n={};return t=ZDe(t),QDe(e,function(r,s,a){JDe(n,s,t(r,s,a))}),n}var tMe=eMe;const nMe=mt(tMe);function rMe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var sMe=rMe,aMe=AA;function iMe(e,t){var n=!0;return aMe(e,function(r,s,a){return n=!!t(r,s,a),n}),n}var oMe=iMe,lMe=sMe,cMe=oMe,uMe=ii,dMe=Yr,fMe=Fw;function hMe(e,t,n){var r=dMe(e)?lMe:cMe;return n&&fMe(e,t,n)&&(t=void 0),r(e,uMe(t))}var mMe=hMe;const eq=mt(mMe);var pMe=["x","y"];function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q_.apply(this,arguments)}function C$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function zf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C$(Object(n),!0).forEach(function(r){gMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gMe(e,t,n){return t=vMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vMe(e){var t=yMe(e,"string");return Qm(t)=="symbol"?t:String(t)}function yMe(e,t){if(Qm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xMe(e,t){if(e==null)return{};var n=wMe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wMe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function bMe(e,t){var n=e.x,r=e.y,s=xMe(e,pMe),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return zf(zf(zf(zf(zf({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function E$(e){return T.createElement(GU,Q_({shapeType:"rectangle",propTransformer:bMe,activeClassName:"recharts-active-bar"},e))}var jMe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof t=="number")return t;var a=typeof r=="number";return a?t(r,s):(a||Qo(),n)}},SMe=["value","background"],tq;function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function NMe(e,t){if(e==null)return{};var n=_Me(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _Me(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rx.apply(this,arguments)}function k$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k$(Object(n),!0).forEach(function(r){Eo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rq(r.key),r)}}function EMe(e,t,n){return t&&A$(e.prototype,t),n&&A$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kMe(e,t,n){return t=$x(t),AMe(e,nq()?Reflect.construct(t,n||[],$x(e).constructor):t.apply(e,n))}function AMe(e,t){if(t&&(Nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ih(e)}function nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nq=function(){return!!e})()}function $x(e){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$x(e)}function ih(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z_(e,t)}function Z_(e,t){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Z_(e,t)}function Eo(e,t,n){return t=rq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rq(e){var t=TMe(e,"string");return Nd(t)=="symbol"?t:String(t)}function TMe(e,t){if(Nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ic=function(e){PMe(t,e);function t(){var n;CMe(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=kMe(this,t,[].concat(s)),Eo(ih(n),"state",{isAnimationFinished:!1}),Eo(ih(n),"id",sf("recharts-bar-")),Eo(ih(n),"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Eo(ih(n),"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return EMe(t,[{key:"renderRectanglesStatically",value:function(r){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=$e(this.props,!1);return r&&r.map(function(f,h){var m=h===c,g=m?u:o,p=En(En(En({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return T.createElement(dt,Rx({className:"recharts-bar-rectangle"},dc(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),T.createElement(E$,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return T.createElement(ti,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=a.map(function(y,x){var w=h&&h[x];if(w){var j=as(w.x,y.x),b=as(w.y,y.y),S=as(w.width,y.width),N=as(w.height,y.height);return En(En({},y),{},{x:j(g),y:b(g),width:S(g),height:N(g)})}if(o==="horizontal"){var C=as(0,y.height),_=C(g);return En(En({},y),{},{y:y.y+y.height-_,height:_})}var k=as(0,y.width),P=k(g);return En(En({},y),{},{width:P})});return T.createElement(dt,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!rg(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=$e(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=NMe(u,SMe);if(!f)return null;var m=En(En(En(En(En({},h),{},{fill:"#eee"},f),c),dc(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,key:"background-bar-".concat(d),className:"recharts-bar-background-rectangle"});return T.createElement(E$,Rx({option:r.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=ms(d,sg);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,x){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:wn(y,x)}},g={clipPath:r?"url(#clipPath-".concat(s,")"):null};return T.createElement(dt,g,f.map(function(p){return T.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,a=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,g=r.background,p=r.id;if(s||!a||!a.length)return null;var y=this.state.isAnimationFinished,x=Ye("recharts-bar",o),w=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,b=w||j,S=Ue(p)?this.id:p;return T.createElement(dt,{className:x},w||j?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(S)},T.createElement("rect",{x:w?u:u-f/2,y:j?d:d-h/2,width:w?f:f*2,height:j?h:h*2}))):null,T.createElement(dt,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,S),(!m||y)&&Ti.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}]),t}(v.PureComponent);tq=Ic;Eo(Ic,"displayName","Bar");Eo(Ic,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ka.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Eo(Ic,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,s=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=NPe(r,n);if(!m)return null;var g=t.layout,p=n.props,y=p.dataKey,x=p.children,w=p.minPointSize,j=g==="horizontal"?o:a,b=u?j.scale.domain():null,S=TPe({numericAxis:j}),N=ms(x,Bw),C=f.map(function(_,k){var P,A,I,L,E,R;u?P=_Pe(u[d+k],b):(P=wn(_,y),Array.isArray(P)||(P=[S,P]));var O=jMe(w,tq.defaultProps.minPointSize)(P[1],k);if(g==="horizontal"){var F,D=[o.scale(P[0]),o.scale(P[1])],M=D[0],$=D[1];A=yR({axis:a,ticks:l,bandSize:s,offset:m.offset,entry:_,index:k}),I=(F=$??M)!==null&&F!==void 0?F:void 0,L=m.size;var z=M-$;if(E=Number.isNaN(z)?0:z,R={x:A,y:o.y,width:L,height:o.height},Math.abs(O)>0&&Math.abs(E)<Math.abs(O)){var W=Sr(E||O)*(Math.abs(O)-Math.abs(E));I-=W,E+=W}}else{var H=[a.scale(P[0]),a.scale(P[1])],V=H[0],te=H[1];if(A=V,I=yR({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:_,index:k}),L=te-V,E=m.size,R={x:a.x,y:I,width:a.width,height:E},Math.abs(O)>0&&Math.abs(L)<Math.abs(O)){var ne=Sr(L||O)*(Math.abs(O)-Math.abs(L));L+=ne}}return En(En(En({},_),{},{x:A,y:I,width:L,height:E,value:u?P:P[1],payload:_,background:R},N&&N[k]&&N[k].props),{},{tooltipPayload:[SU(n,_)],tooltipPosition:{x:A+L/2,y:I+E/2}})});return En({data:C,layout:g},h)});function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function OMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sq(r.key),r)}}function IMe(e,t,n){return t&&P$(e.prototype,t),n&&P$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T$(Object(n),!0).forEach(function(r){ab(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ab(e,t,n){return t=sq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sq(e){var t=DMe(e,"string");return Zm(t)=="symbol"?t:String(t)}function DMe(e,t){if(Zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aq=function(t,n,r,s,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!ns(u,Ic);return d.reduce(function(m,g){var p=n[g],y=p.orientation,x=p.domain,w=p.padding,j=w===void 0?{}:w,b=p.mirror,S=p.reversed,N="".concat(y).concat(b?"Mirror":""),C,_,k,P,A;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var I=x[1]-x[0],L=1/0,E=p.categoricalDomain.sort();if(E.forEach(function(V,te){te>0&&(L=Math.min((V||0)-(E[te-1]||0),L))}),Number.isFinite(L)){var R=L/I,O=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(C=R*O/2),p.padding==="no-gap"){var F=Nr(t.barCategoryGap,R*O),D=R*O/2;C=D-F-(D-F)/O*F}}}s==="xAxis"?_=[r.left+(j.left||0)+(C||0),r.left+r.width-(j.right||0)-(C||0)]:s==="yAxis"?_=c==="horizontal"?[r.top+r.height-(j.bottom||0),r.top+(j.top||0)]:[r.top+(j.top||0)+(C||0),r.top+r.height-(j.bottom||0)-(C||0)]:_=p.range,S&&(_=[_[1],_[0]]);var M=xU(p,a,h),$=M.scale,z=M.realScaleType;$.domain(x).range(_),wU($);var W=bU($,la(la({},p),{},{realScaleType:z}));s==="xAxis"?(A=y==="top"&&!b||y==="bottom"&&b,k=r.left,P=f[N]-A*p.height):s==="yAxis"&&(A=y==="left"&&!b||y==="right"&&b,k=f[N]-A*p.width,P=r.top);var H=la(la(la({},p),W),{},{realScaleType:z,x:k,y:P,scale:$,width:s==="xAxis"?r.width:p.width,height:s==="yAxis"?r.height:p.height});return H.bandSize=wx(H,W),!p.hide&&s==="xAxis"?f[N]+=(A?-1:1)*H.height:p.hide||(f[N]+=(A?-1:1)*H.width),la(la({},m),{},ab({},g,H))},{})},iq=function(t,n){var r=t.x,s=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(s,o),width:Math.abs(a-r),height:Math.abs(o-s)}},MMe=function(t){var n=t.x1,r=t.y1,s=t.x2,a=t.y2;return iq({x:n,y:r},{x:s,y:a})},oq=function(){function e(t){OMe(this,e),this.scale=t}return IMe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],a=r[r.length-1];return s<=a?n>=s&&n<=a:n>=a&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}]),e}();ab(oq,"EPS",1e-4);var sP=function(t){var n=Object.keys(t).reduce(function(r,s){return la(la({},r),{},ab({},s,oq.create(t[s])))},{});return la(la({},n),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return nMe(s,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return eq(s,function(a,o){return n[o].isInRange(a)})}})};function RMe(e){return(e%180+180)%180}var $Me=function(t){var n=t.width,r=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=RMe(s),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},LMe=ii,FMe=Qp,BMe=$w;function zMe(e){return function(t,n,r){var s=Object(t);if(!FMe(t)){var a=LMe(n);t=BMe(t),n=function(l){return a(s[l],l,s)}}var o=e(t,n,r);return o>-1?s[a?t[o]:o]:void 0}}var WMe=zMe,VMe=XU;function UMe(e){var t=VMe(e),n=t%1;return t===t?n?t-n:t:0}var qMe=UMe,HMe=QW,GMe=ii,KMe=qMe,YMe=Math.max;function XMe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:KMe(n);return s<0&&(s=YMe(r+s,0)),HMe(e,GMe(t),s)}var JMe=XMe,QMe=WMe,ZMe=JMe,eRe=QMe(ZMe),tRe=eRe;const nRe=mt(tRe);var rRe=fge(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),aP=v.createContext(void 0),iP=v.createContext(void 0),lq=v.createContext(void 0),cq=v.createContext({}),uq=v.createContext(void 0),dq=v.createContext(0),fq=v.createContext(0),O$=function(t){var n=t.state,r=n.xAxisMap,s=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=rRe(a);return T.createElement(aP.Provider,{value:r},T.createElement(iP.Provider,{value:s},T.createElement(cq.Provider,{value:a},T.createElement(lq.Provider,{value:d},T.createElement(uq.Provider,{value:o},T.createElement(dq.Provider,{value:u},T.createElement(fq.Provider,{value:c},l)))))))},sRe=function(){return v.useContext(uq)},hq=function(t){var n=v.useContext(aP);n==null&&Qo();var r=n[t];return r==null&&Qo(),r},aRe=function(){var t=v.useContext(aP);return jo(t)},iRe=function(){var t=v.useContext(iP),n=nRe(t,function(r){return eq(r.domain,Number.isFinite)});return n||jo(t)},mq=function(t){var n=v.useContext(iP);n==null&&Qo();var r=n[t];return r==null&&Qo(),r},oRe=function(){var t=v.useContext(lq);return t},lRe=function(){return v.useContext(cq)},oP=function(){return v.useContext(fq)},lP=function(){return v.useContext(dq)};function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function I$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function D$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I$(Object(n),!0).forEach(function(r){cRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cRe(e,t,n){return t=uRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uRe(e){var t=dRe(e,"string");return ep(t)=="symbol"?t:String(t)}function dRe(e,t){if(ep(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fRe(e,t){return gRe(e)||pRe(e,t)||mRe(e,t)||hRe()}function hRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mRe(e,t){if(e){if(typeof e=="string")return M$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M$(e,t)}}function M$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pRe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function gRe(e){if(Array.isArray(e))return e}function eC(){return eC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eC.apply(this,arguments)}var vRe=function(t,n){var r;return T.isValidElement(t)?r=T.cloneElement(t,n):We(t)?r=t(n):r=T.createElement("line",eC({},n,{className:"recharts-reference-line-line"})),r},yRe=function(t,n,r,s,a,o,l,c,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(r){var g=u.y,p=t.y.apply(g,{position:o});if(Xa(u,"discard")&&!t.y.isInRange(p))return null;var y=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?y.reverse():y}if(n){var x=u.x,w=t.x.apply(x,{position:o});if(Xa(u,"discard")&&!t.x.isInRange(w))return null;var j=[{x:w,y:f+m},{x:w,y:f}];return l==="top"?j.reverse():j}if(s){var b=u.segment,S=b.map(function(N){return t.apply(N,{position:o})});return Xa(u,"discard")&&KDe(S,function(N){return!t.isInRange(N)})?null:S}return null};function cP(e){var t=e.x,n=e.y,r=e.segment,s=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=sRe(),d=hq(s),f=mq(a),h=oRe();if(!u||!h)return null;xa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=sP({x:d.scale,y:f.scale}),g=Sn(t),p=Sn(n),y=r&&r.length===2,x=yRe(m,g,p,y,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var w=fRe(x,2),j=w[0],b=j.x,S=j.y,N=w[1],C=N.x,_=N.y,k=Xa(e,"hidden")?"url(#".concat(u,")"):void 0,P=D$(D$({clipPath:k},$e(e,!0)),{},{x1:b,y1:S,x2:C,y2:_});return T.createElement(dt,{className:Ye("recharts-reference-line",l)},vRe(o,P),Tn.renderCallByParent(e,MMe({x1:b,y1:S,x2:C,y2:_})))}cP.displayName="ReferenceLine";cP.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function tC(){return tC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tC.apply(this,arguments)}function R$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function $$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R$(Object(n),!0).forEach(function(r){xRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xRe(e,t,n){return t=wRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wRe(e){var t=bRe(e,"string");return tp(t)=="symbol"?t:String(t)}function bRe(e,t){if(tp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jRe=function(t){var n=t.x,r=t.y,s=t.xAxis,a=t.yAxis,o=sP({x:s.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Xa(t,"discard")&&!o.isInRange(l)?null:l};function ag(e){var t=e.x,n=e.y,r=e.r,s=e.alwaysShow,a=e.clipPathId,o=Sn(t),l=Sn(n);if(xa(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!l)return null;var c=jRe(e);if(!c)return null;var u=c.x,d=c.y,f=e.shape,h=e.className,m=Xa(e,"hidden")?"url(#".concat(a,")"):void 0,g=$$($$({clipPath:m},$e(e,!0)),{},{cx:u,cy:d});return T.createElement(dt,{className:Ye("recharts-reference-dot",h)},ag.renderDot(f,g),Tn.renderCallByParent(e,{x:u-r,y:d-r,width:2*r,height:2*r}))}ag.displayName="ReferenceDot";ag.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};ag.renderDot=function(e,t){var n;return T.isValidElement(e)?n=T.cloneElement(e,t):We(e)?n=e(t):n=T.createElement(Qw,tC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n};function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nC.apply(this,arguments)}function L$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function F$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L$(Object(n),!0).forEach(function(r){SRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SRe(e,t,n){return t=NRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NRe(e){var t=_Re(e,"string");return np(t)=="symbol"?t:String(t)}function _Re(e,t){if(np(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CRe=function(t,n,r,s,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=sP({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Xa(a,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:iq(m,g)};function ig(e){var t=e.x1,n=e.x2,r=e.y1,s=e.y2,a=e.className,o=e.alwaysShow,l=e.clipPathId;xa(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Sn(t),u=Sn(n),d=Sn(r),f=Sn(s),h=e.shape;if(!c&&!u&&!d&&!f&&!h)return null;var m=CRe(c,u,d,f,e);if(!m&&!h)return null;var g=Xa(e,"hidden")?"url(#".concat(l,")"):void 0;return T.createElement(dt,{className:Ye("recharts-reference-area",a)},ig.renderRect(h,F$(F$({clipPath:g},$e(e,!0)),m)),Tn.renderCallByParent(e,m))}ig.displayName="ReferenceArea";ig.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};ig.renderRect=function(e,t){var n;return T.isValidElement(e)?n=T.cloneElement(e,t):We(e)?n=e(t):n=T.createElement(rP,nC({},t,{className:"recharts-reference-area-rect"})),n};function pq(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function ERe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return $Me(r,n)}function kRe(e,t,n){var r=n==="width",s=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:r?s:a,end:r?s+o:a+l}:{start:r?s+o:a+l,end:r?s:a}}function Lx(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-s)<=0}function ARe(e,t){return pq(e,t+1)}function PRe(e,t,n,r,s){for(var a=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:pq(r,u)};var p=c,y,x=function(){return y===void 0&&(y=n(g,p)),y},w=g.coordinate,j=c===0||Lx(e,w,x,d,l);j||(c=0,d=o,u+=1),j&&(d=w+e*(x()/2+s),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function B$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B$(Object(n),!0).forEach(function(r){TRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TRe(e,t,n){return t=ORe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ORe(e){var t=IRe(e,"string");return rp(t)=="symbol"?t:String(t)}function IRe(e,t){if(rp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DRe(e,t,n,r,s){for(var a=(r||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(h){var m=a[h],g,p=function(){return g===void 0&&(g=n(m,h)),g};if(h===o-1){var y=e*(m.coordinate+e*p()/2-c);a[h]=m=lr(lr({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=lr(lr({},m),{},{tickCoord:m.coordinate});var x=Lx(e,m.tickCoord,p,l,c);x&&(c=m.tickCoord-e*(p()/2+s),a[h]=lr(lr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function MRe(e,t,n,r,s,a){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=r[l-1],f=n(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=lr(lr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Lx(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+s),o[l-1]=lr(lr({},d),{},{isShow:!0}))}for(var g=a?l-1:l,p=function(w){var j=o[w],b,S=function(){return b===void 0&&(b=n(j,w)),b};if(w===0){var N=e*(j.coordinate-e*S()/2-c);o[w]=j=lr(lr({},j),{},{tickCoord:N<0?j.coordinate-N*e:j.coordinate})}else o[w]=j=lr(lr({},j),{},{tickCoord:j.coordinate});var C=Lx(e,j.tickCoord,S,c,u);C&&(c=j.tickCoord+e*(S()/2+s),o[w]=lr(lr({},j),{},{isShow:!0}))},y=0;y<g;y++)p(y);return o}function uP(e,t,n){var r=e.tick,s=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!r)return[];if(we(c)||Ka.isSsr)return ARe(s,typeof c=="number"&&we(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?Dh(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(j,b){var S=We(u)?u(j.value,b):j.value;return m==="width"?ERe(Dh(S,{fontSize:t,letterSpacing:n}),g,f):Dh(S,{fontSize:t,letterSpacing:n})[m]},y=s.length>=2?Sr(s[1].coordinate-s[0].coordinate):1,x=kRe(a,y,m);return c==="equidistantPreserveStart"?PRe(y,x,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=MRe(y,x,p,s,o,c==="preserveStartEnd"):h=DRe(y,x,p,s,o),h.filter(function(w){return w.isShow}))}var RRe=["viewBox"],$Re=["viewBox"],LRe=["ticks"];function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_u.apply(this,arguments)}function z$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z$(Object(n),!0).forEach(function(r){dP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _1(e,t){if(e==null)return{};var n=FRe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function FRe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function BRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vq(r.key),r)}}function zRe(e,t,n){return t&&W$(e.prototype,t),n&&W$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WRe(e,t,n){return t=Fx(t),VRe(e,gq()?Reflect.construct(t,n||[],Fx(e).constructor):t.apply(e,n))}function VRe(e,t){if(t&&(_d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return URe(e)}function URe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gq=function(){return!!e})()}function Fx(e){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fx(e)}function qRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rC(e,t)}function rC(e,t){return rC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},rC(e,t)}function dP(e,t,n){return t=vq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vq(e){var t=HRe(e,"string");return _d(t)=="symbol"?t:String(t)}function HRe(e,t){if(_d(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hf=function(e){qRe(t,e);function t(n){var r;return BRe(this,t),r=WRe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return zRe(t,[{key:"shouldComponentUpdate",value:function(r,s){var a=r.viewBox,o=_1(r,RRe),l=this.props,c=l.viewBox,u=_1(l,$Re);return!Bu(a,c)||!Bu(o,u)||!Bu(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,m,g,p,y,x,w,j=f?-1:1,b=r.tickSize||d,S=we(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,y=o+ +!f*c,p=y-j*b,w=p-j*h,x=S;break;case"left":p=y=r.coordinate,g=a+ +!f*l,m=g-j*b,x=m-j*h,w=S;break;case"right":p=y=r.coordinate,g=a+ +f*l,m=g+j*b,x=m+j*h,w=S;break;default:m=g=r.coordinate,y=o+ +f*c,p=y+j*b,w=p+j*h,x=S;break}return{line:{x1:m,y1:p,x2:g,y2:y},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,a=r.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,a=r.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=yr(yr(yr({},$e(this.props,!1)),$e(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=yr(yr({},f),{},{x1:s,y1:a+h*l,x2:s+o,y2:a+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=yr(yr({},f),{},{x1:s+m*o,y1:a,x2:s+m*o,y2:a+l})}return T.createElement("line",_u({},f,{className:Ye("recharts-cartesian-axis-line",hs(d,"className"))}))}},{key:"renderTicks",value:function(r,s,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=uP(yr(yr({},this.props),{},{ticks:r}),s,a),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),y=$e(this.props,!1),x=$e(d,!1),w=yr(yr({},y),{},{fill:"none"},$e(c,!1)),j=m.map(function(b,S){var N=o.getTickLineCoord(b),C=N.line,_=N.tick,k=yr(yr(yr(yr({textAnchor:g,verticalAnchor:p},y),{},{stroke:"none",fill:u},x),_),{},{index:S,payload:b,visibleTicksCount:m.length,tickFormatter:f});return T.createElement(dt,_u({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},dc(o.props,b,S)),c&&T.createElement("line",_u({},w,C,{className:Ye("recharts-cartesian-axis-tick-line",hs(c,"className"))})),d&&t.renderTickItem(d,k,"".concat(We(f)?f(b.value,S):b.value).concat(h||"")))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var r=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,m=_1(f,LRe),g=h;return We(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:T.createElement(dt,{className:Ye("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Tn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,a){var o;return T.isValidElement(r)?o=T.cloneElement(r,s):We(r)?o=r(s):o=T.createElement(fc,_u({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}]),t}(v.Component);dP(hf,"displayName","CartesianAxis");dP(hf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var GRe=["x1","y1","x2","y2","key"],KRe=["offset"];function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function V$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V$(Object(n),!0).forEach(function(r){YRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YRe(e,t,n){return t=XRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XRe(e){var t=JRe(e,"string");return pc(t)=="symbol"?t:String(t)}function JRe(e,t){if(pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ql.apply(this,arguments)}function U$(e,t){if(e==null)return{};var n=QRe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QRe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var ZRe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height;return T.createElement("rect",{x:s,y:a,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function yq(e,t){var n;if(T.isValidElement(e))n=T.cloneElement(e,t);else if(We(e))n=e(t);else{var r=t.x1,s=t.y1,a=t.x2,o=t.y2,l=t.key,c=U$(t,GRe),u=$e(c,!1);u.offset;var d=U$(u,KRe);n=T.createElement("line",ql({},d,{x1:r,y1:s,x2:a,y2:o,fill:"none",key:l}))}return n}function e$e(e){var t=e.x,n=e.width,r=e.horizontal,s=r===void 0?!0:r,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=ur(ur({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return yq(s,u)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function t$e(e){var t=e.y,n=e.height,r=e.vertical,s=r===void 0?!0:r,a=e.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=ur(ur({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return yq(s,u)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function n$e(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,s=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+o-h:d[m+1]-h;if(p<=0)return null;var y=m%t.length;return T.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:p,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function r$e(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,s=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+l-h:d[m+1]-h;if(p<=0)return null;var y=m%r.length;return T.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:r[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var s$e=function(t,n){var r=t.xAxis,s=t.width,a=t.height,o=t.offset;return yU(uP(ur(ur(ur({},hf.defaultProps),r),{},{ticks:Si(r,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,n)},a$e=function(t,n){var r=t.yAxis,s=t.width,a=t.height,o=t.offset;return yU(uP(ur(ur(ur({},hf.defaultProps),r),{},{ticks:Si(r,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,n)},Hc={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Bx(e){var t,n,r,s,a,o,l=oP(),c=lP(),u=lRe(),d=ur(ur({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Hc.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Hc.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Hc.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Hc.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Hc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Hc.verticalFill,x:we(e.x)?e.x:u.left,y:we(e.y)?e.y:u.top,width:we(e.width)?e.width:u.width,height:we(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,y=d.horizontalValues,x=d.verticalValues,w=aRe(),j=iRe();if(!we(m)||m<=0||!we(g)||g<=0||!we(f)||f!==+f||!we(h)||h!==+h)return null;var b=d.verticalCoordinatesGenerator||s$e,S=d.horizontalCoordinatesGenerator||a$e,N=d.horizontalPoints,C=d.verticalPoints;if((!N||!N.length)&&We(S)){var _=y&&y.length,k=S({yAxis:j?ur(ur({},j),{},{ticks:_?y:j.ticks}):void 0,width:l,height:c,offset:u},_?!0:p);xa(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pc(k),"]")),Array.isArray(k)&&(N=k)}if((!C||!C.length)&&We(b)){var P=x&&x.length,A=b({xAxis:w?ur(ur({},w),{},{ticks:P?x:w.ticks}):void 0,width:l,height:c,offset:u},P?!0:p);xa(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pc(A),"]")),Array.isArray(A)&&(C=A)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(ZRe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height}),T.createElement(e$e,ql({},d,{offset:u,horizontalPoints:N,xAxis:w,yAxis:j})),T.createElement(t$e,ql({},d,{offset:u,verticalPoints:C,xAxis:w,yAxis:j})),T.createElement(n$e,ql({},d,{horizontalPoints:N})),T.createElement(r$e,ql({},d,{verticalPoints:C})))}Bx.displayName="CartesianGrid";var i$e=["type","layout","connectNulls","ref"];function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function o$e(e,t){if(e==null)return{};var n=l$e(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l$e(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bh.apply(this,arguments)}function q$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q$(Object(n),!0).forEach(function(r){ca(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gc(e){return f$e(e)||d$e(e)||u$e(e)||c$e()}function c$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u$e(e,t){if(e){if(typeof e=="string")return sC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sC(e,t)}}function d$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f$e(e){if(Array.isArray(e))return sC(e)}function sC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wq(r.key),r)}}function m$e(e,t,n){return t&&H$(e.prototype,t),n&&H$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p$e(e,t,n){return t=zx(t),g$e(e,xq()?Reflect.construct(t,n||[],zx(e).constructor):t.apply(e,n))}function g$e(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fo(e)}function xq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xq=function(){return!!e})()}function zx(e){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zx(e)}function fo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aC(e,t)}function aC(e,t){return aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},aC(e,t)}function ca(e,t,n){return t=wq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wq(e){var t=y$e(e,"string");return Cd(t)=="symbol"?t:String(t)}function y$e(e,t){if(Cd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zo=function(e){v$e(t,e);function t(){var n;h$e(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=p$e(this,t,[].concat(s)),ca(fo(n),"state",{isAnimationFinished:!0,totalLength:0}),ca(fo(n),"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ca(fo(n),"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,w){return x+w});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(Gc(c.slice(0,g)),[f-p]);break}var y=m.length%2===0?[0,h]:[h];return[].concat(Gc(t.repeat(c,d)),Gc(m),y).map(function(x){return"".concat(x,"px")}).join(", ")}),ca(fo(n),"id",sf("recharts-line-")),ca(fo(n),"pathRef",function(o){n.mainCurve=o}),ca(fo(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ca(fo(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return m$e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=ms(d,sg);if(!f)return null;var h=function(p,y){return{x:p.x,y:p.y,value:p.value,errorVal:wn(p.payload,y)}},m={clipPath:r?"url(#clipPath-".concat(s,")"):null};return T.createElement(dt,m,f.map(function(g){return T.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,s,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=$e(this.props,!1),h=$e(c,!0),m=u.map(function(p,y){var x=Qr(Qr(Qr({key:"dot-".concat(y),r:3},f),h),{},{value:p.value,dataKey:d,cx:p.x,cy:p.y,index:y,payload:p.payload});return t.renderDotItem(c,x)}),g={clipPath:r?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return T.createElement(dt,Bh({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,s,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=o$e(l,i$e),h=Qr(Qr(Qr({},$e(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return T.createElement(Sx,Bh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,s){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,y=o.height,x=this.state,w=x.prevPoints,j=x.totalLength;return T.createElement(ti,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var S=b.t;if(w){var N=w.length/l.length,C=l.map(function(I,L){var E=Math.floor(L*N);if(w[E]){var R=w[E],O=as(R.x,I.x),F=as(R.y,I.y);return Qr(Qr({},I),{},{x:O(S),y:F(S)})}if(g){var D=as(p*2,I.x),M=as(y/2,I.y);return Qr(Qr({},I),{},{x:D(S),y:M(S)})}return Qr(Qr({},I),{},{x:I.x,y:I.y})});return a.renderCurveStatically(C,r,s)}var _=as(0,j),k=_(S),P;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});P=a.getStrokeDasharray(k,j,A)}else P=a.generateSimpleStrokeDasharray(j,k);return a.renderCurveStatically(l,r,s,{strokeDasharray:P})})}},{key:"renderCurve",value:function(r,s){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!rg(u,o))?this.renderCurveWithAnimation(r,s):this.renderCurveStatically(o,r,s)}},{key:"render",value:function(){var r,s=this.props,a=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,h=s.left,m=s.width,g=s.height,p=s.isAnimationActive,y=s.id;if(a||!l||!l.length)return null;var x=this.state.isAnimationFinished,w=l.length===1,j=Ye("recharts-line",c),b=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,N=b||S,C=Ue(y)?this.id:y,_=(r=$e(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=_.r,P=k===void 0?3:k,A=_.strokeWidth,I=A===void 0?2:A,L=wve(o)?o:{},E=L.clipDot,R=E===void 0?!0:E,O=P*2+I;return T.createElement(dt,{className:j},b||S?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(C)},T.createElement("rect",{x:b?h:h-m/2,y:S?f:f-g/2,width:b?m:m*2,height:S?g:g*2})),!R&&T.createElement("clipPath",{id:"clipPath-dots-".concat(C)},T.createElement("rect",{x:h-O/2,y:f-O/2,width:m+O,height:g+O}))):null,!w&&this.renderCurve(N,C),this.renderErrorBar(N,C),(w||o)&&this.renderDots(N,R,C),(!p||x)&&Ti.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:s.curPoints}:r.points!==s.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,s){for(var a=r.length%2!==0?[].concat(Gc(r),[0]):r,o=[],l=0;l<s;++l)o=[].concat(Gc(o),Gc(a));return o}},{key:"renderDotItem",value:function(r,s){var a;if(T.isValidElement(r))a=T.cloneElement(r,s);else if(We(r))a=r(s);else{var o=Ye("recharts-line-dot",typeof r!="boolean"?r.className:"");a=T.createElement(Qw,Bh({},s,{className:o}))}return a}}]),t}(v.PureComponent);ca(Zo,"displayName","Line");ca(Zo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ka.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ca(Zo,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,s=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=wn(h,o);return d==="horizontal"?{x:vR({axis:n,ticks:s,bandSize:l,entry:h,index:m}),y:Ue(g)?null:r.scale(g),value:g,payload:h}:{x:Ue(g)?null:n.scale(g),y:vR({axis:r,ticks:a,bandSize:l,entry:h,index:m}),value:g,payload:h}});return Qr({points:f,layout:d},u)});function iC(){return iC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iC.apply(this,arguments)}var gc=function(t){var n=t.xAxisId,r=oP(),s=lP(),a=hq(n);return a==null?null:T.createElement(hf,iC({},a,{className:Ye("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return Si(l,!0)}}))};gc.displayName="XAxis";gc.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function oC(){return oC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oC.apply(this,arguments)}var el=function(t){var n=t.yAxisId,r=oP(),s=lP(),a=mq(n);return a==null?null:T.createElement(hf,oC({},a,{className:Ye("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return Si(l,!0)}}))};el.displayName="YAxis";el.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function G$(e){return j$e(e)||b$e(e)||w$e(e)||x$e()}function x$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w$e(e,t){if(e){if(typeof e=="string")return lC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lC(e,t)}}function b$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j$e(e){if(Array.isArray(e))return lC(e)}function lC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cC=function(t,n,r,s,a){var o=ms(t,cP),l=ms(t,ag),c=[].concat(G$(o),G$(l)),u=ms(t,ig),d="".concat(s,"Id"),f=s[0],h=n;if(c.length&&(h=c.reduce(function(p,y){if(y.props[d]===r&&Xa(y.props,"extendDomain")&&we(y.props[f])){var x=y.props[f];return[Math.min(p[0],x),Math.max(p[1],x)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,y){if(y.props[d]===r&&Xa(y.props,"extendDomain")&&we(y.props[m])&&we(y.props[g])){var x=y.props[m],w=y.props[g];return[Math.min(p[0],x,w),Math.max(p[1],x,w)]}return p},h)}return a&&a.length&&(h=a.reduce(function(p,y){return we(y)?[Math.min(p[0],y),Math.max(p[1],y)]:p},h)),h},bq={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=n?n+u:u;if(!this._events[p])return!1;var y=this._events[p],x=arguments.length,w,j;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,g),!0}for(j=1,w=new Array(x-1);j<x;j++)w[j-1]=arguments[j];y.fn.apply(y.context,w)}else{var b=y.length,S;for(j=0;j<b;j++)switch(y[j].once&&this.removeListener(u,y[j].fn,void 0,!0),x){case 1:y[j].fn.call(y[j].context);break;case 2:y[j].fn.call(y[j].context,d);break;case 3:y[j].fn.call(y[j].context,d,f);break;case 4:y[j].fn.call(y[j].context,d,f,h);break;default:if(!w)for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];y[j].fn.apply(y[j].context,w)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,y=[],x=g.length;p<x;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&y.push(g[p]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(bq);var S$e=bq.exports;const N$e=mt(S$e);var C1=new N$e,E1="recharts.syncMouseEvents";function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function _$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C$e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jq(r.key),r)}}function E$e(e,t,n){return t&&C$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k1(e,t,n){return t=jq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jq(e){var t=k$e(e,"string");return sp(t)=="symbol"?t:String(t)}function k$e(e,t){if(sp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A$e=function(){function e(){_$e(this,e),k1(this,"activeIndex",0),k1(this,"coordinateList",[]),k1(this,"layout","horizontal")}return E$e(e,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,a=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}]),e}();function P$e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],s=e==null?void 0:e[1];if(r&&s&&we(r)&&we(s))return!0}return!1}function T$e(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Sq(e){var t=e.cx,n=e.cy,r=e.radius,s=e.startAngle,a=e.endAngle,o=Ot(t,n,r,s),l=Ot(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:s,endAngle:a}}function O$e(e,t,n){var r,s,a,o;if(e==="horizontal")r=t.x,a=r,s=n.top,o=n.top+n.height;else if(e==="vertical")s=t.y,o=s,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ot(l,c,u,f),m=Ot(l,c,d,f);r=h.x,s=h.y,a=m.x,o=m.y}else return Sq(t);return[{x:r,y:s},{x:a,y:o}]}function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function K$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ov(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K$(Object(n),!0).forEach(function(r){I$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I$e(e,t,n){return t=D$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D$e(e){var t=M$e(e,"string");return ap(t)=="symbol"?t:String(t)}function M$e(e,t){if(ap(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R$e(e){var t=e.element,n=e.tooltipEventType,r=e.isActive,s=e.activeCoordinate,a=e.activePayload,o=e.offset,l=e.activeTooltipIndex,c=e.tooltipAxisBandSize,u=e.layout,d=e.chartName;if(!t||!t.props.cursor||!r||!s||d!=="ScatterChart"&&n!=="axis")return null;var f,h=Sx;if(d==="ScatterChart")f=s,h=LOe;else if(d==="BarChart")f=T$e(u,s,o,c),h=rP;else if(u==="radial"){var m=Sq(s),g=m.cx,p=m.cy,y=m.radius,x=m.startAngle,w=m.endAngle;f={cx:g,cy:p,startAngle:x,endAngle:w,innerRadius:y,outerRadius:y},h=AU}else f={points:O$e(u,s,o)},h=Sx;var j=ov(ov(ov(ov({stroke:"#ccc",pointerEvents:"none"},o),f),$e(t.props.cursor,!1)),{},{payload:a,payloadIndex:l,className:Ye("recharts-tooltip-cursor",t.props.cursor.className)});return v.isValidElement(t.props.cursor)?v.cloneElement(t.props.cursor,j):v.createElement(h,j)}var $$e=["item"],L$e=["children","className","width","height","style","compact","title","desc"];function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zh.apply(this,arguments)}function Y$(e,t){return z$e(e)||B$e(e,t)||_q(e,t)||F$e()}function F$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function z$e(e){if(Array.isArray(e))return e}function X$(e,t){if(e==null)return{};var n=W$e(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function W$e(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function V$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U$e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cq(r.key),r)}}function q$e(e,t,n){return t&&U$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H$e(e,t,n){return t=Wx(t),G$e(e,Nq()?Reflect.construct(t,n||[],Wx(e).constructor):t.apply(e,n))}function G$e(e,t){if(t&&(Ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ct(e)}function Nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nq=function(){return!!e})()}function Wx(e){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wx(e)}function ct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uC(e,t)}function uC(e,t){return uC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},uC(e,t)}function kd(e){return J$e(e)||X$e(e)||_q(e)||Y$e()}function Y$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _q(e,t){if(e){if(typeof e=="string")return dC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dC(e,t)}}function X$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J$e(e){if(Array.isArray(e))return dC(e)}function dC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J$(Object(n),!0).forEach(function(r){Be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Be(e,t,n){return t=Cq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cq(e){var t=Q$e(e,"string");return Ed(t)=="symbol"?t:String(t)}function Q$e(e,t){if(Ed(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z$e={xAxis:["bottom","top"],yAxis:["left","right"]},e4e={width:"100%",height:"100%"},Eq={x:0,y:0};function lv(e){return e}var t4e=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},n4e=function(t,n,r,s){var a=n.find(function(d){return d&&d.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=s.radius;return le(le(le({},s),Ot(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=s.angle;return le(le(le({},s),Ot(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return Eq},ib=function(t,n){var r=n.graphicalItems,s=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(kd(l),kd(u)):l},[]);return o.length>0?o:t&&t.length&&we(s)&&we(a)?t.slice(s,a+1):[]};function kq(e){return e==="number"?[0,"auto"]:void 0}var fC=function(t,n,r,s){var a=t.graphicalItems,o=t.tooltipAxis,l=ib(n,t);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Gy(m,o.dataKey,s)}else h=f&&f[r]||l[r];return h?[].concat(kd(c),[SU(u,h)]):c},[])},Q$=function(t,n,r,s){var a=s||{x:t.chartX,y:t.chartY},o=t4e(a,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=yPe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=fC(t,n,d,f),m=n4e(r,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},r4e=function(t,n){var r=n.axes,s=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=vU(d,a);return r.reduce(function(g,p){var y,x=p.props,w=x.type,j=x.dataKey,b=x.allowDataOverflow,S=x.allowDuplicatedCategory,N=x.scale,C=x.ticks,_=x.includeHidden,k=p.props[o];if(g[k])return g;var P=ib(t.data,{graphicalItems:s.filter(function(W){return W.props[o]===k}),dataStartIndex:c,dataEndIndex:u}),A=P.length,I,L,E;P$e(p.props.domain,b,w)&&(I=T_(p.props.domain,null,b),m&&(w==="number"||N!=="auto")&&(E=Rh(P,j,"category")));var R=kq(w);if(!I||I.length===0){var O,F=(O=p.props.domain)!==null&&O!==void 0?O:R;if(j){if(I=Rh(P,j,w),w==="category"&&m){var D=dve(I);S&&D?(L=I,I=Ix(0,A)):S||(I=bR(F,I,p).reduce(function(W,H){return W.indexOf(H)>=0?W:[].concat(kd(W),[H])},[]))}else if(w==="category")S?I=I.filter(function(W){return W!==""&&!Ue(W)}):I=bR(F,I,p).reduce(function(W,H){return W.indexOf(H)>=0||H===""||Ue(H)?W:[].concat(kd(W),[H])},[]);else if(w==="number"){var M=SPe(P,s.filter(function(W){return W.props[o]===k&&(_||!W.props.hide)}),j,a,d);M&&(I=M)}m&&(w==="number"||N!=="auto")&&(E=Rh(P,j,"category"))}else m?I=Ix(0,A):l&&l[k]&&l[k].hasStack&&w==="number"?I=h==="expand"?[0,1]:jU(l[k].stackGroups,c,u):I=gU(P,s.filter(function(W){return W.props[o]===k&&(_||!W.props.hide)}),w,d,!0);if(w==="number")I=cC(f,I,k,a,C),F&&(I=T_(F,I,b));else if(w==="category"&&F){var $=F,z=I.every(function(W){return $.indexOf(W)>=0});z&&(I=$)}}return le(le({},g),{},Be({},k,le(le({},p.props),{},{axisType:a,domain:I,categoricalDomain:E,duplicateDomain:L,originalDomain:(y=p.props.domain)!==null&&y!==void 0?y:R,isCategorical:m,layout:d})))},{})},s4e=function(t,n){var r=n.graphicalItems,s=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=ib(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=vU(d,a),p=-1;return r.reduce(function(y,x){var w=x.props[o],j=kq("number");if(!y[w]){p++;var b;return g?b=Ix(0,m):l&&l[w]&&l[w].hasStack?(b=jU(l[w].stackGroups,c,u),b=cC(f,b,w,a)):(b=T_(j,gU(h,r.filter(function(S){return S.props[o]===w&&!S.props.hide}),"number",d),s.defaultProps.allowDataOverflow),b=cC(f,b,w,a)),le(le({},y),{},Be({},w,le(le({axisType:a},s.defaultProps),{},{hide:!0,orientation:hs(Z$e,"".concat(a,".").concat(p%2),null),domain:b,originalDomain:j,isCategorical:g,layout:d})))}return y},{})},a4e=function(t,n){var r=n.axisType,s=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=ms(d,a),m={};return h&&h.length?m=r4e(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=s4e(t,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},i4e=function(t){var n=jo(t),r=Si(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:PA(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:wx(n,r)}},Z$=function(t){var n=t.children,r=t.defaultShowTooltip,s=ns(n,Sd),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},o4e=function(t){return!t||!t.length?!1:t.some(function(n){var r=Ai(n&&n.type);return r&&r.indexOf("Bar")>=0})},e4=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},l4e=function(t,n){var r=t.props,s=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},m=ns(f,Sd),g=ns(f,fd),p=Object.keys(c).reduce(function(S,N){var C=c[N],_=C.orientation;return!C.mirror&&!C.hide?le(le({},S),{},Be({},_,S[_]+C.width)):S},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(S,N){var C=o[N],_=C.orientation;return!C.mirror&&!C.hide?le(le({},S),{},Be({},_,hs(S,"".concat(_))+C.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=le(le({},y),p),w=x.bottom;m&&(x.bottom+=m.props.height||Sd.defaultProps.height),g&&n&&(x=bPe(x,s,r,n));var j=u-x.left-x.right,b=d-x.top-x.bottom;return le(le({brushBottom:w},x),{},{width:Math.max(j,0),height:Math.max(b,0)})},c4e=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},fP=function(t){var n,r=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,l=t.validateTooltipEventTypes,c=l===void 0?["axis"]:l,u=t.axisComponents,d=t.legendContent,f=t.formatAxisMap,h=t.defaultProps,m=function(y,x){var w=x.graphicalItems,j=x.stackGroups,b=x.offset,S=x.updateId,N=x.dataStartIndex,C=x.dataEndIndex,_=y.barSize,k=y.layout,P=y.barGap,A=y.barCategoryGap,I=y.maxBarSize,L=e4(k),E=L.numericAxisName,R=L.cateAxisName,O=o4e(w),F=[];return w.forEach(function(D,M){var $=ib(y.data,{graphicalItems:[D],dataStartIndex:N,dataEndIndex:C}),z=D.props,W=z.dataKey,H=z.maxBarSize,V=D.props["".concat(E,"Id")],te=D.props["".concat(R,"Id")],ne={},X=u.reduce(function(rt,_t){var Bn=x["".concat(_t.axisType,"Map")],pn=D.props["".concat(_t.axisType,"Id")];Bn&&Bn[pn]||_t.axisType==="zAxis"||Qo();var tr=Bn[pn];return le(le({},rt),{},Be(Be({},_t.axisType,tr),"".concat(_t.axisType,"Ticks"),Si(tr)))},ne),ee=X[R],Z=X["".concat(R,"Ticks")],ae=j&&j[V]&&j[V].hasStack&&OPe(D,j[V].stackGroups),ce=Ai(D.type).indexOf("Bar")>=0,q=wx(ee,Z),be=[],Se=O&&xPe({barSize:_,stackGroups:j,totalSize:c4e(X,R)});if(ce){var Ae,Q,me=Ue(H)?I:H,J=(Ae=(Q=wx(ee,Z,!0))!==null&&Q!==void 0?Q:me)!==null&&Ae!==void 0?Ae:0;be=wPe({barGap:P,barCategoryGap:A,bandSize:J!==q?J:q,sizeList:Se[te],maxBarSize:me}),J!==q&&(be=be.map(function(rt){return le(le({},rt),{},{position:le(le({},rt.position),{},{offset:rt.position.offset-J/2})})}))}var _e=D&&D.type&&D.type.getComposedData;_e&&F.push({props:le(le({},_e(le(le({},X),{},{displayedData:$,props:y,dataKey:W,item:D,bandSize:q,barPosition:be,offset:b,stackedData:ae,layout:k,dataStartIndex:N,dataEndIndex:C}))),{},Be(Be(Be({key:D.key||"item-".concat(M)},E,X[E]),R,X[R]),"animationId",S)),childIndex:Sve(D,y.children),item:D})}),F},g=function(y,x){var w=y.props,j=y.dataStartIndex,b=y.dataEndIndex,S=y.updateId;if(!hD({props:w}))return null;var N=w.children,C=w.layout,_=w.stackOffset,k=w.data,P=w.reverseStackOrder,A=e4(C),I=A.numericAxisName,L=A.cateAxisName,E=ms(N,s),R=PPe(k,E,"".concat(I,"Id"),"".concat(L,"Id"),_,P),O=u.reduce(function(z,W){var H="".concat(W.axisType,"Map");return le(le({},z),{},Be({},H,a4e(w,le(le({},W),{},{graphicalItems:E,stackGroups:W.axisType===I&&R,dataStartIndex:j,dataEndIndex:b}))))},{}),F=l4e(le(le({},O),{},{props:w,graphicalItems:E}),x==null?void 0:x.legendBBox);Object.keys(O).forEach(function(z){O[z]=f(w,O[z],F,z.replace("Map",""),r)});var D=O["".concat(L,"Map")],M=i4e(D),$=m(w,le(le({},O),{},{dataStartIndex:j,dataEndIndex:b,updateId:S,graphicalItems:E,stackGroups:R,offset:F}));return le(le({formattedGraphicalItems:$,graphicalItems:E,offset:F,stackGroups:R},M),O)};return n=function(p){K$e(y,p);function y(x){var w,j,b;return V$e(this,y),b=H$e(this,y,[x]),Be(ct(b),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(ct(b),"accessibilityManager",new A$e),Be(ct(b),"handleLegendBBoxUpdate",function(S){if(S){var N=b.state,C=N.dataStartIndex,_=N.dataEndIndex,k=N.updateId;b.setState(le({legendBBox:S},g({props:b.props,dataStartIndex:C,dataEndIndex:_,updateId:k},le(le({},b.state),{},{legendBBox:S}))))}}),Be(ct(b),"handleReceiveSyncEvent",function(S,N,C){if(b.props.syncId===S){if(C===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(N)}}),Be(ct(b),"handleBrushChange",function(S){var N=S.startIndex,C=S.endIndex;if(N!==b.state.dataStartIndex||C!==b.state.dataEndIndex){var _=b.state.updateId;b.setState(function(){return le({dataStartIndex:N,dataEndIndex:C},g({props:b.props,dataStartIndex:N,dataEndIndex:C,updateId:_},b.state))}),b.triggerSyncEvent({dataStartIndex:N,dataEndIndex:C})}}),Be(ct(b),"handleMouseEnter",function(S){var N=b.getMouseInfo(S);if(N){var C=le(le({},N),{},{isTooltipActive:!0});b.setState(C),b.triggerSyncEvent(C);var _=b.props.onMouseEnter;We(_)&&_(C,S)}}),Be(ct(b),"triggeredAfterMouseMove",function(S){var N=b.getMouseInfo(S),C=N?le(le({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(C),b.triggerSyncEvent(C);var _=b.props.onMouseMove;We(_)&&_(C,S)}),Be(ct(b),"handleItemMouseEnter",function(S){b.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Be(ct(b),"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),Be(ct(b),"handleMouseMove",function(S){S.persist(),b.throttleTriggeredAfterMouseMove(S)}),Be(ct(b),"handleMouseLeave",function(S){b.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};b.setState(N),b.triggerSyncEvent(N);var C=b.props.onMouseLeave;We(C)&&C(N,S)}),Be(ct(b),"handleOuterEvent",function(S){var N=jve(S),C=hs(b.props,"".concat(N));if(N&&We(C)){var _,k;/.*touch.*/i.test(N)?k=b.getMouseInfo(S.changedTouches[0]):k=b.getMouseInfo(S),C((_=k)!==null&&_!==void 0?_:{},S)}}),Be(ct(b),"handleClick",function(S){var N=b.getMouseInfo(S);if(N){var C=le(le({},N),{},{isTooltipActive:!0});b.setState(C),b.triggerSyncEvent(C);var _=b.props.onClick;We(_)&&_(C,S)}}),Be(ct(b),"handleMouseDown",function(S){var N=b.props.onMouseDown;if(We(N)){var C=b.getMouseInfo(S);N(C,S)}}),Be(ct(b),"handleMouseUp",function(S){var N=b.props.onMouseUp;if(We(N)){var C=b.getMouseInfo(S);N(C,S)}}),Be(ct(b),"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Be(ct(b),"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&b.handleMouseDown(S.changedTouches[0])}),Be(ct(b),"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&b.handleMouseUp(S.changedTouches[0])}),Be(ct(b),"triggerSyncEvent",function(S){b.props.syncId!==void 0&&C1.emit(E1,b.props.syncId,S,b.eventEmitterSymbol)}),Be(ct(b),"applySyncEvent",function(S){var N=b.props,C=N.layout,_=N.syncMethod,k=b.state.updateId,P=S.dataStartIndex,A=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)b.setState(le({dataStartIndex:P,dataEndIndex:A},g({props:b.props,dataStartIndex:P,dataEndIndex:A,updateId:k},b.state)));else if(S.activeTooltipIndex!==void 0){var I=S.chartX,L=S.chartY,E=S.activeTooltipIndex,R=b.state,O=R.offset,F=R.tooltipTicks;if(!O)return;if(typeof _=="function")E=_(F,S);else if(_==="value"){E=-1;for(var D=0;D<F.length;D++)if(F[D].value===S.activeLabel){E=D;break}}var M=le(le({},O),{},{x:O.left,y:O.top}),$=Math.min(I,M.x+M.width),z=Math.min(L,M.y+M.height),W=F[E]&&F[E].value,H=fC(b.state,b.props.data,E),V=F[E]?{x:C==="horizontal"?F[E].coordinate:$,y:C==="horizontal"?z:F[E].coordinate}:Eq;b.setState(le(le({},S),{},{activeLabel:W,activeCoordinate:V,activePayload:H,activeTooltipIndex:E}))}else b.setState(S)}),Be(ct(b),"renderCursor",function(S){var N,C=b.state,_=C.isTooltipActive,k=C.activeCoordinate,P=C.activePayload,A=C.offset,I=C.activeTooltipIndex,L=C.tooltipAxisBandSize,E=b.getTooltipEventType(),R=(N=S.props.active)!==null&&N!==void 0?N:_,O=b.props.layout,F=S.key||"_recharts-cursor";return T.createElement(R$e,{key:F,activeCoordinate:k,activePayload:P,activeTooltipIndex:I,chartName:r,element:S,isActive:R,layout:O,offset:A,tooltipAxisBandSize:L,tooltipEventType:E})}),Be(ct(b),"renderPolarAxis",function(S,N,C){var _=hs(S,"type.axisType"),k=hs(b.state,"".concat(_,"Map")),P=k&&k[S.props["".concat(_,"Id")]];return v.cloneElement(S,le(le({},P),{},{className:Ye(_,P.className),key:S.key||"".concat(N,"-").concat(C),ticks:Si(P,!0)}))}),Be(ct(b),"renderPolarGrid",function(S){var N=S.props,C=N.radialLines,_=N.polarAngles,k=N.polarRadius,P=b.state,A=P.radiusAxisMap,I=P.angleAxisMap,L=jo(A),E=jo(I),R=E.cx,O=E.cy,F=E.innerRadius,D=E.outerRadius;return v.cloneElement(S,{polarAngles:Array.isArray(_)?_:Si(E,!0).map(function(M){return M.coordinate}),polarRadius:Array.isArray(k)?k:Si(L,!0).map(function(M){return M.coordinate}),cx:R,cy:O,innerRadius:F,outerRadius:D,key:S.key||"polar-grid",radialLines:C})}),Be(ct(b),"renderLegend",function(){var S=b.state.formattedGraphicalItems,N=b.props,C=N.children,_=N.width,k=N.height,P=b.props.margin||{},A=_-(P.left||0)-(P.right||0),I=mU({children:C,formattedGraphicalItems:S,legendWidth:A,legendContent:d});if(!I)return null;var L=I.item,E=X$(I,$$e);return v.cloneElement(L,le(le({},E),{},{chartWidth:_,chartHeight:k,margin:P,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),Be(ct(b),"renderTooltip",function(){var S,N=b.props,C=N.children,_=N.accessibilityLayer,k=ns(C,rs);if(!k)return null;var P=b.state,A=P.isTooltipActive,I=P.activeCoordinate,L=P.activePayload,E=P.activeLabel,R=P.offset,O=(S=k.props.active)!==null&&S!==void 0?S:A;return v.cloneElement(k,{viewBox:le(le({},R),{},{x:R.left,y:R.top}),active:O,label:E,payload:O?L:[],coordinate:I,accessibilityLayer:_})}),Be(ct(b),"renderBrush",function(S){var N=b.props,C=N.margin,_=N.data,k=b.state,P=k.offset,A=k.dataStartIndex,I=k.dataEndIndex,L=k.updateId;return v.cloneElement(S,{key:S.key||"_recharts-brush",onChange:rv(b.handleBrushChange,S.props.onChange),data:_,x:we(S.props.x)?S.props.x:P.left,y:we(S.props.y)?S.props.y:P.top+P.height+P.brushBottom-(C.bottom||0),width:we(S.props.width)?S.props.width:P.width,startIndex:A,endIndex:I,updateId:"brush-".concat(L)})}),Be(ct(b),"renderReferenceElement",function(S,N,C){if(!S)return null;var _=ct(b),k=_.clipPathId,P=b.state,A=P.xAxisMap,I=P.yAxisMap,L=P.offset,E=S.props,R=E.xAxisId,O=E.yAxisId;return v.cloneElement(S,{key:S.key||"".concat(N,"-").concat(C),xAxis:A[R],yAxis:I[O],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:k})}),Be(ct(b),"renderActivePoints",function(S){var N=S.item,C=S.activePoint,_=S.basePoint,k=S.childIndex,P=S.isRange,A=[],I=N.props.key,L=N.item.props,E=L.activeDot,R=L.dataKey,O=le(le({index:k,dataKey:R,cx:C.x,cy:C.y,r:4,fill:nP(N.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value,key:"".concat(I,"-activePoint-").concat(k)},$e(E,!1)),Ky(E));return A.push(y.renderActiveDot(E,O)),_?A.push(y.renderActiveDot(E,le(le({},O),{},{cx:_.x,cy:_.y,key:"".concat(I,"-basePoint-").concat(k)}))):P&&A.push(null),A}),Be(ct(b),"renderGraphicChild",function(S,N,C){var _=b.filterFormatItem(S,N,C);if(!_)return null;var k=b.getTooltipEventType(),P=b.state,A=P.isTooltipActive,I=P.tooltipAxis,L=P.activeTooltipIndex,E=P.activeLabel,R=b.props.children,O=ns(R,rs),F=_.props,D=F.points,M=F.isRange,$=F.baseLine,z=_.item.props,W=z.activeDot,H=z.hide,V=z.activeBar,te=z.activeShape,ne=!!(!H&&A&&O&&(W||V||te)),X={};k!=="axis"&&O&&O.props.trigger==="click"?X={onClick:rv(b.handleItemMouseEnter,S.props.onClick)}:k!=="axis"&&(X={onMouseLeave:rv(b.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:rv(b.handleItemMouseEnter,S.props.onMouseEnter)});var ee=v.cloneElement(S,le(le({},_.props),X));function Z(_t){return typeof I.dataKey=="function"?I.dataKey(_t.payload):null}if(ne)if(L>=0){var ae,ce;if(I.dataKey&&!I.allowDuplicatedCategory){var q=typeof I.dataKey=="function"?Z:"payload.".concat(I.dataKey.toString());ae=Gy(D,q,E),ce=M&&$&&Gy($,q,E)}else ae=D==null?void 0:D[L],ce=M&&$&&$[L];if(te||V){var be=S.props.activeIndex!==void 0?S.props.activeIndex:L;return[v.cloneElement(S,le(le(le({},_.props),X),{},{activeIndex:be})),null,null]}if(!Ue(ae))return[ee].concat(kd(b.renderActivePoints({item:_,activePoint:ae,basePoint:ce,childIndex:L,isRange:M})))}else{var Se,Ae=(Se=b.getItemByXY(b.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:ee},Q=Ae.graphicalItem,me=Q.item,J=me===void 0?S:me,_e=Q.childIndex,rt=le(le(le({},_.props),X),{},{activeIndex:_e});return[v.cloneElement(J,rt),null,null]}return M?[ee,null,null]:[ee,null]}),Be(ct(b),"renderCustomized",function(S,N,C){return v.cloneElement(S,le(le({key:"recharts-customized-".concat(C)},b.props),b.state))}),Be(ct(b),"renderMap",{CartesianGrid:{handler:lv,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:lv},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:lv},YAxis:{handler:lv},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:sf("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=hV(b.triggeredAfterMouseMove,(j=x.throttleDelay)!==null&&j!==void 0?j:1e3/60),b.state={},b}return q$e(y,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,b=w.data,S=w.height,N=w.layout,C=ns(j,rs);if(C){var _=C.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length)){var k=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,P=fC(this.state,b,_,k),A=this.state.tooltipTicks[_].coordinate,I=(this.state.offset.top+S)/2,L=N==="horizontal",E=L?{x:A,y:I}:{y:A,x:I},R=this.state.formattedGraphicalItems.find(function(F){var D=F.item;return D.type.name==="Scatter"});R&&(E=le(le({},E),R.props.points[_].tooltipPosition),P=R.props.points[_].tooltipPayload);var O={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:k,activePayload:P,activeCoordinate:E};this.setState(O),this.renderCursor(C),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var b,S;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){qN([ns(w.children,rs)],[ns(this.props.children,rs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ns(this.props.children,rs);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return c.indexOf(j)>=0?j:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,b=j.getBoundingClientRect(),S=G_e(b),N={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},C=b.width/j.offsetWidth||1,_=this.inRange(N.chartX,N.chartY,C);if(!_)return null;var k=this.state,P=k.xAxisMap,A=k.yAxisMap,I=this.getTooltipEventType();if(I!=="axis"&&P&&A){var L=jo(P).scale,E=jo(A).scale,R=L&&L.invert?L.invert(N.chartX):null,O=E&&E.invert?E.invert(N.chartY):null;return le(le({},N),{},{xValue:R,yValue:O})}var F=Q$(this.state,this.props.data,this.props.layout,_);return F?le(le({},N),F):null}},{key:"inRange",value:function(w,j){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=w/b,C=j/b;if(S==="horizontal"||S==="vertical"){var _=this.state.offset,k=N>=_.left&&N<=_.left+_.width&&C>=_.top&&C<=_.top+_.height;return k?{x:N,y:C}:null}var P=this.state,A=P.angleAxisMap,I=P.radiusAxisMap;if(A&&I){var L=jo(A);return NR({x:N,y:C},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),b=ns(w,rs),S={};b&&j==="axis"&&(b.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var N=Ky(this.props,this.handleOuterEvent);return le(le({},N),S)}},{key:"addListener",value:function(){C1.on(E1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){C1.removeListener(E1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,b){for(var S=this.state.formattedGraphicalItems,N=0,C=S.length;N<C;N++){var _=S[N];if(_.item===w||_.props.key===w.key||j===Ai(_.item.type)&&b===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,b=j.left,S=j.top,N=j.height,C=j.width;return T.createElement("defs",null,T.createElement("clipPath",{id:w},T.createElement("rect",{x:b,y:S,height:N,width:C})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,b){var S=Y$(b,2),N=S[0],C=S[1];return le(le({},j),{},Be({},N,C.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,b){var S=Y$(b,2),N=S[0],C=S[1];return le(le({},j),{},Be({},N,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,b=j.formattedGraphicalItems,S=j.activeItem;if(b&&b.length)for(var N=0,C=b.length;N<C;N++){var _=b[N],k=_.props,P=_.item,A=Ai(P.type);if(A==="Bar"){var I=(k.data||[]).find(function(O){return yOe(w,O)});if(I)return{graphicalItem:_,payload:I}}else if(A==="RadialBar"){var L=(k.data||[]).find(function(O){return NR(w,O)});if(L)return{graphicalItem:_,payload:L}}else if(rb(_,S)||sb(_,S)||Xm(_,S)){var E=iDe({graphicalItem:_,activeTooltipItem:S,itemData:P.props.data}),R=P.props.activeIndex===void 0?E:P.props.activeIndex;return{graphicalItem:le(le({},_),{},{childIndex:R}),payload:Xm(_,S)?P.props.data[E]:_.props.data[E]}}}return null}},{key:"render",value:function(){var w=this;if(!hD(this))return null;var j=this.props,b=j.children,S=j.className,N=j.width,C=j.height,_=j.style,k=j.compact,P=j.title,A=j.desc,I=X$(j,L$e),L=$e(I,!1);if(k)return T.createElement(O$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement(GN,zh({},L,{width:N,height:C,title:P,desc:A}),this.renderClipPath(),pD(b,this.renderMap)));if(this.props.accessibilityLayer){var E,R;L.tabIndex=(E=this.props.tabIndex)!==null&&E!==void 0?E:0,L.role=(R=this.props.role)!==null&&R!==void 0?R:"application",L.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},L.onFocus=function(){w.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return T.createElement(O$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement("div",zh({className:Ye("recharts-wrapper",S),style:le({position:"relative",cursor:"default",width:N,height:C},_)},O,{ref:function(D){w.container=D}}),T.createElement(GN,zh({},L,{width:N,height:C,title:P,desc:A,style:e4e}),this.renderClipPath(),pD(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),y}(v.Component),Be(n,"displayName",r),Be(n,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Be(n,"getDerivedStateFromProps",function(p,y){var x=p.dataKey,w=p.data,j=p.children,b=p.width,S=p.height,N=p.layout,C=p.stackOffset,_=p.margin,k=y.dataStartIndex,P=y.dataEndIndex;if(y.updateId===void 0){var A=Z$(p);return le(le(le({},A),{},{updateId:0},g(le(le({props:p},A),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:w,prevWidth:b,prevHeight:S,prevLayout:N,prevStackOffset:C,prevMargin:_,prevChildren:j})}if(x!==y.prevDataKey||w!==y.prevData||b!==y.prevWidth||S!==y.prevHeight||N!==y.prevLayout||C!==y.prevStackOffset||!Bu(_,y.prevMargin)){var I=Z$(p),L={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},E=le(le({},Q$(y,w,N)),{},{updateId:y.updateId+1}),R=le(le(le({},I),L),E);return le(le(le({},R),g(le({props:p},R),y)),{},{prevDataKey:x,prevData:w,prevWidth:b,prevHeight:S,prevLayout:N,prevStackOffset:C,prevMargin:_,prevChildren:j})}if(!qN(j,y.prevChildren)){var O,F,D,M,$=ns(j,Sd),z=$&&(O=(F=$.props)===null||F===void 0?void 0:F.startIndex)!==null&&O!==void 0?O:k,W=$&&(D=(M=$.props)===null||M===void 0?void 0:M.endIndex)!==null&&D!==void 0?D:P,H=z!==k||W!==P,V=!Ue(w),te=V&&!H?y.updateId:y.updateId+1;return le(le({updateId:te},g(le(le({props:p},y),{},{updateId:te,dataStartIndex:z,dataEndIndex:W}),y)),{},{prevChildren:j,dataStartIndex:z,dataEndIndex:W})}return null}),Be(n,"renderActiveDot",function(p,y){var x;return v.isValidElement(p)?x=v.cloneElement(p,y):We(p)?x=p(y):x=T.createElement(Qw,y),T.createElement(dt,{className:"recharts-active-dot",key:y.key},x)}),n},Aq=fP({chartName:"LineChart",GraphicalChild:Zo,axisComponents:[{axisType:"xAxis",AxisComp:gc},{axisType:"yAxis",AxisComp:el}],formatAxisMap:aq}),u4e=fP({chartName:"BarChart",GraphicalChild:Ic,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gc},{axisType:"yAxis",AxisComp:el}],formatAxisMap:aq}),d4e=fP({chartName:"PieChart",GraphicalChild:eo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:nb},{axisType:"radiusAxis",AxisComp:eb}],formatAxisMap:WPe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const f4e=[{name:"Jan",revenue:4e3,orders:24},{name:"Fev",revenue:3e3,orders:18},{name:"Mar",revenue:5e3,orders:32},{name:"Abr",revenue:4500,orders:28},{name:"Mai",revenue:6e3,orders:38},{name:"Jun",revenue:5500,orders:35}],h4e=({active:e,payload:t,label:n})=>e&&t&&t.length?i.jsxs("div",{className:"bg-background p-3 border rounded-lg shadow-sm",children:[i.jsx("p",{className:"font-medium text-sm",children:n}),i.jsxs("p",{className:"text-sm text-blue-600",children:["Receita: ",i.jsxs("span",{className:"font-medium",children:["R$ ",t[0].value.toLocaleString()]})]}),i.jsxs("p",{className:"text-sm text-emerald-600",children:["Pedidos: ",i.jsx("span",{className:"font-medium",children:t[1].value})]})]}):null;function m4e(){return i.jsx("div",{className:"w-full h-[300px]",children:i.jsx(Vv,{width:"100%",height:"100%",children:i.jsxs(Aq,{data:f4e,margin:{top:5,right:20,left:10,bottom:5},children:[i.jsx(Bx,{strokeDasharray:"3 3",className:"stroke-muted"}),i.jsx(gc,{dataKey:"name",tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"hsl(var(--border))"},className:"text-xs text-muted-foreground"}),i.jsx(el,{yAxisId:"left",tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"hsl(var(--border))"},tickFormatter:e=>`R$ ${e}`,className:"text-xs text-muted-foreground"}),i.jsx(el,{yAxisId:"right",orientation:"right",tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"hsl(var(--border))"},className:"text-xs text-muted-foreground"}),i.jsx(rs,{content:i.jsx(h4e,{})}),i.jsx(fd,{wrapperStyle:{paddingTop:10},formatter:e=>i.jsx("span",{className:"text-sm",children:e==="revenue"?"Receita":"Pedidos"})}),i.jsx(Zo,{yAxisId:"left",type:"monotone",dataKey:"revenue",stroke:"hsl(var(--chart-1))",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6,strokeWidth:2}}),i.jsx(Zo,{yAxisId:"right",type:"monotone",dataKey:"orders",stroke:"hsl(var(--chart-2))",strokeWidth:2,dot:{r:3,strokeWidth:2},activeDot:{r:5,strokeWidth:2}})]})})})}function Et(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function tl(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Pq=6048e5,p4e=864e5,cv=43200,t4=1440;let g4e={};function og(){return g4e}function ip(e,t){var l,c,u,d;const n=og(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Et(e),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Vx(e){return ip(e,{weekStartsOn:1})}function Tq(e){const t=Et(e),n=t.getFullYear(),r=tl(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Vx(r),a=tl(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Vx(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function n4(e){const t=Et(e);return t.setHours(0,0,0,0),t}function Ux(e){const t=Et(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function v4e(e,t){const n=n4(e),r=n4(t),s=+n-Ux(n),a=+r-Ux(r);return Math.round((s-a)/p4e)}function y4e(e){const t=Tq(e),n=tl(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Vx(n)}function qv(e,t){const n=Et(e),r=Et(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function x4e(e){return tl(e,Date.now())}function w4e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function b4e(e){if(!w4e(e)&&typeof e!="number")return!1;const t=Et(e);return!isNaN(Number(t))}function j4e(e,t){const n=Et(e),r=Et(t),s=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return s*12+a}function S4e(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function N4e(e,t){return+Et(e)-+Et(t)}function _4e(e){const t=Et(e);return t.setHours(23,59,59,999),t}function C4e(e){const t=Et(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function E4e(e){const t=Et(e);return+_4e(t)==+C4e(t)}function k4e(e,t){const n=Et(e),r=Et(t),s=qv(n,r),a=Math.abs(j4e(n,r));let o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*a);let l=qv(n,r)===-s;E4e(Et(e))&&a===1&&qv(e,r)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function A4e(e,t,n){const r=N4e(e,t)/1e3;return S4e(n==null?void 0:n.roundingMethod)(r)}function P4e(e){const t=Et(e),n=tl(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const T4e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},O4e=(e,t,n)=>{let r;const s=T4e[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Vu(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const I4e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},D4e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M4e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R4e={date:Vu({formats:I4e,defaultWidth:"full"}),time:Vu({formats:D4e,defaultWidth:"full"}),dateTime:Vu({formats:M4e,defaultWidth:"full"})},$4e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},L4e=(e,t,n,r)=>$4e[e];function Fa(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const F4e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},B4e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},z4e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},W4e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q4e=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},H4e={ordinalNumber:q4e,era:Fa({values:F4e,defaultWidth:"wide"}),quarter:Fa({values:B4e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fa({values:z4e,defaultWidth:"wide"}),day:Fa({values:W4e,defaultWidth:"wide"}),dayPeriod:Fa({values:V4e,defaultWidth:"wide",formattingValues:U4e,defaultFormattingWidth:"wide"})};function Ba(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?K4e(l,f=>f.test(o)):G4e(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function G4e(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function K4e(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Oq(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Y4e=/^(\d+)(th|st|nd|rd)?/i,X4e=/\d+/i,J4e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Q4e={any:[/^b/i,/^(a|c)/i]},Z4e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eLe={any:[/1/i,/2/i,/3/i,/4/i]},tLe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nLe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rLe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sLe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aLe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iLe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oLe={ordinalNumber:Oq({matchPattern:Y4e,parsePattern:X4e,valueCallback:e=>parseInt(e,10)}),era:Ba({matchPatterns:J4e,defaultMatchWidth:"wide",parsePatterns:Q4e,defaultParseWidth:"any"}),quarter:Ba({matchPatterns:Z4e,defaultMatchWidth:"wide",parsePatterns:eLe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ba({matchPatterns:tLe,defaultMatchWidth:"wide",parsePatterns:nLe,defaultParseWidth:"any"}),day:Ba({matchPatterns:rLe,defaultMatchWidth:"wide",parsePatterns:sLe,defaultParseWidth:"any"}),dayPeriod:Ba({matchPatterns:aLe,defaultMatchWidth:"any",parsePatterns:iLe,defaultParseWidth:"any"})},Iq={code:"en-US",formatDistance:O4e,formatLong:R4e,formatRelative:L4e,localize:H4e,match:oLe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lLe(e){const t=Et(e);return v4e(t,P4e(t))+1}function cLe(e){const t=Et(e),n=+Vx(t)-+y4e(t);return Math.round(n/Pq)+1}function Dq(e,t){var d,f,h,m;const n=Et(e),r=n.getFullYear(),s=og(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=tl(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=ip(o,t),c=tl(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=ip(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function uLe(e,t){var l,c,u,d;const n=og(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Dq(e,t),a=tl(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),ip(a,t)}function dLe(e,t){const n=Et(e),r=+ip(n,t)-+uLe(n,t);return Math.round(r/Pq)+1}function xt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const io={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return xt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):xt(n+1,2)},d(e,t){return xt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return xt(e.getHours()%12||12,t.length)},H(e,t){return xt(e.getHours(),t.length)},m(e,t){return xt(e.getMinutes(),t.length)},s(e,t){return xt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return xt(s,t.length)}},Kc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r4={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return io.y(e,t)},Y:function(e,t,n,r){const s=Dq(e,r),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return xt(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):xt(a,t.length)},R:function(e,t){const n=Tq(e);return xt(n,t.length)},u:function(e,t){const n=e.getFullYear();return xt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return xt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return xt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return io.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return xt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=dLe(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):xt(s,t.length)},I:function(e,t,n){const r=cLe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):xt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):io.d(e,t)},D:function(e,t,n){const r=lLe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):xt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return xt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return xt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return xt(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Kc.noon:r===0?s=Kc.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Kc.evening:r>=12?s=Kc.afternoon:r>=4?s=Kc.morning:s=Kc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return io.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):io.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):xt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):xt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):io.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):io.s(e,t)},S:function(e,t){return io.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return a4(r);case"XXXX":case"XX":return Il(r);case"XXXXX":case"XXX":default:return Il(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return a4(r);case"xxxx":case"xx":return Il(r);case"xxxxx":case"xxx":default:return Il(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+s4(r,":");case"OOOO":default:return"GMT"+Il(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+s4(r,":");case"zzzz":default:return"GMT"+Il(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return xt(r,t.length)},T:function(e,t,n){const r=e.getTime();return xt(r,t.length)}};function s4(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+xt(a,2)}function a4(e,t){return e%60===0?(e>0?"-":"+")+xt(Math.abs(e)/60,2):Il(e,t)}function Il(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=xt(Math.trunc(r/60),2),a=xt(r%60,2);return n+s+t+a}const i4=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Mq=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},fLe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return i4(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",i4(r,t)).replace("{{time}}",Mq(s,t))},hLe={p:Mq,P:fLe},mLe=/^D+$/,pLe=/^Y+$/,gLe=["D","DD","YY","YYYY"];function vLe(e){return mLe.test(e)}function yLe(e){return pLe.test(e)}function xLe(e,t,n){const r=wLe(e,t,n);if(console.warn(r),gLe.includes(e))throw new RangeError(r)}function wLe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bLe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jLe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,SLe=/^'([^]*?)'?$/,NLe=/''/g,_Le=/[a-zA-Z]/;function A1(e,t,n){var d,f,h,m,g,p,y,x;const r=og(),s=(n==null?void 0:n.locale)??r.locale??Iq,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((x=(y=r.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,l=Et(e);if(!b4e(l))throw new RangeError("Invalid time value");let c=t.match(jLe).map(w=>{const j=w[0];if(j==="p"||j==="P"){const b=hLe[j];return b(w,s.formatLong)}return w}).join("").match(bLe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const j=w[0];if(j==="'")return{isToken:!1,value:CLe(w)};if(r4[j])return{isToken:!0,value:w};if(j.match(_Le))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const j=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&yLe(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&vLe(j))&&xLe(j,t,String(e));const b=r4[j[0]];return b(l,j,s.localize,u)}).join("")}function CLe(e){const t=e.match(SLe);return t?t[1].replace(NLe,"'"):e}function ELe(e,t,n){const r=og(),s=(n==null?void 0:n.locale)??r.locale??Iq,a=2520,o=qv(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=Et(t),u=Et(e)):(c=Et(e),u=Et(t));const d=A4e(u,c),f=(Ux(u)-Ux(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<t4){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<cv){const g=Math.round(h/t4);return s.formatDistance("xDays",g,l)}else if(h<cv*2)return m=Math.round(h/cv),s.formatDistance("aboutXMonths",m,l)}if(m=k4e(u,c),m<12){const g=Math.round(h/cv);return s.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",p,l):g<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function P1(e,t){return ELe(e,x4e(e),t)}const kLe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},ALe=(e,t,n)=>{let r;const s=kLe[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},PLe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},TLe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},OLe={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ILe={date:Vu({formats:PLe,defaultWidth:"full"}),time:Vu({formats:TLe,defaultWidth:"full"}),dateTime:Vu({formats:OLe,defaultWidth:"full"})},DLe={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},MLe=(e,t,n,r)=>{const s=DLe[e];return typeof s=="function"?s(t):s},RLe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},$Le={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},LLe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},FLe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},BLe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},zLe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},WLe=(e,t)=>{const n=Number(e);return(t==null?void 0:t.unit)==="week"?n+"":n+""},VLe={ordinalNumber:WLe,era:Fa({values:RLe,defaultWidth:"wide"}),quarter:Fa({values:$Le,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fa({values:LLe,defaultWidth:"wide"}),day:Fa({values:FLe,defaultWidth:"wide"}),dayPeriod:Fa({values:BLe,defaultWidth:"wide",formattingValues:zLe,defaultFormattingWidth:"wide"})},ULe=/^(\d+)[o]?/i,qLe=/\d+/i,HLe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},GLe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},KLe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},YLe={any:[/1/i,/2/i,/3/i,/4/i]},XLe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},JLe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},QLe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},ZLe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},e3e={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},t3e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},n3e={ordinalNumber:Oq({matchPattern:ULe,parsePattern:qLe,valueCallback:e=>parseInt(e,10)}),era:Ba({matchPatterns:HLe,defaultMatchWidth:"wide",parsePatterns:GLe,defaultParseWidth:"any"}),quarter:Ba({matchPatterns:KLe,defaultMatchWidth:"wide",parsePatterns:YLe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ba({matchPatterns:XLe,defaultMatchWidth:"wide",parsePatterns:JLe,defaultParseWidth:"any"}),day:Ba({matchPatterns:QLe,defaultMatchWidth:"wide",parsePatterns:ZLe,defaultParseWidth:"any"}),dayPeriod:Ba({matchPatterns:e3e,defaultMatchWidth:"any",parsePatterns:t3e,defaultParseWidth:"any"})},Uu={code:"pt-BR",formatDistance:ALe,formatLong:ILe,formatRelative:MLe,localize:VLe,match:n3e,options:{weekStartsOn:0,firstWeekContainsDate:1}},r3e=e=>e?e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"?",s3e=e=>{switch(e){case"pedido":return"bg-amber-100 text-amber-800 border-amber-200";case"estoque":return"bg-blue-100 text-blue-800 border-blue-200";case"transferencia":return"bg-purple-100 text-purple-800 border-purple-200";case"compra":return"bg-green-100 text-green-800 border-green-200";case"evento":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"mensagem":return"bg-pink-100 text-pink-800 border-pink-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};function a3e(){const{currentWorkspace:e}=je(),[t,n]=v.useState([]),[r,s]=v.useState(!0);v.useEffect(()=>{e!=null&&e.id&&a()},[e==null?void 0:e.id]);const a=async()=>{try{s(!0);const o=[],{data:l}=await U.from("orders").select("*, clients!inner(name, workspace_id)").eq("clients.workspace_id",e.id).order("order_date",{ascending:!1}).limit(10);l&&l.forEach(d=>{var h,m;const f={pending:"Pedido pendente",paid:"Pedido pago",processing:"Pedido em processamento",shipped:"Pedido enviado",delivered:"Pedido entregue",cancelled:"Pedido cancelado"};o.push({id:`order-${d.id}`,type:"pedido",user:((h=d.clients)==null?void 0:h.name)||"Cliente",action:f[d.status]||"Novo pedido",target:`R$ ${((m=d.total_amount)==null?void 0:m.toFixed(2))||"0,00"}`,time:P1(new Date(d.order_date),{addSuffix:!0,locale:Uu}),icon:Bp,metadata:d})});const{data:c}=await U.from("log_lanamento_estoque").select("*").eq("workspace_id",e.id).eq("status","success").order("dia_lancado",{ascending:!1}).limit(20);if(c){const d=new Map;c.forEach(f=>{const h=`${f.dia_lancado}-${f.estoque_origem}`;d.has(h)||d.set(h,[]),d.get(h).push(f)}),d.forEach((f,h)=>{const m=f[0],g=f.map(p=>`${p.sku} (${p.quantidade})`).join(", ");o.push({id:`purchase-${h}`,type:"compra",user:"Sistema",action:"Compra recebida",target:g,time:P1(new Date(m.dia_lancado),{addSuffix:!0,locale:Uu}),icon:Tt,warehouse:m.estoque_origem,metadata:{group:f,count:f.length}})})}const{data:u}=await U.from("log_lanamento_transferencia").select("*").eq("workspace_id",e.id).eq("status","success").order("dia_lancado",{ascending:!1}).limit(20);if(u){const d=new Map;u.forEach(f=>{const h=`${f.dia_lancado}-${f.estoque_origem}-${f.estoque_destino}`;d.has(h)||d.set(h,[]),d.get(h).push(f)}),d.forEach((f,h)=>{const m=f[0],g=f.map(p=>`${p.sku} (${p.quantidade})`).join(", ");o.push({id:`transfer-${h}`,type:"transferencia",user:"Sistema",action:"Transferncia",target:g,time:P1(new Date(m.dia_lancado),{addSuffix:!0,locale:Uu}),icon:CN,warehouse:m.estoque_destino,warehouseOrigin:m.estoque_origem,metadata:{group:f,count:f.length}})})}o.sort((d,f)=>{const h=m=>{var g,p,y,x,w,j,b;return(g=m.metadata)!=null&&g.order_date?new Date(m.metadata.order_date).getTime():(p=m.metadata)!=null&&p.created_at?new Date(m.metadata.created_at).getTime():(y=m.metadata)!=null&&y.dia_lancado?new Date(m.metadata.dia_lancado).getTime():(j=(w=(x=m.metadata)==null?void 0:x.group)==null?void 0:w[0])!=null&&j.dia_lancado?new Date(m.metadata.group[0].dia_lancado).getTime():(b=m.metadata)!=null&&b.processed_at?new Date(m.metadata.processed_at).getTime():0};return h(f)-h(d)}),n(o.slice(0,15))}catch(o){console.error("Error loading activities:",o)}finally{s(!1)}};return r?i.jsxs(re,{children:[i.jsxs(pe,{className:"pb-2",children:[i.jsx(ge,{children:"Atividade Recente"}),i.jsx(He,{children:"ltimas aes no sistema"})]}),i.jsx(se,{className:"flex items-center justify-center py-8",children:i.jsx(mr,{className:"h-6 w-6 animate-spin text-muted-foreground"})})]}):t.length===0?i.jsxs(re,{children:[i.jsxs(pe,{className:"pb-2",children:[i.jsx(ge,{children:"Atividade Recente"}),i.jsx(He,{children:"ltimas aes no sistema"})]}),i.jsx(se,{className:"flex items-center justify-center py-8 text-muted-foreground",children:i.jsx("p",{children:"Nenhuma atividade recente"})})]}):i.jsxs(re,{children:[i.jsxs(pe,{className:"pb-2",children:[i.jsx(ge,{children:"Atividade Recente"}),i.jsx(He,{children:"ltimas aes no sistema"})]}),i.jsx(se,{className:"space-y-5",children:t.map(o=>{const l=o.icon;return i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx(Bi,{className:"h-9 w-9",children:i.jsx(zi,{className:"bg-primary/10 text-primary",children:r3e(o.user||"S")})}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[i.jsx("p",{className:"text-sm font-medium leading-none",children:o.user||"Sistema"}),i.jsxs(fe,{className:`${s3e(o.type)}`,children:[i.jsx(l,{className:"h-3 w-3 mr-1"}),i.jsx("span",{className:"text-xs capitalize",children:o.type})]}),o.warehouse&&i.jsxs(fe,{variant:"outline",className:"text-xs",children:[o.warehouseOrigin&&`${o.warehouseOrigin}  `,o.warehouse]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.action," ",i.jsx("span",{className:"font-medium",children:o.target})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:o.time})]})]},o.id)})})]})}const i3e=(e,t,n)=>{const r=e<=30?5:e<=60?4:e<=90?3:e<=180?2:1,s=t>=10?5:t>=5?4:t>=3?3:t>=2?2:1,a=n>=1e3?5:n>=500?4:n>=200?3:n>=100?2:1;return`${r}${s}${a}`},o3e=e=>{const[t,n,r]=e.split("").map(Number);return t>=4&&n>=4&&r>=4?"Champions":t>=3&&n>=3&&r>=3?"Loyal Customers":t>=4&&n<=2?"New Customers":t>=3&&n>=3&&r<=2?"Potential Loyalists":t>=3&&n<=2&&r>=3?"Promising":t<=2&&n>=3&&r>=3?"Need Attention":t<=2&&n<=2&&r>=3?"Cannot Lose Them":t<=2&&n>=3&&r<=2?"At Risk":t>=3&&n<=2&&r<=2?"About to Sleep":t<=2&&n<=2&&r<=2?"Hibernating":"Lost"},Or=ka((e,t)=>({leads:[],clients:[],products:[],orders:[],messages:[],campaigns:[],stats:{totalLeads:0,totalClients:0,totalOrders:0,totalRevenue:0,totalConversations:0,activeChannels:0},loading:!1,fetchStats:async()=>{await G.handleAsync(async()=>{var g;const n=je.getState().currentWorkspace;if(!n)return;const{data:{user:r}}=await U.auth.getUser();if(!r)return;const[{count:s},{count:a},{count:o},{count:l},{count:c},{data:u},{data:d}]=await Promise.all([U.from("leads").select("*",{count:"exact",head:!0}).eq("workspace_id",n.id),U.from("clients").select("*",{count:"exact",head:!0}).eq("workspace_id",n.id),U.from("orders").select("*, clients!inner(workspace_id)",{count:"exact",head:!0}).eq("clients.workspace_id",n.id),U.from("conversations").select("*",{count:"exact",head:!0}).eq("workspace_id",n.id),U.from("channels").select("*",{count:"exact",head:!0}).eq("workspace_id",n.id).eq("status","connected"),U.from("orders").select("total_amount, status, clients!inner(workspace_id)").eq("clients.workspace_id",n.id),U.from("messages").select("timestamp").order("timestamp",{ascending:!1}).limit(1)]),f=(u==null?void 0:u.filter(p=>p.status==="completed"))||[],h=f.reduce((p,y)=>p+parseFloat(y.total_amount),0),m=f.length>0?h/f.length:0;e({stats:{totalLeads:s||0,totalClients:a||0,totalOrders:o||0,totalRevenue:h,totalConversations:l||0,activeChannels:c||0,lastMessageSent:(g=d==null?void 0:d[0])==null?void 0:g.timestamp,avgOrderValue:m,conversionRate:s?(a||0)/s*100:0,activeClients:a||0}})})},fetchLeads:async()=>{await G.handleAsync(async()=>{const n=je.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("leads").select("*").eq("workspace_id",n.id).order("created_at",{ascending:!1});if(s)throw s;e({leads:r||[]})})},fetchClients:async()=>{await G.handleAsync(async()=>{const n=je.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("clients").select(`
          *,
          orders(total_amount, order_date, status)
        `).eq("workspace_id",n.id).order("created_at",{ascending:!1});if(s)throw s;const a=(r||[]).map(o=>{const l=o.orders||[],c=l.filter(u=>u.status==="completed");return{...o,total_orders:l.length,total_spent:c.reduce((u,d)=>u+parseFloat(d.total_amount),0),last_order_date:l.length>0?l.sort((u,d)=>new Date(d.order_date).getTime()-new Date(u.order_date).getTime())[0].order_date:null}});e({clients:a})})},fetchProducts:async()=>{await G.handleAsync(async()=>{const n=je.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("products").select("*").eq("workspace_id",n.id).order("name",{ascending:!0});if(s)throw s;e({products:r||[]})})},fetchOrders:async()=>{await G.handleAsync(async()=>{const n=je.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("orders").select(`
          *,
          client:clients!inner(*, workspace_id)
        `).eq("client.workspace_id",n.id).order("order_date",{ascending:!1});if(s)throw s;e({orders:r||[]})})},fetchMessages:async()=>{await G.handleAsync(async()=>{const n=je.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("messages").select(`
          *,
          client:clients!inner(*, workspace_id)
        `).eq("client.workspace_id",n.id).order("timestamp",{ascending:!1});if(s)throw s;e({messages:r||[]})})},fetchCampaigns:async()=>{await G.handleAsync(async()=>{const n=je.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("campaigns").select("*").eq("workspace_id",n.id).order("created_at",{ascending:!1});if(s)throw s;e({campaigns:r||[]})})},createLead:async n=>{await G.handleAsync(async()=>{const{data:{user:r}}=await U.auth.getUser(),s=je.getState().currentWorkspace;if(!r||!s)throw G.createError("Erro de Autenticao","Voc precisa estar logado e ter um workspace selecionado.");const{error:a}=await U.from("leads").insert({...n,user_id:r.id,workspace_id:s.id});if(a)throw a;t().fetchLeads(),t().fetchStats(),G.showSuccess("Lead criado com sucesso!")})},updateLead:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("leads").update(r).eq("id",n);if(s)throw s;t().fetchLeads(),G.showSuccess("Lead atualizado com sucesso!")})},deleteLead:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("leads").delete().eq("id",n);if(r)throw r;t().fetchLeads(),t().fetchStats(),G.showSuccess("Lead excludo com sucesso!")})},convertLeadToClient:async n=>{await G.handleAsync(async()=>{const{data:{user:r}}=await U.auth.getUser(),s=je.getState().currentWorkspace;if(!r||!s)throw G.createError("Erro de Autenticao","Voc precisa estar logado e ter um workspace selecionado.");const a=t().leads.find(c=>c.id===n);if(!a)throw G.createError("Lead No Encontrado","O lead selecionado no foi encontrado.");const{error:o}=await U.from("clients").insert({name:a.name,phone:a.phone,email:a.email,user_id:r.id,workspace_id:s.id});if(o)throw o;const{error:l}=await U.from("leads").update({status:"converted"}).eq("id",n);if(l)throw l;t().fetchLeads(),t().fetchClients(),t().fetchStats(),G.showSuccess("Lead convertido para cliente com sucesso!")})},createClient:async n=>{await G.handleAsync(async()=>{const{data:{user:r}}=await U.auth.getUser(),s=je.getState().currentWorkspace;if(!r||!s)throw G.createError("Erro de Autenticao","Voc precisa estar logado e ter um workspace selecionado.");const{error:a}=await U.from("clients").insert({...n,user_id:r.id,workspace_id:s.id});if(a)throw a;t().fetchClients(),t().fetchStats(),G.showSuccess("Cliente criado com sucesso!")})},updateClient:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("clients").update(r).eq("id",n);if(s)throw s;t().fetchClients(),G.showSuccess("Cliente atualizado com sucesso!")})},deleteClient:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("clients").delete().eq("id",n);if(r)throw r;t().fetchClients(),t().fetchStats(),G.showSuccess("Cliente excludo com sucesso!")})},createOrder:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("orders").insert(n);if(r)throw r;t().fetchOrders(),t().fetchClients(),t().fetchStats(),G.showSuccess("Pedido criado com sucesso!")})},updateOrder:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("orders").update(r).eq("id",n);if(s)throw s;t().fetchOrders(),t().fetchStats(),G.showSuccess("Pedido atualizado com sucesso!")})},deleteOrder:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("orders").delete().eq("id",n);if(r)throw r;t().fetchOrders(),t().fetchStats(),G.showSuccess("Pedido excludo com sucesso!")})},sendMessage:async(n,r,s="manual")=>{await G.handleAsync(async()=>{const{error:a}=await U.from("messages").insert({client_id:n,content:r,send_type:s,sender_type:"user",channel_type:"whatsapp",status:"pending"});if(a)throw a;t().fetchMessages(),t().fetchStats(),G.showSuccess("Mensagem enviada com sucesso!")})},createCampaign:async n=>{await G.handleAsync(async()=>{const{data:{user:r}}=await U.auth.getUser(),s=je.getState().currentWorkspace;if(!r||!s)throw G.createError("Erro de Autenticao","Voc precisa estar logado e ter um workspace selecionado.");const{error:a}=await U.from("campaigns").insert({...n,user_id:r.id,workspace_id:s.id});if(a)throw a;t().fetchCampaigns(),G.showSuccess("Campanha criada com sucesso!")})},fetchClientRFMAnalysis:async n=>await G.handleAsync(async()=>{const{data:r,error:s}=await U.from("orders").select("total_amount, order_date, status").eq("client_id",n).eq("status","completed");if(s)throw s;if(!r||r.length===0)return{client_id:n,recency:999,frequency:0,monetary:0,rfm_score:"111",category:"New Customers"};const a=new Date,o=new Date(Math.max(...r.map(h=>new Date(h.order_date).getTime()))),l=Math.floor((a.getTime()-o.getTime())/(1e3*60*60*24)),c=r.length,u=r.reduce((h,m)=>h+parseFloat(m.total_amount),0),d=i3e(l,c,u),f=o3e(d);return{client_id:n,recency:l,frequency:c,monetary:u,rfm_score:d,category:f}})||{client_id:n,recency:999,frequency:0,monetary:0,rfm_score:"111",category:"New Customers"},calculateRFMScores:async()=>{await G.handleAsync(async()=>{const n=t().clients,r=await Promise.all(n.map(a=>t().fetchClientRFMAnalysis(a.id))),s=n.map(a=>{const o=r.find(l=>(l==null?void 0:l.client_id)===a.id);return{...a,rfm_analysis:o}});e({clients:s})})},fetchClientOrders:async n=>await G.handleAsync(async()=>{const{data:r,error:s}=await U.from("orders").select("*").eq("client_id",n).order("order_date",{ascending:!1});if(s)throw s;return r||[]})||[]}));function l3e(){const{stats:e,fetchStats:t}=Or(),{currentWorkspace:n}=je(),r=_c(),[s,a]=v.useState({totalClients:0,totalOrders:0,totalRevenue:0,totalEvents:0,totalStockChanges:0,activeWarehouses:0,revenueGrowth:0,ordersGrowth:0}),[o,l]=v.useState(!0);v.useEffect(()=>{n&&(t(),c())},[t,n]);const c=async()=>{try{l(!0);const{count:d}=await U.from("clients").select("*",{count:"exact",head:!0}).eq("workspace_id",n.id),{count:f}=await U.from("orders").select("*, clients!inner(workspace_id)",{count:"exact",head:!0}).eq("clients.workspace_id",n.id),{data:h}=await U.from("orders").select("total_amount, clients!inner(workspace_id)").eq("clients.workspace_id",n.id),m=(h==null?void 0:h.reduce((k,P)=>k+(P.total_amount||0),0))||0,g=new Date;g.setDate(g.getDate()-30);const{count:p}=await U.from("event_queue").select("*",{count:"exact",head:!0}).eq("status","completed").gte("created_at",g.toISOString()),{count:y}=await U.from("stock_change_log").select("*",{count:"exact",head:!0}).eq("workspace_id",n.id).gte("created_at",g.toISOString()),{count:x}=await U.from("baselinker_warehouses").select("*",{count:"exact",head:!0}).eq("workspace_id",n.id),w=new Date;w.setDate(w.getDate()-60);const{data:j}=await U.from("orders").select("total_amount, order_date, clients!inner(workspace_id)").eq("clients.workspace_id",n.id).gte("order_date",g.toISOString()),{data:b}=await U.from("orders").select("total_amount, order_date, clients!inner(workspace_id)").eq("clients.workspace_id",n.id).gte("order_date",w.toISOString()).lt("order_date",g.toISOString()),S=(j==null?void 0:j.reduce((k,P)=>k+(P.total_amount||0),0))||0,N=(b==null?void 0:b.reduce((k,P)=>k+(P.total_amount||0),0))||0,C=N>0?(S-N)/N*100:0,_=((b==null?void 0:b.length)||0)>0?(((j==null?void 0:j.length)||0)-((b==null?void 0:b.length)||0))/((b==null?void 0:b.length)||0)*100:0;a({totalClients:d||0,totalOrders:f||0,totalRevenue:m,totalEvents:p||0,totalStockChanges:y||0,activeWarehouses:x||0,revenueGrowth:Math.round(C),ordersGrowth:Math.round(_)})}catch(d){console.error("Error loading dashboard stats:",d)}finally{l(!1)}},u=[{title:"Total de Clientes",value:o?"...":s.totalClients,icon:Fr,trend:null,valueClassName:"text-indigo-600",iconClassName:"bg-indigo-50"},{title:"Total de Pedidos",value:o?"...":s.totalOrders,icon:Bp,trend:s.ordersGrowth!==0?{value:Math.abs(s.ordersGrowth),isPositive:s.ordersGrowth>0}:null,valueClassName:"text-purple-600",iconClassName:"bg-purple-50"},{title:"Receita Total",value:o?"...":`R$ ${s.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:ic,trend:s.revenueGrowth!==0?{value:Math.abs(s.revenueGrowth),isPositive:s.revenueGrowth>0}:null,valueClassName:"text-emerald-600",iconClassName:"bg-emerald-50"},{title:"Eventos (30 dias)",value:o?"...":s.totalEvents,icon:w6,trend:null,valueClassName:"text-blue-600",iconClassName:"bg-blue-50"},{title:"Alteraes Estoque (30d)",value:o?"...":s.totalStockChanges,icon:Tt,trend:null,valueClassName:"text-amber-600",iconClassName:"bg-amber-50"},{title:"Warehouses Ativos",value:o?"...":s.activeWarehouses,icon:ds,trend:null,valueClassName:"text-rose-600",iconClassName:"bg-rose-50"}];return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),i.jsxs("p",{className:"text-muted-foreground mt-1",children:["Bem-vindo de volta ao ",(n==null?void 0:n.name)||"seu workspace","! Aqui est o resumo do seu negcio."]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(B,{variant:"outline",onClick:()=>r("/analytics"),children:[i.jsx(Loe,{className:"mr-2 h-4 w-4"}),"Relatrios"]}),i.jsxs(B,{onClick:()=>r("/clients"),children:[i.jsx(Ry,{className:"mr-2 h-4 w-4"}),"Novo Lead"]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-5",children:u.map((d,f)=>i.jsx(Ahe,{...d,index:f},d.title))}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[i.jsxs(re,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-none",children:[i.jsxs(pe,{children:[i.jsx(ge,{className:"text-blue-800",children:"Inbox"}),i.jsx(He,{className:"text-blue-700/70",children:"Gerencie suas conversas"})]}),i.jsx(se,{children:i.jsxs("p",{className:"text-blue-700",children:[e.totalConversations||0," conversas ativas"]})}),i.jsx($u,{children:i.jsxs(B,{variant:"ghost",className:"text-blue-700 hover:text-blue-800 hover:bg-blue-100 w-full justify-between",onClick:()=>r("/inbox"),children:[i.jsx("span",{children:"Ir para Inbox"}),i.jsx(Xl,{className:"h-4 w-4"})]})})]}),i.jsxs(re,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-none",children:[i.jsxs(pe,{children:[i.jsx(ge,{className:"text-purple-800",children:"Kanban"}),i.jsx(He,{className:"text-purple-700/70",children:"Visualize seu pipeline"})]}),i.jsx(se,{children:i.jsxs("p",{className:"text-purple-700",children:[e.totalLeads||0," leads em processamento"]})}),i.jsx($u,{children:i.jsxs(B,{variant:"ghost",className:"text-purple-700 hover:text-purple-800 hover:bg-purple-100 w-full justify-between",onClick:()=>r("/kanban"),children:[i.jsx("span",{children:"Ir para Kanban"}),i.jsx(Xl,{className:"h-4 w-4"})]})})]}),i.jsxs(re,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-none",children:[i.jsxs(pe,{children:[i.jsx(ge,{className:"text-emerald-800",children:"Automao"}),i.jsx(He,{className:"text-emerald-700/70",children:"Configure fluxos automticos"})]}),i.jsx(se,{children:i.jsx("p",{className:"text-emerald-700",children:"Otimize seus processos"})}),i.jsx($u,{children:i.jsxs(B,{variant:"ghost",className:"text-emerald-700 hover:text-emerald-800 hover:bg-emerald-100 w-full justify-between",onClick:()=>r("/automation"),children:[i.jsx("span",{children:"Ir para Automao"}),i.jsx(Xl,{className:"h-4 w-4"})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-5",children:[i.jsxs(re,{children:[i.jsxs(pe,{className:"pb-2",children:[i.jsx(ge,{children:"Receita ao Longo do Tempo"}),i.jsx(He,{children:"Tendncias mensais de receita"})]}),i.jsx(se,{children:i.jsx(m4e,{})})]}),i.jsx(a3e,{})]})]})})})}const vt=v.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:ve("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));vt.displayName="Textarea";function c3e({client:e,onClose:t}){const[n,r]=v.useState({contact:!1,tags:!1,details:!1,notes:!1}),[s,a]=v.useState({name:(e==null?void 0:e.name)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||""}),[o,l]=v.useState(""),[c,u]=v.useState((e==null?void 0:e.tags)||[]),[d,f]=v.useState({company:"",position:"",address:""}),[h,m]=v.useState(""),{updateClient:g}=Or();if(!e)return null;const p=async()=>{try{await g(e.id,{name:s.name,phone:s.phone,email:s.email}),r({...n,contact:!1})}catch(b){console.error("Error updating contact:",b)}},y=async()=>{try{await g(e.id,{tags:c}),r({...n,tags:!1})}catch(b){console.error("Error updating tags:",b)}},x=()=>{o.trim()&&!c.includes(o.trim())&&(u([...c,o.trim()]),l(""))},w=b=>{u(c.filter(S=>S!==b))},j=(b,S)=>{b.key==="Enter"&&(b.preventDefault(),S())};return i.jsxs(Nt.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:300,opacity:0},className:"w-80 border-l border-gray-200 bg-white flex flex-col",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Informaes do Contato"}),i.jsx(B,{variant:"ghost",size:"sm",onClick:t,children:i.jsx($a,{className:"h-4 w-4"})})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsx(Ga,{className:"h-10 w-10 text-blue-600"})}),i.jsx("h4",{className:"text-lg font-semibold",children:e.name})]}),i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ge,{className:"text-sm",children:"Contato"}),n.contact?i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:p,children:i.jsx($s,{className:"h-4 w-4 text-green-600"})}),i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,contact:!1}),children:i.jsx($a,{className:"h-4 w-4 text-red-600"})})]}):i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,contact:!0}),children:i.jsx(wi,{className:"h-4 w-4"})})]})}),i.jsxs(se,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ga,{className:"h-4 w-4 text-gray-500"}),n.contact?i.jsx(ie,{value:s.name,onChange:b=>a({...s,name:b.target.value}),placeholder:"Nome",className:"text-sm"}):i.jsx("span",{className:"text-sm",children:e.name})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ha,{className:"h-4 w-4 text-gray-500"}),n.contact?i.jsx(ie,{value:s.phone,onChange:b=>a({...s,phone:b.target.value}),placeholder:"Telefone",className:"text-sm"}):i.jsx("span",{className:"text-sm",children:e.phone||"No informado"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ja,{className:"h-4 w-4 text-gray-500"}),n.contact?i.jsx(ie,{value:s.email,onChange:b=>a({...s,email:b.target.value}),placeholder:"Email",className:"text-sm"}):i.jsx("span",{className:"text-sm",children:e.email||"No informado"})]})]})]}),i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ge,{className:"text-sm",children:"Tags"}),n.tags?i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:y,children:i.jsx($s,{className:"h-4 w-4 text-green-600"})}),i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,tags:!1}),children:i.jsx($a,{className:"h-4 w-4 text-red-600"})})]}):i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,tags:!0}),children:i.jsx(wi,{className:"h-4 w-4"})})]})}),i.jsxs(se,{children:[i.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:c.map(b=>i.jsxs(fe,{variant:"secondary",className:"text-xs",children:[b,n.tags&&i.jsx("button",{onClick:()=>w(b),className:"ml-1 hover:text-red-600",children:i.jsx($a,{className:"h-3 w-3"})})]},b))}),n.tags&&i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ie,{value:o,onChange:b=>l(b.target.value),placeholder:"Nova tag",className:"text-sm",onKeyPress:b=>j(b,x)}),i.jsx(B,{size:"sm",onClick:x,children:i.jsx(tn,{className:"h-4 w-4"})})]})]})]}),i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ge,{className:"text-sm",children:"Detalhes"}),n.details?i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,details:!1}),children:i.jsx($s,{className:"h-4 w-4 text-green-600"})}),i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,details:!1}),children:i.jsx($a,{className:"h-4 w-4 text-red-600"})})]}):i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,details:!0}),children:i.jsx(wi,{className:"h-4 w-4"})})]})}),i.jsxs(se,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($oe,{className:"h-4 w-4 text-gray-500"}),n.details?i.jsx(ie,{value:d.company,onChange:b=>f({...d,company:b.target.value}),placeholder:"Empresa",className:"text-sm"}):i.jsx("span",{className:"text-sm",children:d.company||"No informado"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ga,{className:"h-4 w-4 text-gray-500"}),n.details?i.jsx(ie,{value:d.position,onChange:b=>f({...d,position:b.target.value}),placeholder:"Cargo",className:"text-sm"}):i.jsx("span",{className:"text-sm",children:d.position||"No informado"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Tk,{className:"h-4 w-4 text-gray-500"}),n.details?i.jsx(ie,{value:d.address,onChange:b=>f({...d,address:b.target.value}),placeholder:"Endereo",className:"text-sm"}):i.jsx("span",{className:"text-sm",children:d.address||"No informado"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Li,{className:"h-4 w-4 text-gray-500"}),i.jsxs("span",{className:"text-sm",children:["Cliente desde: ",new Date(e.created_at).toLocaleDateString("pt-BR")]})]})]})]}),i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsx(ge,{className:"text-sm",children:"Estatsticas"})}),i.jsxs(se,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Total de Pedidos:"}),i.jsx("span",{className:"font-medium",children:e.total_orders||0})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Total Gasto:"}),i.jsxs("span",{className:"font-medium",children:["R$ ",(e.total_spent||0).toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"ltimo Pedido:"}),i.jsx("span",{className:"font-medium",children:e.last_order_date?new Date(e.last_order_date).toLocaleDateString("pt-BR"):"Nunca"})]})]})]}),i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ge,{className:"text-sm",children:"Notas"}),n.notes?i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,notes:!1}),children:i.jsx($s,{className:"h-4 w-4 text-green-600"})}),i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,notes:!1}),children:i.jsx($a,{className:"h-4 w-4 text-red-600"})})]}):i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,notes:!0}),children:i.jsx(wi,{className:"h-4 w-4"})})]})}),i.jsx(se,{children:n.notes?i.jsx(vt,{value:h,onChange:b=>m(b.target.value),placeholder:"Adicione notas sobre este contato...",rows:3,className:"text-sm"}):i.jsx("p",{className:"text-sm text-gray-600",children:h||"Nenhuma nota adicionada"})})]})]})]})}var hP="Popover",[Rq,RKe]=js(hP,[ul]),lg=ul(),[u3e,pl]=Rq(hP),$q=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!1}=e,l=lg(t),c=v.useRef(null),[u,d]=v.useState(!1),[f=!1,h]=Na({prop:r,defaultProp:s,onChange:a});return i.jsx(aw,{...l,children:i.jsx(u3e,{scope:t,contentId:Ws(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o,children:n})})};$q.displayName=hP;var Lq="PopoverAnchor",d3e=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=pl(Lq,n),a=lg(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return v.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(Vp,{...a,...r,ref:t})});d3e.displayName=Lq;var Fq="PopoverTrigger",Bq=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=pl(Fq,n),a=lg(n),o=ze(t,s.triggerRef),l=i.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qq(s.open),...r,ref:o,onClick:ye(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(Vp,{asChild:!0,...a,children:l})});Bq.displayName=Fq;var mP="PopoverPortal",[f3e,h3e]=Rq(mP,{forceMount:void 0}),zq=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,a=pl(mP,t);return i.jsx(f3e,{scope:t,forceMount:n,children:i.jsx(Qn,{present:n||a.open,children:i.jsx(lw,{asChild:!0,container:s,children:r})})})};zq.displayName=mP;var Ad="PopoverContent",Wq=v.forwardRef((e,t)=>{const n=h3e(Ad,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,a=pl(Ad,e.__scopePopover);return i.jsx(Qn,{present:r||a.open,children:a.modal?i.jsx(m3e,{...s,ref:t}):i.jsx(p3e,{...s,ref:t})})});Wq.displayName=Ad;var m3e=v.forwardRef((e,t)=>{const n=pl(Ad,e.__scopePopover),r=v.useRef(null),s=ze(t,r),a=v.useRef(!1);return v.useEffect(()=>{const o=r.current;if(o)return qp(o)},[]),i.jsx(Hp,{as:Fi,allowPinchZoom:!0,children:i.jsx(Vq,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ye(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),p3e=v.forwardRef((e,t)=>{const n=pl(Ad,e.__scopePopover),r=v.useRef(!1),s=v.useRef(!1);return i.jsx(Vq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Vq=v.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=pl(Ad,n),m=lg(n);return hw(),i.jsx(Up,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Xd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(iw,{"data-state":qq(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Uq="PopoverClose",g3e=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=pl(Uq,n);return i.jsx(Me.button,{type:"button",...r,ref:t,onClick:ye(e.onClick,()=>s.onOpenChange(!1))})});g3e.displayName=Uq;var v3e="PopoverArrow",y3e=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=lg(n);return i.jsx(ow,{...s,...r,ref:t})});y3e.displayName=v3e;function qq(e){return e?"open":"closed"}var x3e=$q,w3e=Bq,b3e=zq,Hq=Wq;const op=x3e,lp=w3e,Pd=v.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>i.jsx(b3e,{children:i.jsx(Hq,{ref:s,align:t,sideOffset:n,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Pd.displayName=Hq.displayName;function Fo(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function o4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Gq(...e){return t=>{let n=!1;const r=e.map(s=>{const a=o4(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():o4(e[s],null)}}}}function Dc(...e){return v.useCallback(Gq(...e),e)}function j3e(e,t){const n=v.createContext(t),r=a=>{const{children:o,...l}=a,c=v.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(a){const o=v.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function S3e(e,t=[]){let n=[];function r(a,o){const l=v.createContext(o),c=n.length;n=[...n,o];const u=f=>{var x;const{scope:h,children:m,...g}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=v.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:y,children:m})};u.displayName=a+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,N3e(s,...t)]}function N3e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var cp=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},_3e=f0[" useId ".trim().toString()]||(()=>{}),C3e=0;function T1(e){const[t,n]=v.useState(_3e());return cp(()=>{e||n(r=>r??String(C3e++))},[e]),e||(t?`radix-${t}`:"")}var E3e=f0[" useInsertionEffect ".trim().toString()]||cp;function k3e({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,o]=A3e({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=v.useCallback(d=>{var f;if(l){const h=P3e(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else a(d)},[l,e,a,o]);return[c,u]}function A3e({defaultProp:e,onChange:t}){const[n,r]=v.useState(e),s=v.useRef(n),a=v.useRef(t);return E3e(()=>{a.current=t},[t]),v.useEffect(()=>{var o;s.current!==n&&((o=a.current)==null||o.call(a,n),s.current=n)},[n,s]),[n,r,a]}function P3e(e){return typeof e=="function"}function Kq(e){const t=T3e(e),n=v.forwardRef((r,s)=>{const{children:a,...o}=r,l=v.Children.toArray(a),c=l.find(I3e);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function T3e(e){const t=v.forwardRef((n,r)=>{const{children:s,...a}=n;if(v.isValidElement(s)){const o=M3e(s),l=D3e(a,s.props);return s.type!==v.Fragment&&(l.ref=r?Gq(r,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var O3e=Symbol("radix.slottable");function I3e(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===O3e}function D3e(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function M3e(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var R3e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],to=R3e.reduce((e,t)=>{const n=Kq(`Primitive.${t}`),r=v.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function $3e(e,t){e&&ni.flushSync(()=>e.dispatchEvent(t))}function up(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function L3e(e,t=globalThis==null?void 0:globalThis.document){const n=up(e);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var F3e="DismissableLayer",hC="dismissableLayer.update",B3e="dismissableLayer.pointerDownOutside",z3e="dismissableLayer.focusOutside",l4,Yq=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xq=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(Yq),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),g=Dc(t,C=>f(C)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),w=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,b=w>=x,S=U3e(C=>{const _=C.target,k=[...u.branches].some(P=>P.contains(_));!b||k||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},h),N=q3e(C=>{const _=C.target;[...u.branches].some(P=>P.contains(_))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},h);return L3e(C=>{w===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(l4=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),c4(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=l4)}},[d,h,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),c4())},[d,u]),v.useEffect(()=>{const C=()=>m({});return document.addEventListener(hC,C),()=>document.removeEventListener(hC,C)},[]),i.jsx(to.div,{...c,ref:g,style:{pointerEvents:j?b?"auto":"none":void 0,...e.style},onFocusCapture:Fo(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Fo(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Fo(e.onPointerDownCapture,S.onPointerDownCapture)})});Xq.displayName=F3e;var W3e="DismissableLayerBranch",V3e=v.forwardRef((e,t)=>{const n=v.useContext(Yq),r=v.useRef(null),s=Dc(t,r);return v.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(to.div,{...e,ref:s})});V3e.displayName=W3e;function U3e(e,t=globalThis==null?void 0:globalThis.document){const n=up(e),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){Jq(B3e,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function q3e(e,t=globalThis==null?void 0:globalThis.document){const n=up(e),r=v.useRef(!1);return v.useEffect(()=>{const s=a=>{a.target&&!r.current&&Jq(z3e,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function c4(){const e=new CustomEvent(hC);document.dispatchEvent(e)}function Jq(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?$3e(s,a):s.dispatchEvent(a)}var O1="focusScope.autoFocusOnMount",I1="focusScope.autoFocusOnUnmount",u4={bubbles:!1,cancelable:!0},H3e="FocusScope",Qq=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=v.useState(null),u=up(s),d=up(a),f=v.useRef(null),h=Dc(t,p=>c(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let p=function(j){if(m.paused||!l)return;const b=j.target;l.contains(b)?f.current=b:ho(f.current,{select:!0})},y=function(j){if(m.paused||!l)return;const b=j.relatedTarget;b!==null&&(l.contains(b)||ho(f.current,{select:!0}))},x=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&ho(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),w.disconnect()}}},[r,l,m.paused]),v.useEffect(()=>{if(l){f4.add(m);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(O1,u4);l.addEventListener(O1,u),l.dispatchEvent(x),x.defaultPrevented||(G3e(Q3e(Zq(l)),{select:!0}),document.activeElement===p&&ho(l))}return()=>{l.removeEventListener(O1,u),setTimeout(()=>{const x=new CustomEvent(I1,u4);l.addEventListener(I1,d),l.dispatchEvent(x),x.defaultPrevented||ho(p??document.body,{select:!0}),l.removeEventListener(I1,d),f4.remove(m)},0)}}},[l,u,d,m]);const g=v.useCallback(p=>{if(!n&&!r||m.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const w=p.currentTarget,[j,b]=K3e(w);j&&b?!p.shiftKey&&x===b?(p.preventDefault(),n&&ho(j,{select:!0})):p.shiftKey&&x===j&&(p.preventDefault(),n&&ho(b,{select:!0})):x===w&&p.preventDefault()}},[n,r,m.paused]);return i.jsx(to.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Qq.displayName=H3e;function G3e(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ho(r,{select:t}),document.activeElement!==n)return}function K3e(e){const t=Zq(e),n=d4(t,e),r=d4(t.reverse(),e);return[n,r]}function Zq(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function d4(e,t){for(const n of e)if(!Y3e(n,{upTo:t}))return n}function Y3e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function X3e(e){return e instanceof HTMLInputElement&&"select"in e}function ho(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&X3e(e)&&t&&e.select()}}var f4=J3e();function J3e(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=h4(e,t),e.unshift(t)},remove(t){var n;e=h4(e,t),(n=e[0])==null||n.resume()}}}function h4(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Q3e(e){return e.filter(t=>t.tagName!=="A")}var Z3e="Portal",e9=v.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=v.useState(!1);cp(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?k0.createPortal(i.jsx(to.div,{...r,ref:t}),o):null});e9.displayName=Z3e;function e5e(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var ob=e=>{const{present:t,children:n}=e,r=t5e(t),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),a=Dc(r.ref,n5e(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:a}):null};ob.displayName="Presence";function t5e(e){const[t,n]=v.useState(),r=v.useRef(null),s=v.useRef(e),a=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=e5e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=uv(r.current);a.current=l==="mounted"?u:"none"},[l]),cp(()=>{const u=r.current,d=s.current;if(d!==e){const h=a.current,m=uv(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),cp(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=uv(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(a.current=uv(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function uv(e){return(e==null?void 0:e.animationName)||"none"}function n5e(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var D1=0;function r5e(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??m4()),document.body.insertAdjacentElement("beforeend",e[1]??m4()),D1++,()=>{D1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),D1--}},[])}function m4(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var t9=Yz(),M1=function(){},lb=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:M1,onWheelCapture:M1,onTouchMoveCapture:M1}),s=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,y=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,j=e.gapMode,b=Xk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=Kz([n,t]),C=dr(dr({},b),s);return v.createElement(v.Fragment,null,d&&v.createElement(S,{sideCar:t9,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:j}),o?v.cloneElement(v.Children.only(l),dr(dr({},C),{ref:N})):v.createElement(w,dr({},C,{className:c,ref:N}),l))});lb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lb.classNames={fullWidth:Ih,zeroRight:Oh};var mC=!1;if(typeof window<"u")try{var dv=Object.defineProperty({},"passive",{get:function(){return mC=!0,!0}});window.addEventListener("test",dv,dv),window.removeEventListener("test",dv,dv)}catch{mC=!1}var Yc=mC?{passive:!1}:!1,s5e=function(e){return e.tagName==="TEXTAREA"},n9=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!s5e(e)&&n[t]==="visible")},a5e=function(e){return n9(e,"overflowY")},i5e=function(e){return n9(e,"overflowX")},p4=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=r9(e,r);if(s){var a=s9(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},o5e=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},l5e=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},r9=function(e,t){return e==="v"?a5e(t):i5e(t)},s9=function(e,t){return e==="v"?o5e(t):l5e(t)},c5e=function(e,t){return e==="h"&&t==="rtl"?-1:1},u5e=function(e,t,n,r,s){var a=c5e(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=s9(e,l),g=m[0],p=m[1],y=m[2],x=p-y-a*g;(g||x)&&r9(e,l)&&(f+=x,h+=g);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},fv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},g4=function(e){return[e.deltaX,e.deltaY]},v4=function(e){return e&&"current"in e?e.current:e},d5e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},f5e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},h5e=0,Xc=[];function m5e(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(h5e++)[0],a=v.useState(Jk)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=Gz([e.lockRef.current],(e.shards||[]).map(v4),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=fv(p),w=n.current,j="deltaX"in p?p.deltaX:w[0]-x[0],b="deltaY"in p?p.deltaY:w[1]-x[1],S,N=p.target,C=Math.abs(j)>Math.abs(b)?"h":"v";if("touches"in p&&C==="h"&&N.type==="range")return!1;var _=p4(C,N);if(!_)return!0;if(_?S=C:(S=C==="v"?"h":"v",_=p4(C,N)),!_)return!1;if(!r.current&&"changedTouches"in p&&(j||b)&&(r.current=S),!S)return!0;var k=r.current||S;return u5e(k,y,p,k==="h"?j:b,!0)},[]),c=v.useCallback(function(p){var y=p;if(!(!Xc.length||Xc[Xc.length-1]!==a)){var x="deltaY"in y?g4(y):fv(y),w=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&d5e(S.delta,x)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var j=(o.current.shards||[]).map(v4).filter(Boolean).filter(function(S){return S.contains(y.target)}),b=j.length>0?l(y,j[0]):!o.current.noIsolation;b&&y.cancelable&&y.preventDefault()}}},[]),u=v.useCallback(function(p,y,x,w){var j={name:p,delta:y,target:x,should:w,shadowParent:p5e(x)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(b){return b!==j})},1)},[]),d=v.useCallback(function(p){n.current=fv(p),r.current=void 0},[]),f=v.useCallback(function(p){u(p.type,g4(p),p.target,l(p,e.lockRef.current))},[]),h=v.useCallback(function(p){u(p.type,fv(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Xc.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Yc),document.addEventListener("touchmove",c,Yc),document.addEventListener("touchstart",d,Yc),function(){Xc=Xc.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Yc),document.removeEventListener("touchmove",c,Yc),document.removeEventListener("touchstart",d,Yc)}},[]);var m=e.removeScrollBar,g=e.inert;return v.createElement(v.Fragment,null,g?v.createElement(a,{styles:f5e(s)}):null,m?v.createElement(Zz,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function p5e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const g5e=Jz(t9,m5e);var a9=v.forwardRef(function(e,t){return v.createElement(lb,dr({},e,{ref:t,sideCar:g5e}))});a9.classNames=lb.classNames;var cb="Dialog",[i9,$Ke]=S3e(cb),[v5e,Pa]=i9(cb),o9=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u,d]=k3e({prop:r,defaultProp:s??!1,onChange:a,caller:cb});return i.jsx(v5e,{scope:t,triggerRef:l,contentRef:c,contentId:T1(),titleId:T1(),descriptionId:T1(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};o9.displayName=cb;var l9="DialogTrigger",c9=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pa(l9,n),a=Dc(t,s.triggerRef);return i.jsx(to.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vP(s.open),...r,ref:a,onClick:Fo(e.onClick,s.onOpenToggle)})});c9.displayName=l9;var pP="DialogPortal",[y5e,u9]=i9(pP,{forceMount:void 0}),d9=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Pa(pP,t);return i.jsx(y5e,{scope:t,forceMount:n,children:v.Children.map(r,o=>i.jsx(ob,{present:n||a.open,children:i.jsx(e9,{asChild:!0,container:s,children:o})}))})};d9.displayName=pP;var qx="DialogOverlay",f9=v.forwardRef((e,t)=>{const n=u9(qx,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Pa(qx,e.__scopeDialog);return a.modal?i.jsx(ob,{present:r||a.open,children:i.jsx(w5e,{...s,ref:t})}):null});f9.displayName=qx;var x5e=Kq("DialogOverlay.RemoveScroll"),w5e=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pa(qx,n);return i.jsx(a9,{as:x5e,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(to.div,{"data-state":vP(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),vc="DialogContent",h9=v.forwardRef((e,t)=>{const n=u9(vc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Pa(vc,e.__scopeDialog);return i.jsx(ob,{present:r||a.open,children:a.modal?i.jsx(b5e,{...s,ref:t}):i.jsx(j5e,{...s,ref:t})})});h9.displayName=vc;var b5e=v.forwardRef((e,t)=>{const n=Pa(vc,e.__scopeDialog),r=v.useRef(null),s=Dc(t,n.contentRef,r);return v.useEffect(()=>{const a=r.current;if(a)return qp(a)},[]),i.jsx(m9,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fo(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Fo(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Fo(e.onFocusOutside,a=>a.preventDefault())})}),j5e=v.forwardRef((e,t)=>{const n=Pa(vc,e.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return i.jsx(m9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),m9=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Pa(vc,n),c=v.useRef(null),u=Dc(t,c);return r5e(),i.jsxs(i.Fragment,{children:[i.jsx(Qq,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Xq,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":vP(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(S5e,{titleId:l.titleId}),i.jsx(_5e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),gP="DialogTitle",p9=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pa(gP,n);return i.jsx(to.h2,{id:s.titleId,...r,ref:t})});p9.displayName=gP;var g9="DialogDescription",v9=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pa(g9,n);return i.jsx(to.p,{id:s.descriptionId,...r,ref:t})});v9.displayName=g9;var y9="DialogClose",x9=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pa(y9,n);return i.jsx(to.button,{type:"button",...r,ref:t,onClick:Fo(e.onClick,()=>s.onOpenChange(!1))})});x9.displayName=y9;function vP(e){return e?"open":"closed"}var w9="DialogTitleWarning",[LKe,b9]=j3e(w9,{contentName:vc,titleName:gP,docsSlug:"dialog"}),S5e=({titleId:e})=>{const t=b9(w9),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},N5e="DialogDescriptionWarning",_5e=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${b9(N5e).contentName}}.`;return v.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},C5e=o9,E5e=c9,k5e=d9,j9=f9,S9=h9,N9=p9,_9=v9,A5e=x9;const ot=C5e,Bt=E5e,P5e=k5e,C9=v.forwardRef(({className:e,...t},n)=>i.jsx(j9,{ref:n,className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));C9.displayName=j9.displayName;const et=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(P5e,{children:[i.jsx(C9,{}),i.jsxs(S9,{ref:r,className:ve("fixed left-[50%] top-[50%] z-[9998] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","pointer-events-auto",e),onOpenAutoFocus:s=>{var o,l;s.preventDefault();const a=(o=r==null?void 0:r.current)==null?void 0:o.querySelector('input:not([disabled]), button:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])');a?a.focus():(l=r==null?void 0:r.current)==null||l.focus()},...n,children:[t,i.jsxs(A5e,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(bhe,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));et.displayName=S9.displayName;const tt=({className:e,...t})=>i.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});tt.displayName="DialogHeader";const yt=({className:e,...t})=>i.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});yt.displayName="DialogFooter";const nt=v.forwardRef(({className:e,...t},n)=>i.jsx(N9,{ref:n,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));nt.displayName=N9.displayName;const ft=v.forwardRef(({className:e,...t},n)=>i.jsx(_9,{ref:n,className:ve("text-sm text-muted-foreground",e),...t}));ft.displayName=_9.displayName;function dp(e,[t,n]){return Math.min(n,Math.max(t,e))}function ub(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var T5e=[" ","Enter","ArrowUp","ArrowDown"],O5e=[" ","Enter"],cg="Select",[db,fb,I5e]=Q0(cg),[mf,FKe]=js(cg,[I5e,ul]),hb=ul(),[D5e,gl]=mf(cg),[M5e,R5e]=mf(cg),E9=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=hb(t),[y,x]=v.useState(null),[w,j]=v.useState(null),[b,S]=v.useState(!1),N=Yd(u),[C=!1,_]=Na({prop:r,defaultProp:s,onChange:a}),[k,P]=Na({prop:o,defaultProp:l,onChange:c}),A=v.useRef(null),I=y?g||!!y.closest("form"):!0,[L,E]=v.useState(new Set),R=Array.from(L).map(O=>O.props.value).join(";");return i.jsx(aw,{...p,children:i.jsxs(D5e,{required:m,scope:t,trigger:y,onTriggerChange:x,valueNode:w,onValueNodeChange:j,valueNodeHasChildren:b,onValueNodeHasChildrenChange:S,contentId:Ws(),value:k,onValueChange:P,open:C,onOpenChange:_,dir:N,triggerPointerDownPosRef:A,disabled:h,children:[i.jsx(db.Provider,{scope:t,children:i.jsx(M5e,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(O=>{E(F=>new Set(F).add(O))},[]),onNativeOptionRemove:v.useCallback(O=>{E(F=>{const D=new Set(F);return D.delete(O),D})},[]),children:n})}),I?i.jsxs(J9,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:O=>P(O.target.value),disabled:h,form:g,children:[k===void 0?i.jsx("option",{value:""}):null,Array.from(L)]},R):null]})})};E9.displayName=cg;var k9="SelectTrigger",A9=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=hb(n),o=gl(k9,n),l=o.disabled||r,c=ze(t,o.onTriggerChange),u=fb(n),d=v.useRef("touch"),[f,h,m]=Q9(p=>{const y=u().filter(j=>!j.disabled),x=y.find(j=>j.value===o.value),w=Z9(y,p,x);w!==void 0&&o.onValueChange(w.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(Vp,{asChild:!0,...a,children:i.jsx(Me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":X9(o.value)?"":void 0,...s,ref:c,onClick:ye(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:ye(s.onPointerDown,p=>{d.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:ye(s.onKeyDown,p=>{const y=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(y&&p.key===" ")&&T5e.includes(p.key)&&(g(),p.preventDefault())})})})});A9.displayName=k9;var P9="SelectValue",T9=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:o="",...l}=e,c=gl(P9,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=ze(t,c.onValueNodeChange);return Dn(()=>{u(d)},[u,d]),i.jsx(Me.span,{...l,ref:f,style:{pointerEvents:"none"},children:X9(c.value)?i.jsx(i.Fragment,{children:o}):a})});T9.displayName=P9;var $5e="SelectIcon",O9=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return i.jsx(Me.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});O9.displayName=$5e;var yc="SelectContent",I9=v.forwardRef((e,t)=>{const n=gl(yc,e.__scopeSelect),[r,s]=v.useState();if(Dn(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?ni.createPortal(i.jsx(D9,{scope:e.__scopeSelect,children:i.jsx(db.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(M9,{...e,ref:t})});I9.displayName=yc;var sa=10,[D9,vl]=mf(yc),L5e="SelectContentImpl",M9=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y,...x}=e,w=gl(yc,n),[j,b]=v.useState(null),[S,N]=v.useState(null),C=ze(t,X=>b(X)),[_,k]=v.useState(null),[P,A]=v.useState(null),I=fb(n),[L,E]=v.useState(!1),R=v.useRef(!1);v.useEffect(()=>{if(j)return qp(j)},[j]),hw();const O=v.useCallback(X=>{const[ee,...Z]=I().map(q=>q.ref.current),[ae]=Z.slice(-1),ce=document.activeElement;for(const q of X)if(q===ce||(q==null||q.scrollIntoView({block:"nearest"}),q===ee&&S&&(S.scrollTop=0),q===ae&&S&&(S.scrollTop=S.scrollHeight),q==null||q.focus(),document.activeElement!==ce))return},[I,S]),F=v.useCallback(()=>O([_,j]),[O,_,j]);v.useEffect(()=>{L&&F()},[L,F]);const{onOpenChange:D,triggerPointerDownPosRef:M}=w;v.useEffect(()=>{if(j){let X={x:0,y:0};const ee=ae=>{var ce,q;X={x:Math.abs(Math.round(ae.pageX)-(((ce=M.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((q=M.current)==null?void 0:q.y)??0))}},Z=ae=>{X.x<=10&&X.y<=10?ae.preventDefault():j.contains(ae.target)||D(!1),document.removeEventListener("pointermove",ee),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",Z,{capture:!0})}}},[j,D,M]),v.useEffect(()=>{const X=()=>D(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[D]);const[$,z]=Q9(X=>{const ee=I().filter(ce=>!ce.disabled),Z=ee.find(ce=>ce.ref.current===document.activeElement),ae=Z9(ee,X,Z);ae&&setTimeout(()=>ae.ref.current.focus())}),W=v.useCallback((X,ee,Z)=>{const ae=!R.current&&!Z;(w.value!==void 0&&w.value===ee||ae)&&(k(X),ae&&(R.current=!0))},[w.value]),H=v.useCallback(()=>j==null?void 0:j.focus(),[j]),V=v.useCallback((X,ee,Z)=>{const ae=!R.current&&!Z;(w.value!==void 0&&w.value===ee||ae)&&A(X)},[w.value]),te=r==="popper"?pC:R9,ne=te===pC?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y}:{};return i.jsx(D9,{scope:n,content:j,viewport:S,onViewportChange:N,itemRefCallback:W,selectedItem:_,onItemLeave:H,itemTextRefCallback:V,focusSelectedItem:F,selectedItemText:P,position:r,isPositioned:L,searchRef:$,children:i.jsx(Hp,{as:Fi,allowPinchZoom:!0,children:i.jsx(Up,{asChild:!0,trapped:w.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:ye(s,X=>{var ee;(ee=w.trigger)==null||ee.focus({preventScroll:!0}),X.preventDefault()}),children:i.jsx(Xd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:i.jsx(te,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:X=>X.preventDefault(),...x,...ne,onPlaced:()=>E(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ye(x.onKeyDown,X=>{const ee=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!ee&&X.key.length===1&&z(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let ae=I().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(X.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const ce=X.target,q=ae.indexOf(ce);ae=ae.slice(q+1)}setTimeout(()=>O(ae)),X.preventDefault()}})})})})})})});M9.displayName=L5e;var F5e="SelectItemAlignedPosition",R9=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=gl(yc,n),o=vl(yc,n),[l,c]=v.useState(null),[u,d]=v.useState(null),f=ze(t,C=>d(C)),h=fb(n),m=v.useRef(!1),g=v.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:x,focusSelectedItem:w}=o,j=v.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&p&&y&&x){const C=a.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),P=x.getBoundingClientRect();if(a.dir!=="rtl"){const ce=P.left-_.left,q=k.left-ce,be=C.left-q,Se=C.width+be,Ae=Math.max(Se,_.width),Q=window.innerWidth-sa,me=dp(q,[sa,Math.max(sa,Q-Ae)]);l.style.minWidth=Se+"px",l.style.left=me+"px"}else{const ce=_.right-P.right,q=window.innerWidth-k.right-ce,be=window.innerWidth-C.right-q,Se=C.width+be,Ae=Math.max(Se,_.width),Q=window.innerWidth-sa,me=dp(q,[sa,Math.max(sa,Q-Ae)]);l.style.minWidth=Se+"px",l.style.right=me+"px"}const A=h(),I=window.innerHeight-sa*2,L=p.scrollHeight,E=window.getComputedStyle(u),R=parseInt(E.borderTopWidth,10),O=parseInt(E.paddingTop,10),F=parseInt(E.borderBottomWidth,10),D=parseInt(E.paddingBottom,10),M=R+O+L+D+F,$=Math.min(y.offsetHeight*5,M),z=window.getComputedStyle(p),W=parseInt(z.paddingTop,10),H=parseInt(z.paddingBottom,10),V=C.top+C.height/2-sa,te=I-V,ne=y.offsetHeight/2,X=y.offsetTop+ne,ee=R+O+X,Z=M-ee;if(ee<=V){const ce=A.length>0&&y===A[A.length-1].ref.current;l.style.bottom="0px";const q=u.clientHeight-p.offsetTop-p.offsetHeight,be=Math.max(te,ne+(ce?H:0)+q+F),Se=ee+be;l.style.height=Se+"px"}else{const ce=A.length>0&&y===A[0].ref.current;l.style.top="0px";const be=Math.max(V,R+p.offsetTop+(ce?W:0)+ne)+Z;l.style.height=be+"px",p.scrollTop=ee-V+p.offsetTop}l.style.margin=`${sa}px 0`,l.style.minHeight=$+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,l,u,p,y,x,a.dir,r]);Dn(()=>j(),[j]);const[b,S]=v.useState();Dn(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=v.useCallback(C=>{C&&g.current===!0&&(j(),w==null||w(),g.current=!1)},[j,w]);return i.jsx(z5e,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:i.jsx(Me.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});R9.displayName=F5e;var B5e="SelectPopperPosition",pC=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=sa,...a}=e,o=hb(n);return i.jsx(iw,{...o,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});pC.displayName=B5e;var[z5e,yP]=mf(yc,{}),gC="SelectViewport",$9=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=vl(gC,n),o=yP(gC,n),l=ze(t,a.onViewportChange),c=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(db.Slot,{scope:n,children:i.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ye(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-sa*2,p=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),x=Math.max(p,y);if(x<g){const w=x+m,j=Math.min(g,w),b=w-j;f.style.height=j+"px",f.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});$9.displayName=gC;var L9="SelectGroup",[W5e,V5e]=mf(L9),U5e=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ws();return i.jsx(W5e,{scope:n,id:s,children:i.jsx(Me.div,{role:"group","aria-labelledby":s,...r,ref:t})})});U5e.displayName=L9;var F9="SelectLabel",B9=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=V5e(F9,n);return i.jsx(Me.div,{id:s.id,...r,ref:t})});B9.displayName=F9;var Hx="SelectItem",[q5e,z9]=mf(Hx),W9=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...o}=e,l=gl(Hx,n),c=vl(Hx,n),u=l.value===r,[d,f]=v.useState(a??""),[h,m]=v.useState(!1),g=ze(t,w=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,w,r,s)}),p=Ws(),y=v.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(q5e,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:v.useCallback(w=>{f(j=>j||((w==null?void 0:w.textContent)??"").trim())},[]),children:i.jsx(db.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:i.jsx(Me.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:ye(o.onFocus,()=>m(!0)),onBlur:ye(o.onBlur,()=>m(!1)),onClick:ye(o.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:ye(o.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:ye(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:ye(o.onPointerMove,w=>{var j;y.current=w.pointerType,s?(j=c.onItemLeave)==null||j.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(o.onPointerLeave,w=>{var j;w.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:ye(o.onKeyDown,w=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&w.key===" "||(O5e.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});W9.displayName=Hx;var oh="SelectItemText",V9=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,o=gl(oh,n),l=vl(oh,n),c=z9(oh,n),u=R5e(oh,n),[d,f]=v.useState(null),h=ze(t,x=>f(x),c.onItemTextChange,x=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=v.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=u;return Dn(()=>(p(g),()=>y(g)),[p,y,g]),i.jsxs(i.Fragment,{children:[i.jsx(Me.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ni.createPortal(a.children,o.valueNode):null]})});V9.displayName=oh;var U9="SelectItemIndicator",q9=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return z9(U9,n).isSelected?i.jsx(Me.span,{"aria-hidden":!0,...r,ref:t}):null});q9.displayName=U9;var vC="SelectScrollUpButton",H9=v.forwardRef((e,t)=>{const n=vl(vC,e.__scopeSelect),r=yP(vC,e.__scopeSelect),[s,a]=v.useState(!1),o=ze(t,r.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(K9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});H9.displayName=vC;var yC="SelectScrollDownButton",G9=v.forwardRef((e,t)=>{const n=vl(yC,e.__scopeSelect),r=yP(yC,e.__scopeSelect),[s,a]=v.useState(!1),o=ze(t,r.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(K9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});G9.displayName=yC;var K9=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=vl("SelectScrollButton",n),o=v.useRef(null),l=fb(n),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Dn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Me.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ye(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ye(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ye(s.onPointerLeave,()=>{c()})})}),H5e="SelectSeparator",Y9=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(Me.div,{"aria-hidden":!0,...r,ref:t})});Y9.displayName=H5e;var xC="SelectArrow",G5e=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=hb(n),a=gl(xC,n),o=vl(xC,n);return a.open&&o.position==="popper"?i.jsx(ow,{...s,...r,ref:t}):null});G5e.displayName=xC;function X9(e){return e===""||e===void 0}var J9=v.forwardRef((e,t)=>{const{value:n,...r}=e,s=v.useRef(null),a=ze(t,s),o=ub(n);return v.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(f)}},[o,n]),i.jsx(Kk,{asChild:!0,children:i.jsx("select",{...r,ref:a,defaultValue:n})})});J9.displayName="BubbleSelect";function Q9(e){const t=fn(e),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function Z9(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=K5e(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function K5e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Y5e=E9,e7=A9,X5e=T9,J5e=O9,t7=I9,Q5e=$9,n7=B9,r7=W9,Z5e=V9,eFe=q9,s7=H9,a7=G9,i7=Y9;const Oe=Y5e,Ie=X5e,Pe=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(e7,{ref:r,className:ve("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(J5e,{asChild:!0,children:i.jsx(Pk,{className:"h-4 w-4 opacity-50"})})]}));Pe.displayName=e7.displayName;const o7=v.forwardRef(({className:e,...t},n)=>i.jsx(s7,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Boe,{className:"h-4 w-4"})}));o7.displayName=s7.displayName;const l7=v.forwardRef(({className:e,...t},n)=>i.jsx(a7,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Pk,{className:"h-4 w-4"})}));l7.displayName=a7.displayName;const Te=v.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>i.jsxs(t7,{ref:s,className:ve("relative z-[999] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(o7,{}),i.jsx(Q5e,{className:ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(l7,{})]}));Te.displayName=t7.displayName;const tFe=v.forwardRef(({className:e,...t},n)=>i.jsx(n7,{ref:n,className:ve("px-2 py-1.5 text-sm font-semibold",e),...t}));tFe.displayName=n7.displayName;const K=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(r7,{ref:r,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(eFe,{children:i.jsx($s,{className:"h-4 w-4"})})}),i.jsx(Z5e,{children:t})]}));K.displayName=r7.displayName;const nFe=v.forwardRef(({className:e,...t},n)=>i.jsx(i7,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));nFe.displayName=i7.displayName;function rFe({value:e,onChange:t,onSend:n,onSendMedia:r,disabled:s=!1,placeholder:a="Digite sua mensagem..."}){const[o,l]=v.useState(!1),[c,u]=v.useState(""),[d,f]=v.useState("image"),[h,m]=v.useState(""),[g,p]=v.useState(!1),y=v.useRef(null),x=["","","","","","","","","","","","","","","","","",""],w=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),e.trim()&&n())},j=()=>{c.trim()&&(r(c,d,h),u(""),m(""),l(!1))},b=()=>{p(!0)},S=()=>{e||p(!1)},N=C=>{switch(C){case"image":return i.jsx(kh,{className:"h-4 w-4"});case"video":return i.jsx(Ph,{className:"h-4 w-4"});case"audio":return i.jsx(Ah,{className:"h-4 w-4"});case"document":return i.jsx(ma,{className:"h-4 w-4"});default:return i.jsx(ma,{className:"h-4 w-4"})}};return i.jsxs("div",{className:"p-4 border-t bg-background",children:[i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsx(vt,{ref:y,value:e,onChange:C=>t(C.target.value),onKeyPress:w,onFocus:b,onBlur:S,placeholder:a,className:ve("min-h-[40px] max-h-32 resize-none transition-all duration-200 focus:outline-none focus:ring-1 focus:ring-primary",g?"min-h-[80px]":"min-h-[40px]"),disabled:s}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsxs(op,{children:[i.jsx(lp,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",disabled:s,className:"text-muted-foreground hover:text-foreground",children:i.jsx(ele,{className:"h-4 w-4"})})}),i.jsx(Pd,{className:"w-56 p-2",children:i.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[i.jsxs(ot,{open:o,onOpenChange:l,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"ghost",size:"sm",className:"justify-start",children:[i.jsx(kh,{className:"h-4 w-4 mr-2"}),"Imagem"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Enviar Mdia"}),i.jsx(ft,{children:"Envie uma imagem, vdeo, udio ou documento"})]}),i.jsxs("div",{className:"space-y-4 py-2",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"mediaType",children:"Tipo de Mdia"}),i.jsxs(Oe,{value:d,onValueChange:C=>f(C),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"image",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(kh,{className:"h-4 w-4 mr-2"}),"Imagem"]})}),i.jsx(K,{value:"video",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ph,{className:"h-4 w-4 mr-2"}),"Vdeo"]})}),i.jsx(K,{value:"audio",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ah,{className:"h-4 w-4 mr-2"}),"udio"]})}),i.jsx(K,{value:"document",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ma,{className:"h-4 w-4 mr-2"}),"Documento"]})})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"mediaUrl",children:"URL da Mdia"}),i.jsx(ie,{id:"mediaUrl",value:c,onChange:C=>u(C.target.value),placeholder:"https://exemplo.com/arquivo.jpg"})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"mediaCaption",children:"Legenda (Opcional)"}),i.jsx(vt,{id:"mediaCaption",value:h,onChange:C=>m(C.target.value),placeholder:"Digite uma legenda para a mdia...",rows:2})]})]}),i.jsxs(yt,{children:[i.jsx(B,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),i.jsxs(B,{onClick:j,disabled:!c.trim(),children:[N(d),i.jsxs("span",{className:"ml-2",children:["Enviar ",d==="image"?"Imagem":d==="video"?"Vdeo":d==="audio"?"udio":"Documento"]})]})]})]})]}),i.jsxs(B,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>{f("video"),l(!0)},children:[i.jsx(Ph,{className:"h-4 w-4 mr-2"}),"Vdeo"]}),i.jsxs(B,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>{f("audio"),l(!0)},children:[i.jsx(Ah,{className:"h-4 w-4 mr-2"}),"udio"]}),i.jsxs(B,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>{f("document"),l(!0)},children:[i.jsx(ma,{className:"h-4 w-4 mr-2"}),"Documento"]})]})})]}),i.jsxs(op,{children:[i.jsx(lp,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",disabled:s,className:"text-muted-foreground hover:text-foreground",children:i.jsx(rle,{className:"h-4 w-4"})})}),i.jsx(Pd,{className:"w-64 p-2",children:i.jsx("div",{className:"grid grid-cols-6 gap-1",children:x.map(C=>i.jsx(B,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>t(e+C),children:C},C))})})]})]}),i.jsxs(B,{onClick:n,disabled:!e.trim()||s,size:"sm",className:ve("transition-all",e.trim()?"opacity-100":"opacity-70"),children:[i.jsx(Y0,{className:"h-4 w-4 mr-2"}),"Enviar"]})]})]}),s&&i.jsx("div",{className:"mt-2 text-center",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Conecte uma instncia WhatsApp nas Integraes para enviar mensagens"})})]})}function sFe({message:e,isOwn:t}){const[n,r]=v.useState(!1),s=d=>new Date(d).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),a=d=>{switch(d){case"sent":return i.jsx($s,{className:"h-3 w-3"});case"delivered":return i.jsx($s,{className:"h-3 w-3"});case"read":return i.jsx($s,{className:"h-3 w-3 text-blue-500"});case"failed":return i.jsx(b6,{className:"h-3 w-3 text-red-500"});default:return i.jsx(Er,{className:"h-3 w-3"})}},o=d=>{switch(d){case"sent":return"Enviado";case"delivered":return"Entregue";case"read":return"Lido";case"failed":return"Falhou";case"pending":return"Pendente";default:return d}},l=()=>{var f;const d=e.metadata||{};if(e.content.includes("[Imagem]")||d.mediaType==="image")return i.jsx("div",{className:"mb-2",children:d.mediaUrl?i.jsx("img",{src:d.mediaUrl,alt:"Imagem",className:"max-w-xs rounded-lg",onError:h=>{h.currentTarget.style.display="none"}}):i.jsx("div",{className:"w-48 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-gray-500 text-sm",children:"Imagem"})})});if(e.content.includes("[Vdeo]")||d.mediaType==="video")return i.jsx("div",{className:"mb-2",children:d.mediaUrl?i.jsx("video",{src:d.mediaUrl,controls:!0,className:"max-w-xs rounded-lg",onError:h=>{h.currentTarget.style.display="none"}}):i.jsx("div",{className:"w-48 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:i.jsx(Jl,{className:"h-8 w-8 text-gray-500"})})});if(e.content.includes("[udio]")||d.mediaType==="audio")return i.jsxs("div",{className:"mb-2 flex items-center space-x-2 p-2 bg-gray-100 rounded-lg",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r(!n),children:n?i.jsx(kN,{className:"h-4 w-4"}):i.jsx(Jl,{className:"h-4 w-4"})}),i.jsx(cle,{className:"h-4 w-4 text-gray-500"}),i.jsx("div",{className:"flex-1 h-1 bg-gray-300 rounded",children:i.jsx("div",{className:"h-1 bg-primary rounded w-1/3"})}),i.jsx("span",{className:"text-xs text-gray-500",children:"0:30"})]});if(e.content.includes("[Documento]")||d.mediaType==="document"){const h=((f=e.content.match(/\[Documento: (.+)\]/))==null?void 0:f[1])||"documento";return i.jsxs("div",{className:"mb-2 flex items-center space-x-2 p-2 bg-gray-100 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-bold text-blue-600",children:"DOC"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:h}),i.jsx("p",{className:"text-xs text-gray-500",children:"Documento"})]}),i.jsx(B,{variant:"ghost",size:"sm",children:i.jsx(vm,{className:"h-4 w-4"})})]})}return null},u=e.content.includes("[")&&e.content.includes("]")?e.content.replace(/\[.*?\]/g,"").trim():e.content;return i.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} mb-4`,children:i.jsxs("div",{className:ve("max-w-xs lg:max-w-md px-4 py-2 rounded-lg shadow-sm",t?"bg-primary text-primary-foreground":"bg-muted text-foreground"),children:[l(),u&&i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:u}),i.jsxs("div",{className:"flex items-center justify-between mt-1",children:[i.jsx("p",{className:ve("text-xs",t?"text-primary-foreground/70":"text-muted-foreground"),children:s(e.timestamp)}),t&&i.jsxs("div",{className:"flex items-center space-x-1",children:[e.send_type==="automated"&&i.jsx(fe,{variant:"outline",className:"text-xs bg-primary/20 text-primary-foreground border-primary/30",children:"Auto"}),i.jsx("div",{className:"flex items-center",title:o(e.status),children:a(e.status)})]})]})]})})}var xP="Dialog",[c7,u7]=js(xP),[aFe,Ta]=c7(xP),d7=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u=!1,d]=Na({prop:r,defaultProp:s,onChange:a});return i.jsx(aFe,{scope:t,triggerRef:l,contentRef:c,contentId:Ws(),titleId:Ws(),descriptionId:Ws(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};d7.displayName=xP;var f7="DialogTrigger",h7=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ta(f7,n),a=ze(t,s.triggerRef);return i.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jP(s.open),...r,ref:a,onClick:ye(e.onClick,s.onOpenToggle)})});h7.displayName=f7;var wP="DialogPortal",[iFe,m7]=c7(wP,{forceMount:void 0}),p7=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Ta(wP,t);return i.jsx(iFe,{scope:t,forceMount:n,children:v.Children.map(r,o=>i.jsx(Qn,{present:n||a.open,children:i.jsx(lw,{asChild:!0,container:s,children:o})}))})};p7.displayName=wP;var Gx="DialogOverlay",g7=v.forwardRef((e,t)=>{const n=m7(Gx,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Ta(Gx,e.__scopeDialog);return a.modal?i.jsx(Qn,{present:r||a.open,children:i.jsx(oFe,{...s,ref:t})}):null});g7.displayName=Gx;var oFe=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ta(Gx,n);return i.jsx(Hp,{as:Fi,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Me.div,{"data-state":jP(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),xc="DialogContent",v7=v.forwardRef((e,t)=>{const n=m7(xc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Ta(xc,e.__scopeDialog);return i.jsx(Qn,{present:r||a.open,children:a.modal?i.jsx(lFe,{...s,ref:t}):i.jsx(cFe,{...s,ref:t})})});v7.displayName=xc;var lFe=v.forwardRef((e,t)=>{const n=Ta(xc,e.__scopeDialog),r=v.useRef(null),s=ze(t,n.contentRef,r);return v.useEffect(()=>{const a=r.current;if(a)return qp(a)},[]),i.jsx(y7,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:ye(e.onFocusOutside,a=>a.preventDefault())})}),cFe=v.forwardRef((e,t)=>{const n=Ta(xc,e.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return i.jsx(y7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),y7=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Ta(xc,n),c=v.useRef(null),u=ze(t,c);return hw(),i.jsxs(i.Fragment,{children:[i.jsx(Up,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Xd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":jP(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(dFe,{titleId:l.titleId}),i.jsx(hFe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),bP="DialogTitle",x7=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ta(bP,n);return i.jsx(Me.h2,{id:s.titleId,...r,ref:t})});x7.displayName=bP;var w7="DialogDescription",b7=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ta(w7,n);return i.jsx(Me.p,{id:s.descriptionId,...r,ref:t})});b7.displayName=w7;var j7="DialogClose",S7=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ta(j7,n);return i.jsx(Me.button,{type:"button",...r,ref:t,onClick:ye(e.onClick,()=>s.onOpenChange(!1))})});S7.displayName=j7;function jP(e){return e?"open":"closed"}var N7="DialogTitleWarning",[uFe,_7]=Qle(N7,{contentName:xc,titleName:bP,docsSlug:"dialog"}),dFe=({titleId:e})=>{const t=_7(N7),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},fFe="DialogDescriptionWarning",hFe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_7(fFe).contentName}}.`;return v.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},mFe=d7,pFe=h7,gFe=p7,vFe=g7,yFe=v7,xFe=x7,wFe=b7,C7=S7,E7="AlertDialog",[bFe,BKe]=js(E7,[u7]),no=u7(),k7=e=>{const{__scopeAlertDialog:t,...n}=e,r=no(t);return i.jsx(mFe,{...r,...n,modal:!0})};k7.displayName=E7;var jFe="AlertDialogTrigger",A7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=no(n);return i.jsx(pFe,{...s,...r,ref:t})});A7.displayName=jFe;var SFe="AlertDialogPortal",P7=e=>{const{__scopeAlertDialog:t,...n}=e,r=no(t);return i.jsx(gFe,{...r,...n})};P7.displayName=SFe;var NFe="AlertDialogOverlay",T7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=no(n);return i.jsx(vFe,{...s,...r,ref:t})});T7.displayName=NFe;var qu="AlertDialogContent",[_Fe,CFe]=bFe(qu),O7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=no(n),o=v.useRef(null),l=ze(t,o),c=v.useRef(null);return i.jsx(uFe,{contentName:qu,titleName:I7,docsSlug:"alert-dialog",children:i.jsx(_Fe,{scope:n,cancelRef:c,children:i.jsxs(yFe,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:ye(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(Dk,{children:r}),i.jsx(kFe,{contentRef:o})]})})})});O7.displayName=qu;var I7="AlertDialogTitle",D7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=no(n);return i.jsx(xFe,{...s,...r,ref:t})});D7.displayName=I7;var M7="AlertDialogDescription",R7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=no(n);return i.jsx(wFe,{...s,...r,ref:t})});R7.displayName=M7;var EFe="AlertDialogAction",$7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=no(n);return i.jsx(C7,{...s,...r,ref:t})});$7.displayName=EFe;var L7="AlertDialogCancel",F7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=CFe(L7,n),a=no(n),o=ze(t,s);return i.jsx(C7,{...a,...r,ref:o})});F7.displayName=L7;var kFe=({contentRef:e})=>{const t=`\`${qu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qu}\` by passing a \`${M7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},AFe=k7,PFe=A7,TFe=P7,B7=T7,z7=O7,W7=$7,V7=F7,U7=D7,q7=R7;const xn=AFe,Hn=PFe,OFe=TFe,H7=v.forwardRef(({className:e,...t},n)=>i.jsx(B7,{className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));H7.displayName=B7.displayName;const rn=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(OFe,{children:[i.jsx(H7,{}),i.jsx(z7,{ref:r,className:ve("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","pointer-events-auto",e),onOpenAutoFocus:s=>{var o,l;s.preventDefault();const a=(o=r==null?void 0:r.current)==null?void 0:o.querySelector('input:not([disabled]), button:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])');a?a.focus():(l=r==null?void 0:r.current)==null||l.focus()},...n,children:t})]}));rn.displayName=z7.displayName;const sn=({className:e,...t})=>i.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});sn.displayName="AlertDialogHeader";const an=({className:e,...t})=>i.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});an.displayName="AlertDialogFooter";const on=v.forwardRef(({className:e,...t},n)=>i.jsx(U7,{ref:n,className:ve("text-lg font-semibold",e),...t}));on.displayName=U7.displayName;const ln=v.forwardRef(({className:e,...t},n)=>i.jsx(q7,{ref:n,className:ve("text-sm text-muted-foreground",e),...t}));ln.displayName=q7.displayName;const cn=v.forwardRef(({className:e,...t},n)=>i.jsx(W7,{ref:n,className:ve(Rk(),e),...t}));cn.displayName=W7.displayName;const un=v.forwardRef(({className:e,...t},n)=>i.jsx(V7,{ref:n,className:ve(Rk({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));un.displayName=V7.displayName;const mb=ka((e,t)=>({sectors:[],loading:!1,fetchSectors:async()=>{await G.handleAsync(async()=>{e({loading:!0});const n=je.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("sectors").select("*").eq("workspace_id",n.id).order("is_default",{ascending:!1}).order("name",{ascending:!0});if(s)throw s;e({sectors:r||[],loading:!1})})},createSector:async n=>await G.handleAsync(async()=>{const r=je.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");n.is_default&&await U.from("sectors").update({is_default:!1}).eq("workspace_id",r.id).eq("is_default",!0);const{data:s,error:a}=await U.from("sectors").insert({...n,workspace_id:r.id,color:n.color||"#3b82f6"}).select().single();if(a)throw a;return t().fetchSectors(),G.showSuccess("Setor criado com sucesso!"),s})||null,updateSector:async(n,r)=>{await G.handleAsync(async()=>{const s=je.getState().currentWorkspace;if(!s)return;r.is_default&&await U.from("sectors").update({is_default:!1}).eq("workspace_id",s.id).eq("is_default",!0);const{error:a}=await U.from("sectors").update({...r,updated_at:new Date().toISOString()}).eq("id",n);if(a)throw a;t().fetchSectors(),G.showSuccess("Setor atualizado com sucesso!")})},deleteSector:async n=>{await G.handleAsync(async()=>{const s=t().sectors.find(o=>o.id===n);if(s!=null&&s.is_default)throw new Error("No  possvel excluir o setor padro");const{error:a}=await U.from("sectors").delete().eq("id",n);if(a)throw a;t().fetchSectors(),G.showSuccess("Setor excludo com sucesso!")})},getDefaultSector:()=>t().sectors.find(n=>n.is_default)})),G7=ka((e,t)=>({conversations:[],activeConversation:null,messages:[],loading:!1,fetchConversations:async()=>{await G.handleAsync(async()=>{const n=je.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("conversations").select(`
          *,
          client:clients(*),
          channel:channels(*),
          sector:sectors(*)
        `).eq("workspace_id",n.id).order("last_message_at",{ascending:!1});if(s)throw s;const a=await Promise.all((r||[]).map(async o=>{const{count:l}=await U.from("messages").select("*",{count:"exact",head:!0}).eq("conversation_id",o.id).eq("sender_type","client").is("read_at",null);return{...o,unread_count:l||0}}));e({conversations:a})})},fetchMessages:async n=>{await G.handleAsync(async()=>{e({loading:!0});const{data:r,error:s}=await U.from("messages").select(`
          *,
          client:clients(*)
        `).eq("conversation_id",n).order("timestamp",{ascending:!0});if(s)throw s;e({messages:r||[],loading:!1})})},setActiveConversation:n=>{e({activeConversation:n}),t().fetchMessages(n.id),t().markAsRead(n.id)},sendMessage:async(n,r)=>{await G.handleAsync(async()=>{var c,u,d;const{data:{user:s}}=await U.auth.getUser();if(!s)throw new Error("Usurio no autenticado");const a=t().conversations.find(f=>f.id===n);if(!a)throw new Error("Conversa no encontrada");const{data:o,error:l}=await U.from("messages").insert({conversation_id:n,client_id:a.client_id,content:r,sender_type:"user",channel_type:a.channel_type,send_type:"manual",status:"pending"}).select(`
          *,
          client:clients(*)
        `).single();if(l)throw l;if(((c=t().activeConversation)==null?void 0:c.id)===n&&e({messages:[...t().messages,o]}),a.channel_type==="whatsapp"&&((u=a.client)!=null&&u.phone))try{const{whatsappInstances:f,sendWhatsAppMessage:h}=je.getState(),m=f.find(g=>g.status==="connected");if(m){if(await h(m.id,a.client.phone,r),await U.from("messages").update({status:"sent"}).eq("id",o.id),((d=t().activeConversation)==null?void 0:d.id)===n){const g=t().messages.map(p=>p.id===o.id?{...p,status:"sent"}:p);e({messages:g})}}else throw new Error("Nenhuma instncia WhatsApp conectada")}catch(f){throw await U.from("messages").update({status:"failed"}).eq("id",o.id),new Error(`Falha ao enviar WhatsApp: ${f.message}`)}await U.from("conversations").update({last_message_at:new Date().toISOString(),status:"open"}).eq("id",n),t().fetchConversations(),G.showSuccess("Mensagem enviada com sucesso!")})},markAsRead:async n=>{await G.handleAsync(async()=>{await U.from("messages").update({read_at:new Date().toISOString()}).eq("conversation_id",n).eq("sender_type","client").is("read_at",null),t().fetchConversations()})},createConversation:async(n,r)=>await G.handleAsync(async()=>{const s=je.getState().currentWorkspace;if(!s)throw new Error("Nenhum workspace selecionado");const a=mb.getState().getDefaultSector(),{data:o,error:l}=await U.from("conversations").select("*").eq("workspace_id",s.id).eq("client_id",n).eq("channel_type",r).maybeSingle();if(l)throw l;if(o)return o;const{data:c,error:u}=await U.from("conversations").insert({workspace_id:s.id,client_id:n,channel_type:r,status:"open",sector_id:a==null?void 0:a.id}).select(`
          *,
          client:clients(*),
          channel:channels(*),
          sector:sectors(*)
        `).single();if(u)throw u;return t().fetchConversations(),c})||null,updateConversationStatus:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("conversations").update({status:r}).eq("id",n);if(s)throw s;const a=t().conversations.map(l=>l.id===n?{...l,status:r}:l);e({conversations:a});const o=t().activeConversation;(o==null?void 0:o.id)===n&&e({activeConversation:{...o,status:r}}),G.showSuccess(`Conversa marcada como ${r}`)})},updateConversationSector:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("conversations").update({sector_id:r}).eq("id",n);if(s)throw s;const{data:a}=await U.from("sectors").select("*").eq("id",r).single(),o=t().conversations.map(c=>c.id===n?{...c,sector_id:r,sector:a}:c);e({conversations:o});const l=t().activeConversation;(l==null?void 0:l.id)===n&&e({activeConversation:{...l,sector_id:r,sector:a}}),G.showSuccess(`Conversa movida para o setor ${a==null?void 0:a.name}`)})},addIncomingMessage:n=>{var a;const r=t().conversations,s=r.findIndex(o=>o.id===n.conversation_id);if(s!==-1){const o=[...r];o[s]={...o[s],last_message_at:n.timestamp,unread_count:(o[s].unread_count||0)+1},e({conversations:o})}((a=t().activeConversation)==null?void 0:a.id)===n.conversation_id&&(e({messages:[...t().messages,n]}),t().markAsRead(n.conversation_id))}})),y4=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316","#6366f1"];function IFe({conversationId:e}){const{sectors:t,fetchSectors:n,createSector:r,updateSector:s,deleteSector:a}=mb(),{activeConversation:o,updateConversationSector:l}=G7(),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState(null),[g,p]=v.useState({name:"",description:"",color:"#3b82f6",is_default:!1}),[y,x]=v.useState(!1);v.useEffect(()=>{n()},[n]),v.useEffect(()=>{h&&p({name:h.name,description:h.description||"",color:h.color,is_default:h.is_default})},[h]);const w=async()=>{if(g.name.trim()){x(!0);try{await r(g),p({name:"",description:"",color:"#3b82f6",is_default:!1}),u(!1)}catch(_){console.error("Error creating sector:",_)}finally{x(!1)}}},j=async()=>{if(!(!h||!g.name.trim())){x(!0);try{await s(h.id,g),f(!1)}catch(_){console.error("Error updating sector:",_)}finally{x(!1)}}},b=async()=>{if(h){x(!0);try{await a(h.id),f(!1)}catch(_){console.error("Error deleting sector:",_)}finally{x(!1)}}},S=async _=>{if(!e&&!o)return;const k=e||(o==null?void 0:o.id);if(k)try{await l(k,_)}catch(P){console.error("Error updating conversation sector:",P)}},N=o==null?void 0:o.sector_id,C=t.find(_=>_.id===N);return i.jsx("div",{children:i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsxs(B,{variant:"outline",size:"sm",className:"h-8",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:(C==null?void 0:C.color)||"#3b82f6"}}),(C==null?void 0:C.name)||"Sem setor"]})}),i.jsxs(Ea,{align:"end",children:[t.map(_=>i.jsx(at,{onClick:()=>S(_.id),children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:_.color}}),i.jsx("span",{children:_.name}),_.id===N&&i.jsx($s,{className:"h-4 w-4 ml-2"})]})},_.id)),i.jsxs(ot,{open:c,onOpenChange:u,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(at,{onSelect:_=>_.preventDefault(),children:[i.jsx(tn,{className:"h-4 w-4 mr-2"}),"Criar Novo Setor"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Criar Novo Setor"}),i.jsx(ft,{children:"Crie um novo setor para organizar seus atendimentos"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"sectorName",children:"Nome do Setor *"}),i.jsx(ie,{id:"sectorName",value:g.name,onChange:_=>p({...g,name:_.target.value}),placeholder:"Ex: Suporte Tcnico"})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"sectorDescription",children:"Descrio (Opcional)"}),i.jsx(vt,{id:"sectorDescription",value:g.description,onChange:_=>p({...g,description:_.target.value}),placeholder:"Descreva a funo deste setor...",rows:3})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Cor do Setor"}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:y4.map(_=>i.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 ${g.color===_?"border-gray-900":"border-gray-300"}`,style:{backgroundColor:_},onClick:()=>p({...g,color:_})},_))})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"isDefault",checked:g.is_default,onChange:_=>p({...g,is_default:_.target.checked})}),i.jsx(Y,{htmlFor:"isDefault",children:"Definir como setor padro"})]})]}),i.jsx(yt,{children:i.jsx(B,{onClick:w,disabled:y||!g.name.trim(),children:y?"Criando...":"Criar Setor"})})]})]}),i.jsx(at,{onSelect:_=>_.preventDefault(),children:i.jsxs(ot,{open:d,onOpenChange:f,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"ghost",className:"w-full justify-start",children:[i.jsx(wi,{className:"h-4 w-4 mr-2"}),"Gerenciar Setores"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Gerenciar Setores"}),i.jsx(ft,{children:"Edite ou remova setores existentes"})]}),i.jsx("div",{className:"space-y-4",children:t.map(_=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:_.color}}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:_.name}),_.is_default&&i.jsx(fe,{variant:"outline",className:"text-xs",children:"Padro"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>{m(_),f(!1),setTimeout(()=>f(!0),100)},children:i.jsx(wi,{className:"h-4 w-4"})}),!_.is_default&&i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",children:i.jsx(Ks,{className:"h-4 w-4"})})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Excluir Setor"}),i.jsxs(ln,{children:['Tem certeza que deseja excluir o setor "',_.name,'"? As conversas deste setor sero movidas para o setor padro.']})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{onClick:()=>{m(_),b()},className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})]})]})]},_.id))}),h&&i.jsxs("div",{className:"border-t pt-4 mt-4",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Editar Setor"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"editSectorName",children:"Nome do Setor *"}),i.jsx(ie,{id:"editSectorName",value:g.name,onChange:_=>p({...g,name:_.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"editSectorDescription",children:"Descrio"}),i.jsx(vt,{id:"editSectorDescription",value:g.description,onChange:_=>p({...g,description:_.target.value}),rows:2})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Cor do Setor"}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:y4.map(_=>i.jsx("button",{type:"button",className:`w-6 h-6 rounded-full border-2 ${g.color===_?"border-gray-900":"border-gray-300"}`,style:{backgroundColor:_},onClick:()=>p({...g,color:_})},_))})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"editIsDefault",checked:g.is_default,onChange:_=>p({...g,is_default:_.target.checked})}),i.jsx(Y,{htmlFor:"editIsDefault",children:"Definir como setor padro"})]}),i.jsx(B,{onClick:j,disabled:y||!g.name.trim(),className:"w-full",children:y?"Salvando...":"Salvar Alteraes"})]})]})]})]})})]})]})})}function DFe(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var SP="ScrollArea",[K7,zKe]=js(SP),[MFe,Xs]=K7(SP),Y7=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(null),[m,g]=v.useState(null),[p,y]=v.useState(null),[x,w]=v.useState(0),[j,b]=v.useState(0),[S,N]=v.useState(!1),[C,_]=v.useState(!1),k=ze(t,A=>c(A)),P=Yd(s);return i.jsx(MFe,{scope:n,type:r,dir:P,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:p,onScrollbarYChange:y,scrollbarYEnabled:C,onScrollbarYEnabledChange:_,onCornerWidthChange:w,onCornerHeightChange:b,children:i.jsx(Me.div,{dir:P,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});Y7.displayName=SP;var X7="ScrollAreaViewport",J7=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:a,...o}=e,l=Xs(X7,n),c=v.useRef(null),u=ze(t,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),i.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:qFe({asChild:s,children:r},d=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});J7.displayName=X7;var oi="ScrollAreaScrollbar",NP=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Xs(oi,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return v.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(RFe,{...r,ref:t,forceMount:n}):s.type==="scroll"?i.jsx($Fe,{...r,ref:t,forceMount:n}):s.type==="auto"?i.jsx(Q7,{...r,ref:t,forceMount:n}):s.type==="always"?i.jsx(_P,{...r,ref:t}):null});NP.displayName=oi;var RFe=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Xs(oi,e.__scopeScrollArea),[a,o]=v.useState(!1);return v.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Qn,{present:n||a,children:i.jsx(Q7,{"data-state":a?"visible":"hidden",...r,ref:t})})}),$Fe=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Xs(oi,e.__scopeScrollArea),a=e.orientation==="horizontal",o=gb(()=>c("SCROLL_END"),100),[l,c]=DFe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),v.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,o]),i.jsx(Qn,{present:n||l!=="hidden",children:i.jsx(_P,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ye(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ye(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Q7=v.forwardRef((e,t)=>{const n=Xs(oi,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,o]=v.useState(!1),l=e.orientation==="horizontal",c=gb(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return Td(n.viewport,c),Td(n.content,c),i.jsx(Qn,{present:r||a,children:i.jsx(_P,{"data-state":a?"visible":"hidden",...s,ref:t})})}),_P=v.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Xs(oi,e.__scopeScrollArea),a=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=rH(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return VFe(h,o.current,l,m)}return n==="horizontal"?i.jsx(LFe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,m=x4(h,l,s.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):n==="vertical"?i.jsx(FFe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,m=x4(h,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),LFe=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Xs(oi,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=ze(t,c,a.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(eH,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":pb(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),aH(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Yx(o.paddingLeft),paddingEnd:Yx(o.paddingRight)}})}})}),FFe=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Xs(oi,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=ze(t,c,a.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(eH,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":pb(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),aH(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Yx(o.paddingTop),paddingEnd:Yx(o.paddingBottom)}})}})}),[BFe,Z7]=K7(oi),eH=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Xs(oi,n),[g,p]=v.useState(null),y=ze(t,k=>p(k)),x=v.useRef(null),w=v.useRef(""),j=m.viewport,b=r.content-r.viewport,S=fn(d),N=fn(c),C=gb(f,10);function _(k){if(x.current){const P=k.clientX-x.current.left,A=k.clientY-x.current.top;u({x:P,y:A})}}return v.useEffect(()=>{const k=P=>{const A=P.target;(g==null?void 0:g.contains(A))&&S(P,b)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[j,g,b,S]),v.useEffect(N,[r,N]),Td(g,C),Td(m.content,C),i.jsx(BFe,{scope:n,scrollbar:g,hasThumb:s,onThumbChange:fn(a),onThumbPointerUp:fn(o),onThumbPositionChange:N,onThumbPointerDown:fn(l),children:i.jsx(Me.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:ye(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),x.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),_(k))}),onPointerMove:ye(e.onPointerMove,_),onPointerUp:ye(e.onPointerUp,k=>{const P=k.target;P.hasPointerCapture(k.pointerId)&&P.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Kx="ScrollAreaThumb",tH=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Z7(Kx,e.__scopeScrollArea);return i.jsx(Qn,{present:n||s.hasThumb,children:i.jsx(zFe,{ref:t,...r})})}),zFe=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=Xs(Kx,n),o=Z7(Kx,n),{onThumbPositionChange:l}=o,c=ze(t,f=>o.onThumbChange(f)),u=v.useRef(),d=gb(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const m=UFe(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),i.jsx(Me.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ye(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:ye(e.onPointerUp,o.onThumbPointerUp)})});tH.displayName=Kx;var CP="ScrollAreaCorner",nH=v.forwardRef((e,t)=>{const n=Xs(CP,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(WFe,{...e,ref:t}):null});nH.displayName=CP;var WFe=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Xs(CP,n),[a,o]=v.useState(0),[l,c]=v.useState(0),u=!!(a&&l);return Td(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Td(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(Me.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Yx(e){return e?parseInt(e,10):0}function rH(e,t){const n=e/t;return isNaN(n)?0:n}function pb(e){const t=rH(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function VFe(e,t,n,r="ltr"){const s=pb(n),a=s/2,o=t||a,l=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return sH([c,u],f)(e)}function x4(e,t,n="ltr"){const r=pb(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],u=dp(e,c);return sH([0,o],[0,l])(u)}function sH(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function aH(e,t){return e>0&&e<t}var UFe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function gb(e,t){const n=fn(e),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Td(e,t){const n=fn(t);Dn(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function qFe(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=v.Children.only(r);return v.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var iH=Y7,HFe=J7,GFe=nH;const fp=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(iH,{ref:r,className:ve("relative overflow-hidden",e),...n,children:[i.jsx(HFe,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(oH,{}),i.jsx(GFe,{})]}));fp.displayName=iH.displayName;const oH=v.forwardRef(({className:e,orientation:t="vertical",...n},r)=>i.jsx(NP,{ref:r,orientation:t,className:ve("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:i.jsx(tH,{className:"relative flex-1 rounded-full bg-border"})}));oH.displayName=NP.displayName;function KFe(){var X,ee,Z,ae,ce;const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,a]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState("whatsapp"),[d,f]=v.useState(!1),[h,m]=v.useState("all"),[g,p]=v.useState("all"),{conversations:y,activeConversation:x,messages:w,loading:j,fetchConversations:b,setActiveConversation:S,sendMessage:N,createConversation:C,updateConversationStatus:_}=G7(),{whatsappInstances:k,sendWhatsAppMedia:P}=je(),{clients:A,fetchClients:I}=Or(),{sectors:L,fetchSectors:E}=mb();v.useEffect(()=>{b(),I(),E();const q=setInterval(()=>{b()},3e4);return()=>clearInterval(q)},[b,I,E]);const R=y.filter(q=>{var Q;const be=((Q=q.client)==null?void 0:Q.name.toLowerCase().includes(e.toLowerCase()))||q.channel_type.toLowerCase().includes(e.toLowerCase()),Se=h==="all"||q.status===h,Ae=g==="all"||q.sector_id===g;return be&&Se&&Ae}),O=async()=>{if(!(!x||!n.trim()))try{await N(x.id,n),r("")}catch(q){console.error("Error sending message:",q)}},F=async(q,be,Se)=>{var Ae;if(x)try{if(x.channel_type==="whatsapp"&&((Ae=x.client)!=null&&Ae.phone)){const me=k.find(J=>J.status==="connected");me&&await P(me.id,x.client.phone,q,be,Se)}const Q=Se?`[${be.charAt(0).toUpperCase()+be.slice(1)}] ${Se}`:`[${be.charAt(0).toUpperCase()+be.slice(1)}]`;await N(x.id,Q)}catch(Q){console.error("Error sending media:",Q)}},D=async()=>{if(!(!o||!c))try{const q=await C(o,c);q&&(S(q),a(!1),l(""),u("whatsapp"))}catch(q){console.error("Error creating conversation:",q)}},M=()=>{b()},$=async q=>{x&&await _(x.id,q)},z=q=>{switch(q){case"whatsapp":return qn;case"email":return ja;case"phone":return Ha;default:return qn}},W=q=>{switch(q){case"whatsapp":return"bg-green-100 text-green-800";case"email":return"bg-blue-100 text-blue-800";case"phone":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},H=q=>{switch(q){case"open":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},V=q=>{switch(q){case"open":return i.jsx(Gn,{className:"h-4 w-4"});case"pending":return i.jsx(Er,{className:"h-4 w-4"});case"closed":return i.jsx(jn,{className:"h-4 w-4"});default:return i.jsx(Gn,{className:"h-4 w-4"})}},te=q=>{const be=new Date(q);return(new Date().getTime()-be.getTime())/(1e3*60*60)<24?be.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):be.toLocaleDateString("pt-BR")},ne=k.filter(q=>q.status==="connected");return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full flex",children:[i.jsxs("div",{className:"w-80 border-r border-gray-200 flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Inbox"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:M,className:"h-8 w-8 p-0",children:i.jsx(ya,{className:"h-4 w-4"})}),i.jsxs(ot,{open:s,onOpenChange:a,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{size:"sm",children:[i.jsx(tn,{className:"h-4 w-4 mr-1"}),"Nova"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Nova Conversa"}),i.jsx(ft,{children:"Inicie uma nova conversa com um cliente"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"client",children:"Cliente"}),i.jsxs(Oe,{value:o,onValueChange:l,children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um cliente"})}),i.jsx(Te,{children:A.map(q=>i.jsxs(K,{value:q.id,children:[q.name," ",q.phone&&`(${q.phone})`]},q.id))})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"channel",children:"Canal"}),i.jsxs(Oe,{value:c,onValueChange:u,children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"whatsapp",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(qn,{className:"h-4 w-4 mr-2"}),"WhatsApp"]})}),i.jsx(K,{value:"email",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ja,{className:"h-4 w-4 mr-2"}),"Email"]})})]})]})]})]}),i.jsx(yt,{children:i.jsx(B,{onClick:D,disabled:!o||!c,children:"Criar Conversa"})})]})]})]})]}),ne.length===0&&i.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-yellow-800",children:"Conecte uma instncia WhatsApp nas Integraes para enviar mensagens"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ie,{placeholder:"Buscar conversas...",value:e,onChange:q=>t(q.target.value),className:"pl-10"})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs(op,{children:[i.jsx(lp,{asChild:!0,children:i.jsxs(B,{variant:"outline",size:"sm",children:[i.jsx(K0,{className:"h-4 w-4 mr-2"}),"Filtros"]})}),i.jsx(Pd,{className:"w-64",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{children:"Status"}),i.jsxs(Oe,{value:h,onValueChange:m,children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"all",children:"Todos"}),i.jsx(K,{value:"open",children:"Aberto"}),i.jsx(K,{value:"pending",children:"Pendente"}),i.jsx(K,{value:"closed",children:"Fechado"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{children:"Setor"}),i.jsxs(Oe,{value:g,onValueChange:p,children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"all",children:"Todos os Setores"}),L.map(q=>i.jsx(K,{value:q.id,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:q.color}}),q.name]})},q.id))]})]})]})]})})]})})]})]}),i.jsx(fp,{className:"flex-1",children:i.jsxs("div",{className:"p-2",children:[R.map(q=>{var Ae,Q,me,J;const be=z(q.channel_type),Se=(x==null?void 0:x.id)===q.id;return i.jsx(re,{className:`mb-2 cursor-pointer transition-colors ${Se?"bg-blue-50 border-blue-200":"hover:bg-gray-50"}`,onClick:()=>S(q),children:i.jsx(se,{className:"p-3",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Bi,{children:i.jsx(zi,{children:((Q=(Ae=q.client)==null?void 0:Ae.name)==null?void 0:Q.charAt(0))||"U"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:((me=q.client)==null?void 0:me.name)||"Contato Desconhecido"}),i.jsxs("div",{className:"flex items-center space-x-1",children:[q.unread_count>0&&i.jsx(fe,{variant:"destructive",className:"text-xs",children:q.unread_count}),i.jsx("span",{className:"text-xs text-gray-500",children:te(q.last_message_at)})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsxs(fe,{className:`text-xs ${W(q.channel_type)}`,children:[i.jsx(be,{className:"h-3 w-3 mr-1"}),q.channel_type]}),i.jsx(fe,{variant:"outline",className:`text-xs ${H(q.status)}`,children:q.status}),q.sector&&i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:q.sector.color},title:q.sector.name})]}),((J=q.client)==null?void 0:J.phone)&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:q.client.phone})]})]})})},q.id)}),R.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Nenhuma conversa encontrada"})]})]})})]}),i.jsx("div",{className:`flex-1 flex flex-col ${d?"":"mr-0"}`,children:x?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Bi,{children:i.jsx(zi,{children:((ee=(X=x.client)==null?void 0:X.name)==null?void 0:ee.charAt(0))||"U"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:((Z=x.client)==null?void 0:Z.name)||"Contato Desconhecido"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fe,{className:`text-xs ${W(x.channel_type)}`,children:x.channel_type}),i.jsxs(fe,{variant:"outline",className:`text-xs ${H(x.status)}`,children:[V(x.status),i.jsx("span",{className:"ml-1",children:x.status})]}),i.jsx("span",{className:"text-sm text-gray-500",children:((ae=x.client)==null?void 0:ae.phone)||((ce=x.client)==null?void 0:ce.email)})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(IFe,{}),i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>f(!d),children:i.jsx(k6,{className:"h-4 w-4"})}),i.jsxs(op,{children:[i.jsx(lp,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",children:i.jsx(Lp,{className:"h-4 w-4"})})}),i.jsx(Pd,{className:"w-48",children:i.jsxs("div",{className:"space-y-1",children:[x.status==="open"&&i.jsxs(B,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>$("pending"),children:[i.jsx(Er,{className:"h-4 w-4 mr-2 text-yellow-500"}),"Marcar Pendente"]}),x.status==="pending"&&i.jsxs(B,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>$("open"),children:[i.jsx(Gn,{className:"h-4 w-4 mr-2 text-green-500"}),"Marcar Aberto"]}),x.status!=="closed"&&i.jsxs(B,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>$("closed"),children:[i.jsx(jn,{className:"h-4 w-4 mr-2 text-red-500"}),"Fechar Conversa"]}),x.status==="closed"&&i.jsxs(B,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>$("open"),children:[i.jsx(Gn,{className:"h-4 w-4 mr-2 text-green-500"}),"Reabrir Conversa"]}),i.jsxs(B,{variant:"ghost",size:"sm",className:"w-full justify-start",children:[i.jsx(_N,{className:"h-4 w-4 mr-2"}),"Arquivar"]})]})})]})]})]})}),i.jsx(fp,{className:"flex-1 p-4",children:i.jsxs("div",{className:"space-y-2",children:[w.map(q=>i.jsx(sFe,{message:q,isOwn:q.sender_type==="user"},q.id)),j&&i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})]})}),ne.length===0&&x.channel_type==="whatsapp"?i.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:i.jsxs("div",{className:"text-center py-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Conecte uma instncia WhatsApp para enviar mensagens"}),i.jsx(B,{variant:"outline",size:"sm",onClick:()=>window.location.href="/integrations",children:"Ir para Integraes"})]})}):i.jsx(rFe,{value:n,onChange:r,onSend:O,onSendMedia:F,disabled:ne.length===0&&x.channel_type==="whatsapp"})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecione uma conversa"}),i.jsx("p",{className:"text-gray-500",children:"Escolha uma conversa da barra lateral para comear a conversar"})]})})}),i.jsx(El,{children:d&&(x==null?void 0:x.client)&&i.jsx(c3e,{client:x.client,onClose:()=>f(!1)})})]})})})}const hv=[{code:"BR",name:"Brasil",flag:"",dialCode:"+55",mask:"(##) #####-####",validation:/^\(\d{2}\) \d{5}-\d{4}$/},{code:"US",name:"Estados Unidos",flag:"",dialCode:"+1",mask:"(###) ###-####",validation:/^\(\d{3}\) \d{3}-\d{4}$/},{code:"AR",name:"Argentina",flag:"",dialCode:"+54",mask:"## ####-####",validation:/^\d{2} \d{4}-\d{4}$/},{code:"PT",name:"Portugal",flag:"",dialCode:"+351",mask:"### ### ###",validation:/^\d{3} \d{3} \d{3}$/},{code:"ES",name:"Espanha",flag:"",dialCode:"+34",mask:"### ### ###",validation:/^\d{3} \d{3} \d{3}$/}];function lH({value:e="",onChange:t,placeholder:n="Digite o nmero",className:r,label:s="Telefone",required:a=!1,error:o}){const[l,c]=v.useState(hv[0]),[u,d]=v.useState(""),[f,h]=v.useState(!1);v.useEffect(()=>{if(e){const y=hv.find(x=>e.startsWith(x.dialCode));if(y){c(y);const x=e.replace(y.dialCode,"").trim();d(m(x,y.mask))}else d(e)}},[e]);const m=(y,x)=>{const w=y.replace(/\D/g,"");let j="",b=0;for(let S=0;S<x.length&&b<w.length;S++)x[S]==="#"?(j+=w[b],b++):j+=x[S];return j},g=y=>{const x=m(y,l.mask);d(x);const w=l.validation.test(x);h(w);const j=w?`${l.dialCode} ${x}`:"";t==null||t(j,w)},p=y=>{const x=hv.find(w=>w.code===y);x&&(c(x),d(""),h(!1),t==null||t("",!1))};return i.jsxs("div",{className:ve("space-y-2",r),children:[s&&i.jsxs(Y,{htmlFor:"phone-input",children:[s," ",a&&i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(Oe,{value:l.code,onValueChange:p,children:[i.jsx(Pe,{className:"w-32",children:i.jsx(Ie,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{children:l.flag}),i.jsx("span",{className:"text-sm",children:l.dialCode})]})})}),i.jsx(Te,{children:hv.map(y=>i.jsx(K,{value:y.code,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{children:y.flag}),i.jsx("span",{children:y.dialCode}),i.jsx("span",{className:"text-sm text-gray-600",children:y.name})]})},y.code))})]}),i.jsx("div",{className:"flex-1",children:i.jsx(ie,{id:"phone-input",type:"tel",value:u,onChange:y=>g(y.target.value),placeholder:l.mask.replace(/#/g,"0"),className:ve("transition-colors",u&&!f&&"border-red-500 focus:border-red-500",u&&f&&"border-green-500 focus:border-green-500")})})]}),o&&i.jsx("p",{className:"text-sm text-red-600",children:o}),u&&!f&&!o&&i.jsxs("p",{className:"text-sm text-red-600",children:["Formato invlido. Use: ",l.mask.replace(/#/g,"0")]}),u&&f&&i.jsxs("p",{className:"text-sm text-green-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),"Nmero vlido: ",l.dialCode," ",u]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Formato esperado: ",l.dialCode," ",l.mask.replace(/#/g,"0")]})]})}function YFe(){const[e,t]=v.useState(!1),[n,r]=v.useState({name:"",phone:"",email:""}),[s,a]=v.useState(!1),[o,l]=v.useState(!0),[c,u]=v.useState(!1),{createClient:d}=Or(),f=y=>y?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y):!0,h=y=>{r({...n,email:y}),l(f(y))},m=(y,x)=>{r({...n,phone:y}),a(x)},g=async y=>{if(y.preventDefault(),!n.name.trim()){G.showError(G.createError("Campo Obrigatrio","O nome  obrigatrio para criar um cliente."));return}if(n.phone&&!s){G.showError(G.createError("Telefone Invlido","O nmero de telefone informado no  vlido."));return}if(n.email&&!o){G.showError(G.createError("Email Invlido","O email informado no  vlido."));return}u(!0);try{await d(n),t(!1),r({name:"",phone:"",email:""}),a(!1),l(!0)}catch{}finally{u(!1)}},p=n.name.trim()&&(!n.phone||s)&&(!n.email||o);return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{className:"gap-2",children:[i.jsx(tn,{className:"h-4 w-4"}),"Adicionar Cliente"]})}),i.jsxs(et,{className:"sm:max-w-[500px]",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Adicionar Novo Cliente"}),i.jsx(ft,{children:"Crie um novo registro de cliente para seu CRM."})]}),i.jsxs("form",{onSubmit:g,children:[i.jsxs("div",{className:"grid gap-5 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Y,{htmlFor:"name",className:"flex items-center gap-2",children:[i.jsx(Ga,{className:"h-4 w-4 text-muted-foreground"}),"Nome ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(ie,{id:"name",value:n.name,onChange:y=>r({...n,name:y.target.value}),placeholder:"Nome completo do cliente",required:!0,className:!n.name.trim()&&n.name!==""?"border-destructive":""}),!n.name.trim()&&n.name!==""&&i.jsx("p",{className:"text-sm text-destructive",children:"Nome  obrigatrio"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Y,{htmlFor:"phone",className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"h-4 w-4 text-muted-foreground"}),"Telefone"]}),i.jsx(lH,{value:n.phone,onChange:m,placeholder:"Digite o nmero"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Y,{htmlFor:"email",className:"flex items-center gap-2",children:[i.jsx(ja,{className:"h-4 w-4 text-muted-foreground"}),"Email"]}),i.jsx(ie,{id:"email",type:"email",value:n.email,onChange:y=>h(y.target.value),placeholder:"email@exemplo.com",className:n.email&&!o?"border-destructive":""}),n.email&&!o&&i.jsx("p",{className:"text-sm text-destructive",children:"Email invlido"})]})]}),i.jsxs(yt,{className:"gap-2",children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:c||!p,className:"min-w-[120px]",children:c?"Criando...":"Criar Cliente"})]})]})]})]})}function XFe({open:e,onOpenChange:t,contact:n}){const[r,s]=v.useState({name:"",phone:"",email:""}),[a,o]=v.useState(!0),[l,c]=v.useState(!0),[u,d]=v.useState(!1),{updateClient:f,updateLead:h,fetchClients:m,fetchLeads:g}=Or();v.useEffect(()=>{n&&e&&(s({name:n.name||"",phone:n.phone||"",email:n.email||""}),o(!0),c(!0))},[n,e]);const p=b=>b?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b):!0,y=b=>{s({...r,email:b}),c(p(b))},x=(b,S)=>{s({...r,phone:b}),o(S||!b)},w=async b=>{if(b.preventDefault(),!r.name.trim()){G.showError(G.createError("Campo Obrigatrio","O nome  obrigatrio."));return}if(r.phone&&!a){G.showError(G.createError("Telefone Invlido","O nmero de telefone informado no  vlido."));return}if(r.email&&!l){G.showError(G.createError("Email Invlido","O email informado no  vlido."));return}d(!0);try{n.type==="client"?(await f(n.id,r),await m()):(await h(n.id,r),await g()),t(!1),G.showSuccess(n.type==="client"?"Cliente atualizado com sucesso!":"Lead atualizado com sucesso!")}catch(S){G.showError(S)}finally{d(!1)}},j=r.name.trim()&&(!r.phone||a)&&(!r.email||l);return i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"sm:max-w-[500px]",children:[i.jsxs(tt,{children:[i.jsxs(nt,{children:["Editar ",(n==null?void 0:n.type)==="client"?"Cliente":"Lead"]}),i.jsx(ft,{children:"Atualize as informaes de contato."})]}),i.jsxs("form",{onSubmit:w,children:[i.jsxs("div",{className:"grid gap-5 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Y,{htmlFor:"name",className:"flex items-center gap-2",children:[i.jsx(Ga,{className:"h-4 w-4 text-muted-foreground"}),"Nome ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(ie,{id:"name",value:r.name,onChange:b=>s({...r,name:b.target.value}),placeholder:"Nome completo",required:!0,className:!r.name.trim()&&r.name!==""?"border-destructive":""}),!r.name.trim()&&r.name!==""&&i.jsx("p",{className:"text-sm text-destructive",children:"Nome  obrigatrio"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Y,{htmlFor:"phone",className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"h-4 w-4 text-muted-foreground"}),"Telefone"]}),i.jsx(lH,{value:r.phone,onChange:x,placeholder:"Digite o nmero"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Y,{htmlFor:"email",className:"flex items-center gap-2",children:[i.jsx(ja,{className:"h-4 w-4 text-muted-foreground"}),"Email"]}),i.jsx(ie,{id:"email",type:"email",value:r.email,onChange:b=>y(b.target.value),placeholder:"email@exemplo.com",className:r.email&&!l?"border-destructive":""}),r.email&&!l&&i.jsx("p",{className:"text-sm text-destructive",children:"Email invlido"})]})]}),i.jsxs(yt,{className:"gap-2",children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:u||!j,className:"min-w-[120px]",children:u?"Atualizando...":"Atualizar"})]})]})]})})}const JFe=e=>{switch(e){case"Champions":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"Loyal Customers":return"bg-blue-100 text-blue-800 border-blue-200";case"Potential Loyalists":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"New Customers":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"Promising":return"bg-violet-100 text-violet-800 border-violet-200";case"Need Attention":return"bg-amber-100 text-amber-800 border-amber-200";case"About to Sleep":return"bg-orange-100 text-orange-800 border-orange-200";case"At Risk":return"bg-red-100 text-red-800 border-red-200";case"Cannot Lose Them":return"bg-rose-100 text-rose-800 border-rose-200";case"Hibernating":return"bg-slate-100 text-slate-800 border-slate-200";case"Lost":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},QFe=e=>{switch(e){case"Champions":return"Clientes de alto valor que compram frequentemente e recentemente";case"Loyal Customers":return"Clientes fiis que compram regularmente";case"Potential Loyalists":return"Clientes recentes com potencial para se tornarem fiis";case"New Customers":return"Clientes novos que fizeram poucas compras";case"Promising":return"Clientes recentes com gasto acima da mdia";case"Need Attention":return"Clientes que no compram h algum tempo";case"About to Sleep":return"Clientes em risco de se tornarem inativos";case"At Risk":return"Clientes valiosos que no compram h muito tempo";case"Cannot Lose Them":return"Clientes de alto valor em risco de abandono";case"Hibernating":return"Clientes inativos com baixo valor";case"Lost":return"Clientes que provavelmente no retornaro";default:return"Anlise de comportamento de compra do cliente"}};function ZFe({analysis:e}){return i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Anlise RFM"}),i.jsx(He,{children:"Segmentao baseada no comportamento de compra"})]}),i.jsx(fe,{className:JFe(e.category),children:e.category})]})}),i.jsxs(se,{className:"space-y-6",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:QFe(e.category)}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Er,{className:"h-4 w-4 text-blue-600"}),i.jsx("h3",{className:"text-sm font-medium",children:"Recncia"})]}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.recency}),i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Dias desde ltimo pedido"})]}),i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Bp,{className:"h-4 w-4 text-green-600"}),i.jsx("h3",{className:"text-sm font-medium",children:"Frequncia"})]}),i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.frequency}),i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Total de pedidos"})]}),i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ic,{className:"h-4 w-4 text-purple-600"}),i.jsx("h3",{className:"text-sm font-medium",children:"Monetrio"})]}),i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["R$ ",e.monetary.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Total gasto"})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"Score RFM"}),i.jsx("div",{className:"text-lg font-bold",children:e.rfm_score})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium",children:"R"}),"ecncia  ",i.jsx("span",{className:"font-medium",children:"F"}),"requncia  ",i.jsx("span",{className:"font-medium",children:"M"}),"onetrio"]})]})]})]})}const Hr=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:ve("w-full caption-bottom text-sm",e),...t})}));Hr.displayName="Table";const Gr=v.forwardRef(({className:e,...t},n)=>i.jsx("thead",{ref:n,className:ve("[&_tr]:border-b",e),...t}));Gr.displayName="TableHeader";const Kr=v.forwardRef(({className:e,...t},n)=>i.jsx("tbody",{ref:n,className:ve("[&_tr:last-child]:border-0",e),...t}));Kr.displayName="TableBody";const eBe=v.forwardRef(({className:e,...t},n)=>i.jsx("tfoot",{ref:n,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));eBe.displayName="TableFooter";const it=v.forwardRef(({className:e,...t},n)=>i.jsx("tr",{ref:n,className:ve("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));it.displayName="TableRow";const Ne=v.forwardRef(({className:e,...t},n)=>i.jsx("th",{ref:n,className:ve("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Ne.displayName="TableHead";const oe=v.forwardRef(({className:e,...t},n)=>i.jsx("td",{ref:n,className:ve("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));oe.displayName="TableCell";const tBe=v.forwardRef(({className:e,...t},n)=>i.jsx("caption",{ref:n,className:ve("mt-4 text-sm text-muted-foreground",e),...t}));tBe.displayName="TableCaption";function cH({open:e,onOpenChange:t,order:n}){var d;if(!n)return null;const r=f=>{switch(f){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"processing":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=f=>{switch(f){case"pending":return"Pendente";case"processing":return"Processando";case"completed":return"Concludo";case"cancelled":return"Cancelado";default:return f}},a=f=>typeof f!="number"?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f),o=f=>f?new Date(f).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Data indisponvel",l=n.metadata||{},c=Array.isArray(l)?((d=l[0])==null?void 0:d.baselinker_data)||{}:l.baselinker_data||{},u=f=>Array.isArray(f)&&f.length>0&&typeof f[0]=="object"&&"sku_produto"in f[0];return i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(tt,{children:i.jsxs(nt,{className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-5 w-5"}),i.jsx("span",{children:"Detalhes do Pedido"}),n.order_id_base?i.jsxs("a",{href:`https://panel-u.baselinker.com/orders.php#order:${n.order_id_base}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-blue-600 hover:text-blue-800 hover:underline",children:["#",n.order_id_base,i.jsx(Fp,{className:"h-4 w-4"})]}):i.jsxs("span",{children:["#",n.id.slice(0,8)]})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(ma,{className:"h-5 w-5"}),"Resumo do Pedido"]}),i.jsx(fe,{className:r(n.status),children:s(n.status)})]})}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"ID do Pedido"}),i.jsxs("p",{className:"text-lg font-semibold",children:["#",n.order_id_base||n.id.slice(0,8)]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Data do Pedido"}),i.jsx("p",{className:"font-medium",children:o(n.order_date)})]}),n.external_id&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"ID Externo"}),i.jsx("p",{className:"font-medium",children:n.external_id})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Valor Total"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:a(n.total_amount)})]}),n.canal_venda&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Canal de Venda"}),i.jsx("p",{className:"font-medium",children:n.canal_venda})]}),n.taxas&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Taxas"}),i.jsx("p",{className:"font-medium text-red-600",children:a(n.taxas)})]})]}),i.jsxs("div",{className:"space-y-4",children:[n.faturamento_liquido&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Faturamento Lquido"}),i.jsx("p",{className:"text-lg font-semibold text-blue-600",children:a(n.faturamento_liquido)})]}),n.id_anuncio&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"ID do Anncio"}),i.jsx("p",{className:"font-medium",children:n.id_anuncio})]}),n.conta&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Conta"}),i.jsx("p",{className:"font-medium",children:n.conta})]})]})]})})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"flex items-center gap-2",children:[i.jsx(Bp,{className:"h-5 w-5"}),"Produtos do Pedido"]})}),i.jsx(se,{children:u(l)?i.jsx("div",{className:"border rounded-lg",children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Ne,{className:"w-[150px]",children:"SKU"}),i.jsx(Ne,{children:"Nome do Produto"}),i.jsx(Ne,{className:"text-center w-[80px]",children:"Qtd."}),i.jsx(Ne,{className:"text-right w-[150px]",children:"Valor Unitrio"})]})}),i.jsx(Kr,{children:l.map((f,h)=>i.jsxs(it,{children:[i.jsx(oe,{className:"font-mono text-xs",children:f.sku_produto}),i.jsx(oe,{className:"font-medium",children:f.nome_produto}),i.jsx(oe,{className:"text-center",children:f.quantidade_de_itens}),i.jsx(oe,{className:"text-right",children:a(f.receita_produto)})]},f.sku_produto||h))})]})}):i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Os dados do produto no esto no formato esperado. Exibindo dados brutos:"}),i.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(l,null,2)})]})})]}),n.client&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"flex items-center gap-2",children:[i.jsx(Ga,{className:"h-5 w-5"}),"Informaes do Cliente"]})}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Nome"}),i.jsx("p",{className:"font-medium",children:n.client.name})]}),n.client.email&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ja,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:n.client.email})]}),n.client.phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:n.client.phone})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Cliente desde"}),i.jsx("p",{className:"font-medium",children:o(n.client.created_at)})]}),typeof n.client.total_orders<"u"&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total de Pedidos"}),i.jsx("p",{className:"font-medium",children:n.client.total_orders})]}),typeof n.client.total_spent<"u"&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Gasto"}),i.jsx("p",{className:"font-medium text-green-600",children:a(n.client.total_spent)})]})]})]})})]}),c&&Object.keys(c).length>0&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"flex items-center gap-2",children:[i.jsx(Tk,{className:"h-5 w-5"}),"Informaes de Entrega"]})}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[c.delivery_fullname&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Nome para Entrega"}),i.jsx("p",{className:"font-medium",children:c.delivery_fullname})]}),c.delivery_address&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Endereo"}),i.jsx("p",{className:"font-medium",children:c.delivery_address})]}),c.delivery_city&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Cidade"}),i.jsxs("p",{className:"font-medium",children:[c.delivery_city,c.delivery_postcode&&` - ${c.delivery_postcode}`]})]})]}),i.jsxs("div",{className:"space-y-4",children:[c.invoice_company&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Empresa"}),i.jsx("p",{className:"font-medium",children:c.invoice_company})]}),c.delivery_country&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Pas"}),i.jsx("p",{className:"font-medium",children:c.delivery_country})]}),c.phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:c.phone})]})]})]})})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"flex items-center gap-2",children:[i.jsx(_6,{className:"h-5 w-5"}),"Detalhes Financeiros"]})}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-1",children:"Valor Total"}),i.jsx("p",{className:"text-xl font-bold text-blue-600",children:a(n.total_amount)})]}),n.taxas&&i.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-red-800 mb-1",children:"Taxas"}),i.jsx("p",{className:"text-xl font-bold text-red-600",children:a(n.taxas)})]}),n.faturamento_liquido&&i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-green-800 mb-1",children:"Faturamento Lquido"}),i.jsx("p",{className:"text-xl font-bold text-green-600",children:a(n.faturamento_liquido)})]}),n["custo_frete(taxa)"]&&i.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-orange-800 mb-1",children:"Custo do Frete"}),i.jsx("p",{className:"text-xl font-bold text-orange-600",children:a(n["custo_frete(taxa)"])})]})]})})]})]})]})})}function nBe(){const{clients:e,leads:t,fetchClients:n,fetchLeads:r,fetchClientRFMAnalysis:s,convertLeadToClient:a,fetchClientOrders:o}=Or(),[l,c]=v.useState(""),[u,d]=v.useState(null),[f,h]=v.useState("all"),[m,g]=v.useState("all"),[p,y]=v.useState({key:"created_at",direction:"desc"}),[x,w]=v.useState(1),[j,b]=v.useState(10),[S,N]=v.useState([]),[C,_]=v.useState(!1),[k,P]=v.useState(null),[A,I]=v.useState(!1),[L,E]=v.useState(!1),[R,O]=v.useState(null);v.useEffect(()=>{n(),r()},[n,r]);const F=v.useMemo(()=>[...t.map(Q=>({...Q,type:"lead",status:Q.status})),...e.map(Q=>({...Q,type:"client",status:"converted"}))],[t,e]),D=v.useMemo(()=>F.filter(Q=>{var rt,_t,Bn;const me=((rt=Q.name)==null?void 0:rt.toLowerCase().includes(l.toLowerCase()))||((_t=Q.email)==null?void 0:_t.toLowerCase().includes(l.toLowerCase()))||((Bn=Q.phone)==null?void 0:Bn.includes(l)),J=f==="all"||Q.status===f,_e=m==="all"||m==="leads"&&Q.type==="lead"||m==="clients"&&Q.type==="client";return me&&J&&_e}),[F,l,f,m]),M=v.useMemo(()=>{const Q=[...D];return p&&Q.sort((me,J)=>{const _e=me[p.key],rt=J[p.key];if(_e==null)return 1;if(rt==null)return-1;let _t=0;return typeof _e=="number"&&typeof rt=="number"?_t=_e-rt:_t=String(_e).localeCompare(String(rt)),p.direction==="asc"?_t:-_t}),Q},[D,p]),$=j==="all"?1:Math.ceil(M.length/j),z=v.useMemo(()=>{if(j==="all")return M;const Q=(x-1)*j,me=Q+j;return M.slice(Q,me)},[M,x,j]);v.useEffect(()=>{x>$&&w($>0?$:1)},[x,$]);const W=Q=>{let me="asc";p&&p.key===Q&&p.direction==="asc"&&(me="desc"),y({key:Q,direction:me}),w(1)},H=Q=>{b(Q==="all"?"all":Number(Q)),w(1)},V=Q=>!p||p.key!==Q?i.jsx(EN,{className:"ml-2 h-4 w-4 text-muted-foreground/50"}):i.jsx(EN,{className:"ml-2 h-4 w-4"}),te=async Q=>{if(d(Q),N([]),Q.type==="client"){_(!0);try{const[me,J]=await Promise.all([s?s(Q.id):Promise.resolve(null),o(Q.id)]);d({...Q,rfm_analysis:me}),N(J)}catch(me){console.error("Erro ao buscar detalhes do cliente:",me)}finally{_(!1)}}},ne=async Q=>{try{await a(Q)}catch(me){console.error("Error converting lead:",me)}},X=Q=>{switch(Q){case"new":return"bg-blue-100 text-blue-800";case"contacted":return"bg-amber-100 text-amber-800";case"qualified":return"bg-green-100 text-green-800";case"converted":return"bg-indigo-100 text-indigo-800";case"lost":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ee=Q=>{switch(Q){case"new":return"Novo";case"contacted":return"Contatado";case"qualified":return"Qualificado";case"converted":return"Cliente";case"lost":return"Perdido";default:return Q}},Z=Q=>{switch(Q){case"converted":return i.jsx(Gn,{className:"h-3 w-3 mr-1"});case"lost":return i.jsx(jn,{className:"h-3 w-3 mr-1"});default:return null}},ae=Q=>Q?Q.split(" ").map(me=>me[0]).join("").toUpperCase():"?",ce=Q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Q),q=Q=>new Date(Q).toLocaleDateString("pt-BR"),be=Q=>Array.isArray(Q.metadata)?Q.metadata.reduce((me,J)=>me+(J.quantidade_de_itens||0),0):1,Se=Q=>{P(Q),I(!0)},Ae=Q=>{O(Q),E(!0)};return i.jsxs(kr,{children:[i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Clientes & Leads"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie seus contatos e clientes potenciais"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(B,{variant:"outline",children:[i.jsx(vm,{className:"h-4 w-4 mr-2"}),"Exportar"]}),i.jsx(YFe,{})]})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(Ry,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(Q=>Q.status==="new").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Novos Leads"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:i.jsx(Ha,{className:"h-5 w-5 text-amber-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-amber-600",children:t.filter(Q=>Q.status==="contacted").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Contatados"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(Gn,{className:"h-5 w-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(Q=>Q.status==="qualified").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Qualificados"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center",children:i.jsx(Ga,{className:"h-5 w-5 text-indigo-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Clientes"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(jn,{className:"h-5 w-5 text-red-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.filter(Q=>Q.status==="lost").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Perdidos"})]})]})})})]}),i.jsx("div",{className:"flex flex-col gap-4",children:i.jsx(Jn,{value:m,onValueChange:g,className:"w-full",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Mn,{children:[i.jsx(Fe,{value:"all",children:"Todos"}),i.jsx(Fe,{value:"leads",children:"Leads"}),i.jsx(Fe,{value:"clients",children:"Clientes"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(ie,{placeholder:"Buscar por nome, email ou telefone...",value:l,onChange:Q=>c(Q.target.value),className:"pl-10 w-[250px]"})]}),i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsx(B,{variant:"outline",size:"icon",children:i.jsx(K0,{className:"h-4 w-4"})})}),i.jsxs(Ea,{align:"end",children:[i.jsx(at,{onClick:()=>h("all"),children:"Todos os Status"}),i.jsx(at,{onClick:()=>h("new"),children:"Novos"}),i.jsx(at,{onClick:()=>h("contacted"),children:"Contatados"}),i.jsx(at,{onClick:()=>h("qualified"),children:"Qualificados"}),i.jsx(at,{onClick:()=>h("converted"),children:"Clientes"}),i.jsx(at,{onClick:()=>h("lost"),children:"Perdidos"})]})]})]})]})})}),i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsxs(ge,{children:["Contatos (",D.length,")"]})}),i.jsx(se,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Ne,{children:i.jsxs(B,{variant:"ghost",onClick:()=>W("name"),className:"-ml-4",children:["Nome",V("name")]})}),i.jsx(Ne,{children:"Contato"}),i.jsx(Ne,{children:i.jsxs(B,{variant:"ghost",onClick:()=>W("status"),className:"-ml-4",children:["Status",V("status")]})}),i.jsx(Ne,{children:i.jsxs(B,{variant:"ghost",onClick:()=>W("total_orders"),className:"-ml-4",children:["Pedidos",V("total_orders")]})}),i.jsx(Ne,{children:i.jsxs(B,{variant:"ghost",onClick:()=>W("total_spent"),className:"-ml-4",children:["Total Gasto",V("total_spent")]})}),i.jsx(Ne,{children:i.jsxs(B,{variant:"ghost",onClick:()=>W("created_at"),className:"-ml-4",children:["Criado",V("created_at")]})}),i.jsx(Ne,{className:"text-right",children:"Aes"})]})}),i.jsx(Kr,{children:z.length===0?i.jsx(it,{children:i.jsx(oe,{colSpan:7,className:"h-24 text-center",children:"Nenhum contato encontrado."})}):z.map(Q=>i.jsxs(it,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Bi,{className:"h-9 w-9",children:i.jsx(zi,{className:Q.type==="client"?"bg-indigo-100 text-indigo-600":"bg-blue-100 text-blue-600",children:ae(Q.name)})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:Q.name}),i.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[i.jsx(fe,{variant:Q.type==="client"?"default":"secondary",className:"text-xs",children:Q.type==="client"?"Cliente":"Lead"}),Q.tags&&Q.tags.length>0&&i.jsxs(fe,{variant:"outline",className:"text-xs",children:[i.jsx(zp,{className:"h-3 w-3 mr-1"}),Q.tags[0],Q.tags.length>1&&`+${Q.tags.length-1}`]})]})]})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-1",children:[Q.email&&i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx(ja,{className:"h-3.5 w-3.5 mr-1.5 text-muted-foreground"}),i.jsx("span",{children:Q.email})]}),Q.phone&&i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx(Ha,{className:"h-3.5 w-3.5 mr-1.5 text-muted-foreground"}),i.jsx("span",{children:Q.phone})]})]})}),i.jsx(oe,{children:i.jsxs(fe,{className:X(Q.status),children:[Z(Q.status),ee(Q.status)]})}),i.jsx(oe,{children:Q.total_orders||0}),i.jsxs(oe,{children:["R$ ",(Q.total_spent||0).toFixed(2)]}),i.jsx(oe,{children:new Date(Q.created_at).toLocaleDateString("pt-BR")}),i.jsx(oe,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsxs(ot,{children:[i.jsx(Bt,{asChild:!0,children:i.jsx(B,{size:"sm",variant:"outline",onClick:()=>te(Q),children:i.jsx(ki,{className:"h-4 w-4"})})}),i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(tt,{children:i.jsxs(nt,{children:[u==null?void 0:u.name," - Detalhes do Contato"]})}),i.jsxs("div",{className:"space-y-6 mt-4",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{className:"text-base",children:"Informaes de Contato"})}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Bi,{className:"h-16 w-16",children:i.jsx(zi,{className:(u==null?void 0:u.type)==="client"?"bg-indigo-100 text-indigo-600 text-xl":"bg-blue-100 text-blue-600 text-xl",children:ae((u==null?void 0:u.name)||"")})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:u==null?void 0:u.name}),i.jsxs(fe,{className:X((u==null?void 0:u.status)||""),children:[Z((u==null?void 0:u.status)||""),ee((u==null?void 0:u.status)||"")]})]})]}),i.jsxs("div",{className:"space-y-2 pt-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ja,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:(u==null?void 0:u.email)||"No informado"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:(u==null?void 0:u.phone)||"No informado"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Li,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{children:["Cliente desde: ",u!=null&&u.created_at?new Date(u.created_at).toLocaleDateString("pt-BR"):"N/A"]})]})]})]})]}),(u==null?void 0:u.type)==="client"&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{className:"text-base",children:"Resumo de Pedidos"})}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg text-center",children:[i.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.total_orders)||0}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Pedidos"})]}),i.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg text-center",children:[i.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",((u==null?void 0:u.total_spent)||0).toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Gasto"})]}),i.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg text-center",children:[i.jsx("div",{className:"text-2xl font-bold",children:u!=null&&u.total_orders?`R$ ${(u.total_spent/u.total_orders).toFixed(2)}`:"R$ 0.00"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Ticket Mdio"})]})]}),i.jsxs("div",{className:"pt-2",children:[i.jsx("h4",{className:"text-sm font-medium mb-2",children:"ltimo Pedido"}),u!=null&&u.last_order_date?i.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"Data:"}),i.jsx("span",{className:"text-sm font-medium",children:new Date(u.last_order_date).toLocaleDateString("pt-BR")})]})}):i.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum pedido realizado"})]})]})]})]}),(u==null?void 0:u.rfm_analysis)&&i.jsx(ZFe,{analysis:u.rfm_analysis}),(u==null?void 0:u.type)==="client"&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"text-base flex items-center gap-2",children:[i.jsx(lc,{className:"h-5 w-5"}),"Histrico de Pedidos"]})}),i.jsx(se,{children:C?i.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"Carregando pedidos..."}):S.length>0?i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Ne,{children:"ID Pedido"}),i.jsx(Ne,{children:"Data"}),i.jsx(Ne,{className:"text-center",children:"Itens"}),i.jsx(Ne,{className:"text-right",children:"Valor Total"}),i.jsx(Ne,{className:"text-right",children:"Aes"})]})}),i.jsx(Kr,{children:S.map(me=>i.jsxs(it,{children:[i.jsx(oe,{className:"font-mono text-xs",children:me.order_id_base?i.jsxs("a",{href:`https://panel-u.baselinker.com/orders.php#order:${me.order_id_base}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-blue-600 hover:text-blue-800 hover:underline",children:["#",me.order_id_base,i.jsx(Fp,{className:"h-3.5 w-3.5"})]}):i.jsxs("span",{children:["#",me.id.slice(0,8)]})}),i.jsx(oe,{children:q(me.order_date)}),i.jsx(oe,{className:"text-center",children:be(me)}),i.jsx(oe,{className:"text-right font-medium",children:ce(me.total_amount)}),i.jsx(oe,{className:"text-right",children:i.jsx(B,{size:"icon",variant:"ghost",onClick:()=>Se(me),children:i.jsx(ki,{className:"h-4 w-4"})})})]},me.id))})]}):i.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"Nenhum pedido encontrado para este cliente."})})]})]})]})]}),Q.type==="lead"&&Q.status!=="converted"&&i.jsxs(B,{size:"sm",onClick:()=>ne(Q.id),children:[i.jsx(Ry,{className:"h-4 w-4 mr-1"}),"Converter"]}),i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsx(B,{size:"sm",variant:"ghost",children:i.jsx(Voe,{className:"h-4 w-4"})})}),i.jsxs(Ea,{align:"end",children:[i.jsx(at,{onClick:()=>Ae(Q),children:"Editar"}),i.jsx(at,{children:"Enviar Mensagem"}),Q.type==="client"&&i.jsx(at,{children:"Ver Pedidos"}),i.jsx(at,{className:"text-destructive",children:"Excluir"})]})]})]})})]},`${Q.type}-${Q.id}`))})]})})}),i.jsx($u,{children:i.jsxs("div",{className:"w-full flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total de ",M.length," contatos."]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Itens por pgina:"}),i.jsxs(Oe,{value:String(j),onValueChange:H,children:[i.jsx(Pe,{className:"w-[80px]",children:i.jsx(Ie,{placeholder:j})}),i.jsxs(Te,{children:[[10,20,50,100,200].map(Q=>i.jsx(K,{value:String(Q),children:Q},Q)),i.jsx(K,{value:"all",children:"Todos"})]})]})]}),i.jsxs("div",{className:"text-sm font-medium",children:["Pgina ",x," de ",$]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(B,{variant:"outline",size:"icon",onClick:()=>w(Q=>Q-1),disabled:x<=1,children:i.jsx(H0,{className:"h-4 w-4"})}),i.jsx(B,{variant:"outline",size:"icon",onClick:()=>w(Q=>Q+1),disabled:x>=$,children:i.jsx(G0,{className:"h-4 w-4"})})]})]})]})})]})]})}),i.jsx(cH,{open:A,onOpenChange:I,order:k}),R&&i.jsx(XFe,{open:L,onOpenChange:E,contact:R})]})}function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function rBe(e,t){if(hp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sBe(e){var t=rBe(e,"string");return hp(t)=="symbol"?t:t+""}function aBe(e,t,n){return(t=sBe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function b4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(n),!0).forEach(function(r){aBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var j4=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),R1=function(){return Math.random().toString(36).substring(7).split("").join(".")},S4={INIT:"@@redux/INIT"+R1(),REPLACE:"@@redux/REPLACE"+R1(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+R1()}};function iBe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function uH(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Mr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Mr(1));return n(uH)(e,t)}if(typeof e!="function")throw new Error(Mr(2));var s=e,a=t,o=[],l=o,c=!1;function u(){l===o&&(l=o.slice())}function d(){if(c)throw new Error(Mr(3));return a}function f(p){if(typeof p!="function")throw new Error(Mr(4));if(c)throw new Error(Mr(5));var y=!0;return u(),l.push(p),function(){if(y){if(c)throw new Error(Mr(6));y=!1,u();var w=l.indexOf(p);l.splice(w,1),o=null}}}function h(p){if(!iBe(p))throw new Error(Mr(7));if(typeof p.type>"u")throw new Error(Mr(8));if(c)throw new Error(Mr(9));try{c=!0,a=s(a,p)}finally{c=!1}for(var y=o=l,x=0;x<y.length;x++){var w=y[x];w()}return p}function m(p){if(typeof p!="function")throw new Error(Mr(10));s=p,h({type:S4.REPLACE})}function g(){var p,y=f;return p={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(Mr(11));function j(){w.next&&w.next(d())}j();var b=y(j);return{unsubscribe:b}}},p[j4]=function(){return this},p}return h({type:S4.INIT}),r={dispatch:h,subscribe:f,getState:d,replaceReducer:m},r[j4]=g,r}function N4(e,t){return function(){return t(e.apply(this,arguments))}}function _4(e,t){if(typeof e=="function")return N4(e,t);if(typeof e!="object"||e===null)throw new Error(Mr(16));var n={};for(var r in e){var s=e[r];typeof s=="function"&&(n[r]=N4(s,t))}return n}function dH(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function oBe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),a=function(){throw new Error(Mr(15))},o={getState:s.getState,dispatch:function(){return a.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return a=dH.apply(void 0,l)(s.dispatch),b4(b4({},s),{},{dispatch:a})}}}function lBe(e){e()}let fH=lBe;const cBe=e=>fH=e,uBe=()=>fH,C4=Symbol.for("react-redux-context"),E4=typeof globalThis<"u"?globalThis:{};function dBe(){var e;if(!v.createContext)return{};const t=(e=E4[C4])!=null?e:E4[C4]=new Map;let n=t.get(v.createContext);return n||(n=v.createContext(null),t.set(v.createContext,n)),n}const hH=dBe(),fBe=()=>{throw new Error("uSES not initialized!")};var EP=Hy,hBe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},mBe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},pBe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mH={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kP={};kP[EP.ForwardRef]=pBe;kP[EP.Memo]=mH;function k4(e){return EP.isMemo(e)?mH:kP[e.$$typeof]||hBe}var gBe=Object.defineProperty,vBe=Object.getOwnPropertyNames,A4=Object.getOwnPropertySymbols,yBe=Object.getOwnPropertyDescriptor,xBe=Object.getPrototypeOf,P4=Object.prototype;function pH(e,t,n){if(typeof t!="string"){if(P4){var r=xBe(t);r&&r!==P4&&pH(e,r,n)}var s=vBe(t);A4&&(s=s.concat(A4(t)));for(var a=k4(e),o=k4(t),l=0;l<s.length;++l){var c=s[l];if(!mBe[c]&&!(n&&n[c])&&!(o&&o[c])&&!(a&&a[c])){var u=yBe(t,c);try{gBe(e,c,u)}catch{}}}}return e}var wBe=pH;const T4=mt(wBe);var gH={exports:{}},jt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AP=Symbol.for("react.element"),PP=Symbol.for("react.portal"),vb=Symbol.for("react.fragment"),yb=Symbol.for("react.strict_mode"),xb=Symbol.for("react.profiler"),wb=Symbol.for("react.provider"),bb=Symbol.for("react.context"),bBe=Symbol.for("react.server_context"),jb=Symbol.for("react.forward_ref"),Sb=Symbol.for("react.suspense"),Nb=Symbol.for("react.suspense_list"),_b=Symbol.for("react.memo"),Cb=Symbol.for("react.lazy"),jBe=Symbol.for("react.offscreen"),vH;vH=Symbol.for("react.module.reference");function Js(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case AP:switch(e=e.type,e){case vb:case xb:case yb:case Sb:case Nb:return e;default:switch(e=e&&e.$$typeof,e){case bBe:case bb:case jb:case Cb:case _b:case wb:return e;default:return t}}case PP:return t}}}jt.ContextConsumer=bb;jt.ContextProvider=wb;jt.Element=AP;jt.ForwardRef=jb;jt.Fragment=vb;jt.Lazy=Cb;jt.Memo=_b;jt.Portal=PP;jt.Profiler=xb;jt.StrictMode=yb;jt.Suspense=Sb;jt.SuspenseList=Nb;jt.isAsyncMode=function(){return!1};jt.isConcurrentMode=function(){return!1};jt.isContextConsumer=function(e){return Js(e)===bb};jt.isContextProvider=function(e){return Js(e)===wb};jt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===AP};jt.isForwardRef=function(e){return Js(e)===jb};jt.isFragment=function(e){return Js(e)===vb};jt.isLazy=function(e){return Js(e)===Cb};jt.isMemo=function(e){return Js(e)===_b};jt.isPortal=function(e){return Js(e)===PP};jt.isProfiler=function(e){return Js(e)===xb};jt.isStrictMode=function(e){return Js(e)===yb};jt.isSuspense=function(e){return Js(e)===Sb};jt.isSuspenseList=function(e){return Js(e)===Nb};jt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vb||e===xb||e===yb||e===Sb||e===Nb||e===jBe||typeof e=="object"&&e!==null&&(e.$$typeof===Cb||e.$$typeof===_b||e.$$typeof===wb||e.$$typeof===bb||e.$$typeof===jb||e.$$typeof===vH||e.getModuleId!==void 0)};jt.typeOf=Js;gH.exports=jt;var SBe=gH.exports;const NBe=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function _Be(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,c,u,d,f,h;function m(w,j){return c=w,u=j,d=e(c,u),f=t(r,u),h=n(d,f,u),l=!0,h}function g(){return d=e(c,u),t.dependsOnOwnProps&&(f=t(r,u)),h=n(d,f,u),h}function p(){return e.dependsOnOwnProps&&(d=e(c,u)),t.dependsOnOwnProps&&(f=t(r,u)),h=n(d,f,u),h}function y(){const w=e(c,u),j=!o(w,d);return d=w,j&&(h=n(d,f,u)),h}function x(w,j){const b=!a(j,u),S=!s(w,c,j,u);return c=w,u=j,b&&S?g():b?p():S?y():h}return function(j,b){return l?x(j,b):m(j,b)}}function CBe(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:s}=t,a=zU(t,NBe);const o=n(e,a),l=r(e,a),c=s(e,a);return _Be(o,l,c,e,a)}function EBe(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...a)=>t(s(...a)))}return n}function wC(e){return function(n){const r=e(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function O4(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function yH(e,t){return function(r,{displayName:s}){const a=function(l,c){return a.dependsOnOwnProps?a.mapToProps(l,c):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,c){a.mapToProps=e,a.dependsOnOwnProps=O4(e);let u=a(l,c);return typeof u=="function"&&(a.mapToProps=u,a.dependsOnOwnProps=O4(u),u=a(l,c)),u},a}}function TP(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function kBe(e){return e&&typeof e=="object"?wC(t=>EBe(e,t)):e?typeof e=="function"?yH(e):TP(e,"mapDispatchToProps"):wC(t=>({dispatch:t}))}function ABe(e){return e?typeof e=="function"?yH(e):TP(e,"mapStateToProps"):wC(()=>({}))}function PBe(e,t,n){return Lo({},n,e,t)}function TBe(e){return function(n,{displayName:r,areMergedPropsEqual:s}){let a=!1,o;return function(c,u,d){const f=e(c,u,d);return a?s(f,o)||(o=f):(a=!0,o=f),o}}}function OBe(e){return e?typeof e=="function"?TBe(e):TP(e,"mergeProps"):()=>PBe}function IBe(){const e=uBe();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],s=t;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0,a=n={callback:r,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){!s||t===null||(s=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}const I4={notify(){},get:()=>[]};function xH(e,t){let n,r=I4,s=0,a=!1;function o(p){d();const y=r.subscribe(p);let x=!1;return()=>{x||(x=!0,y(),f())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return a}function d(){s++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=IBe())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=I4)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return g}const DBe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xx=DBe?v.useLayoutEffect:v.useEffect;function D4(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function $1(e,t){if(D4(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!D4(e[n[s]],t[n[s]]))return!1;return!0}const MBe=["reactReduxForwardedRef"];let wH=fBe;const RBe=e=>{wH=e},$Be=[null,null];function LBe(e,t,n){Xx(()=>e(...t),n)}function FBe(e,t,n,r,s,a){e.current=r,n.current=!1,s.current&&(s.current=null,a())}function BBe(e,t,n,r,s,a,o,l,c,u,d){if(!e)return()=>{};let f=!1,h=null;const m=()=>{if(f||!l.current)return;const p=t.getState();let y,x;try{y=r(p,s.current)}catch(w){x=w,h=w}x||(h=null),y===a.current?o.current||u():(a.current=y,c.current=y,o.current=!0,d())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}function zBe(e,t){return e===t}function bH(e,t,n,{pure:r,areStatesEqual:s=zBe,areOwnPropsEqual:a=$1,areStatePropsEqual:o=$1,areMergedPropsEqual:l=$1,forwardRef:c=!1,context:u=hH}={}){const d=u,f=ABe(e),h=kBe(t),m=OBe(n),g=!!e;return y=>{const x=y.displayName||y.name||"Component",w=`Connect(${x})`,j={shouldHandleStateChanges:g,displayName:w,wrappedComponentName:x,WrappedComponent:y,initMapStateToProps:f,initMapDispatchToProps:h,initMergeProps:m,areStatesEqual:s,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function b(C){const[_,k,P]=v.useMemo(()=>{const{reactReduxForwardedRef:q}=C,be=zU(C,MBe);return[C.context,q,be]},[C]),A=v.useMemo(()=>_&&_.Consumer&&SBe.isContextConsumer(v.createElement(_.Consumer,null))?_:d,[_,d]),I=v.useContext(A),L=!!C.store&&!!C.store.getState&&!!C.store.dispatch,E=!!I&&!!I.store,R=L?C.store:I.store,O=E?I.getServerState:R.getState,F=v.useMemo(()=>CBe(R.dispatch,j),[R]),[D,M]=v.useMemo(()=>{if(!g)return $Be;const q=xH(R,L?void 0:I.subscription),be=q.notifyNestedSubs.bind(q);return[q,be]},[R,L,I]),$=v.useMemo(()=>L?I:Lo({},I,{subscription:D}),[L,I,D]),z=v.useRef(),W=v.useRef(P),H=v.useRef(),V=v.useRef(!1);v.useRef(!1);const te=v.useRef(!1),ne=v.useRef();Xx(()=>(te.current=!0,()=>{te.current=!1}),[]);const X=v.useMemo(()=>()=>H.current&&P===W.current?H.current:F(R.getState(),P),[R,P]),ee=v.useMemo(()=>be=>D?BBe(g,R,D,F,W,z,V,te,H,M,be):()=>{},[D]);LBe(FBe,[W,z,V,P,H,M]);let Z;try{Z=wH(ee,X,O?()=>F(O(),P):X)}catch(q){throw ne.current&&(q.message+=`
The error may be correlated with this previous error:
${ne.current.stack}

`),q}Xx(()=>{ne.current=void 0,H.current=void 0,z.current=Z});const ae=v.useMemo(()=>v.createElement(y,Lo({},Z,{ref:k})),[k,y,Z]);return v.useMemo(()=>g?v.createElement(A.Provider,{value:$},ae):ae,[A,ae,$])}const N=v.memo(b);if(N.WrappedComponent=y,N.displayName=b.displayName=w,c){const _=v.forwardRef(function(P,A){return v.createElement(N,Lo({},P,{reactReduxForwardedRef:A}))});return _.displayName=w,_.WrappedComponent=y,T4(_,y)}return T4(N,y)}}function WBe({store:e,context:t,children:n,serverState:r,stabilityCheck:s="once",noopCheck:a="once"}){const o=v.useMemo(()=>{const u=xH(e);return{store:e,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:s,noopCheck:a}},[e,r,s,a]),l=v.useMemo(()=>e.getState(),[e]);Xx(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,l]);const c=t||hH;return v.createElement(c.Provider,{value:o},n)}RBe(yF.useSyncExternalStore);cBe(ni.unstable_batchedUpdates);function VBe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function jH(e,t){var n=v.useState(function(){return{inputs:t,result:e()}})[0],r=v.useRef(!0),s=v.useRef(n),a=r.current||!!(t&&s.current.inputs&&VBe(t,s.current.inputs)),o=a?s.current:{inputs:t,result:e()};return v.useEffect(function(){r.current=!1,s.current=o},[o]),o.result}function UBe(e,t){return jH(function(){return e},t)}var Ze=jH,De=UBe,pa=function(t){var n=t.top,r=t.right,s=t.bottom,a=t.left,o=r-a,l=s-n,c={top:n,right:r,bottom:s,left:a,width:o,height:l,x:a,y:n,center:{x:(r+a)/2,y:(s+n)/2}};return c},OP=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},M4=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},qBe=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},L1={top:0,right:0,bottom:0,left:0},IP=function(t){var n=t.borderBox,r=t.margin,s=r===void 0?L1:r,a=t.border,o=a===void 0?L1:a,l=t.padding,c=l===void 0?L1:l,u=pa(OP(n,s)),d=pa(M4(n,o)),f=pa(M4(d,c));return{marginBox:u,borderBox:pa(n),paddingBox:d,contentBox:f,margin:s,border:o,padding:c}},As=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&Qo(),s},HBe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Jx=function(t,n){var r=t.borderBox,s=t.border,a=t.margin,o=t.padding,l=qBe(r,n);return IP({borderBox:l,border:s,margin:a,padding:o})},Qx=function(t,n){return n===void 0&&(n=HBe()),Jx(t,n)},SH=function(t,n){var r={top:As(n.marginTop),right:As(n.marginRight),bottom:As(n.marginBottom),left:As(n.marginLeft)},s={top:As(n.paddingTop),right:As(n.paddingRight),bottom:As(n.paddingBottom),left:As(n.paddingLeft)},a={top:As(n.borderTopWidth),right:As(n.borderRightWidth),bottom:As(n.borderBottomWidth),left:As(n.borderLeftWidth)};return IP({borderBox:t,margin:r,padding:s,border:a})},NH=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return SH(n,r)},R4=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function GBe(e,t){return!!(e===t||R4(e)&&R4(t))}function KBe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!GBe(e[n],t[n]))return!1;return!0}function In(e,t){t===void 0&&(t=KBe);var n=null;function r(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;var o=e.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){n=null},r}var mp=function(t){var n=[],r=null,s=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};function _H(e,t){}_H.bind(null,"warn");_H.bind(null,"error");function Bo(){}function YBe(e,t){return{...e,...t}}function Fs(e,t,n){const r=t.map(s=>{const a=YBe(n,s.options);return e.addEventListener(s.eventName,s.fn,a),function(){e.removeEventListener(s.eventName,s.fn,a)}});return function(){r.forEach(a=>{a()})}}const XBe="Invariant failed";class Zx extends Error{}Zx.prototype.toString=function(){return this.message};function xe(e,t){throw new Zx(XBe)}class JBe extends T.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Bo,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Zx&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Fs(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Zx){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const QBe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,e0=e=>e+1,ZBe=e=>`
  You have lifted an item in position ${e0(e.source.index)}
`,CH=(e,t)=>{const n=e.droppableId===t.droppableId,r=e0(e.index),s=e0(t.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},EH=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,e6e=e=>{const t=e.destination;if(t)return CH(e.source,t);const n=e.combine;return n?EH(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},$4=e=>`
  The item has returned to its starting position
  of ${e0(e.index)}
`,t6e=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${$4(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${CH(e.source,t)}
    `:n?`
      You have dropped the item.
      ${EH(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${$4(e.source)}
  `},n6e={dragHandleUsageInstructions:QBe,onDragStart:ZBe,onDragUpdate:e6e,onDragEnd:t6e};var Hv=n6e;const Rn={x:0,y:0},Kn=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ls=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),zo=(e,t)=>e.x===t.x&&e.y===t.y,pf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),wc=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},pp=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),L4=(e,t)=>Math.min(...t.map(n=>pp(e,n))),kH=e=>t=>({x:e(t.x),y:e(t.y)});var r6e=(e,t)=>{const n=pa({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const ug=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),F4=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],s6e={top:0,right:0,bottom:0,left:0},a6e=(e,t)=>t?ug(e,t.scroll.diff.displacement):e,i6e=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,o6e=(e,t)=>t&&t.shouldClipSubject?r6e(t.pageMarginBox,e):pa(e);var Od=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const s=a6e(e.marginBox,r),a=i6e(s,n,t),o=o6e(a,r);return{page:e,withPlaceholder:t,active:o}},DP=(e,t)=>{e.frame||xe();const n=e.frame,r=ls(t,n.scroll.initial),s=pf(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:s},max:n.scroll.max}},o=Od({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};const AH=In(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),PH=In(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Eb=In(e=>Object.values(e)),l6e=In(e=>Object.values(e));var gf=In((e,t)=>l6e(t).filter(r=>e===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function MP(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function kb(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Ab=In((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),c6e=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!MP(s))return null;function o(m){const g={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...s,at:g}}const l=s.displaced.all,c=l.length?l[0]:null;if(e)return c?o(c):null;const u=Ab(t,r);if(!c){if(!u.length)return null;const m=u[u.length-1];return o(m.descriptor.id)}const d=u.findIndex(m=>m.descriptor.id===c);d===-1&&xe();const f=d-1;if(f<0)return null;const h=u[f];return o(h.descriptor.id)},vf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const TH={point:Rn,value:0},gp={invisible:{},visible:{},all:[]},u6e={displaced:gp,displacedBy:TH,at:null};var d6e=u6e,Us=(e,t)=>n=>e<=n&&n<=t,OH=e=>{const t=Us(e.top,e.bottom),n=Us(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const c=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return c&&u?!0:c&&o||u&&a}},f6e=e=>{const t=Us(e.top,e.bottom),n=Us(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const RP={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},IH={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var h6e=e=>t=>{const n=Us(t.top,t.bottom),r=Us(t.left,t.right);return s=>e===RP?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)};const m6e=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Rn;return ug(e,n)},p6e=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,g6e=(e,t,n)=>n(t)(e),$P=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const a=r?m6e(e,t):e;return p6e(a,t,s)&&g6e(a,n,s)},v6e=e=>$P({...e,isVisibleThroughFrameFn:OH}),DH=e=>$P({...e,isVisibleThroughFrameFn:f6e}),y6e=e=>$P({...e,isVisibleThroughFrameFn:h6e(e.destination.axis)}),x6e=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:s}=t;if(r[e])return!1;const a=s[e];return a?a.shouldAnimate:!0};function w6e(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return pa(OP(n,r))}function vp({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:s,last:a}){return e.reduce(function(l,c){const u=w6e(c,n),d=c.descriptor.id;if(l.all.push(d),!v6e({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const h=x6e(d,a,s),m={draggableId:d,shouldAnimate:h};return l.visible[d]=m,l},{all:[],visible:{},invisible:{}})}function b6e(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function B4({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const s=b6e(e,{inHomeList:t});return{displaced:gp,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function t0({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:s,last:a,index:o,forceShouldAnimate:l}){const c=vf(e,n);if(o==null)return B4({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const u=t.find(g=>g.descriptor.index===o);if(!u)return B4({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const d=Ab(e,t),f=t.indexOf(u),h=d.slice(f);return{displaced:vp({afterDragging:h,destination:n,displacedBy:s,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function nl(e,t){return!!t.effected[e]}var j6e=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return nl(a,s)?e?l:l-1:e?l+1:l},S6e=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,a=e?s+1:s-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=t?l:l+1;return a<o||a>c?null:a},N6e=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:s,insideDestination:a,previousImpact:o,viewport:l,afterCritical:c})=>{const u=o.at;if(u||xe(),u.type==="REORDER"){const f=S6e({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:a});return f==null?null:t0({draggable:n,insideDestination:a,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:f})}const d=j6e({isMovingForward:e,destination:s,displaced:o.displaced,draggables:r,combine:u.combine,afterCritical:c});return d==null?null:t0({draggable:n,insideDestination:a,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:d})},_6e=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const s=!!(e.visible[n]||e.invisible[n]);return nl(n,t)?s?Rn:pf(r.point):s?r.point:Rn},C6e=({afterCritical:e,impact:t,draggables:n})=>{const r=kb(t);r||xe();const s=r.draggableId,a=n[s].page.borderBox.center,o=_6e({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return Kn(a,o)};const MH=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,E6e=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,LP=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,z4=({axis:e,moveRelativeTo:t,isMoving:n})=>wc(e.line,t.marginBox[e.end]+MH(e,n),LP(e,t.marginBox,n)),W4=({axis:e,moveRelativeTo:t,isMoving:n})=>wc(e.line,t.marginBox[e.start]-E6e(e,n),LP(e,t.marginBox,n)),k6e=({axis:e,moveInto:t,isMoving:n})=>wc(e.line,t.contentBox[e.start]+MH(e,n),LP(e,t.contentBox,n));var A6e=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s})=>{const a=gf(r.descriptor.id,n),o=t.page,l=r.axis;if(!a.length)return k6e({axis:l,moveInto:r.page,isMoving:o});const{displaced:c,displacedBy:u}=e,d=c.all[0];if(d){const h=n[d];if(nl(d,s))return W4({axis:l,moveRelativeTo:h.page,isMoving:o});const m=Jx(h.page,u.point);return W4({axis:l,moveRelativeTo:m,isMoving:o})}const f=a[a.length-1];if(f.descriptor.id===t.descriptor.id)return o.borderBox.center;if(nl(f.descriptor.id,s)){const h=Jx(f.page,pf(s.displacedBy.point));return z4({axis:l,moveRelativeTo:h,isMoving:o})}return z4({axis:l,moveRelativeTo:f.page,isMoving:o})},bC=(e,t)=>{const n=e.frame;return n?Kn(t,n.scroll.diff.displacement):t};const P6e=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:s})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?A6e({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s}):C6e({impact:e,draggables:r,afterCritical:s})};var Pb=e=>{const t=P6e(e),n=e.droppable;return n?bC(n,t):t},RH=(e,t)=>{const n=ls(t,e.scroll.initial),r=pf(n);return{frame:pa({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function V4(e,t){return e.map(n=>t[n])}function T6e(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var O6e=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:s})=>{const a=RH(t,Kn(t.scroll.current,s)),o=n.frame?DP(n,Kn(n.frame.scroll.current,s)):n,l=e.displaced,c=vp({afterDragging:V4(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=vp({afterDragging:V4(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),d={},f={},h=[l,c,u];return l.all.forEach(g=>{const p=T6e(g,h);if(p){f[g]=p;return}d[g]=!0}),{...e,displaced:{all:l.all,invisible:d,visible:f}}},I6e=(e,t)=>Kn(e.scroll.diff.displacement,t),FP=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=I6e(n,e),s=ls(r,t.page.borderBox.center);return Kn(t.client.borderBox.center,s)},$H=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:a=!1})=>{const o=ls(n,e.page.borderBox.center),c={target:ug(e.page.borderBox,o),destination:t,withDroppableDisplacement:s,viewport:r};return a?y6e(c):DH(c)},D6e=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:s,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c})=>{if(!n.isEnabled)return null;const u=gf(n.descriptor.id,r),d=vf(t,n),f=c6e({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:s})||N6e({isMovingForward:e,isInHomeList:d,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:s,viewport:a,afterCritical:c});if(!f)return null;const h=Pb({impact:f,draggable:t,droppable:n,draggables:r,afterCritical:c});if($H({draggable:t,destination:n,newPageBorderBoxCenter:h,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:FP({pageBorderBoxCenter:h,draggable:t,viewport:a}),impact:f,scrollJumpRequest:null};const g=ls(h,o),p=O6e({impact:f,viewport:a,destination:n,draggables:r,maxScrollChange:g});return{clientSelection:l,impact:p,scrollJumpRequest:g}};const xr=e=>{const t=e.subject.active;return t||xe(),t};var M6e=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:s})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,l=Us(a[o.start],a[o.end]),c=Eb(r).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>OH(s.frame)(xr(d))).filter(d=>{const f=xr(d);return e?a[o.crossAxisEnd]<f[o.crossAxisEnd]:f[o.crossAxisStart]<a[o.crossAxisStart]}).filter(d=>{const f=xr(d),h=Us(f[o.start],f[o.end]);return l(f[o.start])||l(f[o.end])||h(a[o.start])||h(a[o.end])}).sort((d,f)=>{const h=xr(d)[o.crossAxisStart],m=xr(f)[o.crossAxisStart];return e?h-m:m-h}).filter((d,f,h)=>xr(d)[o.crossAxisStart]===xr(h[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(d=>Us(xr(d)[o.start],xr(d)[o.end])(t[o.line]));return u.length===1?u[0]:u.length>1?u.sort((d,f)=>xr(d)[o.start]-xr(f)[o.start])[0]:c.sort((d,f)=>{const h=L4(t,F4(xr(d))),m=L4(t,F4(xr(f)));return h!==m?h-m:xr(d)[o.start]-xr(f)[o.start]})[0]};const U4=(e,t)=>{const n=e.page.borderBox.center;return nl(e.descriptor.id,t)?ls(n,t.displacedBy.point):n},R6e=(e,t)=>{const n=e.page.borderBox;return nl(e.descriptor.id,t)?ug(n,pf(t.displacedBy.point)):n};var $6e=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:s})=>r.filter(o=>DH({target:R6e(o,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const c=pp(e,bC(n,U4(o,s))),u=pp(e,bC(n,U4(l,s)));return c<u?-1:u<c?1:o.descriptor.index-l.descriptor.index})[0]||null,dg=In(function(t,n){const r=n[t.line];return{value:r,point:wc(t.line,r)}});const L6e=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return wc(r.line,t[r.line]);const s=e.subject.page.contentBox[r.size],c=gf(e.descriptor.id,n).reduce((u,d)=>u+d.client.marginBox[r.size],0)+t[r.line]-s;return c<=0?null:wc(r.line,c)},LH=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),FH=(e,t,n)=>{const r=e.frame;vf(t,e)&&xe(),e.subject.withPlaceholder&&xe();const s=dg(e.axis,t.displaceBy).point,a=L6e(e,s,n),o={placeholderSize:s,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const d=Od({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:d}}const l=a?Kn(r.scroll.max,a):r.scroll.max,c=LH(r,l),u=Od({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},F6e=e=>{const t=e.subject.withPlaceholder;t||xe();const n=e.frame;if(!n){const o=Od({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||xe();const s=LH(n,r),a=Od({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:a,frame:s}};var B6e=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:s,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const f={displaced:gp,displacedBy:TH,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},h=Pb({impact:f,draggable:r,droppable:a,draggables:s,afterCritical:l}),m=vf(r,a)?a:FH(a,r,s);return $H({draggable:r,destination:m,newPageBorderBoxCenter:h,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],u=(()=>{const f=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?f:f+1})(),d=dg(a.axis,r.displaceBy);return t0({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:d,last:gp,index:u})},z6e=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:s,droppables:a,viewport:o,afterCritical:l})=>{const c=M6e({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!c)return null;const u=gf(c.descriptor.id,s),d=$6e({pageBorderBoxCenter:t,viewport:o,destination:c,insideDestination:u,afterCritical:l}),f=B6e({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:s,moveRelativeTo:d,insideDestination:u,viewport:o,afterCritical:l});if(!f)return null;const h=Pb({impact:f,draggable:n,droppable:c,draggables:s,afterCritical:l});return{clientSelection:FP({pageBorderBoxCenter:h,draggable:n,viewport:o}),impact:f,scrollJumpRequest:null}},ps=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const W6e=(e,t)=>{const n=ps(e);return n?t[n]:null};var V6e=({state:e,type:t})=>{const n=W6e(e.impact,e.dimensions.droppables),r=!!n,s=e.dimensions.droppables[e.critical.droppable.id],a=n||s,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,{draggables:f,droppables:h}=e.dimensions;return l?D6e({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):z6e({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:h,viewport:e.viewport,afterCritical:e.afterCritical})};function Dl(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function BH(e){const t=Us(e.top,e.bottom),n=Us(e.left,e.right);return function(s){return t(s.y)&&n(s.x)}}function U6e(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function q6e({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,s=n.map(a=>{const o=a.axis,l=wc(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:pp(r,l)}}).sort((a,o)=>o.distance-a.distance);return s[0]?s[0].id:null}function H6e({pageBorderBox:e,draggable:t,droppables:n}){const r=Eb(n).filter(s=>{if(!s.isEnabled)return!1;const a=s.subject.active;if(!a||!U6e(e,a))return!1;if(BH(a)(e.center))return!0;const o=s.axis,l=a.center[o.crossAxisLine],c=e[o.crossAxisStart],u=e[o.crossAxisEnd],d=Us(a[o.crossAxisStart],a[o.crossAxisEnd]),f=d(c),h=d(u);return!f&&!h?!0:f?c<l:u>l});return r.length?r.length===1?r[0].descriptor.id:q6e({pageBorderBox:e,draggable:t,candidates:r}):null}const zH=(e,t)=>pa(ug(e,t));var G6e=(e,t)=>{const n=e.frame;return n?zH(t,n.scroll.diff.value):t};function WH({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function K6e({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Y6e=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:s,viewport:a,afterCritical:o})=>{const l=n.axis,c=dg(n.axis,t.displaceBy),u=c.value,d=e[l.start],f=e[l.end],m=Ab(t,r).find(p=>{const y=p.descriptor.id,x=p.page.borderBox.center[l.line],w=nl(y,o),j=WH({displaced:s,id:y});return w?j?f<=x:d<x-u:j?f<=x+u:d<x})||null,g=K6e({draggable:t,closest:m,inHomeList:vf(t,n)});return t0({draggable:t,insideDestination:r,destination:n,viewport:a,last:s,displacedBy:c,index:g})};const X6e=4;var J6e=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:s,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=dg(r.axis,e.displaceBy),c=l.value,u=t[o.start],d=t[o.end],h=Ab(e,s).find(g=>{const p=g.descriptor.id,y=g.page.borderBox,w=y[o.size]/X6e,j=nl(p,a),b=WH({displaced:n.displaced,id:p});return j?b?d>y[o.start]+w&&d<y[o.end]-w:u>y[o.start]-c+w&&u<y[o.end]-c-w:b?d>y[o.start]+c+w&&d<y[o.end]+c-w:u>y[o.start]+w&&u<y[o.end]-w});return h?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:r.descriptor.id}}}:null},VH=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:s,viewport:a,afterCritical:o})=>{const l=zH(t.page.borderBox,e),c=H6e({pageBorderBox:l,draggable:t,droppables:r});if(!c)return d6e;const u=r[c],d=gf(u.descriptor.id,n),f=G6e(u,l);return J6e({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:s,destination:u,insideDestination:d,afterCritical:o})||Y6e({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:u,insideDestination:d,last:s.displaced,viewport:a,afterCritical:o})},BP=(e,t)=>({...e,[t.descriptor.id]:t});const Q6e=({previousImpact:e,impact:t,droppables:n})=>{const r=ps(e),s=ps(t);if(!r||r===s)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=F6e(a);return BP(n,o)};var Z6e=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:s})=>{const a=Q6e({previousImpact:r,impact:s,droppables:n}),o=ps(s);if(!o)return a;const l=n[o];if(vf(e,l)||l.subject.withPlaceholder)return a;const c=FH(l,e,t);return BP(a,c)},Wh=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:s,scrollJumpRequest:a})=>{const o=r||e.viewport,l=n||e.dimensions,c=t||e.current.client.selection,u=ls(c,e.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:Kn(e.initial.client.borderBoxCenter,u)},f={selection:Kn(d.selection,o.scroll.current),borderBoxCenter:Kn(d.borderBoxCenter,o.scroll.current),offset:Kn(d.offset,o.scroll.diff.value)},h={client:d,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:h};const m=l.draggables[e.critical.draggable.id],g=s||VH({pageOffset:f.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),p=Z6e({draggable:m,impact:g,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:h,dimensions:{draggables:l.draggables,droppables:p},impact:g,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function eze(e,t){return e.map(n=>t[n])}var UH=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:s})=>{const a=e.displaced,o=eze(a.all,n),l=vp({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:a});return{...e,displaced:l}},qH=({impact:e,draggable:t,droppable:n,draggables:r,viewport:s,afterCritical:a})=>{const o=Pb({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return FP({pageBorderBoxCenter:o,draggable:t,viewport:s})},HH=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&xe();const r=e.impact,s=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,c=o[e.critical.draggable.id],u=ps(r);u||xe();const d=l[u],f=UH({impact:r,viewport:s,destination:d,draggables:o}),h=qH({impact:f,draggable:c,droppable:d,draggables:o,viewport:s,afterCritical:e.afterCritical});return Wh({impact:f,clientSelection:h,state:e,dimensions:a,viewport:s})},tze=e=>({index:e.index,droppableId:e.droppableId}),GH=({draggable:e,home:t,draggables:n,viewport:r})=>{const s=dg(t.axis,e.displaceBy),a=gf(t.descriptor.id,n),o=a.indexOf(e);o===-1&&xe();const l=a.slice(o+1),c=l.reduce((h,m)=>(h[m.descriptor.id]=!0,h),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:vp({afterDragging:l,destination:t,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:tze(e.descriptor)}},afterCritical:u}},nze=(e,t)=>({draggables:e.draggables,droppables:BP(e.droppables,t)}),rze=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Jx(e.client,t),s=Qx(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:s}},sze=e=>{const t=e.frame;return t||xe(),t},aze=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(s=>{const a=s.descriptor.droppableId,o=t[a],c=sze(o).scroll.diff.value,u=Kn(r,c);return rze({draggable:s,offset:u,initialWindowScroll:n.scroll.initial})})},ize=({state:e,published:t})=>{const n=t.modified.map(x=>{const w=e.dimensions.droppables[x.droppableId];return DP(w,x.scroll)}),r={...e.dimensions.droppables,...AH(n)},s=PH(aze({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...s};t.removals.forEach(x=>{delete a[x]});const o={droppables:r,draggables:a},l=ps(e.impact),c=l?o.droppables[l]:null,u=o.draggables[e.critical.draggable.id],d=o.droppables[e.critical.droppable.id],{impact:f,afterCritical:h}=GH({draggable:u,home:d,draggables:a,viewport:e.viewport}),m=c&&c.isCombineEnabled?e.impact:f,g=VH({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:m,viewport:e.viewport,afterCritical:h}),p={...e,phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:o,afterCritical:h,forceShouldAnimate:!1};return e.phase==="COLLECTING"?p:{...p,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const jC=e=>e.movementMode==="SNAP",F1=(e,t,n)=>{const r=nze(e.dimensions,t);return!jC(e)||n?Wh({state:e,dimensions:r}):HH({state:e,dimensions:r})};function B1(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const q4={phase:"IDLE",completed:null,shouldFlush:!1};var oze=(e=q4,t)=>{if(t.type==="FLUSH")return{...q4,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&xe();const{critical:n,clientSelection:r,viewport:s,dimensions:a,movementMode:o}=t.payload,l=a.draggables[n.draggable.id],c=a.droppables[n.droppable.id],u={selection:r,borderBoxCenter:l.client.borderBox.center,offset:Rn},d={client:u,page:{selection:Kn(u.selection,s.scroll.initial),borderBoxCenter:Kn(u.selection,s.scroll.initial),offset:Kn(u.selection,s.scroll.diff.value)}},f=Eb(a.droppables).every(p=>!p.isFixedOnPage),{impact:h,afterCritical:m}=GH({draggable:l,home:c,draggables:a.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:d,current:d,isWindowScrollAllowed:f,impact:h,afterCritical:m,onLiftImpact:h,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&xe(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||xe(),ize({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Dl(e)||xe();const{client:n}=t.payload;return zo(n,e.current.client.selection)?e:Wh({state:e,clientSelection:n,impact:jC(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return B1(e);Dl(e)||xe();const{id:n,newScroll:r}=t.payload,s=e.dimensions.droppables[n];if(!s)return e;const a=DP(s,r);return F1(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Dl(e)||xe();const{id:n,isEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||xe(),s.isEnabled===r&&xe();const a={...s,isEnabled:r};return F1(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Dl(e)||xe();const{id:n,isCombineEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||xe(),s.isCombineEnabled===r&&xe();const a={...s,isCombineEnabled:r};return F1(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Dl(e)||xe(),e.isWindowScrollAllowed||xe();const n=t.payload.newScroll;if(zo(e.viewport.scroll.current,n))return B1(e);const r=RH(e.viewport,n);return jC(e)?HH({state:e,viewport:r}):Wh({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Dl(e))return e;const n=t.payload.maxScroll;if(zo(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&xe();const n=V6e({state:e,type:t.type});return n?Wh({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&xe(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||xe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};const lze=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),cze=e=>({type:"LIFT",payload:e}),uze=e=>({type:"INITIAL_PUBLISH",payload:e}),dze=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),fze=()=>({type:"COLLECTION_STARTING",payload:null}),hze=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),mze=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),pze=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),KH=e=>({type:"MOVE",payload:e}),gze=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),vze=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),yze=()=>({type:"MOVE_UP",payload:null}),xze=()=>({type:"MOVE_DOWN",payload:null}),wze=()=>({type:"MOVE_RIGHT",payload:null}),bze=()=>({type:"MOVE_LEFT",payload:null}),zP=()=>({type:"FLUSH",payload:null}),jze=e=>({type:"DROP_ANIMATE",payload:e}),WP=e=>({type:"DROP_COMPLETE",payload:e}),YH=e=>({type:"DROP",payload:e}),Sze=e=>({type:"DROP_PENDING",payload:e}),XH=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Nze=e=>({getState:t,dispatch:n})=>r=>s=>{if(s.type!=="LIFT"){r(s);return}const{id:a,clientSelection:o,movementMode:l}=s.payload,c=t();c.phase==="DROP_ANIMATING"&&n(WP({completed:c.completed})),t().phase!=="IDLE"&&xe(),n(zP()),n(lze({draggableId:a,movementMode:l}));const d={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:h,viewport:m}=e.startPublishing(d);n(uze({critical:f,dimensions:h,clientSelection:o,movementMode:l,viewport:m}))},_ze=e=>()=>t=>n=>{n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)};const VP={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},yp={opacity:{drop:0,combining:.7},scale:{drop:.75}},JH={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Sl=`${JH.outOfTheWay}s ${VP.outOfTheWay}`,Vh={fluid:`opacity ${Sl}`,snap:`transform ${Sl}, opacity ${Sl}`,drop:e=>{const t=`${e}s ${VP.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Sl}`,placeholder:`height ${Sl}, width ${Sl}, margin ${Sl}`},H4=e=>zo(e,Rn)?void 0:`translate(${e.x}px, ${e.y}px)`,SC={moveTo:H4,drop:(e,t)=>{const n=H4(e);if(n)return t?`${n} scale(${yp.scale.drop})`:n}},{minDropTime:NC,maxDropTime:QH}=JH,Cze=QH-NC,G4=1500,Eze=.6;var kze=({current:e,destination:t,reason:n})=>{const r=pp(e,t);if(r<=0)return NC;if(r>=G4)return QH;const s=r/G4,a=NC+Cze*s,o=n==="CANCEL"?a*Eze:a;return Number(o.toFixed(2))},Aze=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:a,droppables:o}=n,l=ps(e),c=l?o[l]:null,u=o[t.descriptor.droppableId],d=qH({impact:e,draggable:t,draggables:a,afterCritical:s,droppable:c||u,viewport:r});return ls(d,t.client.borderBox.center)},Pze=({draggables:e,reason:t,lastImpact:n,home:r,viewport:s,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:UH({draggables:e,impact:a,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:gp},didDropInsideDroppable:!0};const Tze=({getState:e,dispatch:t})=>n=>r=>{if(r.type!=="DROP"){n(r);return}const s=e(),a=r.payload.reason;if(s.phase==="COLLECTING"){t(Sze({reason:a}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&xe(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||xe();const l=s.critical,c=s.dimensions,u=c.draggables[s.critical.draggable.id],{impact:d,didDropInsideDroppable:f}=Pze({reason:a,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),h=f?MP(d):null,m=f?kb(d):null,g={index:l.draggable.index,droppableId:l.droppable.id},p={draggableId:u.descriptor.id,type:u.descriptor.type,source:g,reason:a,mode:s.movementMode,destination:h,combine:m},y=Aze({impact:d,draggable:u,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),x={critical:s.critical,afterCritical:s.afterCritical,result:p,impact:d};if(!(!zo(s.current.client.offset,y)||!!p.combine)){t(WP({completed:x}));return}const j=kze({current:s.current.client.offset,destination:y,reason:a});t(jze({newHomeClientOffset:y,dropDuration:j,completed:x}))};var Oze=Tze,ZH=()=>({x:window.pageXOffset,y:window.pageYOffset});function Ize(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Dze({onWindowScroll:e}){function t(){e(ZH())}const n=mp(t),r=Ize(n);let s=Bo;function a(){return s!==Bo}function o(){a()&&xe(),s=Fs(window,[r])}function l(){a()||xe(),n.cancel(),s(),s=Bo}return{start:o,stop:l,isActive:a}}const Mze=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH",Rze=e=>{const t=Dze({onWindowScroll:n=>{e.dispatch(gze({newScroll:n}))}});return n=>r=>{!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&Mze(r)&&t.stop(),n(r)}};var $ze=Rze,Lze=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return s.wasCalled=()=>t,s},Fze=()=>{const e=[],t=s=>{const a=e.findIndex(l=>l.timerId===s);a===-1&&xe();const[o]=e.splice(a,1);o.callback()};return{add:s=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:s};e.push(o)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const Bze=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,zze=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,Wze=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Wf=(e,t)=>{t()},mv=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function z1(e,t,n,r){if(!e){n(r(t));return}const s=Lze(n);e(t,{announce:s}),s.wasCalled()||n(r(t))}var Vze=(e,t)=>{const n=Fze();let r=null;const s=(f,h)=>{r&&xe(),Wf("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:f,mode:h})})},a=(f,h)=>{r&&xe(),Wf("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(mv(f,h))})},o=(f,h)=>{r&&xe();const m=mv(f,h);r={mode:h,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(()=>{Wf("onDragStart",()=>z1(e().onDragStart,m,t,Hv.onDragStart))})},l=(f,h)=>{const m=MP(h),g=kb(h);r||xe();const p=!Wze(f,r.lastCritical);p&&(r.lastCritical=f);const y=!Bze(r.lastLocation,m);y&&(r.lastLocation=m);const x=!zze(r.lastCombine,g);if(x&&(r.lastCombine=g),!p&&!y&&!x)return;const w={...mv(f,r.mode),combine:g,destination:m};n.add(()=>{Wf("onDragUpdate",()=>z1(e().onDragUpdate,w,t,Hv.onDragUpdate))})},c=()=>{r||xe(),n.flush()},u=f=>{r||xe(),r=null,Wf("onDragEnd",()=>z1(e().onDragEnd,f,t,Hv.onDragEnd))};return{beforeCapture:s,beforeStart:a,start:o,update:l,flush:c,drop:u,abort:()=>{if(!r)return;const f={...mv(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(f)}}},Uze=(e,t)=>{const n=Vze(e,t);return r=>s=>a=>{if(a.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),s(a),n.start(l,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){const l=a.payload.completed.result;n.flush(),s(a),n.drop(l);return}if(s(a),a.type==="FLUSH"){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const qze=e=>t=>n=>{if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&xe(),e.dispatch(WP({completed:r.completed}))};var Hze=qze;const Gze=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return s=>a=>{if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&r(),s(a),a.type!=="DROP_ANIMATE")return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(XH())}};n=requestAnimationFrame(()=>{n=null,t=Fs(window,[o])})}};var Kze=Gze,Yze=e=>()=>t=>n=>{(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)},Xze=e=>{let t=!1;return()=>n=>r=>{if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;const s=r.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Jze=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH";var Qze=e=>t=>n=>r=>{if(Jze(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);const s=t.getState();s.phase!=="DRAGGING"&&xe(),e.start(s);return}n(r),e.scroll(t.getState())};const Zze=e=>t=>n=>{if(t(n),n.type!=="PUBLISH_WHILE_DRAGGING")return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(YH({reason:r.reason})))};var e8e=Zze;const t8e=dH;var n8e=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:s,autoScroller:a})=>uH(oze,t8e(oBe(_ze(n),Yze(e),Nze(e),Oze,Hze,Kze,e8e,Qze(a),$ze,Xze(t),Uze(r,s))));const W1=()=>({additions:{},removals:{},modified:{}});function r8e({registry:e,callbacks:t}){let n=W1(),r=null;const s=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:d}=n,f=Object.keys(c).map(g=>e.draggable.getById(g).getDimension(Rn)).sort((g,p)=>g.descriptor.index-p.descriptor.index),h=Object.keys(d).map(g=>{const y=e.droppable.getById(g).callbacks.getScrollWhileDragging();return{droppableId:g,scroll:y}}),m={additions:f,removals:Object.keys(u),modified:h};n=W1(),t.publish(m)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],s()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],s()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=W1())}}}var eG=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const s=ls({x:t,y:e},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},tG=()=>{const e=document.documentElement;return e||xe(),e},nG=()=>{const e=tG();return eG({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},s8e=()=>{const e=ZH(),t=nG(),n=e.y,r=e.x,s=tG(),a=s.clientWidth,o=s.clientHeight,l=r+a,c=n+o;return{frame:pa({top:n,left:r,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:Rn,displacement:Rn}}}},a8e=({critical:e,scrollOptions:t,registry:n})=>{const r=s8e(),s=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(d=>d.callbacks.getDimensionAndWatchScroll(s,t)),l=n.draggable.getAllByType(e.draggable.type).map(d=>d.getDimension(s));return{dimensions:{draggables:PH(l),droppables:AH(o)},critical:e,viewport:r}};function K4(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var i8e=(e,t)=>{let n=null;const r=r8e({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(h,m)=>{e.droppable.exists(h)||xe(),n&&t.updateDroppableIsEnabled({id:h,isEnabled:m})},a=(h,m)=>{n&&(e.droppable.exists(h)||xe(),t.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:m}))},o=(h,m)=>{n&&(e.droppable.exists(h)||xe(),t.updateDroppableScroll({id:h,newScroll:m}))},l=(h,m)=>{n&&e.droppable.getById(h).callbacks.scroll(m)},c=()=>{if(!n)return;r.stop();const h=n.critical.droppable;e.droppable.getAllByType(h.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},u=h=>{n||xe();const m=n.critical.draggable;h.type==="ADDITION"&&K4(e,m,h.value)&&r.add(h.value),h.type==="REMOVAL"&&K4(e,m,h.value)&&r.remove(h.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:h=>{n&&xe();const m=e.draggable.getById(h.draggableId),g=e.droppable.getById(m.descriptor.droppableId),p={draggable:m.descriptor,droppable:g.descriptor},y=e.subscribe(u);return n={critical:p,unsubscribe:y},a8e({critical:p,registry:e,scrollOptions:h.scrollOptions})},stopPublishing:c}},rG=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",o8e=e=>{window.scrollBy(e.x,e.y)};const l8e=In(e=>Eb(e).filter(t=>!(!t.isEnabled||!t.frame))),c8e=(e,t)=>l8e(t).find(r=>(r.frame||xe(),BH(r.frame.pageMarginBox)(e)))||null;var u8e=({center:e,destination:t,droppables:n})=>{if(t){const s=n[t];return s.frame?s:null}return c8e(e,n)};const xp={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var d8e=(e,t,n=()=>xp)=>{const r=n(),s=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:a}},sG=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},UP=1,f8e=(e,t,n=()=>xp)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return UP;const a=1-sG({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},h8e=(e,t,n)=>{const r=n(),s=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,u=Date.now()-o;if(u>=a)return e;if(u<s)return UP;const d=sG({startOfRange:s,endOfRange:l,current:u}),f=e*r.ease(d);return Math.ceil(f)},Y4=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const a=f8e(e,t,s);return a===0?0:r?Math.max(h8e(a,n,s),UP):a},X4=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const o=d8e(e,r,a);return t[r.end]<t[r.start]?Y4({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:a}):-1*Y4({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:a})},m8e=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,s=t.width>e.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}};const p8e=kH(e=>e===0?0:e);var aG=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=X4({container:t,distanceToEdges:o,dragStartTime:e,axis:RP,shouldUseTimeDampening:s,getAutoScrollerOptions:a}),c=X4({container:t,distanceToEdges:o,dragStartTime:e,axis:IH,shouldUseTimeDampening:s,getAutoScrollerOptions:a}),u=p8e({x:c,y:l});if(zo(u,Rn))return null;const d=m8e({container:t,subject:n,proposedScroll:u});return d?zo(d,Rn)?null:d:null};const g8e=kH(e=>e===0?0:e>0?1:-1),qP=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const s=Kn(t,r),a={x:e(s.x,n.x),y:e(s.y,n.y)};return zo(a,Rn)?null:a}})(),iG=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=g8e(n),a=qP({max:r,current:t,change:s});return!a||s.x!==0&&a.x===0||s.y!==0&&a.y===0},HP=(e,t)=>iG({current:e.scroll.current,max:e.scroll.max,change:t}),v8e=(e,t)=>{if(!HP(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return qP({current:r,max:n,change:t})},GP=(e,t)=>{const n=e.frame;return n?iG({current:n.scroll.current,max:n.scroll.max,change:t}):!1},y8e=(e,t)=>{const n=e.frame;return!n||!GP(e,t)?null:qP({current:n.scroll.current,max:n.scroll.max,change:t})};var x8e=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const o=aG({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:a});return o&&HP(e,o)?o:null},w8e=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=aG({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:a});return l&&GP(e,l)?l:null},J4=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,h=x8e({dragStartTime:t,viewport:f,subject:c,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(h){r(h);return}}const u=u8e({center:o,destination:ps(e.impact),droppables:e.dimensions.droppables});if(!u)return;const d=w8e({dragStartTime:t,droppable:u,subject:c,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});d&&s(u.descriptor.id,d)},b8e=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>xp})=>{const r=mp(e),s=mp(t);let a=null;const o=u=>{a||xe();const{shouldUseTimeDampening:d,dragStartTime:f}=a;J4({state:u,scrollWindow:r,scrollDroppable:s,dragStartTime:f,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:u=>{a&&xe();const d=Date.now();let f=!1;const h=()=>{f=!0};J4({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h,getAutoScrollerOptions:n}),a={dragStartTime:d,shouldUseTimeDampening:f},f&&o(u)},stop:()=>{a&&(r.cancel(),s.cancel(),a=null)},scroll:o}},j8e=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,c)=>{const u=Kn(l.current.client.selection,c);e({client:u})},s=(l,c)=>{if(!GP(l,c))return c;const u=y8e(l,c);if(!u)return t(l.descriptor.id,c),null;const d=ls(c,u);return t(l.descriptor.id,d),ls(c,d)},a=(l,c,u)=>{if(!l||!HP(c,u))return u;const d=v8e(c,u);if(!d)return n(u),null;const f=ls(u,d);return n(f),ls(u,f)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const u=ps(l.impact);u||xe();const d=s(l.dimensions.droppables[u],c);if(!d)return;const f=l.viewport,h=a(l.isWindowScrollAllowed,f,d);h&&r(l,h)}},S8e=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const s=b8e({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=j8e({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&a(c)}},start:s.start,stop:s.stop}};const Id="data-rfd",Dd=(()=>{const e=`${Id}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),_C=(()=>{const e=`${Id}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),N8e=(()=>{const e=`${Id}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Q4={contextId:`${Id}-scroll-container-context-id`},_8e=e=>t=>`[${t}="${e}"]`,Vf=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),C8e="pointer-events: none;";var E8e=e=>{const t=_8e(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Dd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:C8e,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Vh.outOfTheWay};
    `;return{selector:t(_C.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),s={selector:t(N8e.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Vf(o,"always"),resting:Vf(o,"resting"),dragging:Vf(o,"dragging"),dropAnimating:Vf(o,"dropAnimating"),userCancel:Vf(o,"userCancel")}};const k8e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect;var gs=k8e;const V1=()=>{const e=document.querySelector("head");return e||xe(),e},Z4=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function A8e(e,t){const n=Ze(()=>E8e(e),[e]),r=v.useRef(null),s=v.useRef(null),a=De(In(f=>{const h=s.current;h||xe(),h.textContent=f}),[]),o=De(f=>{const h=r.current;h||xe(),h.textContent=f},[]);gs(()=>{!r.current&&!s.current||xe();const f=Z4(t),h=Z4(t);return r.current=f,s.current=h,f.setAttribute(`${Id}-always`,e),h.setAttribute(`${Id}-dynamic`,e),V1().appendChild(f),V1().appendChild(h),o(n.always),a(n.resting),()=>{const m=g=>{const p=g.current;p||xe(),V1().removeChild(p),g.current=null};m(r),m(s)}},[t,o,a,n.always,n.resting,e]);const l=De(()=>a(n.dragging),[a,n.dragging]),c=De(f=>{if(f==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),u=De(()=>{s.current&&a(n.resting)},[a,n.resting]);return Ze(()=>({dragging:l,dropping:c,resting:u}),[l,c,u])}function oG(e,t){return Array.from(e.querySelectorAll(t))}var lG=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Tb(e){return e instanceof lG(e).HTMLElement}function P8e(e,t){const n=`[${Dd.contextId}="${e}"]`,r=oG(document,n);if(!r.length)return null;const s=r.find(a=>a.getAttribute(Dd.draggableId)===t);return!s||!Tb(s)?null:s}function T8e(e){const t=v.useRef({}),n=v.useRef(null),r=v.useRef(null),s=v.useRef(!1),a=De(function(h,m){const g={id:h,focus:m};return t.current[h]=g,function(){const y=t.current;y[h]!==g&&delete y[h]}},[]),o=De(function(h){const m=P8e(e,h);m&&m!==document.activeElement&&m.focus()},[e]),l=De(function(h,m){n.current===h&&(n.current=m)},[]),c=De(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const h=n.current;h&&o(h)}))},[o]),u=De(function(h){n.current=null;const m=document.activeElement;m&&m.getAttribute(Dd.draggableId)===h&&(n.current=h)},[]);return gs(()=>(s.current=!0,function(){s.current=!1;const h=r.current;h&&cancelAnimationFrame(h)}),[]),Ze(()=>({register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[a,u,c,l])}function O8e(){const e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){const m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function r(f){t.length&&t.forEach(h=>h(f))}function s(f){return e.draggables[f]||null}function a(f){const h=s(f);return h||xe(),h}const o={register:f=>{e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,h)=>{const m=e.draggables[h.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[h.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const h=f.descriptor.id,m=s(h);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[h],e.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:a,findById:s,exists:f=>!!s(f),getAllByType:f=>Object.values(e.draggables).filter(h=>h.descriptor.type===f)};function l(f){return e.droppables[f]||null}function c(f){const h=l(f);return h||xe(),h}const u={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const h=l(f.descriptor.id);h&&f.uniqueId===h.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:l,exists:f=>!!l(f),getAllByType:f=>Object.values(e.droppables).filter(h=>h.descriptor.type===f)};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:u,subscribe:n,clean:d}}function I8e(){const e=Ze(O8e,[]);return v.useEffect(()=>function(){T.version.startsWith("16")||T.version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()},[e]),e}var KP=T.createContext(null),n0=()=>{const e=document.body;return e||xe(),e};const D8e={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var M8e=D8e;const R8e=e=>`rfd-announcement-${e}`;function $8e(e){const t=Ze(()=>R8e(e),[e]),n=v.useRef(null);return v.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Lo(a.style,M8e),n0().appendChild(a),function(){setTimeout(function(){const c=n0();c.contains(a)&&c.removeChild(a),a===n.current&&(n.current=null)})}},[t]),De(s=>{const a=n.current;if(a){a.textContent=s;return}},[])}let L8e=0;const cG={separator:"::"};function F8e(e,t=cG){return Ze(()=>`${e}${t.separator}${L8e++}`,[t.separator,e])}function B8e(e,t=cG){const n=T.useId();return Ze(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}var YP="useId"in T?B8e:F8e;function z8e({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function W8e({contextId:e,text:t}){const n=YP("hidden-text",{separator:"-"}),r=Ze(()=>z8e({contextId:e,uniqueId:n}),[n,e]);return v.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",n0().appendChild(a),function(){const l=n0();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var Ob=T.createContext(null);function uG(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}function V8e(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&xe();const l={abandon:o};return e=l,l}function s(){e||xe(),e=null}function a(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:n,claim:r,release:s,tryAbandon:a}}function wp(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const U8e=9,q8e=13,XP=27,dG=32,H8e=33,G8e=34,K8e=35,Y8e=36,X8e=37,J8e=38,Q8e=39,Z8e=40,eWe={[q8e]:!0,[U8e]:!0};var fG=e=>{eWe[e.keyCode]&&e.preventDefault()};const tWe=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})();var Ib=tWe;const hG=0,eL=5;function nWe(e,t){return Math.abs(t.x-e.x)>=eL||Math.abs(t.y-e.y)>=eL}const tL={type:"IDLE"};function rWe({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:s=>{const{button:a,clientX:o,clientY:l}=s;if(a!==hG)return;const c={x:o,y:l},u=n();if(u.type==="DRAGGING"){s.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&xe();const d=u.point;if(!nWe(d,c))return;s.preventDefault();const f=u.actions.fluidLift(c);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:s=>{const a=n();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{n().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(n().type==="PENDING"){e();return}if(s.keyCode===XP){s.preventDefault(),e();return}fG(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const a=n();if(a.type==="IDLE"&&xe(),a.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:Ib,fn:e}]}function sWe(e){const t=v.useRef(tL),n=v.useRef(Bo),r=Ze(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==hG||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const h=e.findClosestDraggableId(f);if(!h)return;const m=e.tryGetLock(h,o,{sourceEvent:f});if(!m)return;f.preventDefault();const g={x:f.clientX,y:f.clientY};n.current(),u(m,g)}}),[e]),s=Ze(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const f=e.findClosestDraggableId(d);if(!f)return;const h=e.findOptionsForDraggable(f);h&&(h.shouldRespectForcePress||e.canGetLock(f)&&d.preventDefault())}}),[e]),a=De(function(){const f={passive:!1,capture:!0};n.current=Fs(window,[s,r],f)},[s,r]),o=De(()=>{t.current.type!=="IDLE"&&(t.current=tL,n.current(),a())},[a]),l=De(()=>{const d=t.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),c=De(function(){const f={capture:!0,passive:!1},h=rWe({cancel:l,completed:o,getPhase:()=>t.current,setPhase:m=>{t.current=m}});n.current=Fs(window,h,f)},[l,o]),u=De(function(f,h){t.current.type!=="IDLE"&&xe(),t.current={type:"PENDING",point:h,actions:f},c()},[c]);gs(function(){return a(),function(){n.current()}},[a])}function aWe(){}const iWe={[G8e]:!0,[H8e]:!0,[Y8e]:!0,[K8e]:!0};function oWe(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===XP){s.preventDefault(),n();return}if(s.keyCode===dG){s.preventDefault(),r();return}if(s.keyCode===Z8e){s.preventDefault(),e.moveDown();return}if(s.keyCode===J8e){s.preventDefault(),e.moveUp();return}if(s.keyCode===Q8e){s.preventDefault(),e.moveRight();return}if(s.keyCode===X8e){s.preventDefault(),e.moveLeft();return}if(iWe[s.keyCode]){s.preventDefault();return}fG(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Ib,fn:n}]}function lWe(e){const t=v.useRef(aWe),n=Ze(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==dG)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,d,{sourceEvent:a});if(!l)return;a.preventDefault();let c=!0;const u=l.snapLift();t.current();function d(){c||xe(),c=!1,t.current(),r()}t.current=Fs(window,oWe(u,d),{capture:!0,passive:!1})}}),[e]),r=De(function(){const a={passive:!1,capture:!0};t.current=Fs(window,[n],a)},[n]);gs(function(){return r(),function(){t.current()}},[r])}const U1={type:"IDLE"},cWe=120,uWe=.15;function dWe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===XP&&n.preventDefault(),e()}},{eventName:Ib,fn:e}]}function fWe({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),s.actions.move(l)}},{eventName:"touchend",fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const s=n();s.type==="IDLE"&&xe();const a=r.touches[0];if(!a||!(a.force>=uWe))return;const l=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){l&&e();return}if(l){if(s.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Ib,fn:e}]}function hWe(e){const t=v.useRef(U1),n=v.useRef(Bo),r=De(function(){return t.current},[]),s=De(function(m){t.current=m},[]),a=Ze(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const g=e.findClosestDraggableId(m);if(!g)return;const p=e.tryGetLock(g,l,{sourceEvent:m});if(!p)return;const y=m.touches[0],{clientX:x,clientY:w}=y,j={x,y:w};n.current(),f(p,j)}}),[e]),o=De(function(){const m={capture:!0,passive:!1};n.current=Fs(window,[a],m)},[a]),l=De(()=>{const h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),s(U1),n.current(),o())},[o,s]),c=De(()=>{const h=t.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),u=De(function(){const m={capture:!0,passive:!1},g={cancel:c,completed:l,getPhase:r},p=Fs(window,fWe(g),m),y=Fs(window,dWe(g),m);n.current=function(){p(),y()}},[c,r,l]),d=De(function(){const m=r();m.type!=="PENDING"&&xe();const g=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:g,hasMoved:!1})},[r,s]),f=De(function(m,g){r().type!=="IDLE"&&xe();const p=setTimeout(d,cWe);s({type:"PENDING",point:g,actions:m,longPressTimerId:p}),u()},[u,r,s,d]);gs(function(){return o(),function(){n.current();const g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),s(U1))}},[r,o,s]),gs(function(){return Fs(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const mWe=["input","button","textarea","select","option","optgroup","video","audio"];function mG(e,t){if(t==null)return!1;if(mWe.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:mG(e,t.parentElement)}function pWe(e,t){const n=t.target;return Tb(n)?mG(e,n):!1}var gWe=e=>pa(e.getBoundingClientRect()).center;function vWe(e){return e instanceof lG(e).Element}const yWe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function pG(e,t){return e==null?null:e[yWe](t)?e:pG(e.parentElement,t)}function xWe(e,t){return e.closest?e.closest(t):pG(e,t)}function wWe(e){return`[${Dd.contextId}="${e}"]`}function bWe(e,t){const n=t.target;if(!vWe(n))return null;const r=wWe(e),s=xWe(n,r);return!s||!Tb(s)?null:s}function jWe(e,t){const n=bWe(e,t);return n?n.getAttribute(Dd.draggableId):null}function SWe(e,t){const n=`[${_C.contextId}="${e}"]`,s=oG(document,n).find(a=>a.getAttribute(_C.id)===t);return!s||!Tb(s)?null:s}function NWe(e){e.preventDefault()}function pv({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function gG({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!rG(t.getState(),r))}function _We({lockAPI:e,contextId:t,store:n,registry:r,draggableId:s,forceSensorStop:a,sourceEvent:o}){if(!gG({lockAPI:e,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),u=SWe(t,c.descriptor.id);if(!u||o&&!c.options.canDragInteractiveElements&&pWe(u,o))return null;const d=e.claim(a||Bo);let f="PRE_DRAG";function h(){return c.options.shouldRespectForcePress}function m(){return e.isActive(d)}function g(S,N){pv({expected:S,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(N())}const p=g.bind(null,"DRAGGING");function y(S){function N(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(N(),xe()),n.dispatch(cze(S.liftActionArgs)),f="DRAGGING";function C(_,k={shouldBlockNextClick:!1}){if(S.cleanup(),k.shouldBlockNextClick){const P=Fs(window,[{eventName:"click",fn:NWe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}N(),n.dispatch(YH({reason:_}))}return{isActive:()=>pv({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:h,drop:_=>C("DROP",_),cancel:_=>C("CANCEL",_),...S.actions}}function x(S){const N=mp(_=>{p(()=>KH({client:_}))});return{...y({liftActionArgs:{id:s,clientSelection:S,movementMode:"FLUID"},cleanup:()=>N.cancel(),actions:{move:N}}),move:N}}function w(){const S={moveUp:()=>p(yze),moveRight:()=>p(wze),moveDown:()=>p(xze),moveLeft:()=>p(bze)};return y({liftActionArgs:{id:s,clientSelection:gWe(u),movementMode:"SNAP"},cleanup:Bo,actions:S})}function j(){pv({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>pv({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:x,snapLift:w,abort:j}}const CWe=[sWe,lWe,hWe];function EWe({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:s}){const a=[...s?CWe:[],...r||[]],o=v.useState(()=>V8e())[0],l=De(function(y,x){wp(y)&&!wp(x)&&o.tryAbandon()},[o]);gs(function(){let y=t.getState();return t.subscribe(()=>{const w=t.getState();l(y,w),y=w})},[o,t,l]),gs(()=>o.tryAbandon,[o.tryAbandon]);const c=De(p=>gG({lockAPI:o,registry:n,store:t,draggableId:p}),[o,n,t]),u=De((p,y,x)=>_We({lockAPI:o,registry:n,contextId:e,store:t,draggableId:p,forceSensorStop:y||null,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null}),[e,o,n,t]),d=De(p=>jWe(e,p),[e]),f=De(p=>{const y=n.draggable.findById(p);return y?y.options:null},[n.draggable]),h=De(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(zP()))},[o,t]),m=De(()=>o.isClaimed(),[o]),g=Ze(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:m}),[c,u,d,f,h,m]);for(let p=0;p<a.length;p++)a[p](g)}const kWe=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};T.version.startsWith("16")||T.version.startsWith("17")?n():ni.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),AWe=e=>({...xp,...e.autoScrollerOptions,durationDampening:{...xp.durationDampening,...e.autoScrollerOptions}});function Uf(e){return e.current||xe(),e.current}function PWe(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:a}=e,o=v.useRef(null),l=uG(e),c=De(()=>kWe(l.current),[l]),u=De(()=>AWe(l.current),[l]),d=$8e(t),f=W8e({contextId:t,text:a}),h=A8e(t,s),m=De(P=>{Uf(o).dispatch(P)},[]),g=Ze(()=>_4({publishWhileDragging:dze,updateDroppableScroll:hze,updateDroppableIsEnabled:mze,updateDroppableIsCombineEnabled:pze,collectionStarting:fze},m),[m]),p=I8e(),y=Ze(()=>i8e(p,g),[p,g]),x=Ze(()=>S8e({scrollWindow:o8e,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:u,..._4({move:KH},m)}),[y.scrollDroppable,m,u]),w=T8e(t),j=Ze(()=>n8e({announce:d,autoScroller:x,dimensionMarshal:y,focusMarshal:w,getResponders:c,styleMarshal:h}),[d,x,y,w,c,h]);o.current=j;const b=De(()=>{const P=Uf(o);P.getState().phase!=="IDLE"&&P.dispatch(zP())},[]),S=De(()=>{const P=Uf(o).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),N=Ze(()=>({isDragging:S,tryAbort:b}),[S,b]);n(N);const C=De(P=>rG(Uf(o).getState(),P),[]),_=De(()=>Dl(Uf(o).getState()),[]),k=Ze(()=>({marshal:y,focus:w,contextId:t,canLift:C,isMovementAllowed:_,dragHandleUsageInstructionsId:f,registry:p}),[t,y,f,w,C,_,p]);return EWe({contextId:t,store:j,registry:p,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>b,[b]),T.createElement(Ob.Provider,{value:k},T.createElement(WBe,{context:KP,store:j},e.children))}let TWe=0;function OWe(){return Ze(()=>`${TWe++}`,[])}function IWe(){return T.useId()}var DWe="useId"in T?IWe:OWe;function vG(e){const t=DWe(),n=e.dragHandleUsageInstructions||Hv.dragHandleUsageInstructions;return T.createElement(JBe,null,r=>T.createElement(PWe,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const nL={dragging:5e3,dropAnimating:4500},MWe=(e,t)=>t?Vh.drop(t.duration):e?Vh.snap:Vh.fluid,RWe=(e,t)=>{if(e)return t?yp.opacity.drop:yp.opacity.combining},$We=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function LWe(e){const n=e.dimension.client,{offset:r,combineWith:s,dropping:a}=e,o=!!s,l=$We(e),c=!!a,u=c?SC.drop(r,o):SC.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:MWe(l,a),transform:u,opacity:RWe(o,c),zIndex:c?nL.dropAnimating:nL.dragging,pointerEvents:"none"}}function FWe(e){return{transform:SC.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function BWe(e){return e.type==="DRAGGING"?LWe(e):FWe(e)}function zWe(e,t,n=Rn){const r=window.getComputedStyle(t),s=t.getBoundingClientRect(),a=SH(s,r),o=Qx(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},c={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:a,page:o}}function WWe(e){const t=YP("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,c=Ze(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),u=De(m=>{const g=s();return g||xe(),zWe(n,g,m)},[n,s]),d=Ze(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),f=v.useRef(d),h=v.useRef(!0);gs(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),gs(()=>{if(h.current){h.current=!1;return}const m=f.current;f.current=d,r.draggable.update(d,m)},[d,r.draggable])}var JP=T.createContext(null);function r0(e){const t=v.useContext(e);return t||xe(),t}function VWe(e){e.preventDefault()}const UWe=e=>{const t=v.useRef(null),n=De((N=null)=>{t.current=N},[]),r=De(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:a,registry:o}=r0(Ob),{type:l,droppableId:c}=r0(JP),u=Ze(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:d,draggableId:f,isEnabled:h,shouldRespectForcePress:m,canDragInteractiveElements:g,isClone:p,mapped:y,dropAnimationFinished:x}=e;if(!p){const N=Ze(()=>({descriptor:u,registry:o,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:m,isEnabled:h}),[u,o,r,g,m,h]);WWe(N)}const w=Ze(()=>h?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:VWe}:null,[s,a,f,h]),j=De(N=>{y.type==="DRAGGING"&&y.dropping&&N.propertyName==="transform"&&(T.version.startsWith("16")||T.version.startsWith("17")?x():ni.flushSync(x))},[x,y]),b=Ze(()=>{const N=BWe(y),C=y.type==="DRAGGING"&&y.dropping?j:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":f,style:N,onTransitionEnd:C},dragHandleProps:w}},[s,w,f,y,j,n]),S=Ze(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return T.createElement(T.Fragment,null,d(b,y.snapshot,S))};var qWe=UWe,yG=(e,t)=>e===t,xG=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const HWe=e=>e.combine?e.combine.draggableId:null,GWe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function KWe(){const e=In((s,a)=>({x:s,y:a})),t=In((s,a,o=null,l=null,c=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:o,combineWith:l,combineTargetFor:null})),n=In((s,a,o,l,c=null,u=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:a,offset:s,dimension:o,forceShouldAnimate:d,snapshot:t(a,l,c,u,null)}}));return(s,a)=>{if(wp(s)){if(s.critical.draggable.id!==a.draggableId)return null;const o=s.current.client.offset,l=s.dimensions.draggables[a.draggableId],c=ps(s.impact),u=GWe(s.impact),d=s.forceShouldAnimate;return n(e(o.x,o.y),s.movementMode,l,a.isClone,c,u,d)}if(s.phase==="DROP_ANIMATING"){const o=s.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,c=s.dimensions.draggables[a.draggableId],u=o.result,d=u.mode,f=xG(u),h=HWe(u),g={duration:s.dropDuration,curve:VP.drop,moveTo:s.newHomeClientOffset,opacity:h?yp.opacity.drop:null,scale:h?yp.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:g,draggingOver:f,combineWith:h,mode:d,forceShouldAnimate:null,snapshot:t(d,l,f,h,g)}}}return null}}function wG(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const YWe={mapped:{type:"SECONDARY",offset:Rn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:wG(null)}};function XWe(){const e=In((o,l)=>({x:o,y:l})),t=In(wG),n=In((o,l=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),r=o=>o?n(Rn,o,!0):null,s=(o,l,c,u)=>{const d=c.displaced.visible[o],f=!!(u.inVirtualList&&u.effected[o]),h=kb(c),m=h&&h.draggableId===o?l:null;if(!d){if(!f)return r(m);if(c.displaced.invisible[o])return null;const y=pf(u.displacedBy.point),x=e(y.x,y.y);return n(x,m,!0)}if(f)return r(m);const g=c.displacedBy.point,p=e(g.x,g.y);return n(p,m,d.shouldAnimate)};return(o,l)=>{if(wp(o))return o.critical.draggable.id===l.draggableId?null:s(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===l.draggableId?null:s(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const JWe=()=>{const e=KWe(),t=XWe();return(r,s)=>e(r,s)||t(r,s)||YWe},QWe={dropAnimationFinished:XH},ZWe=bH(JWe,QWe,null,{context:KP,areStatePropsEqual:yG})(qWe);var eVe=ZWe;function bG(e){return r0(JP).isUsingCloneFor===e.draggableId&&!e.isClone?null:T.createElement(eVe,e)}function QP(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return T.createElement(bG,Lo({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const jG=e=>t=>e===t,tVe=jG("scroll"),nVe=jG("auto"),rL=(e,t)=>t(e.overflowX)||t(e.overflowY),rVe=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return rL(n,tVe)||rL(n,nVe)},sVe=()=>!1,SG=e=>e==null?null:e===document.body?sVe()?e:null:e===document.documentElement?null:rVe(e)?e:SG(e.parentElement);var CC=e=>({x:e.scrollLeft,y:e.scrollTop});const NG=e=>e?window.getComputedStyle(e).position==="fixed"?!0:NG(e.parentElement):!1;var aVe=e=>{const t=SG(e),n=NG(e);return{closestScrollable:t,isFixedOnPage:n}},iVe=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:a,page:o,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:h,client:m}=l,g=eG({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:m,scrollSize:h,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:g,diff:{value:Rn,displacement:Rn}}}})(),u=s==="vertical"?RP:IH,d=Od({page:o,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:a,page:o,frame:c,subject:d}};const oVe=(e,t)=>{const n=NH(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=s+t.scrollWidth,c=OP({top:r,right:o,bottom:a,left:s},n.border);return IP({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var lVe=({ref:e,descriptor:t,env:n,windowScroll:r,direction:s,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const c=n.closestScrollable,u=oVe(e,c),d=Qx(u,r),f=(()=>{if(!c)return null;const m=NH(c),g={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:Qx(m,r),scroll:CC(c),scrollSize:g,shouldClipSubject:l}})();return iVe({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:s,client:u,page:d,closest:f})};const cVe={passive:!1},uVe={passive:!0};var sL=e=>e.shouldPublishImmediately?cVe:uVe;const gv=e=>e&&e.env.closestScrollable||null;function dVe(e){const t=v.useRef(null),n=r0(Ob),r=YP("droppable"),{registry:s,marshal:a}=n,o=uG(e),l=Ze(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=v.useRef(l),u=Ze(()=>In((b,S)=>{t.current||xe();const N={x:b,y:S};a.updateDroppableScroll(l.id,N)}),[l.id,a]),d=De(()=>{const b=t.current;return!b||!b.env.closestScrollable?Rn:CC(b.env.closestScrollable)},[]),f=De(()=>{const b=d();u(b.x,b.y)},[d,u]),h=Ze(()=>mp(f),[f]),m=De(()=>{const b=t.current,S=gv(b);if(b&&S||xe(),b.scrollOptions.shouldPublishImmediately){f();return}h()},[h,f]),g=De((b,S)=>{t.current&&xe();const N=o.current,C=N.getDroppableRef();C||xe();const _=aVe(C),k={ref:C,descriptor:l,env:_,scrollOptions:S};t.current=k;const P=lVe({ref:C,descriptor:l,env:_,windowScroll:b,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),A=_.closestScrollable;return A&&(A.setAttribute(Q4.contextId,n.contextId),A.addEventListener("scroll",m,sL(k.scrollOptions))),P},[n.contextId,l,m,o]),p=De(()=>{const b=t.current,S=gv(b);return b&&S||xe(),CC(S)},[]),y=De(()=>{const b=t.current;b||xe();const S=gv(b);t.current=null,S&&(h.cancel(),S.removeAttribute(Q4.contextId),S.removeEventListener("scroll",m,sL(b.scrollOptions)))},[m,h]),x=De(b=>{const S=t.current;S||xe();const N=gv(S);N||xe(),N.scrollTop+=b.y,N.scrollLeft+=b.x},[]),w=Ze(()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:p,dragStopped:y,scroll:x}),[y,g,p,x]),j=Ze(()=>({uniqueId:r,descriptor:l,callbacks:w}),[w,l,r]);gs(()=>(c.current=j.descriptor,s.droppable.register(j),()=>{t.current&&y(),s.droppable.unregister(j)}),[w,l,y,j,a,s.droppable]),gs(()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),gs(()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function q1(){}const aL={width:0,height:0,margin:s6e},fVe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?aL:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},hVe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=fVe({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Vh.placeholder:null}},mVe=e=>{const t=v.useRef(null),n=De(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:a,contextId:o}=e,[l,c]=v.useState(e.animate==="open");v.useEffect(()=>l?r!=="open"?(n(),c(!1),q1):t.current?q1:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):q1,[r,l,n]);const u=De(f=>{f.propertyName==="height"&&(s(),r==="close"&&a())},[r,a,s]),d=hVe({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return T.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})};var pVe=T.memo(mVe);class gVe extends T.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const vVe=e=>{const t=v.useContext(Ob);t||xe();const{contextId:n,isMovementAllowed:r}=t,s=v.useRef(null),a=v.useRef(null),{children:o,droppableId:l,type:c,mode:u,direction:d,ignoreContainerClipping:f,isDropDisabled:h,isCombineEnabled:m,snapshot:g,useClone:p,updateViewportMaxScroll:y,getContainerForClone:x}=e,w=De(()=>s.current,[]),j=De((A=null)=>{s.current=A},[]);De(()=>a.current,[]);const b=De((A=null)=>{a.current=A},[]),S=De(()=>{r()&&y({maxScroll:nG()})},[r,y]);dVe({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:w});const N=Ze(()=>T.createElement(gVe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:A,data:I,animate:L})=>T.createElement(pVe,{placeholder:I,onClose:A,innerRef:b,animate:L,contextId:n,onTransitionEnd:S})),[n,S,e.placeholder,e.shouldAnimatePlaceholder,b]),C=Ze(()=>({innerRef:j,placeholder:N,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,N,j]),_=p?p.dragging.draggableId:null,k=Ze(()=>({droppableId:l,type:c,isUsingCloneFor:_}),[l,_,c]);function P(){if(!p)return null;const{dragging:A,render:I}=p,L=T.createElement(bG,{draggableId:A.draggableId,index:A.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(E,R)=>I(E,R,A));return k0.createPortal(L,x())}return T.createElement(JP.Provider,{value:k},o(C,g),P())};var yVe=vVe;function xVe(){return document.body||xe(),document.body}const iL={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:xVe},_G=e=>{let t={...e},n;for(n in iL)e[n]===void 0&&(t={...t,[n]:iL[n]});return t},H1=(e,t)=>e===t.droppable.type,oL=(e,t)=>t.draggables[e.draggable.id],wVe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=In(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=In((a,o,l,c,u,d)=>{const f=u.descriptor.id;if(u.descriptor.droppableId===a){const g=d?{render:d,dragging:n(u.descriptor)}:null,p={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:p,useClone:g}}if(!o)return t;if(!c)return e;const m={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(a,o)=>{const l=_G(o),c=l.droppableId,u=l.type,d=!l.isDropDisabled,f=l.renderClone;if(wp(a)){const h=a.critical;if(!H1(u,h))return t;const m=oL(h,a.dimensions),g=ps(a.impact)===c;return r(c,d,g,g,m,f)}if(a.phase==="DROP_ANIMATING"){const h=a.completed;if(!H1(u,h.critical))return t;const m=oL(h.critical,a.dimensions);return r(c,d,xG(h.result)===c,ps(h.impact)===c,m,f)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const h=a.completed;if(!H1(u,h.critical))return t;const m=ps(h.impact)===c,g=!!(h.impact.at&&h.impact.at.type==="COMBINE"),p=h.critical.droppable.id===c;return m?g?e:t:p?e:t}return t}},bVe={updateViewportMaxScroll:vze},jVe=bH(wVe,bVe,(e,t,n)=>({..._G(n),...e,...t}),{context:KP,areStatePropsEqual:yG})(yVe);var ZP=jVe;const Mc=ka((e,t)=>({boards:[],currentBoard:null,stages:[],assignments:[],loading:!1,fetchBoards:async()=>{await G.handleAsync(async()=>{const n=je.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("kanban_boards").select("*").eq("workspace_id",n.id).order("created_at",{ascending:!1});if(s)throw s;e({boards:r||[]})})},fetchBoardData:async n=>{await G.handleAsync(async()=>{e({loading:!0});const{data:r,error:s}=await U.from("kanban_stages").select("*").eq("board_id",n).order("position",{ascending:!0});if(s)throw s;const{data:a,error:o}=await U.from("kanban_client_assignments").select(`
          *,
          client:clients(*)
        `).eq("board_id",n).order("position",{ascending:!0});if(o)throw o;e({stages:r||[],assignments:a||[],loading:!1})})},createBoard:async n=>await G.handleAsync(async()=>{const r=je.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");const{data:s,error:a}=await U.from("kanban_boards").insert({...n,workspace_id:r.id}).select().single();if(a)throw a;const o=[{name:"Novo Lead",color:"#3b82f6",position:0},{name:"Contatado",color:"#f59e0b",position:1},{name:"Qualificado",color:"#10b981",position:2},{name:"Cliente",color:"#8b5cf6",position:3}];for(const l of o)await U.from("kanban_stages").insert({...l,board_id:s.id});return t().fetchBoards(),G.showSuccess("Quadro Kanban criado com sucesso!"),s})||null,updateBoard:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("kanban_boards").update(r).eq("id",n);if(s)throw s;t().fetchBoards(),G.showSuccess("Quadro atualizado com sucesso!")})},deleteBoard:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("kanban_boards").delete().eq("id",n);if(r)throw r;const s=t().currentBoard;(s==null?void 0:s.id)===n&&e({currentBoard:null,stages:[],assignments:[]}),t().fetchBoards(),G.showSuccess("Quadro deletado com sucesso!")})},setCurrentBoard:n=>{e({currentBoard:n}),t().fetchBoardData(n.id)},createStage:async(n,r)=>await G.handleAsync(async()=>{const s=t().stages,a=s.length>0?Math.max(...s.map(c=>c.position)):-1,{data:o,error:l}=await U.from("kanban_stages").insert({...r,board_id:n,position:a+1,color:r.color||"#3b82f6"}).select().single();if(l)throw l;return t().fetchBoardData(n),G.showSuccess("Fase criada com sucesso!"),o})||null,updateStage:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("kanban_stages").update(r).eq("id",n);if(s)throw s;const a=t().currentBoard;a&&t().fetchBoardData(a.id),G.showSuccess("Fase atualizada com sucesso!")})},deleteStage:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("kanban_stages").delete().eq("id",n);if(r)throw r;const s=t().currentBoard;s&&t().fetchBoardData(s.id),G.showSuccess("Fase deletada com sucesso!")})},reorderStages:async(n,r)=>{await G.handleAsync(async()=>{const s=r.map((a,o)=>({id:a,position:o}));for(const a of s)await U.from("kanban_stages").update({position:a.position}).eq("id",a.id);t().fetchBoardData(n)})},assignClientsToStage:async(n,r,s)=>{await G.handleAsync(async()=>{const a=t().assignments.filter(u=>u.stage_id===r),o=a.length>0?Math.max(...a.map(u=>u.position)):-1,l=s.map((u,d)=>({board_id:n,stage_id:r,client_id:u,position:o+1+d})),{error:c}=await U.from("kanban_client_assignments").upsert(l,{onConflict:"board_id,client_id",ignoreDuplicates:!1});if(c)throw c;t().fetchBoardData(n),G.showSuccess(`${s.length} cliente(s) adicionado(s) ao quadro!`)})},moveClientToStage:async(n,r,s)=>{await G.handleAsync(async()=>{const{error:a}=await U.from("kanban_client_assignments").update({stage_id:r,position:s}).eq("id",n);if(a)throw a;const o=t().currentBoard;o&&t().fetchBoardData(o.id)})},removeClientFromBoard:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("kanban_client_assignments").delete().eq("id",n);if(r)throw r;const s=t().currentBoard;s&&t().fetchBoardData(s.id),G.showSuccess("Cliente removido do quadro!")})},reorderClientsInStage:async(n,r)=>{await G.handleAsync(async()=>{const s=r.map((o,l)=>({id:o,position:l}));for(const o of s)await U.from("kanban_client_assignments").update({position:o.position}).eq("id",o.id);const a=t().currentBoard;a&&t().fetchBoardData(a.id)})},getUnassignedClients:async()=>await G.handleAsync(async()=>{const n=je.getState().currentWorkspace,r=t().currentBoard;if(!n||!r)return[];const{data:s,error:a}=await U.from("clients").select("*").eq("workspace_id",n.id);if(a)throw a;const{data:o,error:l}=await U.from("kanban_client_assignments").select("client_id").eq("board_id",r.id);if(l)throw l;const c=new Set((o==null?void 0:o.map(u=>u.client_id))||[]);return(s||[]).filter(u=>!c.has(u.id))})||[]}));function SVe({assignment:e}){const{removeClientFromBoard:t}=Mc(),{client:n}=e;if(!n)return null;const r=async()=>{await t(e.id)},s=a=>a.split(" ").map(o=>o[0]).join("").toUpperCase();return i.jsx(re,{className:"cursor-grab hover:cursor-grabbing hover:shadow-md transition-shadow",children:i.jsxs(se,{className:"p-3",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-medium text-blue-600",children:s(n.name)})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:n.name})})]}),i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:i.jsx(Lp,{className:"h-3 w-3"})})}),i.jsx(Ea,{children:i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsxs(at,{onSelect:a=>a.preventDefault(),children:[i.jsx($a,{className:"h-4 w-4 mr-2"}),"Remover do Quadro"]})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Remover Cliente"}),i.jsxs(ln,{children:['Tem certeza que deseja remover "',n.name,'" deste quadro Kanban?']})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{onClick:r,children:"Remover"})]})]})]})})]})]}),i.jsxs("div",{className:"space-y-1",children:[n.phone&&i.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[i.jsx(Ha,{className:"h-3 w-3"}),i.jsx("span",{className:"truncate",children:n.phone})]}),n.email&&i.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[i.jsx(ja,{className:"h-3 w-3"}),i.jsx("span",{className:"truncate",children:n.email})]})]}),n.tags&&n.tags.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[n.tags.slice(0,2).map(a=>i.jsx(fe,{variant:"secondary",className:"text-xs",children:a},a)),n.tags.length>2&&i.jsxs(fe,{variant:"secondary",className:"text-xs",children:["+",n.tags.length-2]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-2 text-xs text-gray-500",children:[i.jsxs("span",{children:["Pedidos: ",n.total_orders||0]}),i.jsxs("span",{children:["R$ ",(n.total_spent||0).toFixed(2)]})]})]})})}const NVe=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316","#6366f1"];function _Ve({stage:e,assignments:t,dragHandleProps:n}){const{updateStage:r,deleteStage:s,currentBoard:a}=Mc(),[o,l]=v.useState(!1),[c,u]=v.useState({name:e.name,color:e.color}),d=async()=>{await r(e.id,c),l(!1)},f=async()=>{await s(e.id)};return i.jsxs(re,{className:"w-80 h-full flex flex-col",children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),i.jsx(ge,{className:"text-sm font-medium",children:e.name}),i.jsx(fe,{variant:"secondary",className:"text-xs",children:t.length})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{...n,className:"cursor-grab hover:cursor-grabbing",children:i.jsx(E6,{className:"h-4 w-4 text-gray-400"})}),i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",children:i.jsx(Lp,{className:"h-4 w-4"})})}),i.jsxs(Ea,{children:[i.jsxs(ot,{open:o,onOpenChange:l,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(at,{onSelect:h=>h.preventDefault(),children:[i.jsx(wi,{className:"h-4 w-4 mr-2"}),"Editar Fase"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Editar Fase"}),i.jsx(ft,{children:"Altere o nome e a cor da fase"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"stageName",children:"Nome da Fase"}),i.jsx(ie,{id:"stageName",value:c.name,onChange:h=>u({...c,name:h.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Cor da Fase"}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:NVe.map(h=>i.jsx("button",{className:`w-8 h-8 rounded-full border-2 ${c.color===h?"border-gray-900":"border-gray-300"}`,style:{backgroundColor:h},onClick:()=>u({...c,color:h})},h))})]})]}),i.jsx(yt,{children:i.jsx(B,{onClick:d,children:"Salvar"})})]})]}),i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsxs(at,{onSelect:h=>h.preventDefault(),children:[i.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Deletar Fase"]})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Deletar Fase"}),i.jsxs(ln,{children:['Tem certeza que deseja deletar a fase "',e.name,'"? Todos os clientes nesta fase sero removidos do quadro.']})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{onClick:f,className:"bg-red-600 hover:bg-red-700",children:"Deletar"})]})]})]})]})]})]})]})}),i.jsx(se,{className:"flex-1 overflow-hidden p-3",children:i.jsx(ZP,{droppableId:e.id,type:"client",children:(h,m)=>i.jsxs("div",{ref:h.innerRef,...h.droppableProps,className:`h-full overflow-y-auto space-y-3 ${m.isDraggingOver?"bg-blue-50 rounded-lg":""}`,children:[t.map((g,p)=>i.jsx(QP,{draggableId:g.id,index:p,children:(y,x)=>i.jsx("div",{ref:y.innerRef,...y.draggableProps,...y.dragHandleProps,className:x.isDragging?"opacity-50":"",children:i.jsx(SVe,{assignment:g})})},g.id)),h.placeholder,t.length===0&&i.jsx("div",{className:"text-center text-gray-500 text-sm py-8",children:"Nenhum cliente nesta fase"})]})})})]})}function CVe(){const{currentBoard:e,stages:t,assignments:n,moveClientToStage:r,reorderClientsInStage:s,reorderStages:a}=Mc(),[o,l]=v.useState(!1);if(v.useEffect(()=>{l(!0)},[]),!o||!e)return null;const c=async d=>{const{destination:f,source:h,type:m}=d;if(f&&!(f.droppableId===h.droppableId&&f.index===h.index)){if(m==="stage"){const g=Array.from(t),[p]=g.splice(h.index,1);g.splice(f.index,0,p);const y=g.map(x=>x.id);await a(e.id,y);return}if(m==="client"){const g=h.droppableId,p=f.droppableId;if(g===p){const y=n.filter(b=>b.stage_id===g).sort((b,S)=>b.position-S.position),x=Array.from(y),[w]=x.splice(h.index,1);x.splice(f.index,0,w);const j=x.map(b=>b.id);await s(g,j)}else{const x=n.filter(w=>w.stage_id===g).sort((w,j)=>w.position-j.position)[h.index];x&&await r(x.id,p,f.index)}}}},u=d=>n.filter(f=>f.stage_id===d).sort((f,h)=>f.position-h.position);return i.jsx("div",{className:"h-full overflow-hidden",children:i.jsx(vG,{onDragEnd:c,children:i.jsx(ZP,{droppableId:"board",type:"stage",direction:"horizontal",children:d=>i.jsxs("div",{ref:d.innerRef,...d.droppableProps,className:"flex gap-6 h-full overflow-x-auto pb-4",children:[t.map((f,h)=>i.jsx(QP,{draggableId:f.id,index:h,children:(m,g)=>i.jsx("div",{ref:m.innerRef,...m.draggableProps,className:`flex-shrink-0 ${g.isDragging?"opacity-50":""}`,children:i.jsx(_Ve,{stage:f,assignments:u(f.id),dragHandleProps:m.dragHandleProps})})},f.id)),d.placeholder]})})})})}function EVe({open:e,onOpenChange:t}){const{createBoard:n}=Mc(),[r,s]=v.useState({name:"",description:""}),[a,o]=v.useState(!1),l=async c=>{if(c.preventDefault(),!!r.name.trim()){o(!0);try{await n(r),s({name:"",description:""}),t(!1)}catch(u){console.error("Error creating board:",u)}finally{o(!1)}}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(tn,{className:"h-4 w-4 mr-2"}),"Novo Quadro"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Criar Novo Quadro Kanban"}),i.jsx(ft,{children:"Crie um novo quadro para organizar seus clientes em fases personalizadas"})]}),i.jsxs("form",{onSubmit:l,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"boardName",children:"Nome do Quadro *"}),i.jsx(ie,{id:"boardName",value:r.name,onChange:c=>s({...r,name:c.target.value}),placeholder:"Ex: Pipeline de Vendas",required:!0})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"boardDescription",children:"Descrio (Opcional)"}),i.jsx(vt,{id:"boardDescription",value:r.description,onChange:c=>s({...r,description:c.target.value}),placeholder:"Descreva o propsito deste quadro...",rows:3})]})]}),i.jsx(yt,{className:"mt-6",children:i.jsx(B,{type:"submit",disabled:a||!r.name.trim(),children:a?"Criando...":"Criar Quadro"})})]})]})]})}var e2="Checkbox",[kVe,WKe]=js(e2),[AVe,PVe]=kVe(e2),CG=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=v.useState(null),g=ze(t,b=>m(b)),p=v.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,w]=Na({prop:s,defaultProp:a,onChange:u}),j=v.useRef(x);return v.useEffect(()=>{const b=h==null?void 0:h.form;if(b){const S=()=>w(j.current);return b.addEventListener("reset",S),()=>b.removeEventListener("reset",S)}},[h,w]),i.jsxs(AVe,{scope:n,state:x,disabled:l,children:[i.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":Wo(x)?"mixed":x,"aria-required":o,"data-state":AG(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onKeyDown:ye(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ye(e.onClick,b=>{w(S=>Wo(S)?!0:!S),y&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),y&&i.jsx(TVe,{control:h,bubbles:!p.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Wo(a)?!1:a})]})});CG.displayName=e2;var EG="CheckboxIndicator",kG=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=PVe(EG,n);return i.jsx(Qn,{present:r||Wo(a.state)||a.state===!0,children:i.jsx(Me.span,{"data-state":AG(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});kG.displayName=EG;var TVe=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...a}=e,o=v.useRef(null),l=ub(n),c=sw(t);v.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&m){const g=new Event("click",{bubbles:r});d.indeterminate=Wo(n),m.call(d,Wo(n)?!1:n),d.dispatchEvent(g)}},[l,n,r]);const u=v.useRef(Wo(n)?!1:n);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Wo(e){return e==="indeterminate"}function AG(e){return Wo(e)?"indeterminate":e?"checked":"unchecked"}var PG=CG,OVe=kG;const TG=v.forwardRef(({className:e,...t},n)=>i.jsx(PG,{ref:n,className:ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(OVe,{className:ve("flex items-center justify-center text-current"),children:i.jsx(X8,{className:"h-4 w-4"})})}));TG.displayName=PG.displayName;function IVe({open:e,onOpenChange:t,boardId:n}){const{stages:r,assignClientsToStage:s,getUnassignedClients:a}=Mc(),[o,l]=v.useState([]),[c,u]=v.useState([]),[d,f]=v.useState(""),[h,m]=v.useState(""),[g,p]=v.useState(!1);v.useEffect(()=>{e&&(y(),u([]),f(""),m(""))},[e]);const y=async()=>{try{const S=await a();l(S)}catch(S){console.error("Error loading unassigned clients:",S)}},x=o.filter(S=>{var N,C;return S.name.toLowerCase().includes(h.toLowerCase())||((N=S.email)==null?void 0:N.toLowerCase().includes(h.toLowerCase()))||((C=S.phone)==null?void 0:C.includes(h))}),w=S=>{u(N=>N.includes(S)?N.filter(C=>C!==S):[...N,S])},j=()=>{c.length===x.length?u([]):u(x.map(S=>S.id))},b=async S=>{if(S.preventDefault(),!(c.length===0||!d)){p(!0);try{await s(n,d,c),t(!1)}catch(N){console.error("Error assigning clients:",N)}finally{p(!1)}}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Adicionar Clientes"]})}),i.jsxs(et,{className:"max-w-2xl max-h-[80vh]",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Adicionar Clientes ao Quadro"}),i.jsx(ft,{children:"Selecione os clientes que deseja adicionar ao quadro Kanban"})]}),i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"stage",children:"Fase de Destino *"}),i.jsxs(Oe,{value:d,onValueChange:f,children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione uma fase"})}),i.jsx(Te,{children:r.map(S=>i.jsx(K,{value:S.id,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:S.color}}),i.jsx("span",{children:S.name})]})},S.id))})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"search",children:"Buscar Clientes"}),i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ie,{id:"search",value:h,onChange:S=>m(S.target.value),placeholder:"Buscar por nome, email ou telefone...",className:"pl-10"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Y,{children:["Clientes Disponveis (",x.length,")"]}),i.jsx(B,{type:"button",variant:"outline",size:"sm",onClick:j,children:c.length===x.length?"Desmarcar Todos":"Selecionar Todos"})]}),i.jsx(fp,{className:"h-64 border rounded-md p-2",children:x.length===0?i.jsx("div",{className:"text-center text-gray-500 py-8",children:o.length===0?"Todos os clientes j esto no quadro":"Nenhum cliente encontrado"}):i.jsx("div",{className:"space-y-2",children:x.map(S=>i.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-md",children:[i.jsx(TG,{checked:c.includes(S.id),onCheckedChange:()=>w(S.id)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:S.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:[S.email&&i.jsx("span",{children:S.email}),S.email&&S.phone&&i.jsx("span",{children:"  "}),S.phone&&i.jsx("span",{children:S.phone})]}),S.tags&&S.tags.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[S.tags.slice(0,3).map(N=>i.jsx(fe,{variant:"secondary",className:"text-xs",children:N},N)),S.tags.length>3&&i.jsxs(fe,{variant:"secondary",className:"text-xs",children:["+",S.tags.length-3]})]})]})]},S.id))})})]}),c.length>0&&i.jsx("div",{className:"bg-blue-50 p-3 rounded-md",children:i.jsxs("div",{className:"text-sm font-medium text-blue-900",children:[c.length," cliente(s) selecionado(s)"]})}),i.jsx(yt,{children:i.jsx(B,{type:"submit",disabled:g||c.length===0||!d,children:g?"Adicionando...":`Adicionar ${c.length} Cliente(s)`})})]})]})]})}const lL=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316","#6366f1"];function DVe({open:e,onOpenChange:t,boardId:n}){const{stages:r,assignments:s,createStage:a,updateStage:o,deleteStage:l,reorderStages:c}=Mc(),[u,d]=v.useState(""),[f,h]=v.useState("#3b82f6"),[m,g]=v.useState(null),[p,y]=v.useState({name:"",color:""}),[x,w]=v.useState(!1),[j,b]=v.useState(!1);v.useEffect(()=>{b(!0)},[]);const S=async A=>{if(A.preventDefault(),!!u.trim()){w(!0);try{await a(n,{name:u,color:f}),d(""),h("#3b82f6")}catch(I){console.error("Error creating stage:",I)}finally{w(!1)}}},N=async A=>{if(p.name.trim()){w(!0);try{await o(A,p),g(null)}catch(I){console.error("Error updating stage:",I)}finally{w(!1)}}},C=async A=>{w(!0);try{await l(A)}catch(I){console.error("Error deleting stage:",I)}finally{w(!1)}},_=async A=>{if(!A.destination)return;const I=Array.from(r),[L]=I.splice(A.source.index,1);I.splice(A.destination.index,0,L);const E=I.map(R=>R.id);await c(n,E)},k=A=>s.filter(I=>I.stage_id===A).length,P=A=>{g(A.id),y({name:A.name,color:A.color})};return j?i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(oc,{className:"h-4 w-4 mr-2"}),"Gerenciar Fases"]})}),i.jsxs(et,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Gerenciar Fases do Quadro"}),i.jsx(ft,{children:"Adicione, edite, remova e reordene as fases do seu quadro Kanban"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Criar Nova Fase"}),i.jsxs("form",{onSubmit:S,className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"stageName",children:"Nome da Fase"}),i.jsx(ie,{id:"stageName",value:u,onChange:A=>d(A.target.value),placeholder:"Ex: Proposta Enviada"})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Cor da Fase"}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:lL.map(A=>i.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 ${f===A?"border-gray-900":"border-gray-300"}`,style:{backgroundColor:A},onClick:()=>h(A)},A))})]}),i.jsxs(B,{type:"submit",disabled:x||!u.trim(),children:[i.jsx(tn,{className:"h-4 w-4 mr-2"}),"Criar Fase"]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-medium mb-3",children:["Fases Existentes (",r.length,")"]}),i.jsx(vG,{onDragEnd:_,children:i.jsx(ZP,{droppableId:"stages",children:A=>i.jsxs("div",{ref:A.innerRef,...A.droppableProps,className:"space-y-2",children:[r.map((I,L)=>i.jsx(QP,{draggableId:I.id,index:L,children:(E,R)=>i.jsx(re,{ref:E.innerRef,...E.draggableProps,className:R.isDragging?"opacity-50":"",children:i.jsx(se,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{...E.dragHandleProps,children:i.jsx(E6,{className:"h-4 w-4 text-gray-400 cursor-grab"})}),i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:I.color}}),m===I.id?i.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[i.jsx(ie,{value:p.name,onChange:O=>y({...p,name:O.target.value}),className:"flex-1"}),i.jsx("div",{className:"flex space-x-1",children:lL.map(O=>i.jsx("button",{type:"button",className:`w-6 h-6 rounded-full border ${p.color===O?"border-gray-900":"border-gray-300"}`,style:{backgroundColor:O},onClick:()=>y({...p,color:O})},O))})]}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"font-medium",children:I.name}),i.jsxs(fe,{variant:"secondary",children:[k(I.id)," clientes"]})]})]}),i.jsx("div",{className:"flex items-center space-x-1",children:m===I.id?i.jsxs(i.Fragment,{children:[i.jsx(B,{size:"sm",onClick:()=>N(I.id),disabled:x,children:"Salvar"}),i.jsx(B,{size:"sm",variant:"outline",onClick:()=>g(null),children:"Cancelar"})]}):i.jsxs(i.Fragment,{children:[i.jsx(B,{size:"sm",variant:"ghost",onClick:()=>P(I),children:i.jsx(wi,{className:"h-4 w-4"})}),i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsx(B,{size:"sm",variant:"ghost",children:i.jsx(Ks,{className:"h-4 w-4"})})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Deletar Fase"}),i.jsxs(ln,{children:['Tem certeza que deseja deletar a fase "',I.name,'"? Todos os ',k(I.id)," clientes nesta fase sero removidos do quadro."]})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{onClick:()=>C(I.id),className:"bg-red-600 hover:bg-red-700",children:"Deletar"})]})]})]})]})})]})})})},I.id)),A.placeholder]})})})]})]}),i.jsx(yt,{children:i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"})})]})]}):null}function MVe(){const{boards:e,currentBoard:t,stages:n,assignments:r,loading:s,fetchBoards:a,setCurrentBoard:o,deleteBoard:l}=Mc(),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState(!1);v.useEffect(()=>{a()},[a]),v.useEffect(()=>{!t&&e.length>0&&o(e[0])},[e,t,o]);const g=w=>{const j=e.find(b=>b.id===w);j&&o(j)},p=async w=>{if(await l(w),(t==null?void 0:t.id)===w&&e.length>1){const j=e.filter(b=>b.id!==w);j.length>0&&o(j[0])}},y=r.length,x=n.filter(w=>r.some(j=>j.stage_id===w.id)).length;return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full flex flex-col",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Kanban"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie clientes atravs de fases personalizveis"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(EVe,{open:c,onOpenChange:u}),t&&i.jsxs(i.Fragment,{children:[i.jsx(IVe,{open:d,onOpenChange:f,boardId:t.id}),i.jsx(DVe,{open:h,onOpenChange:m,boardId:t.id})]})]})]}),e.length>0&&i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[i.jsxs(re,{className:"flex-1",children:[i.jsx(pe,{className:"pb-3",children:i.jsx(ge,{className:"text-lg",children:"Quadro Atual"})}),i.jsxs(se,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Oe,{value:(t==null?void 0:t.id)||"",onValueChange:g,children:[i.jsx(Pe,{className:"w-64",children:i.jsx(Ie,{placeholder:"Selecione um quadro"})}),i.jsx(Te,{children:e.map(w=>i.jsx(K,{value:w.id,children:w.name},w.id))})]}),t&&i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",children:i.jsx(Lp,{className:"h-4 w-4"})})}),i.jsxs(Ea,{children:[i.jsxs(at,{onClick:()=>m(!0),children:[i.jsx(oc,{className:"h-4 w-4 mr-2"}),"Gerenciar Fases"]}),i.jsxs(at,{onClick:()=>f(!0),children:[i.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Adicionar Clientes"]}),i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsxs(at,{onSelect:w=>w.preventDefault(),children:[i.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Deletar Quadro"]})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Deletar Quadro"}),i.jsxs(ln,{children:['Tem certeza que deseja deletar o quadro "',t.name,'"? Esta ao no pode ser desfeita e todos os dados do quadro sero perdidos.']})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{onClick:()=>p(t.id),className:"bg-red-600 hover:bg-red-700",children:"Deletar"})]})]})]})]})]})]}),(t==null?void 0:t.description)&&i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:t.description})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total de Clientes"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Fases"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:x}),i.jsx("div",{className:"text-sm text-gray-600",children:"Fases Ativas"})]})})]})]}),i.jsx("div",{className:"flex-1 min-h-0",children:s?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?i.jsx(CVe,{}):e.length===0?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(oc,{className:"h-8 w-8 text-gray-400"})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum quadro Kanban"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Crie seu primeiro quadro Kanban para comear a organizar seus clientes"}),i.jsxs(B,{onClick:()=>u(!0),children:[i.jsx(tn,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Quadro"]})]})}):i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecione um quadro"}),i.jsx("p",{className:"text-gray-500",children:"Escolha um quadro Kanban para visualizar e gerenciar seus clientes"})]})})})]})})})}function RVe(){const[e,t]=v.useState(!1),[n,r]=v.useState({client_id:"",total_amount:"",status:"pending"}),[s,a]=v.useState(!1),{clients:o,createOrder:l,fetchClients:c}=Or(),{toast:u}=Zn();v.useEffect(()=>{e&&o.length===0&&c()},[e,o.length,c]);const d=async f=>{f.preventDefault(),a(!0);try{const h=parseFloat(n.total_amount);if(h>=1e8){u({title:"Error",description:"Total amount cannot exceed 99,999,999.99",variant:"destructive"});return}if(h<0){u({title:"Error",description:"Total amount cannot be negative",variant:"destructive"});return}await l({client_id:n.client_id,total_amount:h,status:n.status}),t(!1),r({client_id:"",total_amount:"",status:"pending"}),u({title:"Success",description:"Order created successfully"})}catch(h){u({title:"Error",description:h.message||"Failed to create order",variant:"destructive"})}finally{a(!1)}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(tn,{className:"mr-2 h-4 w-4"}),"Add Order"]})}),i.jsxs(et,{className:"sm:max-w-[425px]",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Add New Order"}),i.jsx(ft,{children:"Create a new order for a client."})]}),i.jsxs("form",{onSubmit:d,children:[i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"client",children:"Client *"}),i.jsxs(Oe,{value:n.client_id,onValueChange:f=>r({...n,client_id:f}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Select client"})}),i.jsx(Te,{children:o.map(f=>i.jsx(K,{value:f.id,children:f.name},f.id))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"amount",children:"Total Amount *"}),i.jsx(ie,{id:"amount",type:"number",step:"0.01",min:"0",max:"99999999.99",value:n.total_amount,onChange:f=>r({...n,total_amount:f.target.value}),placeholder:"0.00",required:!0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum amount: 99,999,999.99"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"status",children:"Status"}),i.jsxs(Oe,{value:n.status,onValueChange:f=>r({...n,status:f}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"pending",children:"Pending"}),i.jsx(K,{value:"completed",children:"Completed"}),i.jsx(K,{value:"cancelled",children:"Cancelled"})]})]})]})]}),i.jsx(yt,{children:i.jsx(B,{type:"submit",disabled:s||!n.client_id||!n.total_amount,children:s?"Creating...":"Create Order"})})]})]})]})}function $Ve(){const{orders:e,fetchOrders:t}=Or(),[n,r]=v.useState(""),[s,a]=v.useState("all"),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState({key:"order_date",direction:"descending"}),[h,m]=v.useState(1),[g,p]=v.useState(10);v.useEffect(()=>{t()},[t]);const y=v.useMemo(()=>e.filter(A=>{if(!A||!A.client)return!1;const I=A.client.name.toLowerCase().includes(n.toLowerCase())||A.total_amount.toString().includes(n)||A.order_id_base&&A.order_id_base.toString().includes(n)||A.id.toLowerCase().includes(n.toLowerCase()),L=s==="all"||A.status===s;return I&&L}),[e,n,s]),x=v.useMemo(()=>{let A=[...y];return d!==null&&A.sort((I,L)=>{const E=(F,D)=>D.split(".").reduce((M,$)=>M&&M[$],F),R=E(I,d.key),O=E(L,d.key);return R<O?d.direction==="ascending"?-1:1:R>O?d.direction==="ascending"?1:-1:0}),A},[y,d]),w=g==="all"?1:Math.ceil(x.length/g),j=v.useMemo(()=>{if(g==="all")return x;const A=(h-1)*g,I=A+g;return x.slice(A,I)},[x,h,g]);v.useEffect(()=>{h>w&&m(w>0?w:1)},[h,w]);const b=A=>{let I="ascending";d&&d.key===A&&d.direction==="ascending"&&(I="descending"),f({key:A,direction:I}),m(1)},S=A=>{p(A==="all"?"all":Number(A)),m(1)},N=A=>!d||d.key!==A?null:d.direction==="ascending"?i.jsx(Roe,{className:"inline-block ml-1 h-4 w-4"}):i.jsx(Doe,{className:"inline-block ml-1 h-4 w-4"}),C=A=>{l(A),u(!0)},_=A=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(A),k=A=>{switch(A){case"pending":return{text:"Pendente",className:"bg-yellow-100 text-yellow-800"};case"completed":return{text:"Concludo",className:"bg-green-100 text-green-800"};case"cancelled":return{text:"Cancelado",className:"bg-red-100 text-red-800"};default:return{text:A,className:"bg-gray-100 text-gray-800"}}},P=e.filter(A=>A.status==="completed").reduce((A,I)=>A+I.total_amount,0);return i.jsx(kr,{children:i.jsxs("div",{className:"w-full h-full",children:[i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pedidos"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Acompanhe os pedidos e vendas dos clientes"})]}),i.jsx(RVe,{})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(A=>A.status==="pending").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Pedidos Pendentes"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(A=>A.status==="completed").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Pedidos Concludos"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_(P)}),i.jsx("div",{className:"text-sm text-gray-600",children:"Receita Total"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:_(e.length>0?P/e.filter(A=>A.status==="completed").length||1:0)}),i.jsx("div",{className:"text-sm text-gray-600",children:"Ticket Mdio"})]})})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{children:"Busca & Filtros"})}),i.jsx(se,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ie,{placeholder:"Buscar pedidos...",value:n,onChange:A=>r(A.target.value),className:"pl-10"})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(B,{variant:s==="all"?"default":"outline",size:"sm",onClick:()=>a("all"),children:"Todos"}),i.jsx(B,{variant:s==="pending"?"default":"outline",size:"sm",onClick:()=>a("pending"),children:"Pendentes"}),i.jsx(B,{variant:s==="completed"?"default":"outline",size:"sm",onClick:()=>a("completed"),children:"Concludos"}),i.jsx(B,{variant:s==="cancelled"?"default":"outline",size:"sm",onClick:()=>a("cancelled"),children:"Cancelados"})]})]})})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{children:["Todos os Pedidos (",x.length,")"]})}),i.jsx(se,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsxs(Ne,{onClick:()=>b("order_id_base"),className:"cursor-pointer hover:bg-gray-100",children:["ID do Pedido",N("order_id_base")]}),i.jsxs(Ne,{onClick:()=>b("client.name"),className:"cursor-pointer hover:bg-gray-100",children:["Cliente",N("client.name")]}),i.jsxs(Ne,{onClick:()=>b("total_amount"),className:"cursor-pointer hover:bg-gray-100",children:["Valor",N("total_amount")]}),i.jsxs(Ne,{onClick:()=>b("status"),className:"cursor-pointer hover:bg-gray-100",children:["Status",N("status")]}),i.jsxs(Ne,{onClick:()=>b("order_date"),className:"cursor-pointer hover:bg-gray-100",children:["Data",N("order_date")]}),i.jsx(Ne,{children:"Aes"})]})}),i.jsx(Kr,{children:j.map(A=>{var L;const I=k(A.status);return i.jsxs(it,{children:[i.jsx(oe,{className:"font-medium",children:A.order_id_base?i.jsxs("a",{href:`https://panel-u.baselinker.com/orders.php#order:${A.order_id_base}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-blue-600 hover:text-blue-800 hover:underline",children:["#",A.order_id_base,i.jsx(Fp,{className:"h-3.5 w-3.5"})]}):i.jsxs("span",{children:["#",A.id.slice(0,8)]})}),i.jsx(oe,{children:((L=A.client)==null?void 0:L.name)||"Cliente Desconhecido"}),i.jsx(oe,{children:_(A.total_amount)}),i.jsx(oe,{children:i.jsx(fe,{className:I.className,children:I.text})}),i.jsx(oe,{children:new Date(A.order_date).toLocaleDateString("pt-BR")}),i.jsx(oe,{children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(B,{size:"sm",variant:"outline",children:"Editar"}),i.jsx(B,{size:"sm",variant:"outline",onClick:()=>C(A),children:"Ver"})]})})]},A.id)})})]})})}),i.jsx($u,{children:i.jsxs("div",{className:"w-full flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total de ",x.length," pedidos."]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Itens por pgina:"}),i.jsxs(Oe,{value:String(g),onValueChange:S,children:[i.jsx(Pe,{className:"w-[80px]",children:i.jsx(Ie,{placeholder:g})}),i.jsxs(Te,{children:[[10,20,50,100,200].map(A=>i.jsx(K,{value:String(A),children:A},A)),i.jsx(K,{value:"all",children:"Todos"})]})]})]}),i.jsxs("div",{className:"text-sm font-medium",children:["Pgina ",h," de ",w]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(B,{variant:"outline",size:"icon",onClick:()=>m(A=>A-1),disabled:h<=1,children:i.jsx(H0,{className:"h-4 w-4"})}),i.jsx(B,{variant:"outline",size:"icon",onClick:()=>m(A=>A+1),disabled:h>=w,children:i.jsx(G0,{className:"h-4 w-4"})})]})]})]})})]})]}),i.jsx(cH,{open:c,onOpenChange:u,order:o})]})})}function OG(){const[e,t]=v.useState(!1),[n,r]=v.useState(""),[s,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(null),[h,m]=v.useState(null),[g,p]=v.useState(null),[y,x]=v.useState(""),[w,j]=v.useState(""),[b,S]=v.useState(""),[N,C]=v.useState("image"),[_,k]=v.useState(""),[P,A]=v.useState(!1),{whatsappInstances:I,fetchWhatsAppInstances:L,connectWhatsApp:E,disconnectWhatsApp:R,deleteWhatsApp:O,getWhatsAppQR:F,restartWhatsApp:D,sendWhatsAppMessage:M,sendWhatsAppMedia:$,syncWhatsAppStatus:z,syncAllWhatsAppInstances:W,reconnectWhatsApp:H}=je(),{toast:V}=Zn();v.useEffect(()=>{e&&L()},[e,L]),v.useEffect(()=>{if(!e)return;const J=setInterval(()=>{W()},3e4);return()=>clearInterval(J)},[e,W]);const te=async()=>{if(!n.trim()){V({title:"Erro",description:"Por favor, insira um nome para a instncia",variant:"destructive"});return}a(!0);try{await E(n.trim()),r(""),V({title:"Sucesso",description:"Instncia WhatsApp criada com sucesso. Escaneie o QR code para conectar."})}catch(J){V({title:"Erro",description:J.message||"Falha ao criar instncia WhatsApp",variant:"destructive"})}finally{a(!1)}},ne=async J=>{p(J);try{await H(J),V({title:"Sucesso",description:"Reconectando instncia WhatsApp..."})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao reconectar instncia WhatsApp",variant:"destructive"})}finally{p(null)}},X=async J=>{try{await R(J),V({title:"Sucesso",description:"Instncia WhatsApp desconectada"})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao desconectar instncia WhatsApp",variant:"destructive"})}},ee=async J=>{u(J);try{await O(J),V({title:"Sucesso",description:"Instncia WhatsApp deletada com sucesso"})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao deletar instncia WhatsApp",variant:"destructive"})}finally{u(null)}},Z=async J=>{l(!0);try{await F(J),V({title:"Sucesso",description:"QR code atualizado"})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao atualizar QR code",variant:"destructive"})}finally{l(!1)}},ae=async J=>{f(J);try{await D(J),V({title:"Sucesso",description:"Instncia reiniciada com sucesso"})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao reiniciar instncia",variant:"destructive"})}finally{f(null)}},ce=async J=>{m(J);try{await z(J),V({title:"Sucesso",description:"Status sincronizado com sucesso"})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao sincronizar status",variant:"destructive"})}finally{m(null)}},q=async J=>{if(!y.trim()||!w.trim()){V({title:"Erro",description:"Por favor, preencha o nmero e a mensagem",variant:"destructive"});return}A(!0);try{await M(J,w,y),x(""),j(""),V({title:"Sucesso",description:"Mensagem de teste enviada com sucesso"})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao enviar mensagem de teste",variant:"destructive"})}finally{A(!1)}},be=async J=>{if(!b.trim()||!w.trim()){V({title:"Erro",description:"Por favor, preencha o nmero e a URL da mdia",variant:"destructive"});return}A(!0);try{await $(J,w,b,N,_),S(""),j(""),k(""),V({title:"Sucesso",description:"Mdia de teste enviada com sucesso"})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao enviar mdia de teste",variant:"destructive"})}finally{A(!1)}},Se=J=>{switch(J){case"connected":return i.jsx(Gn,{className:"h-4 w-4 text-green-600"});case"connecting":return i.jsx(Er,{className:"h-4 w-4 text-yellow-600"});case"disconnected":return i.jsx(jn,{className:"h-4 w-4 text-red-600"});default:return i.jsx(jn,{className:"h-4 w-4 text-gray-600"})}},Ae=J=>{switch(J){case"connected":return"bg-green-100 text-green-800";case"connecting":return"bg-yellow-100 text-yellow-800";case"disconnected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Q=J=>{switch(J){case"connected":return"Conectado";case"connecting":return"Conectando";case"disconnected":return"Desconectado";default:return"Desconhecido"}},me=J=>{switch(J){case"image":return i.jsx(kh,{className:"h-4 w-4"});case"video":return i.jsx(Ph,{className:"h-4 w-4"});case"audio":return i.jsx(Ah,{className:"h-4 w-4"});case"document":return i.jsx(ma,{className:"h-4 w-4"});default:return i.jsx(ma,{className:"h-4 w-4"})}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(qn,{className:"mr-2 h-4 w-4"}),"Configurar WhatsApp"]})}),i.jsxs(et,{className:"sm:max-w-6xl max-h-[95vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Configurao WhatsApp Evolution API"}),i.jsx(ft,{children:"Gerencie suas instncias WhatsApp conectadas via Evolution API com funcionalidades completas."})]}),i.jsxs(Jn,{defaultValue:"instances",className:"w-full",children:[i.jsxs(Mn,{className:"grid w-full grid-cols-3",children:[i.jsx(Fe,{value:"instances",children:"Instncias"}),i.jsx(Fe,{value:"test",children:"Teste de Mensagens"}),i.jsx(Fe,{value:"info",children:"Informaes"})]}),i.jsxs(Ve,{value:"instances",className:"space-y-6",children:[i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{className:"text-lg",children:"Criar Nova Instncia"})}),i.jsx(se,{children:i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(Y,{htmlFor:"instanceName",children:"Nome da Instncia"}),i.jsx(ie,{id:"instanceName",placeholder:"Ex: WhatsApp Vendas",value:n,onChange:J=>r(J.target.value),onKeyPress:J=>{J.key==="Enter"&&!s&&te()}})]}),i.jsx("div",{className:"flex items-end",children:i.jsx(B,{onClick:te,disabled:s||!n.trim(),className:"min-w-[120px]",children:s?"Criando...":"Criar Instncia"})})]})})]}),I.length>0&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ge,{className:"text-lg",children:["Instncias Existentes (",I.length,")"]}),i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>W(),children:[i.jsx(SI,{className:"h-4 w-4 mr-2"}),"Sincronizar Todas"]})]})}),i.jsx(se,{children:i.jsx("div",{className:"space-y-4",children:I.map(J=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[Se(J.status),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:J.instance_name}),i.jsx("p",{className:"text-sm text-gray-500",children:J.phone_number||"No conectado"}),i.jsxs("p",{className:"text-xs text-gray-400",children:["Criado em: ",new Date(J.created_at).toLocaleDateString("pt-BR")]}),J.session_id&&i.jsxs("p",{className:"text-xs text-gray-400",children:["Session ID: ",J.session_id]}),J.webhook_url&&i.jsx("p",{className:"text-xs text-green-600",children:" Webhook configurado"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[i.jsx(fe,{className:Ae(J.status),children:Q(J.status)}),i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>ce(J.id),disabled:h===J.id,children:[i.jsx(SI,{className:`h-4 w-4 mr-1 ${h===J.id?"animate-spin":""}`}),h===J.id?"Sincronizando...":"Sincronizar"]}),J.status==="disconnected"&&i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>ne(J.id),disabled:g===J.id,className:"text-blue-600 hover:text-blue-700",children:[i.jsx(ule,{className:`h-4 w-4 mr-1 ${g===J.id?"animate-spin":""}`}),g===J.id?"Reconectando...":"Reconectar"]}),J.status==="connecting"&&J.qr_code&&i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>Z(J.id),disabled:o,children:[i.jsx(ya,{className:`h-4 w-4 mr-1 ${o?"animate-spin":""}`}),"Atualizar QR"]}),i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>ae(J.id),disabled:d===J.id,children:[i.jsx(AN,{className:`h-4 w-4 mr-1 ${d===J.id?"animate-spin":""}`}),d===J.id?"Reiniciando...":"Reiniciar"]}),J.status!=="disconnected"&&i.jsx(B,{variant:"outline",size:"sm",onClick:()=>X(J.id),children:"Desconectar"}),i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsxs(B,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",disabled:c===J.id,children:[i.jsx(Ks,{className:"h-4 w-4 mr-1"}),c===J.id?"Deletando...":"Deletar"]})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Confirmar Excluso"}),i.jsxs(ln,{children:['Tem certeza que deseja deletar a instncia "',J.instance_name,'"? Esta ao no pode ser desfeita e a instncia ser removida permanentemente tanto do sistema quanto da Evolution API.']})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{onClick:()=>ee(J.id),className:"bg-red-600 hover:bg-red-700",children:"Deletar Permanentemente"})]})]})]})]})]}),J.status==="connecting"&&J.qr_code&&i.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"text-center",children:[i.jsx(nle,{className:"h-6 w-6 mx-auto mb-2 text-gray-600"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Escaneie este QR code com seu WhatsApp"}),i.jsx("div",{className:"bg-white p-4 rounded-lg border inline-block",children:i.jsx("img",{src:J.qr_code,alt:"WhatsApp QR Code",className:"w-48 h-48 mx-auto"})}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'O QR code expira em alguns minutos. Clique em "Atualizar QR" se necessrio.'})]})}),J.status==="connected"&&i.jsxs("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx(Gn,{className:"h-5 w-5 text-green-600"}),i.jsx("span",{className:"text-green-800 font-medium",children:"WhatsApp conectado com sucesso!"})]}),J.phone_number&&i.jsxs("p",{className:"text-center text-sm text-green-700 mt-1",children:["Nmero: ",J.phone_number]}),i.jsx("p",{className:"text-center text-xs text-green-600 mt-2",children:" Pronto para enviar e receber mensagens"})]}),J.status==="disconnected"&&i.jsxs("div",{className:"mt-4 p-4 bg-red-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx(jn,{className:"h-5 w-5 text-red-600"}),i.jsx("span",{className:"text-red-800 font-medium",children:"WhatsApp desconectado"})]}),i.jsx("p",{className:"text-center text-sm text-red-700 mt-1",children:'Clique em "Reconectar" para gerar um novo QR code ou "Reiniciar" para tentar reconectar'})]})]},J.id))})})]})]}),i.jsx(Ve,{value:"test",className:"space-y-6",children:I.filter(J=>J.status==="connected").length===0?i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma instncia conectada"}),i.jsx("p",{className:"text-gray-500",children:"Conecte uma instncia WhatsApp para testar o envio de mensagens"})]})}):i.jsx("div",{className:"space-y-6",children:I.filter(J=>J.status==="connected").map(J=>i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"flex items-center space-x-2",children:[i.jsx(qn,{className:"h-5 w-5"}),i.jsxs("span",{children:["Teste de Mensagens - ",J.instance_name]})]})}),i.jsx(se,{children:i.jsxs(Jn,{defaultValue:"text",className:"w-full",children:[i.jsxs(Mn,{children:[i.jsx(Fe,{value:"text",children:"Texto"}),i.jsx(Fe,{value:"media",children:"Mdia"})]}),i.jsxs(Ve,{value:"text",className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testNumber",children:"Nmero (com DDD)"}),i.jsx(ie,{id:"testNumber",placeholder:"11999999999",value:w,onChange:_e=>j(_e.target.value)})]})}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testMessage",children:"Mensagem"}),i.jsx(vt,{id:"testMessage",placeholder:"Digite sua mensagem de teste...",value:y,onChange:_e=>x(_e.target.value),rows:3})]}),i.jsxs(B,{onClick:()=>q(J.id),disabled:P||!y.trim()||!w.trim(),className:"w-full",children:[i.jsx(Y0,{className:"h-4 w-4 mr-2"}),P?"Enviando...":"Enviar Mensagem de Teste"]})]}),i.jsxs(Ve,{value:"media",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testNumberMedia",children:"Nmero (com DDD)"}),i.jsx(ie,{id:"testNumberMedia",placeholder:"11999999999",value:w,onChange:_e=>j(_e.target.value)})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testMediaType",children:"Tipo de Mdia"}),i.jsxs(Oe,{value:N,onValueChange:_e=>C(_e),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"image",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(kh,{className:"h-4 w-4 mr-2"}),"Imagem"]})}),i.jsx(K,{value:"video",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ph,{className:"h-4 w-4 mr-2"}),"Vdeo"]})}),i.jsx(K,{value:"audio",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ah,{className:"h-4 w-4 mr-2"}),"udio"]})}),i.jsx(K,{value:"document",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ma,{className:"h-4 w-4 mr-2"}),"Documento"]})})]})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testMediaUrl",children:"URL da Mdia"}),i.jsx(ie,{id:"testMediaUrl",placeholder:"https://exemplo.com/arquivo.jpg",value:b,onChange:_e=>S(_e.target.value)})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testCaption",children:"Legenda (Opcional)"}),i.jsx(vt,{id:"testCaption",placeholder:"Digite uma legenda para a mdia...",value:_,onChange:_e=>k(_e.target.value),rows:2})]}),i.jsxs(B,{onClick:()=>be(J.id),disabled:P||!b.trim()||!w.trim(),className:"w-full",children:[me(N),i.jsx("span",{className:"ml-2",children:P?"Enviando...":`Enviar ${N==="image"?"Imagem":N==="video"?"Vdeo":N==="audio"?"udio":"Documento"}`})]})]})]})})]},J.id))})}),i.jsxs(Ve,{value:"info",className:"space-y-6",children:[i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{className:"text-lg",children:"Informaes da Evolution API"})}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Servidor"}),i.jsx("p",{className:"text-sm text-gray-600",children:"https://evolution.suplelive.com.br"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Verso da API"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Evolution API v2.2.2"})]})]}),i.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-800 mb-2",children:" Webhook Configurado Automaticamente"}),i.jsx("p",{className:"text-sm text-green-700",children:"O webhook est configurado para receber mensagens automaticamente em:"}),i.jsxs("code",{className:"text-xs bg-green-100 px-2 py-1 rounded mt-1 block",children:["https://oqwstanztqdiexgrpdta.supabase.co","/functions/v1/evolution-webhook"]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Funcionalidades Disponveis"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[i.jsx("div",{children:"  Envio de mensagens de texto"}),i.jsx("div",{children:"  Envio de imagens e vdeos"}),i.jsx("div",{children:"  Envio de udios e documentos"}),i.jsx("div",{children:"  Recebimento automtico de mensagens"}),i.jsx("div",{children:"  Criao automtica de clientes"}),i.jsx("div",{children:"  Conversas unificadas no inbox"}),i.jsx("div",{children:"  Status de entrega em tempo real"}),i.jsx("div",{children:"  Mltiplas instncias"}),i.jsx("div",{children:"  QR Code automtico"}),i.jsx("div",{children:"  Webhook em tempo real"}),i.jsx("div",{children:"  Sincronizao de status"}),i.jsx("div",{children:"  Reconexo inteligente"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Eventos de Webhook Processados"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[i.jsx("div",{children:" QRCODE_UPDATED"}),i.jsx("div",{children:" CONNECTION_UPDATE"}),i.jsx("div",{children:" MESSAGES_UPSERT"}),i.jsx("div",{children:" MESSAGES_UPDATE"}),i.jsx("div",{children:" SEND_MESSAGE"}),i.jsx("div",{children:" CONTACTS_SET"}),i.jsx("div",{children:" CONTACTS_UPSERT"}),i.jsx("div",{children:" CONTACTS_UPDATE"}),i.jsx("div",{children:" PRESENCE_UPDATE"}),i.jsx("div",{children:" CHATS_SET"}),i.jsx("div",{children:" CHATS_UPSERT"}),i.jsx("div",{children:" CHATS_UPDATE"}),i.jsx("div",{children:" CHATS_DELETE"}),i.jsx("div",{children:" GROUPS_UPSERT"}),i.jsx("div",{children:" GROUP_UPDATE"}),i.jsx("div",{children:" GROUP_PARTICIPANTS_UPDATE"})]})]})]})})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{className:"text-lg",children:"Informaes Importantes"})}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsx("p",{children:" Cada instncia WhatsApp pode ser conectada a apenas um nmero de telefone"}),i.jsx("p",{children:" O QR code expira automaticamente aps alguns minutos"}),i.jsx("p",{children:' Use o boto "Atualizar QR" se o cdigo expirar'}),i.jsx("p",{children:" Mantenha o WhatsApp Web fechado no navegador para evitar conflitos"}),i.jsx("p",{children:" A conexo  mantida automaticamente pela Evolution API"}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:'Use "Reconectar" para gerar um novo QR code sem recriar a instncia'})]}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Deletar uma instncia remove permanentemente todos os dados"})]}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Mensagens recebidas criam automaticamente clientes e conversas"})]}),i.jsx("p",{children:" Webhooks so configurados automaticamente para receber eventos em tempo real"}),i.jsx("p",{children:' Use "Reiniciar" se a instncia apresentar problemas de conexo'}),i.jsx("p",{children:" Teste sempre as mensagens antes de usar em produo"}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:'Use "Sincronizar" para verificar o status atual na Evolution API'})]})]})})]})]})]}),i.jsx(yt,{children:i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"})})]})]})}function LVe(){const{messages:e,clients:t,fetchMessages:n,fetchClients:r,sendMessage:s}=Or(),[a,o]=v.useState(""),[l,c]=v.useState(""),[u,d]=v.useState(!1),[f,h]=v.useState(!1),{toast:m}=Zn();v.useEffect(()=>{n(),r()},[n,r]);const g=async y=>{if(y.preventDefault(),!(!a||!l.trim())){d(!0);try{await s(a,l),h(!1),o(""),c(""),m({title:"Success",description:"Message sent successfully"})}catch(x){m({title:"Error",description:x.message||"Failed to send message",variant:"destructive"})}finally{d(!1)}}},p=y=>{switch(y){case"sent":return"bg-green-100 text-green-800";case"delivered":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messages"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"WhatsApp communication with clients"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(OG,{}),i.jsxs(ot,{open:f,onOpenChange:h,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(Y0,{className:"mr-2 h-4 w-4"}),"Send Message"]})}),i.jsxs(et,{className:"sm:max-w-[500px]",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Send WhatsApp Message"}),i.jsx(ft,{children:"Send a message to a client via WhatsApp."})]}),i.jsxs("form",{onSubmit:g,children:[i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"client",children:"Client *"}),i.jsxs(Oe,{value:a,onValueChange:o,children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Select client"})}),i.jsx(Te,{children:t.map(y=>i.jsxs(K,{value:y.id,children:[y.name," ",y.phone&&`(${y.phone})`]},y.id))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"message",children:"Message *"}),i.jsx(vt,{id:"message",placeholder:"Enter your message...",value:l,onChange:y=>c(y.target.value),rows:4,required:!0})]})]}),i.jsx(yt,{children:i.jsx(B,{type:"submit",disabled:u||!a||!l.trim(),children:u?"Sending...":"Send Message"})})]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(y=>y.status==="sent").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Messages Sent"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(y=>y.status==="delivered").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Delivered"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(y=>y.status==="pending").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(y=>y.status==="failed").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]})})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{children:["Message History (",e.length,")"]})}),i.jsx(se,{children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Ne,{children:"Client"}),i.jsx(Ne,{children:"Message"}),i.jsx(Ne,{children:"Type"}),i.jsx(Ne,{children:"Status"}),i.jsx(Ne,{children:"Sent At"}),i.jsx(Ne,{children:"Actions"})]})}),i.jsx(Kr,{children:e.map(y=>{var x;return i.jsxs(it,{children:[i.jsx(oe,{className:"font-medium",children:((x=y.client)==null?void 0:x.name)||"Unknown Client"}),i.jsx(oe,{className:"max-w-xs truncate",children:y.content}),i.jsx(oe,{children:i.jsx(fe,{variant:y.send_type==="automated"?"secondary":"outline",children:y.send_type})}),i.jsx(oe,{children:i.jsx(fe,{className:p(y.status),children:y.status})}),i.jsx(oe,{children:new Date(y.timestamp).toLocaleString()}),i.jsx(oe,{children:i.jsx(B,{size:"sm",variant:"outline",children:"View"})})]},y.id)})})]})})]})]})})})}function FVe(){const[e,t]=v.useState(!1),[n,r]=v.useState({name:"",segment:"",message:"",scheduled_at:""}),[s,a]=v.useState(!1),{createCampaign:o}=Or(),{toast:l}=Zn(),c=async u=>{u.preventDefault(),a(!0);try{await o({...n,scheduled_at:n.scheduled_at?new Date(n.scheduled_at).toISOString():void 0}),t(!1),r({name:"",segment:"",message:"",scheduled_at:""}),l({title:"Success",description:"Campaign created successfully"})}catch(d){l({title:"Error",description:d.message||"Failed to create campaign",variant:"destructive"})}finally{a(!1)}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(tn,{className:"mr-2 h-4 w-4"}),"Create Campaign"]})}),i.jsxs(et,{className:"sm:max-w-[500px]",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Create New Campaign"}),i.jsx(ft,{children:"Create a targeted messaging campaign for specific customer segments."})]}),i.jsxs("form",{onSubmit:c,children:[i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"name",children:"Campaign Name *"}),i.jsx(ie,{id:"name",value:n.name,onChange:u=>r({...n,name:u.target.value}),required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"segment",children:"Target Segment *"}),i.jsxs(Oe,{value:n.segment,onValueChange:u=>r({...n,segment:u}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Select target segment"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"champions",children:"Champions"}),i.jsx(K,{value:"loyal_customers",children:"Loyal Customers"}),i.jsx(K,{value:"potential_loyalists",children:"Potential Loyalists"}),i.jsx(K,{value:"new_customers",children:"New Customers"}),i.jsx(K,{value:"at_risk",children:"At Risk"}),i.jsx(K,{value:"hibernating",children:"Hibernating"}),i.jsx(K,{value:"lost",children:"Lost Customers"}),i.jsx(K,{value:"unconverted_leads",children:"Unconverted Leads"}),i.jsx(K,{value:"inactive_clients",children:"Inactive Clients"}),i.jsx(K,{value:"high_value",children:"High Value Customers"})]})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"message",children:"Message *"}),i.jsx(vt,{id:"message",placeholder:"Enter your campaign message...",value:n.message,onChange:u=>r({...n,message:u.target.value}),rows:4,required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"scheduled_at",children:"Schedule (Optional)"}),i.jsx(ie,{id:"scheduled_at",type:"datetime-local",value:n.scheduled_at,onChange:u=>r({...n,scheduled_at:u.target.value})})]})]}),i.jsx(yt,{children:i.jsx(B,{type:"submit",disabled:s,children:s?"Creating...":"Create Campaign"})})]})]})]})}function BVe(){const{campaigns:e,fetchCampaigns:t}=Or();v.useEffect(()=>{t()},[t]);const n=s=>{switch(s){case"draft":return"bg-gray-100 text-gray-800";case"scheduled":return"bg-blue-100 text-blue-800";case"running":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},r=s=>{switch(s){case"champions":return"bg-green-100 text-green-800";case"loyal_customers":return"bg-blue-100 text-blue-800";case"at_risk":return"bg-red-100 text-red-800";case"lost":return"bg-gray-100 text-gray-800";default:return"bg-purple-100 text-purple-800"}};return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Campaigns"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Manage targeted messaging campaigns"})]}),i.jsx(FVe,{})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(T6,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total Campaigns"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Li,{className:"h-5 w-5 text-yellow-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(s=>s.status==="scheduled").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Scheduled"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fr,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(s=>s.status==="completed").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]})})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.reduce((s,a)=>s+(a.sent_count||0),0)}),i.jsx("div",{className:"text-sm text-gray-600",children:"Messages Sent"})]})})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{children:["All Campaigns (",e.length,")"]})}),i.jsx(se,{children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Ne,{children:"Campaign Name"}),i.jsx(Ne,{children:"Segment"}),i.jsx(Ne,{children:"Status"}),i.jsx(Ne,{children:"Target Count"}),i.jsx(Ne,{children:"Sent Count"}),i.jsx(Ne,{children:"Scheduled"}),i.jsx(Ne,{children:"Created"}),i.jsx(Ne,{children:"Actions"})]})}),i.jsx(Kr,{children:e.map(s=>i.jsxs(it,{children:[i.jsx(oe,{className:"font-medium",children:s.name}),i.jsx(oe,{children:i.jsx(fe,{className:r(s.segment),children:s.segment.replace("_"," ")})}),i.jsx(oe,{children:i.jsx(fe,{className:n(s.status||"draft"),children:s.status||"draft"})}),i.jsx(oe,{children:s.target_count||"-"}),i.jsx(oe,{children:s.sent_count||0}),i.jsx(oe,{children:s.scheduled_at?new Date(s.scheduled_at).toLocaleString():"Not scheduled"}),i.jsx(oe,{children:new Date(s.created_at).toLocaleDateString()}),i.jsx(oe,{children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(B,{size:"sm",variant:"outline",children:"Edit"}),i.jsx(B,{size:"sm",variant:"outline",children:"View"}),s.status==="draft"&&i.jsx(B,{size:"sm",children:"Launch"})]})})]},s.id))})]})})]})]})})})}var IG=["PageUp","PageDown"],DG=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],MG={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},yf="Slider",[EC,zVe,WVe]=Q0(yf),[RG,VKe]=js(yf,[WVe]),[VVe,Db]=RG(yf),$G=v.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:g,...p}=e,y=v.useRef(new Set),x=v.useRef(0),j=o==="horizontal"?UVe:qVe,[b=[],S]=Na({prop:d,defaultProp:u,onChange:A=>{var L;(L=[...y.current][x.current])==null||L.focus(),f(A)}}),N=v.useRef(b);function C(A){const I=XVe(b,A);P(A,I)}function _(A){P(A,x.current)}function k(){const A=N.current[x.current];b[x.current]!==A&&h(b)}function P(A,I,{commit:L}={commit:!1}){const E=eUe(a),R=tUe(Math.round((A-r)/a)*a+r,E),O=dp(R,[r,s]);S((F=[])=>{const D=KVe(F,O,I);if(ZVe(D,c*a)){x.current=D.indexOf(O);const M=String(D)!==String(F);return M&&L&&h(D),M?D:F}else return F})}return i.jsx(VVe,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:x,thumbs:y.current,values:b,orientation:o,form:g,children:i.jsx(EC.Provider,{scope:e.__scopeSlider,children:i.jsx(EC.Slot,{scope:e.__scopeSlider,children:i.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:ye(p.onPointerDown,()=>{l||(N.current=b)}),min:r,max:s,inverted:m,onSlideStart:l?void 0:C,onSlideMove:l?void 0:_,onSlideEnd:l?void 0:k,onHomeKeyDown:()=>!l&&P(r,0,{commit:!0}),onEndKeyDown:()=>!l&&P(s,b.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:I})=>{if(!l){const R=IG.includes(A.key)||A.shiftKey&&DG.includes(A.key)?10:1,O=x.current,F=b[O],D=a*R*I;P(F+D,O,{commit:!0})}}})})})})});$G.displayName=yf;var[LG,FG]=RG(yf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),UVe=v.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=v.useState(null),m=ze(t,j=>h(j)),g=v.useRef(),p=Yd(s),y=p==="ltr",x=y&&!a||!y&&a;function w(j){const b=g.current||f.getBoundingClientRect(),S=[0,b.width],C=t2(S,x?[n,r]:[r,n]);return g.current=b,C(j-b.left)}return i.jsx(LG,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:i.jsx(BG,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const b=w(j.clientX);o==null||o(b)},onSlideMove:j=>{const b=w(j.clientX);l==null||l(b)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:j=>{const S=MG[x?"from-left":"from-right"].includes(j.key);u==null||u({event:j,direction:S?-1:1})}})})}),qVe=v.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=v.useRef(null),f=ze(t,d),h=v.useRef(),m=!s;function g(p){const y=h.current||d.current.getBoundingClientRect(),x=[0,y.height],j=t2(x,m?[r,n]:[n,r]);return h.current=y,j(p-y.top)}return i.jsx(LG,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:i.jsx(BG,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const y=g(p.clientY);a==null||a(y)},onSlideMove:p=>{const y=g(p.clientY);o==null||o(y)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const x=MG[m?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:x?-1:1})}})})}),BG=v.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=Db(yf,n);return i.jsx(Me.span,{...u,ref:t,onKeyDown:ye(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):IG.concat(DG).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:ye(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:ye(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:ye(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),a(f))})})}),zG="SliderTrack",WG=v.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Db(zG,n);return i.jsx(Me.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});WG.displayName=zG;var kC="SliderRange",VG=v.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Db(kC,n),a=FG(kC,n),o=v.useRef(null),l=ze(t,o),c=s.values.length,u=s.values.map(h=>qG(h,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return i.jsx(Me.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});VG.displayName=kC;var AC="SliderThumb",UG=v.forwardRef((e,t)=>{const n=zVe(e.__scopeSlider),[r,s]=v.useState(null),a=ze(t,l=>s(l)),o=v.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return i.jsx(HVe,{...e,ref:a,index:o})}),HVe=v.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...a}=e,o=Db(AC,n),l=FG(AC,n),[c,u]=v.useState(null),d=ze(t,w=>u(w)),f=c?o.form||!!c.closest("form"):!0,h=sw(c),m=o.values[r],g=m===void 0?0:qG(m,o.min,o.max),p=YVe(r,o.values.length),y=h==null?void 0:h[l.size],x=y?JVe(y,g,l.direction):0;return v.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${x}px)`},children:[i.jsx(EC.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(Me.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:ye(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&i.jsx(GVe,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});UG.displayName=AC;var GVe=e=>{const{value:t,...n}=e,r=v.useRef(null),s=ub(t);return v.useEffect(()=>{const a=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==t&&c){const u=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(u)}},[s,t]),i.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function KVe(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,a)=>s-a)}function qG(e,t,n){const a=100/(n-t)*(e-t);return dp(a,[0,100])}function YVe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function XVe(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function JVe(e,t,n){const r=e/2,a=t2([0,50],[0,r]);return(r-a(t)*n)*n}function QVe(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function ZVe(e,t){if(t>0){const n=QVe(e);return Math.min(...n)>=t}return!0}function t2(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function eUe(e){return(String(e).split(".")[1]||"").length}function tUe(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var HG=$G,nUe=WG,rUe=VG,sUe=UG;const Md=v.forwardRef(({className:e,...t},n)=>i.jsxs(HG,{ref:n,className:ve("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(nUe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(rUe,{className:"absolute h-full bg-primary"})}),i.jsx(sUe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Md.displayName=HG.displayName;class GG{constructor(t){sr(this,"config");this.config={model:"gpt-3.5-turbo",temperature:.7,maxTokens:500,...t}}async makeRequest(t,n){var s;const r=await fetch(`https://api.openai.com/v1${t}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.config.apiKey}`},body:JSON.stringify(n)});if(!r.ok){const a=await r.json();throw new Error(`OpenAI API Error: ${((s=a.error)==null?void 0:s.message)||"Unknown error"}`)}return r.json()}async classifyText(t,n){const r=`
Classifique o seguinte texto em uma das categorias fornecidas e extraia informaes relevantes:

Texto: "${t}"

Categorias disponveis: ${n.join(", ")}

Responda APENAS com um JSON vlido no seguinte formato:
{
  "category": "categoria_escolhida",
  "confidence": 0.95,
  "intent": "inteno_do_usurio",
  "sentiment": "positive|negative|neutral",
  "entities": [
    {
      "type": "nome|telefone|email|produto",
      "value": "valor_extrado",
      "confidence": 0.9
    }
  ]
}
`,s=await this.makeRequest("/chat/completions",{model:this.config.model,messages:[{role:"system",content:"Voc  um especialista em classificao de texto e extrao de entidades. Responda sempre com JSON vlido."},{role:"user",content:r}],temperature:.3,max_tokens:300});try{return JSON.parse(s.choices[0].message.content)}catch{throw new Error("Falha ao processar resposta da classificao de texto")}}async generateChatbotResponse(t,n,r){const a=[{role:"system",content:`
Voc  um assistente virtual inteligente para atendimento ao cliente. Suas caractersticas:

1. PERSONALIDADE:
   - Profissional, mas amigvel e emptico
   - Sempre til e proativo
   - Responde em portugus brasileiro
   - Usa linguagem clara e acessvel

2. CONTEXTO DO NEGCIO:
   ${r!=null&&r.businessInfo?`- Empresa: ${r.businessInfo.name||"Nossa empresa"}`:""}
   ${r!=null&&r.businessInfo?`- Setor: ${r.businessInfo.sector||"Atendimento ao cliente"}`:""}

3. INFORMAES DO CLIENTE:
   ${r!=null&&r.clientName?`- Nome: ${r.clientName}`:"- Cliente no identificado"}
   ${r!=null&&r.clientInfo?`- Informaes: ${JSON.stringify(r.clientInfo)}`:""}

4. AES DISPONVEIS:
   ${r!=null&&r.availableActions?r.availableActions.join(", "):"Responder mensagem, transferir para humano"}

5. DIRETRIZES:
   - Seja conciso mas completo
   - Se no souber algo, seja honesto
   - Oferea transferncia para humano quando necessrio
   - Identifique oportunidades de vendas ou suporte
   - Extraia informaes importantes (nome, telefone, email, interesse)

6. FORMATO DE RESPOSTA:
   Responda com JSON vlido:
   {
     "message": "sua_resposta_aqui",
     "intent": "categoria_da_inteno",
     "confidence": 0.95,
     "suggestedActions": [
       {
         "type": "transfer_to_human|create_lead|schedule_callback|send_document",
         "label": "Descrio da ao",
         "data": {}
       }
     ]
   }
`},...n.slice(-10),{role:"user",content:t}],o=await this.makeRequest("/chat/completions",{model:this.config.model,messages:a,temperature:this.config.temperature,max_tokens:this.config.maxTokens});try{return JSON.parse(o.choices[0].message.content)}catch{return{message:o.choices[0].message.content,intent:"general_inquiry",confidence:.8}}}async generateAutomationMessage(t,n,r){const s=`
Gere uma mensagem personalizada baseada no template e variveis fornecidas:

Template: "${t}"
Variveis: ${JSON.stringify(n)}

Contexto:
- Tom: ${(r==null?void 0:r.tone)||"friendly"}
- Propsito: ${(r==null?void 0:r.purpose)||"comunicao geral"}
- Tamanho mximo: ${(r==null?void 0:r.maxLength)||500} caracteres

Diretrizes:
1. Substitua as variveis pelos valores fornecidos
2. Mantenha o tom especificado
3. Seja natural e conversacional
4. Inclua emojis apropriados se o tom for casual/friendly
5. Respeite o limite de caracteres

Responda APENAS com a mensagem final, sem explicaes.
`;return(await this.makeRequest("/chat/completions",{model:this.config.model,messages:[{role:"system",content:"Voc  um especialista em comunicao e marketing. Gere mensagens personalizadas e envolventes."},{role:"user",content:s}],temperature:.8,max_tokens:Math.min((r==null?void 0:r.maxLength)||500,500)})).choices[0].message.content.trim()}async extractContactInfo(t){const n=`
Extraia informaes de contato do seguinte texto:

"${t}"

Responda APENAS com JSON vlido:
{
  "name": "nome_extrado_ou_null",
  "phone": "telefone_extrado_ou_null",
  "email": "email_extrado_ou_null",
  "company": "empresa_extrada_ou_null",
  "intent": "inteno_principal_do_usurio"
}
`,r=await this.makeRequest("/chat/completions",{model:this.config.model,messages:[{role:"system",content:"Voc  um especialista em extrao de informaes de contato. Responda sempre com JSON vlido."},{role:"user",content:n}],temperature:.1,max_tokens:200});try{return JSON.parse(r.choices[0].message.content)}catch{return{}}}}let Uh=null;const cL=e=>(!Uh&&e&&(Uh=new GG(e)),Uh),PC=(e,t)=>(Uh=new GG({apiKey:e,...t}),Uh),KG=ka((e,t)=>({agents:[],loading:!1,fetchAgents:async()=>{await G.handleAsync(async()=>{e({loading:!0});const n=je.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("ai_agents").select("*").eq("workspace_id",n.id).order("created_at",{ascending:!1});if(s)throw s;e({agents:r||[],loading:!1})})},createAgent:async n=>await G.handleAsync(async()=>{const r=je.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");const{data:s,error:a}=await U.from("ai_agents").insert({...n,workspace_id:r.id}).select().single();if(a)throw a;return t().fetchAgents(),s})||null,updateAgent:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("ai_agents").update({...r,updated_at:new Date().toISOString()}).eq("id",n);if(s)throw s;t().fetchAgents()})},deleteAgent:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("ai_agents").delete().eq("id",n);if(r)throw r;t().fetchAgents()})},testAgent:async(n,r)=>await G.handleAsync(async()=>{const s=t().agents.find(d=>d.id===n);if(!s)throw new Error("Agente no encontrado");const a=je.getState().currentWorkspace;if(!a)throw new Error("Nenhum workspace selecionado");const o=localStorage.getItem(`openai_config_${a.id}`);if(!o)throw new Error("Configurao OpenAI no encontrada");const{apiKey:l}=JSON.parse(o);if(!l)throw new Error("Chave API OpenAI no configurada");return(await PC(l,{model:s.config.model,temperature:s.config.temperature,maxTokens:s.config.maxTokens||500}).generateChatbotResponse(r,[],{clientName:"Cliente de Teste",businessInfo:{name:a.name,sector:"Atendimento ao Cliente"}})).message})||"Erro ao gerar resposta",getAgentById:n=>t().agents.find(r=>r.id===n)}));function aUe(){const[e,t]=v.useState(!1),[n,r]=v.useState(!1),[s,a]=v.useState(null),[o,l]=v.useState("Ol, gostaria de saber mais sobre seus produtos"),[c,u]=v.useState(""),[d,f]=v.useState(!1),[h,m]=v.useState({name:"",role:"customer_service",model:"gpt-3.5-turbo",temperature:.7,systemPrompt:"",description:""});je();const{agents:g,createAgent:p,updateAgent:y,deleteAgent:x,testAgent:w,fetchAgents:j}=KG(),{toast:b}=Zn();v.useEffect(()=>{e&&j()},[e,j]),v.useEffect(()=>{if(s){const E=g.find(R=>R.id===s);E&&m({name:E.name,role:E.role,model:E.config.model||"gpt-3.5-turbo",temperature:E.config.temperature||.7,systemPrompt:E.config.systemPrompt||"",description:E.description||""})}else m({name:"",role:"customer_service",model:"gpt-3.5-turbo",temperature:.7,systemPrompt:L("customer_service"),description:""})},[s,g]);const S=E=>{m({...h,role:E,systemPrompt:L(E)})},N=async()=>{if(!h.name||!h.systemPrompt){b({title:"Campos obrigatrios",description:"Por favor, preencha todos os campos obrigatrios",variant:"destructive"});return}try{await p({name:h.name,role:h.role,description:h.description,config:{model:h.model,temperature:h.temperature,systemPrompt:h.systemPrompt}}),r(!1),b({title:"Agente criado",description:"O agente foi criado com sucesso"})}catch(E){b({title:"Erro",description:E.message||"Ocorreu um erro ao criar o agente",variant:"destructive"})}},C=async()=>{if(!s||!h.name||!h.systemPrompt){b({title:"Campos obrigatrios",description:"Por favor, preencha todos os campos obrigatrios",variant:"destructive"});return}try{await y(s,{name:h.name,role:h.role,description:h.description,config:{model:h.model,temperature:h.temperature,systemPrompt:h.systemPrompt}}),a(null),b({title:"Agente atualizado",description:"O agente foi atualizado com sucesso"})}catch(E){b({title:"Erro",description:E.message||"Ocorreu um erro ao atualizar o agente",variant:"destructive"})}},_=async E=>{try{await x(E),b({title:"Agente excludo",description:"O agente foi excludo com sucesso"})}catch(R){b({title:"Erro",description:R.message||"Ocorreu um erro ao excluir o agente",variant:"destructive"})}},k=async E=>{const R=g.find(O=>O.id===E);if(R)try{await p({name:`${R.name} (Cpia)`,role:R.role,description:R.description,config:R.config}),b({title:"Agente duplicado",description:"O agente foi duplicado com sucesso"})}catch(O){b({title:"Erro",description:O.message||"Ocorreu um erro ao duplicar o agente",variant:"destructive"})}},P=async E=>{if(!o.trim()){b({title:"Mensagem vazia",description:"Por favor, digite uma mensagem para testar o agente",variant:"destructive"});return}f(!0),u("");try{const R=await w(E,o);u(R)}catch(R){b({title:"Erro",description:R.message||"Ocorreu um erro ao testar o agente",variant:"destructive"})}finally{f(!1)}},A=E=>{switch(E){case"sales":return"bg-green-100 text-green-800";case"customer_service":return"bg-blue-100 text-blue-800";case"support":return"bg-purple-100 text-purple-800";case"sdr":return"bg-orange-100 text-orange-800";case"secretary":return"bg-pink-100 text-pink-800";case"technical":return"bg-cyan-100 text-cyan-800";default:return"bg-gray-100 text-gray-800"}},I=E=>{switch(E){case"sales":return"Vendas";case"customer_service":return"Atendimento ao Cliente";case"support":return"Suporte Tcnico";case"sdr":return"SDR";case"secretary":return"Secretria";case"technical":return"Tcnico";default:return E}},L=E=>{switch(E){case"sales":return`Voc  um assistente de vendas especializado. Suas caractersticas:

1. PERSONALIDADE:
   - Persuasivo e entusiasmado, mas no agressivo
   - Conhecedor dos produtos e servios
   - Focado em entender as necessidades do cliente
   - Orientado para solues e resultados

2. OBJETIVOS:
   - Identificar oportunidades de venda
   - Qualificar leads
   - Apresentar benefcios dos produtos/servios
   - Superar objees
   - Fechar vendas ou agendar demonstraes

3. DIRETRIZES:
   - Faa perguntas para entender as necessidades do cliente
   - Destaque benefcios, no apenas caractersticas
   - Oferea solues personalizadas
   - Seja especfico sobre como o produto resolve problemas
   - Use linguagem positiva e orientada para valor
   - Sugira prximos passos claros (demonstrao, reunio, etc.)

4. TOM:
   - Profissional mas amigvel
   - Confiante sem ser arrogante
   - Entusiasmado mas no exagerado
   - Sempre respeitoso e atencioso

5. LIMITAES:
   - No faa promessas irrealistas
   - No pressione excessivamente
   - No critique concorrentes diretamente
   - No compartilhe informaes confidenciais`;case"customer_service":return`Voc  um assistente de atendimento ao cliente. Suas caractersticas:

1. PERSONALIDADE:
   - Amigvel, paciente e emptico
   - Profissional e prestativo
   - Orientado para solues
   - Claro e conciso

2. OBJETIVOS:
   - Resolver problemas e dvidas dos clientes
   - Garantir satisfao do cliente
   - Fornecer informaes precisas
   - Encaminhar para especialistas quando necessrio

3. DIRETRIZES:
   - Cumprimente o cliente de forma amigvel
   - Escute atentamente e identifique o problema
   - Oferea solues claras e prticas
   - Confirme se o problema foi resolvido
   - Agradea o cliente pelo contato

4. TOM:
   - Cordial e respeitoso
   - Positivo mesmo em situaes difceis
   - Claro e direto
   - Paciente com clientes frustrados

5. LIMITAES:
   - No faa promessas que no pode cumprir
   - No discuta com clientes
   - No compartilhe informaes confidenciais
   - Encaminhe para um humano em casos complexos`;case"support":return`Voc  um assistente de suporte tcnico especializado. Suas caractersticas:

1. PERSONALIDADE:
   - Paciente e metdico
   - Tecnicamente preciso
   - Orientado para solues
   - Claro nas explicaes

2. OBJETIVOS:
   - Resolver problemas tcnicos
   - Guiar usurios passo a passo
   - Identificar a causa raiz dos problemas
   - Documentar solues para referncia futura

3. DIRETRIZES:
   - Pea informaes especficas sobre o problema
   - Sugira solues em ordem de probabilidade
   - Use linguagem tcnica apropriada ao nvel do usurio
   - Confirme se a soluo funcionou
   - Oferea dicas para evitar problemas futuros

4. TOM:
   - Profissional e calmo
   - Preciso e metdico
   - Paciente com usurios menos tcnicos
   - Confiante nas solues propostas

5. LIMITAES:
   - No tente resolver problemas alm do seu escopo
   - No culpe o usurio pelos problemas
   - Encaminhe para especialistas quando necessrio
   - No compartilhe informaes de segurana sensveis`;case"sdr":return`Voc  um Representante de Desenvolvimento de Vendas (SDR). Suas caractersticas:

1. PERSONALIDADE:
   - Proativo e persistente
   - Curioso e investigativo
   - Resiliente e otimista
   - Organizado e metdico

2. OBJETIVOS:
   - Prospectar leads qualificados
   - Agendar reunies para a equipe de vendas
   - Qualificar oportunidades (BANT)
   - Nutrir relacionamentos iniciais

3. DIRETRIZES:
   - Faa perguntas qualificadoras estratgicas
   - Identifique dores e necessidades
   - Desperte interesse com propostas de valor
   - Supere objees iniciais
   - Estabelea prximos passos claros

4. TOM:
   - Profissional mas conversacional
   - Curioso e interessado
   - Direto mas no agressivo
   - Entusiasmado sobre oportunidades

5. LIMITAES:
   - No tente fechar vendas complexas
   - No faa promessas especficas sobre produtos
   - No insista excessivamente aps claras rejeies
   - Encaminhe para vendedores quando apropriado`;case"secretary":return`Voc  um assistente executivo/secretrio virtual. Suas caractersticas:

1. PERSONALIDADE:
   - Organizado e eficiente
   - Discreto e profissional
   - Proativo e atencioso
   - Adaptvel e flexvel

2. OBJETIVOS:
   - Gerenciar agendamentos e compromissos
   - Filtrar e priorizar comunicaes
   - Organizar informaes importantes
   - Facilitar processos administrativos

3. DIRETRIZES:
   - Seja claro e conciso nas comunicaes
   - Antecipe necessidades quando possvel
   - Confirme detalhes importantes
   - Mantenha registros organizados
   - Priorize tarefas adequadamente

4. TOM:
   - Formal e profissional
   - Respeitoso e corts
   - Eficiente e direto
   - Discreto com informaes sensveis

5. LIMITAES:
   - No tome decises importantes sem autorizao
   - Mantenha confidencialidade rigorosa
   - No se comprometa com impossibilidades de agenda
   - Encaminhe assuntos complexos para os responsveis`;case"technical":return`Voc  um especialista tcnico em produtos e servios. Suas caractersticas:

1. PERSONALIDADE:
   - Analtico e preciso
   - Orientado a detalhes
   - Paciente com explicaes
   - Metodolgico e estruturado

2. OBJETIVOS:
   - Fornecer informaes tcnicas precisas
   - Resolver problemas complexos
   - Explicar conceitos tcnicos de forma acessvel
   - Recomendar solues baseadas em especificaes

3. DIRETRIZES:
   - Use terminologia tcnica apropriada
   - Fornea detalhes especficos e mensurveis
   - Explique conceitos complexos com analogias quando necessrio
   - Base recomendaes em fatos e especificaes
   - Seja honesto sobre limitaes tcnicas

4. TOM:
   - Profissional e objetivo
   - Preciso e factual
   - Claro mesmo em assuntos complexos
   - Paciente com perguntas tcnicas bsicas

5. LIMITAES:
   - No especule sobre especificaes desconhecidas
   - No faa promessas sobre funcionalidades futuras
   - No simplifique excessivamente riscos tcnicos
   - Encaminhe para especialistas em casos muito especficos`;default:return"Voc  um assistente virtual inteligente. Seja profissional, amigvel e til em suas respostas."}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(jr,{className:"mr-2 h-4 w-4"}),"Perfis de Agentes IA"]})}),i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsxs(nt,{className:"flex items-center",children:[i.jsx(jr,{className:"mr-2 h-5 w-5"}),"Perfis de Agentes de IA"]}),i.jsx(ft,{children:"Crie e gerencie diferentes perfis de agentes de IA para diferentes funes e departamentos"})]}),i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"text-lg font-medium",children:["Agentes Disponveis (",g.length,")"]}),i.jsxs(ot,{open:n,onOpenChange:r,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(tn,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Criar Novo Agente"}),i.jsx(ft,{children:"Configure um novo perfil de agente de IA para sua equipe"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"name",children:"Nome do Agente *"}),i.jsx(ie,{id:"name",value:h.name,onChange:E=>m({...h,name:E.target.value}),placeholder:"Ex: Agente de Vendas"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"role",children:"Funo *"}),i.jsxs(Oe,{value:h.role,onValueChange:S,children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"sales",children:"Vendas"}),i.jsx(K,{value:"customer_service",children:"Atendimento ao Cliente"}),i.jsx(K,{value:"support",children:"Suporte Tcnico"}),i.jsx(K,{value:"sdr",children:"SDR"}),i.jsx(K,{value:"secretary",children:"Secretria"}),i.jsx(K,{value:"technical",children:"Tcnico"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"description",children:"Descrio"}),i.jsx(vt,{id:"description",value:h.description,onChange:E=>m({...h,description:E.target.value}),placeholder:"Descreva a funo deste agente...",rows:2})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"model",children:"Modelo"}),i.jsxs(Oe,{value:h.model,onValueChange:E=>m({...h,model:E}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Recomendado)"}),i.jsx(K,{value:"gpt-4",children:"GPT-4 (Mais avanado)"}),i.jsx(K,{value:"gpt-4-turbo-preview",children:"GPT-4 Turbo"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"temperature",children:["Criatividade (Temperature): ",h.temperature]}),i.jsx(Md,{value:[h.temperature],onValueChange:E=>m({...h,temperature:E[0]}),max:1,min:0,step:.1,className:"mt-2"}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[i.jsx("span",{children:"Mais conservador"}),i.jsx("span",{children:"Mais criativo"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"systemPrompt",children:"Prompt do Sistema *"}),i.jsx(vt,{id:"systemPrompt",value:h.systemPrompt,onChange:E=>m({...h,systemPrompt:E.target.value}),placeholder:"Instrues para o comportamento do agente...",rows:8}),i.jsx("p",{className:"text-xs text-gray-500",children:"Este prompt define a personalidade, conhecimentos e comportamento do agente."})]})]}),i.jsxs(yt,{children:[i.jsx(B,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),i.jsx(B,{onClick:N,children:"Criar Agente"})]})]})]})]}),g.length===0?i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(jr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum agente criado"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Crie seu primeiro agente de IA para comear a automatizar conversas"}),i.jsxs(B,{onClick:()=>r(!0),children:[i.jsx(tn,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Agente"]})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(E=>{var R;return i.jsxs(re,{className:"overflow-hidden",children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsxs(ge,{className:"flex items-center",children:[i.jsx(jr,{className:"h-4 w-4 mr-2"}),E.name]}),i.jsx(He,{children:E.description})]}),i.jsx(fe,{className:A(E.role),children:I(E.role)})]})}),i.jsx(se,{className:"pb-3",children:i.jsxs(Jn,{defaultValue:"details",children:[i.jsxs(Mn,{className:"w-full",children:[i.jsx(Fe,{value:"details",children:"Detalhes"}),i.jsx(Fe,{value:"test",children:"Testar"})]}),i.jsxs(Ve,{value:"details",className:"space-y-4 mt-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"font-medium",children:"Modelo:"}),i.jsx("span",{children:E.config.model||"gpt-3.5-turbo"})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"font-medium",children:"Temperatura:"}),i.jsx("span",{children:E.config.temperature||.7})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-sm font-medium",children:"Prompt do Sistema:"}),i.jsx("div",{className:"text-xs bg-gray-50 p-2 rounded-md max-h-32 overflow-y-auto",children:(R=E.config.systemPrompt)==null?void 0:R.split(`
`).map((O,F)=>i.jsx("p",{children:O||i.jsx("br",{})},F))})]})]}),i.jsxs("div",{className:"flex space-x-2 pt-2",children:[i.jsxs(B,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>a(E.id),children:[i.jsx(wi,{className:"h-4 w-4 mr-2"}),"Editar"]}),i.jsx(B,{variant:"outline",size:"sm",onClick:()=>k(E.id),children:i.jsx(N6,{className:"h-4 w-4"})}),i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsx(B,{variant:"outline",size:"sm",children:i.jsx(Ks,{className:"h-4 w-4"})})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Excluir Agente"}),i.jsxs(ln,{children:['Tem certeza que deseja excluir o agente "',E.name,'"? Esta ao no pode ser desfeita.']})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{onClick:()=>_(E.id),className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})]})]})]}),i.jsxs(Ve,{value:"test",className:"space-y-4 mt-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:`test-prompt-${E.id}`,children:"Mensagem de Teste"}),i.jsx(vt,{id:`test-prompt-${E.id}`,value:o,onChange:O=>l(O.target.value),placeholder:"Digite uma mensagem para testar o agente...",rows:3})]}),i.jsx(B,{onClick:()=>P(E.id),disabled:d,className:"w-full",children:d?i.jsxs(i.Fragment,{children:[i.jsx(_I,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerando resposta..."]}):i.jsxs(i.Fragment,{children:[i.jsx(_I,{className:"mr-2 h-4 w-4"}),"Testar Agente"]})}),c&&i.jsxs("div",{className:"mt-4",children:[i.jsx(Y,{children:"Resposta do Agente:"}),i.jsx("div",{className:"mt-2 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:c})})]})]})]})})]},E.id)})}),s&&i.jsx(ot,{open:!!s,onOpenChange:E=>!E&&a(null),children:i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Editar Agente"}),i.jsx(ft,{children:"Modifique as configuraes do agente de IA"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"edit-name",children:"Nome do Agente *"}),i.jsx(ie,{id:"edit-name",value:h.name,onChange:E=>m({...h,name:E.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"edit-role",children:"Funo *"}),i.jsxs(Oe,{value:h.role,onValueChange:S,children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"sales",children:"Vendas"}),i.jsx(K,{value:"customer_service",children:"Atendimento ao Cliente"}),i.jsx(K,{value:"support",children:"Suporte Tcnico"}),i.jsx(K,{value:"sdr",children:"SDR"}),i.jsx(K,{value:"secretary",children:"Secretria"}),i.jsx(K,{value:"technical",children:"Tcnico"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"edit-description",children:"Descrio"}),i.jsx(vt,{id:"edit-description",value:h.description,onChange:E=>m({...h,description:E.target.value}),rows:2})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"edit-model",children:"Modelo"}),i.jsxs(Oe,{value:h.model,onValueChange:E=>m({...h,model:E}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Recomendado)"}),i.jsx(K,{value:"gpt-4",children:"GPT-4 (Mais avanado)"}),i.jsx(K,{value:"gpt-4-turbo-preview",children:"GPT-4 Turbo"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"edit-temperature",children:["Criatividade (Temperature): ",h.temperature]}),i.jsx(Md,{value:[h.temperature],onValueChange:E=>m({...h,temperature:E[0]}),max:1,min:0,step:.1,className:"mt-2"}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[i.jsx("span",{children:"Mais conservador"}),i.jsx("span",{children:"Mais criativo"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"edit-systemPrompt",children:"Prompt do Sistema *"}),i.jsx(vt,{id:"edit-systemPrompt",value:h.systemPrompt,onChange:E=>m({...h,systemPrompt:E.target.value}),rows:8})]})]}),i.jsxs(yt,{children:[i.jsx(B,{variant:"outline",onClick:()=>a(null),children:"Cancelar"}),i.jsx(B,{onClick:C,children:"Salvar Alteraes"})]})]})}),i.jsx(yt,{children:i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"})})]})]})}function iUe(){const[e,t]=v.useState(!1),[n,r]=v.useState({apiKey:"",model:"gpt-3.5-turbo",temperature:.7,maxTokens:500,systemPrompt:"Voc  um assistente virtual inteligente para atendimento ao cliente. Seja profissional, amigvel e til."}),[s,a]=v.useState("Ol, gostaria de saber mais sobre seus produtos"),[o,l]=v.useState(""),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState(!1),{currentWorkspace:g}=je(),{toast:p}=Zn();v.useEffect(()=>{y()},[g]);const y=async()=>{if(g)try{const b=localStorage.getItem(`openai_config_${g.id}`);if(b){const S=JSON.parse(b);r(S),S.apiKey&&(f(!0),PC(S.apiKey,{model:S.model,temperature:S.temperature,maxTokens:S.maxTokens}))}}catch(b){console.error("Error loading OpenAI config:",b)}},x=async()=>{if(!n.apiKey.trim()){p({title:"Erro",description:"Por favor, insira sua chave da API OpenAI",variant:"destructive"});return}m(!0);try{await PC(n.apiKey,{model:n.model,temperature:n.temperature,maxTokens:n.maxTokens}).generateChatbotResponse("teste",[]),localStorage.setItem(`openai_config_${g==null?void 0:g.id}`,JSON.stringify(n)),f(!0),p({title:"Sucesso",description:"Configurao OpenAI salva e testada com sucesso!"})}catch(b){p({title:"Erro",description:`Falha ao conectar com OpenAI: ${b.message}`,variant:"destructive"})}finally{m(!1)}},w=async()=>{if(!d){p({title:"Erro",description:"Configure e salve a API OpenAI primeiro",variant:"destructive"});return}u(!0);try{const S=await cL().generateChatbotResponse(s,[],{clientName:"Joo Silva",businessInfo:{name:(g==null?void 0:g.name)||"Minha Empresa",sector:"Atendimento ao Cliente"}});l(S.message),p({title:"Teste realizado",description:"Resposta do chatbot gerada com sucesso!"})}catch(b){p({title:"Erro no teste",description:b.message,variant:"destructive"})}finally{u(!1)}},j=async()=>{if(!d){p({title:"Erro",description:"Configure e salve a API OpenAI primeiro",variant:"destructive"});return}u(!0);try{const S=await cL().classifyText(s,["suporte","vendas","informaes","reclamao","elogio"]);l(JSON.stringify(S,null,2)),p({title:"Classificao realizada",description:`Texto classificado como: ${S.category}`})}catch(b){p({title:"Erro na classificao",description:b.message,variant:"destructive"})}finally{u(!1)}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(jr,{className:"mr-2 h-4 w-4"}),"Configurar OpenAI"]})}),i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsxs(nt,{className:"flex items-center",children:[i.jsx(jr,{className:"mr-2 h-5 w-5"}),"Configurao OpenAI - Chatbot e IA"]}),i.jsx(ft,{children:"Configure a integrao com OpenAI para chatbot inteligente e classificao de texto"})]}),i.jsxs(Jn,{defaultValue:"config",className:"w-full",children:[i.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[i.jsx(Fe,{value:"config",children:"Configurao"}),i.jsx(Fe,{value:"chatbot",children:"Chatbot"}),i.jsx(Fe,{value:"classification",children:"Classificao"}),i.jsx(Fe,{value:"agents",children:"Agentes"})]}),i.jsx(Ve,{value:"config",className:"space-y-4",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsxs(ge,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Configuraes da API"}),d?i.jsxs(fe,{className:"bg-green-100 text-green-800",children:[i.jsx(Gn,{className:"h-3 w-3 mr-1"}),"Conectado"]}):i.jsxs(fe,{variant:"secondary",children:[i.jsx(jn,{className:"h-3 w-3 mr-1"}),"Desconectado"]})]}),i.jsx(He,{children:"Configure sua chave da API OpenAI e parmetros do modelo"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"apiKey",children:"Chave da API OpenAI *"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ie,{id:"apiKey",type:"password",placeholder:"sk-...",value:n.apiKey,onChange:b=>r({...n,apiKey:b.target.value})}),i.jsx(B,{variant:"outline",onClick:()=>window.open("https://platform.openai.com/api-keys","_blank"),children:i.jsx(A6,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Obtenha sua chave em platform.openai.com/api-keys"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"model",children:"Modelo"}),i.jsxs(Oe,{value:n.model,onValueChange:b=>r({...n,model:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Recomendado)"}),i.jsx(K,{value:"gpt-4",children:"GPT-4 (Mais avanado)"}),i.jsx(K,{value:"gpt-4-turbo-preview",children:"GPT-4 Turbo"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"maxTokens",children:"Mximo de Tokens"}),i.jsx(ie,{id:"maxTokens",type:"number",min:"50",max:"2000",value:n.maxTokens,onChange:b=>r({...n,maxTokens:parseInt(b.target.value)})})]})]}),i.jsxs("div",{children:[i.jsxs(Y,{htmlFor:"temperature",children:["Criatividade (Temperature): ",n.temperature]}),i.jsx(Md,{value:[n.temperature],onValueChange:b=>r({...n,temperature:b[0]}),max:1,min:0,step:.1,className:"mt-2"}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[i.jsx("span",{children:"Mais conservador"}),i.jsx("span",{children:"Mais criativo"})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"systemPrompt",children:"Prompt do Sistema"}),i.jsx(vt,{id:"systemPrompt",value:n.systemPrompt,onChange:b=>r({...n,systemPrompt:b.target.value}),rows:4,placeholder:"Defina a personalidade e comportamento do chatbot..."})]}),i.jsx(B,{onClick:x,disabled:h,className:"w-full",children:h?i.jsxs(i.Fragment,{children:[i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Testando conexo..."]}):"Salvar e Testar Conexo"})]})]})}),i.jsx(Ve,{value:"chatbot",className:"space-y-4",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Teste do Chatbot"}),i.jsx(He,{children:"Teste como o chatbot responder s mensagens dos clientes"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testMessage",children:"Mensagem de Teste"}),i.jsx(vt,{id:"testMessage",value:s,onChange:b=>a(b.target.value),placeholder:"Digite uma mensagem para testar o chatbot...",rows:3})]}),i.jsx(B,{onClick:w,disabled:c||!d,className:"w-full",children:c?i.jsxs(i.Fragment,{children:[i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerando resposta..."]}):i.jsxs(i.Fragment,{children:[i.jsx(My,{className:"mr-2 h-4 w-4"}),"Testar Chatbot"]})}),o&&i.jsxs("div",{children:[i.jsx(Y,{children:"Resposta do Chatbot:"}),i.jsx("div",{className:"mt-2 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:o})})]})]})]})}),i.jsx(Ve,{value:"classification",className:"space-y-4",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Teste de Classificao de Texto"}),i.jsx(He,{children:"Teste como a IA classifica mensagens em categorias"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testClassificationMessage",children:"Texto para Classificar"}),i.jsx(vt,{id:"testClassificationMessage",value:s,onChange:b=>a(b.target.value),placeholder:"Digite um texto para classificar...",rows:3})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Categorias Disponveis:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["suporte","vendas","informaes","reclamao","elogio"].map(b=>i.jsx(fe,{variant:"outline",children:b},b))})]}),i.jsx(B,{onClick:j,disabled:c||!d,className:"w-full",children:c?i.jsxs(i.Fragment,{children:[i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Classificando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(My,{className:"mr-2 h-4 w-4"}),"Testar Classificao"]})}),o&&i.jsxs("div",{children:[i.jsx(Y,{children:"Resultado da Classificao:"}),i.jsx("div",{className:"mt-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:i.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:o})})]})]})]})}),i.jsx(Ve,{value:"agents",className:"space-y-4",children:d?i.jsx(aUe,{}):i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(jr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Configurao OpenAI Necessria"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Configure sua chave da API OpenAI na aba Configurao antes de criar agentes"}),i.jsx(B,{onClick:()=>{var b;return(b=document.getElementById("config-tab"))==null?void 0:b.click()},children:"Ir para Configurao"})]})})})]}),i.jsx(yt,{children:i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"})})]})]})}class oUe{constructor(t){sr(this,"config");this.config=t}async makeRequest(t,n="GET",r){const s=`${this.config.baseUrl}/api/v1${t}`,a={"Content-Type":"application/json"};if(this.config.apiKey)a["X-N8N-API-KEY"]=this.config.apiKey;else if(this.config.username&&this.config.password){const l=btoa(`${this.config.username}:${this.config.password}`);a.Authorization=`Basic ${l}`}const o={method:n,headers:a};r&&(n==="POST"||n==="PUT")&&(o.body=JSON.stringify(r));try{const l=await fetch(s,o);if(!l.ok){const c=await l.text();let u=`N8N API Error (${l.status})`;try{const d=JSON.parse(c);u=d.message||d.error||u}catch{u=c||u}throw new Error(u)}return await l.json()}catch(l){throw new Error(`Falha na conexo com N8N: ${l.message}`)}}async healthCheck(){try{return await this.makeRequest("/health"),!0}catch(t){return console.error("N8N health check failed:",t),!1}}async getWorkflows(){try{return(await this.makeRequest("/workflows")).data||[]}catch(t){throw console.error("Failed to fetch workflows:",t),t}}async getWorkflow(t){return await this.makeRequest(`/workflows/${t}`)}async createWorkflow(t){return await this.makeRequest("/workflows","POST",t)}async updateWorkflow(t,n){return await this.makeRequest(`/workflows/${t}`,"PUT",n)}async deleteWorkflow(t){await this.makeRequest(`/workflows/${t}`,"DELETE")}async activateWorkflow(t){await this.makeRequest(`/workflows/${t}/activate`,"POST")}async deactivateWorkflow(t){await this.makeRequest(`/workflows/${t}/deactivate`,"POST")}async executeWorkflow(t,n){return await this.makeRequest(`/workflows/${t}/execute`,"POST",n)}async getExecutions(t){const n=t?`/executions?filter={"workflowId":"${t}"}`:"/executions";return(await this.makeRequest(n)).data||[]}async getExecution(t){return await this.makeRequest(`/executions/${t}`)}async triggerWebhook(t,n,r="POST"){const s=`${this.config.baseUrl}/webhook/${t}`;try{const a=await fetch(s,{method:r,headers:{"Content-Type":"application/json"},body:r==="POST"?JSON.stringify(n):void 0});let o;try{o=await a.json()}catch{o={text:await a.text()}}return{success:a.ok,data:o,error:a.ok?void 0:o.message||"Webhook execution failed"}}catch(a){return{success:!1,error:`Webhook error: ${a.message}`}}}async processChatbotMessage(t,n,r){var c,u;const s={message:n,context:r,timestamp:new Date().toISOString()},a=await this.executeWorkflow(t,s);let o=0;const l=30;for(;o<l;){const d=await this.getExecution(a.id);if(d.status==="success")return{response:((c=d.data)==null?void 0:c.response)||"Resposta processada com sucesso",actions:((u=d.data)==null?void 0:u.actions)||[]};if(d.status==="error")throw new Error("Erro no processamento do chatbot");await new Promise(f=>setTimeout(f,1e3)),o++}throw new Error("Timeout no processamento do chatbot")}async classifyText(t,n,r){var c,u,d;const s={text:n,categories:r,timestamp:new Date().toISOString()},a=await this.executeWorkflow(t,s);let o=0;const l=20;for(;o<l;){const f=await this.getExecution(a.id);if(f.status==="success")return{category:((c=f.data)==null?void 0:c.category)||"unknown",confidence:((u=f.data)==null?void 0:u.confidence)||0,metadata:(d=f.data)==null?void 0:d.metadata};if(f.status==="error")throw new Error("Erro na classificao de texto");await new Promise(h=>setTimeout(h,1e3)),o++}throw new Error("Timeout na classificao de texto")}async createChatbotWorkflow(t,n){const r={name:t,active:!1,nodes:[{id:"webhook",name:"Webhook",type:"n8n-nodes-base.webhook",typeVersion:1,position:[250,300],parameters:{httpMethod:"POST",path:`chatbot-${t.toLowerCase().replace(/\s+/g,"-")}`,responseMode:"responseNode"}},{id:"openai",name:"OpenAI Chat",type:"n8n-nodes-base.openAi",typeVersion:1,position:[450,300],parameters:{resource:"chat",operation:"message",model:n.model||"gpt-3.5-turbo",messages:{messageValues:[{role:"system",content:n.systemPrompt||"Voc  um assistente virtual til."},{role:"user",content:"={{$json.message}}"}]},options:{temperature:n.temperature||.7,maxTokens:500}},credentials:{openAiApi:{id:"openai-credentials",name:"OpenAI API"}}},{id:"response",name:"Response",type:"n8n-nodes-base.respondToWebhook",typeVersion:1,position:[650,300],parameters:{respondWith:"json",responseBody:'={"response": "{{$json.choices[0].message.content}}", "timestamp": "{{new Date().toISOString()}}"}'}}],connections:{webhook:{main:[[{node:"openai",type:"main",index:0}]]},openai:{main:[[{node:"response",type:"main",index:0}]]}}};return await this.createWorkflow(r)}async createTextClassifierWorkflow(t,n){const r={name:t,active:!1,nodes:[{id:"webhook",name:"Webhook",type:"n8n-nodes-base.webhook",typeVersion:1,position:[250,300],parameters:{httpMethod:"POST",path:`classifier-${t.toLowerCase().replace(/\s+/g,"-")}`,responseMode:"responseNode"}},{id:"openai",name:"OpenAI Classifier",type:"n8n-nodes-base.openAi",typeVersion:1,position:[450,300],parameters:{resource:"chat",operation:"message",model:n.model||"gpt-3.5-turbo",messages:{messageValues:[{role:"system",content:`Classifique o texto em uma das categorias: ${n.categories.join(", ")}. Responda apenas com JSON: {"category": "categoria", "confidence": 0.95}`},{role:"user",content:"={{$json.text}}"}]},options:{temperature:.1,maxTokens:100}},credentials:{openAiApi:{id:"openai-credentials",name:"OpenAI API"}}},{id:"response",name:"Response",type:"n8n-nodes-base.respondToWebhook",typeVersion:1,position:[650,300],parameters:{respondWith:"json",responseBody:"={{JSON.parse($json.choices[0].message.content)}}"}}],connections:{webhook:{main:[[{node:"openai",type:"main",index:0}]]},openai:{main:[[{node:"response",type:"main",index:0}]]}}};return await this.createWorkflow(r)}}let TC=null;const vv=()=>TC,uL=e=>(TC=new oUe(e),TC);function lUe(){const[e,t]=v.useState(!1),[n,r]=v.useState({baseUrl:"",apiKey:"",username:"",password:""}),[s,a]=v.useState("apiKey"),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState(""),[h,m]=v.useState([]),[g,p]=v.useState(!1),{currentWorkspace:y}=je(),{toast:x}=Zn();v.useEffect(()=>{w()},[y]);const w=async()=>{if(y)try{const _=localStorage.getItem(`n8n_config_${y.id}`);if(_){const k=JSON.parse(_);r(k),a(k.apiKey?"apiKey":"basic");try{uL(k),l(!0),b()}catch(P){console.error("Error initializing n8n:",P),l(!1)}}}catch(_){console.error("Error loading n8n config:",_)}},j=async()=>{if(!n.baseUrl){x({title:"Erro",description:"Por favor, insira a URL do servidor n8n",variant:"destructive"});return}if(s==="apiKey"&&!n.apiKey){x({title:"Erro",description:"Por favor, insira a chave da API n8n",variant:"destructive"});return}if(s==="basic"&&(!n.username||!n.password)){x({title:"Erro",description:"Por favor, insira o usurio e senha para autenticao",variant:"destructive"});return}u(!0);try{const _={baseUrl:n.baseUrl,apiKey:s==="apiKey"?n.apiKey:void 0,username:s==="basic"?n.username:void 0,password:s==="basic"?n.password:void 0},k=uL(_);try{if(!await k.healthCheck())throw new Error("No foi possvel conectar ao servidor n8n")}catch(P){throw new Error(`Falha na conexo com n8n: ${P.message}`)}localStorage.setItem(`n8n_config_${y==null?void 0:y.id}`,JSON.stringify(_)),l(!0),x({title:"Sucesso",description:"Configurao n8n salva e testada com sucesso!"}),b()}catch(_){x({title:"Erro",description:`Falha ao conectar com n8n: ${_.message}`,variant:"destructive"})}finally{u(!1)}},b=async()=>{if(o){p(!0);try{const _=vv();if(!_)throw new Error("n8n no inicializado");const k=await _.getWorkflows();m(k)}catch(_){x({title:"Erro",description:`Falha ao carregar workflows: ${_.message}`,variant:"destructive"})}finally{p(!1)}}},S=async()=>{if(o){u(!0);try{const _=vv();if(!_)throw new Error("n8n no inicializado");const k=await _.createChatbotWorkflow("Chatbot Automtico",{openaiApiKey:"sk-...",systemPrompt:"Voc  um assistente virtual para atendimento ao cliente.",model:"gpt-3.5-turbo",temperature:.7});x({title:"Sucesso",description:`Workflow de chatbot criado: ${k.name}`}),b()}catch(_){x({title:"Erro",description:`Falha ao criar workflow: ${_.message}`,variant:"destructive"})}finally{u(!1)}}},N=async()=>{if(o){u(!0);try{const _=vv();if(!_)throw new Error("n8n no inicializado");const k=await _.createTextClassifierWorkflow("Classificador de Texto",{openaiApiKey:"sk-...",categories:["suporte","vendas","informaes","reclamao","elogio"],model:"gpt-3.5-turbo"});x({title:"Sucesso",description:`Workflow de classificao criado: ${k.name}`}),b()}catch(_){x({title:"Erro",description:`Falha ao criar workflow: ${_.message}`,variant:"destructive"})}finally{u(!1)}}},C=async _=>{if(o){u(!0);try{const k=vv();if(!k)throw new Error("n8n no inicializado");const P=await k.triggerWebhook(_,{message:"Teste de webhook",timestamp:new Date().toISOString()});f(JSON.stringify(P,null,2)),P.success?x({title:"Sucesso",description:"Webhook executado com sucesso"}):x({title:"Erro",description:P.error||"Falha ao executar webhook",variant:"destructive"})}catch(k){x({title:"Erro",description:`Falha ao testar webhook: ${k.message}`,variant:"destructive"})}finally{u(!1)}}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(ds,{className:"mr-2 h-4 w-4"}),"Configurar n8n"]})}),i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsxs(nt,{className:"flex items-center",children:[i.jsx(ds,{className:"mr-2 h-5 w-5"}),"Configurao n8n - Automao Avanada"]}),i.jsx(ft,{children:"Configure a integrao com n8n para automaes avanadas e fluxos de trabalho personalizados"})]}),i.jsxs(Jn,{defaultValue:"config",className:"w-full",children:[i.jsxs(Mn,{className:"grid w-full grid-cols-3",children:[i.jsx(Fe,{value:"config",children:"Configurao"}),i.jsx(Fe,{value:"workflows",children:"Workflows"}),i.jsx(Fe,{value:"templates",children:"Templates"})]}),i.jsx(Ve,{value:"config",className:"space-y-4",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsxs(ge,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Configuraes do Servidor"}),o?i.jsxs(fe,{className:"bg-green-100 text-green-800",children:[i.jsx(Gn,{className:"h-3 w-3 mr-1"}),"Conectado"]}):i.jsxs(fe,{variant:"secondary",children:[i.jsx(jn,{className:"h-3 w-3 mr-1"}),"Desconectado"]})]}),i.jsx(He,{children:"Configure a conexo com seu servidor n8n self-hosted"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"baseUrl",children:"URL do Servidor n8n *"}),i.jsx(ie,{id:"baseUrl",placeholder:"https://seu-servidor-n8n.com",value:n.baseUrl,onChange:_=>r({...n,baseUrl:_.target.value})}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL completa do seu servidor n8n (ex: https://n8n.seudominio.com)"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(B,{type:"button",variant:s==="apiKey"?"default":"outline",size:"sm",onClick:()=>a("apiKey"),children:"Chave API"}),i.jsx(B,{type:"button",variant:s==="basic"?"default":"outline",size:"sm",onClick:()=>a("basic"),children:"Usurio/Senha"})]}),s==="apiKey"?i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"apiKey",children:"Chave da API n8n *"}),i.jsx(ie,{id:"apiKey",type:"password",placeholder:"n8n_api_...",value:n.apiKey,onChange:_=>r({...n,apiKey:_.target.value})}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Encontre sua chave API em Configuraes > API > API Keys"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"username",children:"Usurio *"}),i.jsx(ie,{id:"username",placeholder:"admin",value:n.username,onChange:_=>r({...n,username:_.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"password",children:"Senha *"}),i.jsx(ie,{id:"password",type:"password",placeholder:"********",value:n.password,onChange:_=>r({...n,password:_.target.value})})]})]})]}),i.jsx(B,{onClick:j,disabled:c,className:"w-full",children:c?i.jsxs(i.Fragment,{children:[i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Testando conexo..."]}):"Salvar e Testar Conexo"})]})]})}),i.jsxs(Ve,{value:"workflows",className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Workflows Disponveis"}),i.jsxs(B,{variant:"outline",size:"sm",onClick:b,disabled:!o||g,children:[i.jsx(ya,{className:`h-4 w-4 mr-2 ${g?"animate-spin":""}`}),"Atualizar"]})]}),o?g?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(mr,{className:"h-8 w-8 animate-spin text-blue-600"})}):h.length===0?i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(ds,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum workflow encontrado"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Crie seu primeiro workflow ou use um dos nossos templates"}),i.jsx(B,{onClick:()=>{var _;return(_=document.getElementById("templates-tab"))==null?void 0:_.click()},children:"Ver Templates"})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(_=>i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ge,{className:"text-base",children:_.name}),i.jsx(fe,{variant:_.active?"default":"secondary",children:_.active?"Ativo":"Inativo"})]})}),i.jsxs(se,{children:[i.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:["ID: ",_.id]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>window.open(`${n.baseUrl}/workflow/${_.id}`,"_blank"),children:[i.jsx(Koe,{className:"h-4 w-4 mr-2"}),"Abrir no n8n"]}),i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>C(`webhook-test-${_.id}`),children:[i.jsx(My,{className:"h-4 w-4 mr-2"}),"Testar"]})]})]})]},_.id))}):i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(jn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No conectado ao n8n"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Configure a conexo com seu servidor n8n para visualizar os workflows"}),i.jsx(B,{onClick:()=>{var _;return(_=document.getElementById("config-tab"))==null?void 0:_.click()},children:"Ir para Configurao"})]})}),d&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{children:"Resultado do Teste"})}),i.jsx(se,{children:i.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto text-sm",children:d})})]})]}),i.jsxs(Ve,{value:"templates",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Chatbot com OpenAI"}),i.jsx(He,{children:"Cria um workflow para processar mensagens com GPT"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Este template cria um endpoint webhook que processa mensagens usando a API OpenAI e retorna respostas personalizadas."}),i.jsxs(B,{onClick:S,disabled:!o||c,className:"w-full",children:[c?i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(jr,{className:"mr-2 h-4 w-4"}),"Criar Workflow de Chatbot"]})]})})]}),i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Classificador de Texto"}),i.jsx(He,{children:"Classifica mensagens em categorias predefinidas"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Este template cria um endpoint webhook que classifica textos em categorias como suporte, vendas, informaes, etc."}),i.jsxs(B,{onClick:N,disabled:!o||c,className:"w-full",children:[c?i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(zp,{className:"mr-2 h-4 w-4"}),"Criar Workflow de Classificao"]})]})})]})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{children:"Instrues de Uso"})}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"1. Configurao da API OpenAI"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Aps criar o workflow, voc precisar configurar suas credenciais da OpenAI no n8n:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 mt-2 space-y-1",children:[i.jsx("li",{children:"Abra o workflow no n8n"}),i.jsx("li",{children:"Clique no n OpenAI"}),i.jsx("li",{children:'Clique em "Create New" nas credenciais'}),i.jsx("li",{children:"Insira sua chave API da OpenAI"}),i.jsx("li",{children:"Salve as credenciais"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"2. Ativao do Workflow"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Para que o workflow funcione, voc precisa ativ-lo:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 mt-2 space-y-1",children:[i.jsx("li",{children:'Clique no boto "Ativar" no canto superior direito'}),i.jsx("li",{children:"O webhook estar disponvel na URL mostrada no n Webhook"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"3. Integrao com o OmniCRM"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Para integrar com o OmniCRM, use a URL do webhook nos ns de automao:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 mt-2 space-y-1",children:[i.jsx("li",{children:"Copie a URL do webhook do n8n"}),i.jsx("li",{children:'No OmniCRM, crie uma automao com um n de ao "Webhook"'}),i.jsx("li",{children:"Cole a URL do webhook no campo URL"}),i.jsx("li",{children:"Configure o mtodo como POST e o corpo da requisio conforme necessrio"})]})]})]})})]})]})]}),i.jsx(yt,{children:i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"})})]})]})}var n2="Switch",[cUe,UKe]=js(n2),[uUe,dUe]=cUe(n2),YG=v.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=v.useState(null),g=ze(t,j=>m(j)),p=v.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,w]=Na({prop:s,defaultProp:a,onChange:u});return i.jsxs(uUe,{scope:n,checked:x,disabled:l,children:[i.jsx(Me.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":QG(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:ye(e.onClick,j=>{w(b=>!b),y&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),y&&i.jsx(fUe,{control:h,bubbles:!p.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});YG.displayName=n2;var XG="SwitchThumb",JG=v.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=dUe(XG,n);return i.jsx(Me.span,{"data-state":QG(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});JG.displayName=XG;var fUe=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=v.useRef(null),o=ub(n),l=sw(t);return v.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(h)}},[o,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function QG(e){return e?"checked":"unchecked"}var ZG=YG,hUe=JG;const Br=v.forwardRef(({className:e,...t},n)=>i.jsx(ZG,{className:ve("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:i.jsx(hUe,{className:ve("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Br.displayName=ZG.displayName;class eK{constructor(t,n){sr(this,"proxyUrl");sr(this,"supabaseAnonKey");sr(this,"requestQueue",[]);sr(this,"isProcessingQueue",!1);sr(this,"lastRequestTime",0);sr(this,"minRequestInterval",1e3);sr(this,"cache",new Map);sr(this,"cacheTimeout",6e4);this.proxyUrl=`${t}/functions/v1/baselinker-proxy`,this.supabaseAnonKey=n}getCacheKey(t,n,r){return`${t.substring(0,8)}_${n}_${JSON.stringify(r)}`}getFromCache(t){const n=this.cache.get(t);return n&&Date.now()-n.timestamp<this.cacheTimeout?(console.log(`[CACHE HIT] ${t}`),n.data):(n&&this.cache.delete(t),null)}setCache(t,n){this.cache.set(t,{data:n,timestamp:Date.now()})}async processQueue(){if(!(this.isProcessingQueue||this.requestQueue.length===0)){for(this.isProcessingQueue=!0;this.requestQueue.length>0;){const n=Date.now()-this.lastRequestTime;n<this.minRequestInterval&&await new Promise(s=>setTimeout(s,this.minRequestInterval-n));const r=this.requestQueue.shift();r&&(this.lastRequestTime=Date.now(),await r())}this.isProcessingQueue=!1}}async makeRequest(t,n,r={},s=!0){const a=this.getCacheKey(t,n,r);if(s){const o=this.getFromCache(a);if(o)return o}return new Promise((o,l)=>{(async()=>{var u,d;try{console.log(`[API REQUEST] ${n}`,{apiKey:t.substring(0,5)+"...",parameters:r});const h=Date.now()-this.lastRequestTime;h<this.minRequestInterval&&await new Promise(p=>setTimeout(p,this.minRequestInterval-h)),this.lastRequestTime=Date.now();const m=await fetch(this.proxyUrl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.supabaseAnonKey}`},body:JSON.stringify({apiKey:t,method:n,parameters:r})});if(!m.ok){if(m.status===401)throw new Error("HTTP error! status: 401 - Unauthorized. Verifique a chave annima (anon key) da Supabase.");if(m.status===403)throw new Error("HTTP error! status: 403 - Forbidden. Permisso negada para acessar a funo da Supabase.");{const p=await m.text();throw new Error(`HTTP error! status: ${m.status} - ${p}`)}}const g=await m.json();if(console.log(`[API RESPONSE] ${n}:`,g),g.status==="ERROR")throw(u=g.error_message)!=null&&u.includes("Query limit exceeded")||(d=g.error_message)!=null&&d.includes("token blocked")?new Error(g.error_message||"Rate limit exceeded"):new Error(g.error_message||"Unknown Baselinker API error");s&&this.setCache(a,g),o(g)}catch(f){console.error("[API ERROR]",f),l(f)}})()})}clearCache(){this.cache.clear(),console.log("[CACHE] Cache cleared")}async testConnection(t){var n,r;try{console.log("[TEST CONNECTION] Testing with API key:",t.substring(0,8)+"...");const s=await this.makeRequest(t,"getInventories",{},!1);return console.log("[TEST CONNECTION] Success:",s),{success:!0,data:s}}catch(s){if(console.error("[TEST CONNECTION] Error:",s),(n=s.message)!=null&&n.includes("Query limit exceeded")||(r=s.message)!=null&&r.includes("token blocked")){const a=s.message.match(/until (\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2})/);return{success:!1,message:`Token temporariamente bloqueado devido a muitas requisies. Aguarde at ${a?a[1]:"alguns minutos"} e tente novamente.`}}return{success:!1,message:s.message}}}async getOrders(t,n={}){return console.log("Getting orders with API key:",t,"and parameters:",n),this.makeRequest(t,"getOrders",n)}async getOrderDetails(t,n){return this.makeRequest(t,"getOrderDetails",{order_id:n})}async getOrderStatusList(t){return this.makeRequest(t,"getOrderStatusList")}async getOrderSources(t){return this.makeRequest(t,"getOrderSources")}async getOrderPaymentsHistory(t,n={}){return this.makeRequest(t,"getOrderPaymentsHistory",n)}async getInventories(t){return this.makeRequest(t,"getInventories")}async getInventoryWarehouses(t){return this.makeRequest(t,"getInventoryWarehouses",{})}async getInventoryProductsList(t,n){return this.makeRequest(t,"getInventoryProductsList",n)}async getInventoryProductsData(t,n){return this.makeRequest(t,"getInventoryProductsData",n)}async getInventoryAvailableTextFields(t,n){return this.makeRequest(t,"getInventoryAvailableTextFields",{inventory_id:n})}async getInventoryIntegrations(t){return this.makeRequest(t,"getInventoryIntegrations")}async getInventoryCategories(t,n){return this.makeRequest(t,"getInventoryCategories",{inventory_id:n})}async getInventoryExtraFields(t,n){return this.makeRequest(t,"getInventoryExtraFields",{inventory_id:n})}async getInventoryProductsPrices(t,n){return this.makeRequest(t,"getInventoryProductsPrices",n)}async getInventoryProductsQuantity(t,n){return this.makeRequest(t,"getInventoryProductsQuantity",n)}async updateInventoryProductsQuantity(t,n){return this.makeRequest(t,"updateInventoryProductsQuantity",n)}async addProductQuantity(t,n){return this.makeRequest(t,"addInventoryProductsQuantity",{inventory_id:n.inventory_id,products:{[n.product_id]:{[n.variant_id||"0"]:{quantity:n.quantity}}}})}async removeProductQuantity(t,n){return this.makeRequest(t,"removeInventoryProductsQuantity",{inventory_id:n.inventory_id,products:{[n.product_id]:{[n.variant_id||"0"]:{quantity:n.quantity}}}})}async getProductsList(t,n={}){return this.makeRequest(t,"getProductsList",n)}async getProductDetails(t,n){return this.makeRequest(t,"getProductDetails",{product_id:n})}async getProductsData(t,n){return this.makeRequest(t,"getProductsData",{products:n})}async getProductsPrices(t,n){return this.makeRequest(t,"getProductsPrices",{page:n})}async getProductsQuantity(t,n){return this.makeRequest(t,"getProductsQuantity",{page:n})}async getJournalList(t,n){return this.makeRequest(t,"getJournalList",n)}async getRequestsList(t){return this.makeRequest(t,"getRequestsList")}async getRequestMessages(t,n){return this.makeRequest(t,"getRequestMessages",{request_id:n})}async getExternalStoragesList(t){return this.makeRequest(t,"getExternalStoragesList")}async getCategoriesList(t,n){return this.makeRequest(t,"getCategoriesList",{storage_id:n})}}let OC=null;const vi=()=>OC,tK=(e,t)=>(OC=new eK(e,t),OC),nK=ka((e,t)=>{let n=null;return{config:null,products:[],loading:!1,syncInProgress:!1,lastSyncTime:null,isConnected:()=>{var a;const r=je.getState().currentWorkspace;if(!r)return!1;const s=(a=r.settings)==null?void 0:a.baselinker;return!!(s!=null&&s.enabled&&(s!=null&&s.token))},connect:async r=>{await G.handleAsync(async()=>{const s=je.getState().currentWorkspace;if(!s)throw new Error("Nenhum workspace selecionado");console.log("DEBUG (connect): Verificando chave da Supabase:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k"),tK("https://oqwstanztqdiexgrpdta.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k");const{data:a,error:o}=await U.from("workspaces").select("settings").eq("id",s.id).single();if(o)throw o;const l={...a.settings||{},baselinker:{enabled:!0,token:r.apiKey,warehouse_es:r.warehouse_es||1,warehouse_sp:r.warehouse_sp||2,sync_interval:r.syncInterval||5,sync_orders:r.syncOrders!==!1,sync_customers:r.syncCustomers!==!1,sync_inventory:r.syncInventory!==!1,inventory_id:r.inventoryId||""}};await U.from("workspaces").update({settings:l}).eq("id",s.id),je.getState().updateCurrentWorkspace({...s,settings:l}),e({config:r}),await U.from("baselinker_sync").upsert({workspace_id:s.id,sync_status:"idle",updated_at:new Date().toISOString()},{onConflict:"workspace_id"}),t().startSyncInterval(),await t().syncAll(!0)})},disconnect:async()=>{await G.handleAsync(async()=>{const r=je.getState().currentWorkspace;if(!r)return;const{data:s}=await U.from("workspaces").select("settings").eq("id",r.id).single(),a={...(s==null?void 0:s.settings)||{},baselinker:{enabled:!1,token:"",warehouse_es:1,warehouse_sp:2}};await U.from("workspaces").update({settings:a}).eq("id",r.id),je.getState().updateCurrentWorkspace({...r,settings:a}),t().stopSyncInterval(),e({config:null})})},testConnection:async r=>{try{console.log("Testing connection with API key:",r),console.log("DEBUG (testConnection): Verificando chave da Supabase:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k");const a=await new eK("https://oqwstanztqdiexgrpdta.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k").testConnection(r);return console.log("Test connection result:",a),a}catch(s){return console.error("Test connection error:",s),{success:!1,message:s.message||"Connection failed"}}},getInventories:async()=>await G.handleAsync(async()=>{const r=vi(),s=t().config;if(!r||!s)throw new Error("Baselinker no inicializado");try{console.log("Getting inventories with API key:",s.apiKey);const a=await r.getInventories(s.apiKey);return console.log("Inventories response:",a),a.inventories||[]}catch(a){throw console.error("Error fetching inventories:",a),a.message.includes("401")||a.message.includes("Unauthorized")||a.message.includes("Invalid API key")?new Error("Chave da API invlida ou sem permisses necessrias. Verifique sua chave da API no painel Baselinker."):a}})||[],getOrderStatuses:async()=>await G.handleAsync(async()=>{const r=vi(),s=t().config;if(!r||!s)throw new Error("Baselinker no inicializado");try{console.log("Getting order statuses with API key:",s.apiKey);const a=await r.getOrderStatusList(s.apiKey);return console.log("Order statuses response:",a),a.statuses||[]}catch(a){throw console.error("Error fetching order statuses:",a),a.message.includes("401")||a.message.includes("Unauthorized")||a.message.includes("Invalid API key")?new Error("Chave da API invlida ou sem permisses necessrias. Verifique sua chave da API no painel Baselinker."):a}})||[],getProducts:async r=>await G.handleAsync(async()=>{const s=vi(),a=t().config;if(!s||!a)throw new Error("Baselinker no inicializado");try{console.log("Getting products with API key:",a.apiKey,"and inventory ID:",r);const o=await s.getInventoryProductsList(a.apiKey,{inventory_id:r,page:1});return console.log("Products response:",o),o.products||[]}catch(o){throw console.error("Error fetching products:",o),o.message.includes("401")||o.message.includes("Unauthorized")||o.message.includes("Invalid API key")?new Error("Chave da API invlida ou sem permisses necessrias. Verifique sua chave da API no painel Baselinker."):o}})||[],syncOrders:async(r=!1)=>{await G.handleAsync(async()=>{const s=vi(),a=t().config,o=je.getState().currentWorkspace;if(!s||!a||!o)throw new Error("Configurao incompleta");e({syncInProgress:!0});try{const{data:l}=await U.from("baselinker_sync").select("last_orders_sync").eq("workspace_id",o.id).maybeSingle(),c=l!=null&&l.last_orders_sync&&!r?new Date(l.last_orders_sync).getTime()/1e3:0,d=(await s.getOrderStatusList(a.apiKey)).statuses||[],f=a.orderStatuses,h=d.filter(x=>f.includes(x.name.toLowerCase().replace(/\s+/g,"_"))).map(x=>x.id);let m=[],g=1,p=!0;for(console.log(`Iniciando sincronizao de pedidos (desde ${new Date(c*1e3).toISOString()})...`);p;){const x={date_from:c,status_id:h.join(","),page:g};console.log(`[PGINA ${g}] Buscando pedidos...`,x);const j=(await s.getOrders(a.apiKey,x)).orders||[];console.log(`[PGINA ${g}] Encontrados ${j.length} pedidos`),j.length===0?p=!1:(m.push(...j),j.length===100?(g++,console.log(`[PGINA ${g}] Continuando para prxima pgina (100 pedidos encontrados)...`)):(p=!1,console.log(`[PGINA ${g}] ltima pgina (${j.length} pedidos)`)))}console.log(` TOTAL: ${m.length} pedidos encontrados em ${g} pgina(s)`);const y=m;for(const x of y){const w=x;let j="pending";["paid","ready_for_shipping"].includes(x.order_status_id)?j="processing":["shipped","delivered"].includes(x.order_status_id)?j="completed":["cancelled","returned"].includes(x.order_status_id)&&(j="cancelled");let b=null;if(w.email||w.phone){const{data:N}=await U.from("clients").select("id").or(`email.eq.${w.email},phone.eq.${w.phone}`).eq("workspace_id",o.id);if(N&&N.length>0)b=N[0].id,await U.from("clients").update({name:w.delivery_fullname||w.invoice_fullname,email:w.email,phone:w.phone,metadata:{baselinker_data:{company:w.invoice_company,address:w.delivery_address,city:w.delivery_city,postcode:w.delivery_postcode,country:w.delivery_country,last_order_id:x.order_id}}}).eq("id",b);else{const{data:C}=await U.from("clients").insert({name:w.delivery_fullname||w.invoice_fullname,email:w.email,phone:w.phone,workspace_id:o.id,metadata:{baselinker_data:{company:w.invoice_company,address:w.delivery_address,city:w.delivery_city,postcode:w.delivery_postcode,country:w.delivery_country,last_order_id:x.order_id}}}).select().single();b=C==null?void 0:C.id}}if(!b)continue;const{data:S}=await U.from("orders").select("id").eq("external_id",x.order_id);if(S&&S.length>0){const{error:N}=await U.from("orders").update({total_amount:parseFloat(x.price),status:j,metadata:{baselinker_data:w}}).eq("external_id",x.order_id);N&&console.error("Error updating order:",N)}else{const{error:N}=await U.from("orders").insert({client_id:b,total_amount:parseFloat(x.price),order_date:new Date(x.date_add*1e3).toISOString(),status:j,external_id:x.order_id,order_id_base:parseInt(x.order_id),metadata:{baselinker_data:w},metadata_feita:!1});N&&console.error("Error inserting order:",{error:N,orderData:{client_id:b,total_amount:parseFloat(x.price),order_date:new Date(x.date_add*1e3).toISOString(),status:j,external_id:x.order_id,order_id_base:parseInt(x.order_id)}})}}await U.from("baselinker_sync").upsert({workspace_id:o.id,last_orders_sync:new Date().toISOString(),sync_status:"idle",updated_at:new Date().toISOString()},{onConflict:"workspace_id"}),e({lastSyncTime:new Date})}catch(l){throw l.message.includes("401")||l.message.includes("Unauthorized")||l.message.includes("Invalid API key")?new Error("Chave da API invlida ou sem permisses necessrias. Verifique sua chave da API no painel Baselinker."):l}finally{e({syncInProgress:!1})}})},syncCustomers:async(r=!1)=>{await G.handleAsync(async()=>{const s=vi(),a=t().config,o=je.getState().currentWorkspace;if(!s||!a||!o)throw new Error("Configurao incompleta");e({syncInProgress:!0});try{const{data:l}=await U.from("baselinker_sync").select("last_customers_sync").eq("workspace_id",o.id).maybeSingle(),c=l!=null&&l.last_customers_sync&&!r?new Date(l.last_customers_sync).getTime()/1e3:0;console.log("Syncing customers with API key:",a.apiKey);const d=(await s.getOrders(a.apiKey,{date_from:c})).orders||[];console.log(`Found ${d.length} orders to extract customers from`);for(const f of d){const h=f;if(!h.email&&!h.phone)continue;const{data:m}=await U.from("clients").select("id").or(`email.eq.${h.email},phone.eq.${h.phone}`).eq("workspace_id",o.id);m&&m.length>0?await U.from("clients").update({name:h.delivery_fullname||h.invoice_fullname,email:h.email,phone:h.phone,metadata:{baselinker_data:{company:h.invoice_company,address:h.delivery_address,city:h.delivery_city,postcode:h.delivery_postcode,country:h.delivery_country,last_order_id:f.order_id}}}).eq("id",m[0].id):await U.from("clients").insert({name:h.delivery_fullname||h.invoice_fullname,email:h.email,phone:h.phone,workspace_id:o.id,metadata:{baselinker_data:{company:h.invoice_company,address:h.delivery_address,city:h.delivery_city,postcode:h.delivery_postcode,country:h.delivery_country,last_order_id:f.order_id}}})}await U.from("baselinker_sync").upsert({workspace_id:o.id,last_customers_sync:new Date().toISOString(),sync_status:"idle",updated_at:new Date().toISOString()},{onConflict:"workspace_id"}),e({lastSyncTime:new Date})}catch(l){throw l.message.includes("401")||l.message.includes("Unauthorized")||l.message.includes("Invalid API key")?new Error("Chave da API invlida ou sem permisses necessrias. Verifique sua chave da API no painel Baselinker."):l}finally{e({syncInProgress:!1})}})},syncInventory:async()=>{await G.handleAsync(async()=>{var o,l;const r=vi(),s=t().config,a=je.getState().currentWorkspace;if(!r||!s||!a||!s.inventoryId)throw new Error("Configurao incompleta");e({syncInProgress:!0});try{console.log("Syncing inventory with API key:",s.apiKey,"and inventory ID:",s.inventoryId);let c=1,u=!0;const d=[];for(;u;){const g=(await r.getInventoryProductsList(s.apiKey,{inventory_id:s.inventoryId,page:c})).products||{},p=Object.values(g);if(d.push(...p),u=p.length>0,c++,c>10)break}console.log(`Found ${d.length} products to sync`);const{data:f}=await U.from("baselinker_warehouses").select("*").eq("workspace_id",a.id),h=new Map;f==null||f.forEach(m=>{h.set(m.warehouse_id,m)});for(const m of d){const p=(o=(await r.getInventoryProductsData(s.apiKey,{inventory_id:s.inventoryId,products:[m.id]})).products)==null?void 0:o[m.id];if(!p)continue;const y=p.stock||{};for(const[x,w]of Object.entries(y)){const{data:j}=await U.from("products").select("id").eq("sku",m.sku).eq("warehouseID",x).eq("workspace_id",a.id),b={name:m.name||p.name,sku:m.sku,ean:m.ean,price:parseFloat(p.price_brutto||m.price||0),cost:parseFloat(p.purchase_price_brutto||0),stock_es:parseInt(w),warehouseID:x,description:((l=p==null?void 0:p.text_fields)==null?void 0:l.description)||"",images:(p==null?void 0:p.images)||[],metadata:{baselinker_data:p,baselinker_product_id:m.id},updated_at:new Date().toISOString()};let S;if(j&&j.length>0)await U.from("products").update(b).eq("id",j[0].id),S=j[0].id;else{const{data:N}=await U.from("products").insert({...b,external_id:m.id,workspace_id:a.id}).select("id").single();S=(N==null?void 0:N.id)||""}S&&await U.from("product_stock_by_warehouse").upsert({workspace_id:a.id,product_id:S,warehouse_id:x,sku:m.sku,stock_quantity:parseInt(w),updated_at:new Date().toISOString()},{onConflict:"workspace_id,sku,warehouse_id"})}}await U.from("baselinker_sync").upsert({workspace_id:a.id,last_inventory_sync:new Date().toISOString(),sync_status:"idle",updated_at:new Date().toISOString()},{onConflict:"workspace_id"}),e({lastSyncTime:new Date})}catch(c){throw c.message.includes("401")||c.message.includes("Unauthorized")||c.message.includes("Invalid API key")?new Error("Chave da API invlida ou sem permisses necessrias. Verifique sua chave da API no painel Baselinker."):c}finally{e({syncInProgress:!1})}})},syncAll:async(r=!1)=>{await G.handleAsync(async()=>{const s=t().config,a=je.getState().currentWorkspace;if(!s||!a)throw new Error("Configurao incompleta");await U.from("baselinker_sync").upsert({workspace_id:a.id,sync_status:"syncing",updated_at:new Date().toISOString()},{onConflict:"workspace_id"}),e({syncInProgress:!0});try{s.syncOrders&&await t().syncOrders(r),s.syncCustomers&&await t().syncCustomers(r),s.syncInventory&&s.inventoryId&&await t().syncInventory(),await U.from("baselinker_sync").upsert({workspace_id:a.id,sync_status:"idle",updated_at:new Date().toISOString()},{onConflict:"workspace_id"}),e({lastSyncTime:new Date})}catch(o){throw await U.from("baselinker_sync").upsert({workspace_id:a.id,sync_status:"error",sync_errors:[{message:o.message,timestamp:new Date().toISOString()}],updated_at:new Date().toISOString()},{onConflict:"workspace_id"}),o}finally{e({syncInProgress:!1})}})},getSyncStats:async()=>await G.handleAsync(async()=>{const r=je.getState().currentWorkspace;if(!r)return{lastSync:null,ordersCount:0,customersCount:0,productsCount:0};const{data:s}=await U.from("baselinker_sync").select("*").eq("workspace_id",r.id).maybeSingle(),[{count:a},{count:o},{count:l}]=await Promise.all([U.from("orders").select("*, clients!inner(workspace_id)",{count:"exact",head:!0}).eq("clients.workspace_id",r.id).not("external_id","is",null),U.from("clients").select("*",{count:"exact",head:!0}).eq("workspace_id",r.id),U.from("products").select("*",{count:"exact",head:!0}).eq("workspace_id",r.id)]);let c=null;if(s){const u=[s.last_orders_sync,s.last_customers_sync,s.last_inventory_sync].filter(Boolean).map(d=>new Date(d));u.length>0&&(c=new Date(Math.max(...u.map(d=>d.getTime()))))}return{lastSync:c,ordersCount:a||0,customersCount:o||0,productsCount:l||0}})||{lastSync:null,ordersCount:0,customersCount:0,productsCount:0},startSyncInterval:()=>{const r=t().config;r&&(t().stopSyncInterval(),n=window.setInterval(()=>{t().syncAll()},r.syncInterval*60*1e3))},stopSyncInterval:()=>{n!==null&&(clearInterval(n),n=null)}}}),mUe=J0("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),rK=v.forwardRef(({className:e,variant:t,...n},r)=>i.jsx("div",{ref:r,role:"alert",className:ve(mUe({variant:t}),e),...n}));rK.displayName="Alert";const pUe=v.forwardRef(({className:e,...t},n)=>i.jsx("h5",{ref:n,className:ve("mb-1 font-medium leading-none tracking-tight",e),...t}));pUe.displayName="AlertTitle";const sK=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ve("text-sm [&_p]:leading-relaxed",e),...t}));sK.displayName="AlertDescription";function aK(){const{currentWorkspace:e}=je(),[t,n]=v.useState([]),[r,s]=v.useState([]),[a,o]=v.useState([]),[l,c]=v.useState(!0),[u,d]=v.useState(!1),[f,h]=v.useState(!1);v.useEffect(()=>{e!=null&&e.id&&m()},[e==null?void 0:e.id]);const m=async()=>{try{c(!0);const{data:j,error:b}=await U.from("baselinker_warehouses").select("*").eq("workspace_id",e.id);if(b)throw b;n(j||[])}catch(j){console.error("Error loading warehouses:",j)}finally{c(!1)}},g=async()=>{try{await m(),await p()}catch(j){console.error("Error loading warehouses:",j),Rr.error("Erro ao carregar configurao de warehouses")}},p=async()=>{try{h(!0);const j=vi();if(!j)throw new Error("Baselinker no est inicializado. Configure a API Key primeiro.");const b=`baselinker_config_${e.id}`,S=localStorage.getItem(b);if(!S)throw new Error("Configurao do Baselinker no encontrada. Configure a API Key na pgina de Integraes.");const C=JSON.parse(S).apiKey;if(!C)throw new Error("API Key do Baselinker no configurada");const _=await j.getInventories(C),k=await j.getInventoryWarehouses(C);if(_.inventories){const P=Object.entries(_.inventories).map(([A,I])=>({inventory_id:A,name:I.name||`Inventory ${A}`,description:I.description}));o(P)}if(k.warehouses){const P=Object.entries(k.warehouses).map(([A,I])=>{var R,O;const L=_.inventories?Object.keys(_.inventories)[0]:"0",E=((O=(R=_.inventories)==null?void 0:R[L])==null?void 0:O.name)||"Baselinker Inventory";return{warehouse_id:A,name:I.name||`Warehouse ${A}`,description:I.description,inventory_id:L,inventory_name:E}});s(P)}}catch(j){console.error("Error loading inventories:",j),Rr.error(j.message||"Erro ao buscar warehouses do Baselinker")}finally{h(!1)}},y=async(j,b)=>{try{d(!0);const S=r.find(C=>C.warehouse_id===j),N=t.find(C=>C.warehouse_id===j);if(N){const{error:C}=await U.from("baselinker_warehouses").update({is_active:b}).eq("id",N.id);if(C)throw C}else{const{error:C}=await U.from("baselinker_warehouses").insert({workspace_id:e.id,warehouse_id:j,warehouse_name:(S==null?void 0:S.name)||`Warehouse ${j}`,is_active:b,allow_stock_updates:!0,sync_direction:"bidirectional"});if(C)throw C}Rr.success(b?"Estoque ativado":"Estoque desativado"),await g()}catch(S){console.error("Error toggling warehouse:",S),Rr.error("Erro ao atualizar estoque")}finally{d(!1)}},x=async(j,b)=>{try{d(!0);const S=t.find(C=>C.warehouse_id===j);if(!S)return;const{error:N}=await U.from("baselinker_warehouses").update({sync_direction:b}).eq("id",S.id);if(N)throw N;Rr.success("Direo de sincronizao atualizada"),await g()}catch(S){console.error("Error updating sync direction:",S),Rr.error("Erro ao atualizar direo de sincronizao")}finally{d(!1)}},w=async(j,b)=>{try{d(!0);const S=t.find(C=>C.warehouse_id===j);if(!S)return;const{error:N}=await U.from("baselinker_warehouses").update({allow_stock_updates:b}).eq("id",S.id);if(N)throw N;Rr.success(b?"Atualizao de estoque ativada":"Atualizao de estoque desativada"),await g()}catch(S){console.error("Error updating stock updates:",S),Rr.error("Erro ao atualizar permisso de estoque")}finally{d(!1)}};return l?i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"flex items-center gap-2",children:[i.jsx(Mu,{className:"h-5 w-5"}),"Warehouses Ativos"]})}),i.jsx(se,{children:i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(mr,{className:"h-8 w-8 animate-spin text-gray-400"})})})]}):i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(ge,{className:"flex items-center gap-2",children:[i.jsx(Mu,{className:"h-5 w-5"}),"Warehouses Ativos"]}),i.jsx(He,{className:"mt-2",children:"Selecione quais warehouses a plataforma pode modificar automaticamente"})]}),i.jsxs(B,{variant:"outline",size:"sm",onClick:p,disabled:f,children:[f?i.jsx(mr,{className:"h-4 w-4 animate-spin"}):i.jsx(ya,{className:"h-4 w-4"}),i.jsx("span",{className:"ml-2",children:"Atualizar"})]})]})}),i.jsx(se,{className:"space-y-6",children:r.length===0?i.jsxs(rK,{children:[i.jsx(b6,{className:"h-4 w-4"}),i.jsx(sK,{children:"Nenhum estoque encontrado. Configure a API Key do Baselinker primeiro."})]}):a.map(j=>{const b=r.filter(S=>S.inventory_id===j.inventory_id);return b.length===0?null:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[i.jsx(Mu,{className:"h-4 w-4"}),j.name]}),i.jsx("div",{className:"space-y-3 ml-6",children:b.map(S=>{const N=t.find(P=>P.warehouse_id===S.warehouse_id),C=(N==null?void 0:N.is_active)||!1,_=(N==null?void 0:N.allow_stock_updates)??!0,k=(N==null?void 0:N.sync_direction)||"bidirectional";return i.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Y,{htmlFor:`warehouse-${S.warehouse_id}`,className:"text-base font-medium cursor-pointer",children:S.name}),C?i.jsx(fe,{variant:"default",className:"bg-green-500",children:"Ativo"}):i.jsx(fe,{variant:"secondary",children:"Inativo"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["ID: ",S.warehouse_id,S.description&&`  ${S.description}`]})]}),i.jsx(Br,{id:`warehouse-${S.warehouse_id}`,checked:C,onCheckedChange:P=>y(S.warehouse_id,P),disabled:u})]}),C&&N&&i.jsxs("div",{className:"pl-4 space-y-3 border-l-2 border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Y,{htmlFor:`stock-${S.warehouse_id}`,className:"text-sm",children:"Permitir atualizao de estoque"}),i.jsx(Br,{id:`stock-${S.warehouse_id}`,checked:_,onCheckedChange:P=>w(S.warehouse_id,P),disabled:u})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Y,{htmlFor:`direction-${S.warehouse_id}`,className:"text-sm",children:"Direo de sincronizao"}),i.jsxs(Oe,{value:k,onValueChange:P=>x(S.warehouse_id,P),disabled:u,children:[i.jsx(Pe,{id:`direction-${S.warehouse_id}`,className:"w-[180px]",children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"read_only",children:"Somente Leitura"}),i.jsx(K,{value:"write_only",children:"Somente Escrita"}),i.jsx(K,{value:"bidirectional",children:"Bidirecional"})]})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground bg-gray-50 p-2 rounded",children:[k==="read_only"&&" A plataforma apenas l dados deste estoque",k==="write_only"&&" A plataforma apenas escreve dados neste estoque",k==="bidirectional"&&" A plataforma l e escreve dados neste estoque"]})]})]},S.warehouse_id)})})]},j.inventory_id)})})]})}function gUe(){const[e,t]=v.useState(!1),[n,r]=v.useState({apiKey:"",syncInterval:5,syncOrders:!0,syncCustomers:!0,syncInventory:!0,orderStatuses:["new","paid","processing","ready_for_shipping","shipped"],inventoryId:""}),[s,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(""),[d,f]=v.useState([]),[h,m]=v.useState([]),[g,p]=v.useState({lastSync:null,ordersCount:0,customersCount:0,productsCount:0}),[y,x]=v.useState(""),{currentWorkspace:w}=je(),{isConnected:j,connect:b,disconnect:S,testConnection:N,getInventories:C,getOrderStatuses:_,syncOrders:k,syncCustomers:P,syncInventory:A,syncAll:I,getSyncStats:L}=nK(),{toast:E}=Zn();v.useEffect(()=>{e&&(O(),R())},[e,w==null?void 0:w.id]);const R=async()=>{var V;try{x("");const te=j();if(a(te),te){const ne=(V=w==null?void 0:w.settings)==null?void 0:V.baselinker;if(ne&&ne.token){const X={apiKey:ne.token,syncInterval:ne.sync_interval||5,syncOrders:ne.sync_orders!==!1,syncCustomers:ne.sync_customers!==!1,syncInventory:ne.sync_inventory!==!1,orderStatuses:["new","paid","processing","ready_for_shipping","shipped"],inventoryId:ne.inventory_id||"",warehouse_es:ne.warehouse_es||1,warehouse_sp:ne.warehouse_sp||2};r(X);const{apiKey:ee}=X;if(ee)try{console.log("Testing connection with API key:",ee);const Z=await N(ee);if(console.log("Connection test result:",Z),!Z.success){a(!1),x("Chave da API invlida ou expirada. Por favor, verifique sua chave da API."),E({title:"Erro de Autenticao",description:"A chave da API Baselinker  invlida ou expirou. Por favor, atualize sua chave da API.",variant:"destructive"});return}await b(X),await F(),await D()}catch(Z){console.error("Error during connection check:",Z),a(!1),Z.message.includes("401")||Z.message.includes("Unauthorized")||Z.message.includes("Invalid API key")?(x("Chave da API invlida ou sem permisses necessrias."),E({title:"Erro de Autenticao",description:"A chave da API Baselinker no tem as permisses necessrias ou  invlida. Verifique sua chave da API no painel Baselinker.",variant:"destructive"})):(x("Erro de conexo com Baselinker."),E({title:"Erro de Conexo",description:"A conexo com Baselinker falhou. Por favor, tente novamente.",variant:"destructive"}))}}}}catch(te){console.error("Error checking connection status:",te),a(!1),x("Erro ao verificar status da conexo.")}},O=async()=>{var V;if(w)try{const te=(V=w.settings)==null?void 0:V.baselinker;te&&te.token&&r({apiKey:te.token,syncInterval:te.sync_interval||5,syncOrders:te.sync_orders!==!1,syncCustomers:te.sync_customers!==!1,syncInventory:te.sync_inventory!==!1,orderStatuses:["new","paid","processing","ready_for_shipping","shipped"],inventoryId:te.inventory_id||""})}catch(te){console.error("Error loading Baselinker config:",te)}},F=async()=>{try{x("");const V=await C();f(V);const te=await _();m(te)}catch(V){console.error("Error fetching Baselinker data:",V),V.message.includes("401")||V.message.includes("Unauthorized")||V.message.includes("Invalid API key")?(x("Chave da API invlida ou sem permisses necessrias."),a(!1),E({title:"Erro de Autenticao",description:"A chave da API Baselinker no tem as permisses necessrias. Verifique sua chave da API no painel Baselinker.",variant:"destructive"})):E({title:"Erro",description:"Falha ao buscar dados do Baselinker. Verifique sua conexo.",variant:"destructive"})}},D=async()=>{try{const V=await L();p(V)}catch(V){console.error("Error fetching sync stats:",V)}},M=async()=>{var V,te;if(!n.apiKey.trim()){E({title:"Erro",description:"Por favor, insira sua chave da API Baselinker",variant:"destructive"});return}l(!0),x("");try{console.log("Testing connection with API key:",n.apiKey);const ne=await N(n.apiKey);if(console.log("Connection test result:",ne),!ne.success){(V=ne.message)!=null&&V.includes("token bloqueado")||(te=ne.message)!=null&&te.includes("temporariamente bloqueado")?(x("Rate limit atingido. Aguarde alguns minutos."),E({title:"Muitas requisies",description:ne.message,variant:"destructive"})):(x("Chave da API invlida ou sem permisses necessrias."),E({title:"Erro de Autenticao",description:ne.message||"A chave da API Baselinker  invlida ou no tem as permisses necessrias.",variant:"destructive"}));return}await b(n),a(!0),E({title:"Sucesso",description:"Configurao Baselinker salva e testada com sucesso!"}),await F(),await D()}catch(ne){console.error("Connection error:",ne),ne.message.includes("401")||ne.message.includes("Unauthorized")||ne.message.includes("Invalid API key")?(x("Chave da API invlida ou sem permisses necessrias."),E({title:"Erro de Autenticao",description:"A chave da API Baselinker  invlida ou no tem as permisses necessrias. Verifique sua chave da API no painel Baselinker.",variant:"destructive"})):E({title:"Erro",description:`Falha ao conectar com Baselinker: ${ne.message}`,variant:"destructive"})}finally{l(!1)}},$=async()=>{try{await S(),a(!1),x(""),r({apiKey:"",syncInterval:5,syncOrders:!0,syncCustomers:!0,syncInventory:!0,orderStatuses:["new","paid","processing","ready_for_shipping","shipped"],inventoryId:""}),E({title:"Desconectado",description:"Conexo com Baselinker removida com sucesso"})}catch(V){E({title:"Erro",description:`Falha ao desconectar: ${V.message}`,variant:"destructive"})}},z=async()=>{var V,te,ne;if(!n.apiKey.trim()){E({title:"Erro",description:"Por favor, insira sua chave da API Baselinker",variant:"destructive"});return}l(!0),x("");try{console.log("Testing connection with API key:",n.apiKey);const X=await N(n.apiKey);console.log("Test connection result:",X),u(JSON.stringify(X,null,2)),X.success?E({title:"Conexo bem-sucedida",description:"API Baselinker est funcionando corretamente"}):(V=X.message)!=null&&V.includes("401")||(te=X.message)!=null&&te.includes("Unauthorized")||(ne=X.message)!=null&&ne.includes("Invalid API key")?(x("Chave da API invlida ou sem permisses necessrias."),E({title:"Erro de Autenticao",description:"A chave da API Baselinker  invlida ou no tem as permisses necessrias. Verifique sua chave da API no painel Baselinker.",variant:"destructive"})):E({title:"Erro na conexo",description:X.message||"Falha ao conectar com Baselinker",variant:"destructive"})}catch(X){console.error("Test connection error:",X),X.message.includes("401")||X.message.includes("Unauthorized")||X.message.includes("Invalid API key")?(x("Chave da API invlida ou sem permisses necessrias."),E({title:"Erro de Autenticao",description:"A chave da API Baselinker  invlida ou no tem as permisses necessrias. Verifique sua chave da API no painel Baselinker.",variant:"destructive"})):E({title:"Erro",description:`Falha ao testar conexo: ${X.message}`,variant:"destructive"}),u(JSON.stringify({success:!1,message:X.message},null,2))}finally{l(!1)}},W=async V=>{if(!s){E({title:"No Conectado",description:"Por favor, configure e teste a conexo com Baselinker primeiro.",variant:"destructive"});return}l(!0),x("");try{if((V==="orders"||V==="all")&&await k(),(V==="customers"||V==="all")&&await P(),V==="inventory"||V==="all"){if(n.syncInventory&&n.inventoryId)await A();else if(V==="inventory"){E({title:"Configurao Incompleta",description:"Por favor, selecione um inventrio antes de sincronizar o estoque.",variant:"destructive"}),l(!1);return}}await D(),E({title:"Sincronizao concluda",description:`Dados ${V==="all"?"completos":V} sincronizados com sucesso`})}catch(te){console.error("Sync error:",te),te.message.includes("401")||te.message.includes("Unauthorized")||te.message.includes("Invalid API key")?(x("Chave da API invlida ou sem permisses necessrias."),a(!1),E({title:"Erro de Autenticao",description:"A chave da API Baselinker  invlida ou expirou. Por favor, atualize sua chave da API.",variant:"destructive"})):E({title:"Erro na sincronizao",description:`Falha ao sincronizar dados: ${te.message}`,variant:"destructive"})}finally{l(!1)}},H=V=>V?new Date(V).toLocaleString():"Nunca";return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(lc,{className:"mr-2 h-4 w-4"}),"Configurar Baselinker"]})}),i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsxs(nt,{className:"flex items-center",children:[i.jsx(lc,{className:"mr-2 h-5 w-5"}),"Configurao Baselinker - ERP e Gesto de Pedidos"]}),i.jsx(ft,{children:"Configure a integrao com Baselinker para sincronizar pedidos, clientes e estoque"})]}),i.jsxs(Jn,{defaultValue:"config",className:"w-full",children:[i.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[i.jsx(Fe,{value:"config",id:"config-tab",children:"Configurao"}),i.jsx(Fe,{value:"orders",children:"Pedidos"}),i.jsx(Fe,{value:"customers",children:"Clientes"}),i.jsx(Fe,{value:"inventory",children:"Warehouses"})]}),i.jsxs(Ve,{value:"config",className:"space-y-4",children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsxs(ge,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Configuraes da API"}),s?i.jsxs(fe,{className:"bg-green-100 text-green-800",children:[i.jsx(Gn,{className:"h-3 w-3 mr-1"}),"Conectado"]}):i.jsxs(fe,{variant:"secondary",children:[i.jsx(jn,{className:"h-3 w-3 mr-1"}),"Desconectado"]})]}),i.jsx(He,{children:"Configure sua chave da API Baselinker e parmetros de sincronizao"})]}),i.jsxs(se,{className:"space-y-4",children:[y&&i.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-2",children:[i.jsx(lle,{className:"h-5 w-5 text-red-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-red-800",children:"Erro de Autenticao"}),i.jsx("p",{className:"text-sm text-red-700",children:y}),i.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Verifique sua chave da API em: Baselinker  Configuraes  API  API Token"})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"apiKey",children:"Chave da API Baselinker *"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ie,{id:"apiKey",type:"password",placeholder:"Insira sua chave da API",value:n.apiKey,onChange:V=>{r({...n,apiKey:V.target.value}),x("")},className:y?"border-red-300 focus:border-red-500":""}),i.jsx(B,{variant:"outline",onClick:()=>window.open("https://panel.baselinker.com/developer_api.php","_blank"),children:i.jsx(A6,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Obtenha sua chave em Baselinker > Configuraes > API > API Token"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"syncInterval",children:"Intervalo de Sincronizao (minutos)"}),i.jsx(ie,{id:"syncInterval",type:"number",min:"1",max:"60",value:n.syncInterval,onChange:V=>r({...n,syncInterval:parseInt(V.target.value)||5})})]}),s&&d.length>0&&i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"inventoryId",children:"Inventrio Principal"}),i.jsxs(Oe,{value:n.inventoryId,onValueChange:V=>r({...n,inventoryId:V}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um inventrio"})}),i.jsx(Te,{children:d.map(V=>{var te;return i.jsx(K,{value:((te=V.inventory_id||V.id)==null?void 0:te.toString())||"",children:V.name},V.inventory_id||V.id)})})]})]})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[i.jsx("h4",{className:"font-medium",children:"Dados a Sincronizar"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Y,{htmlFor:"syncOrders",children:"Pedidos"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Sincronizar pedidos do Baselinker"})]}),i.jsx(Br,{id:"syncOrders",checked:n.syncOrders,onCheckedChange:V=>r({...n,syncOrders:V})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Y,{htmlFor:"syncCustomers",children:"Clientes"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Sincronizar clientes do Baselinker"})]}),i.jsx(Br,{id:"syncCustomers",checked:n.syncCustomers,onCheckedChange:V=>r({...n,syncCustomers:V})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Y,{htmlFor:"syncInventory",children:"Estoque"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Sincronizar produtos e estoque do Baselinker"})]}),i.jsx(Br,{id:"syncInventory",checked:n.syncInventory,onCheckedChange:V=>r({...n,syncInventory:V})})]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(B,{onClick:M,disabled:o,className:"flex-1",children:o?i.jsxs(i.Fragment,{children:[i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Testando conexo..."]}):"Salvar e Testar Conexo"}),i.jsxs(B,{variant:"outline",onClick:z,disabled:o||!n.apiKey.trim(),children:[i.jsx(My,{className:"h-4 w-4 mr-2"}),"Testar"]})]}),s&&i.jsx(B,{variant:"destructive",onClick:$,disabled:o,children:"Desconectar"})]})]}),s&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{children:"Status da Sincronizao"})}),i.jsxs(se,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"ltima Sincronizao"}),i.jsx("p",{className:"text-sm",children:H(g.lastSync)})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Prxima Sincronizao"}),i.jsx("p",{className:"text-sm",children:g.lastSync?H(new Date(g.lastSync.getTime()+n.syncInterval*6e4)):"No agendada"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g.ordersCount}),i.jsx("p",{className:"text-sm text-blue-800",children:"Pedidos"})]}),i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:g.customersCount}),i.jsx("p",{className:"text-sm text-green-800",children:"Clientes"})]}),i.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:g.productsCount}),i.jsx("p",{className:"text-sm text-purple-800",children:"Produtos"})]})]}),i.jsx("div",{className:"mt-4",children:i.jsxs(B,{onClick:()=>W("all"),disabled:o||!s,className:"w-full",children:[o?i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(ya,{className:"mr-2 h-4 w-4"}),"Sincronizar Agora"]})})]})]}),c&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{children:"Resultado do Teste"})}),i.jsx(se,{children:i.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto text-sm",children:c})})]})]}),i.jsx(Ve,{value:"orders",className:"space-y-4",children:s?i.jsxs(i.Fragment,{children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsxs(ge,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Configurao de Pedidos"}),i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>W("orders"),disabled:o,children:[i.jsx(ya,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),"Sincronizar Pedidos"]})]}),i.jsx(He,{children:"Configure quais pedidos sero sincronizados do Baselinker"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Status de Pedidos a Sincronizar"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mt-2",children:h.map(V=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:`status-${V.id}`,checked:n.orderStatuses.includes(V.id),onChange:te=>{const ne=te.target.checked?[...n.orderStatuses,V.id]:n.orderStatuses.filter(X=>X!==V.id);r({...n,orderStatuses:ne})}}),i.jsx(Y,{htmlFor:`status-${V.id}`,className:"text-sm",children:V.name})]},V.id))})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Mapeamento de Status"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Os status de pedidos do Baselinker sero mapeados para os status do OmniCRM da seguinte forma:"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"new, waiting_for_payment"}),i.jsx(fe,{children:"pending"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"paid, ready_for_shipping"}),i.jsx(fe,{className:"bg-blue-100 text-blue-800",children:"processing"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"shipped, delivered"}),i.jsx(fe,{className:"bg-green-100 text-green-800",children:"completed"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"cancelled, returned"}),i.jsx(fe,{className:"bg-red-100 text-red-800",children:"cancelled"})]})]})]})]})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{children:"Estatsticas de Pedidos"})}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g.ordersCount}),i.jsx("p",{className:"text-sm text-blue-800",children:"Total de Pedidos"})]}),i.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Math.floor(g.ordersCount*.2)}),i.jsx("p",{className:"text-sm text-yellow-800",children:"Pendentes"})]}),i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:Math.floor(g.ordersCount*.7)}),i.jsx("p",{className:"text-sm text-green-800",children:"Concludos"})]}),i.jsxs("div",{className:"p-3 bg-red-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-red-600",children:Math.floor(g.ordersCount*.1)}),i.jsx("p",{className:"text-sm text-red-800",children:"Cancelados"})]})]})})]})]}):i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(jn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No conectado ao Baselinker"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Configure a conexo com Baselinker para sincronizar pedidos"}),i.jsx(B,{onClick:()=>{var V;return(V=document.getElementById("config-tab"))==null?void 0:V.click()},children:"Ir para Configurao"})]})})}),i.jsx(Ve,{value:"customers",className:"space-y-4",children:s?i.jsxs(i.Fragment,{children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsxs(ge,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Configurao de Clientes"}),i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>W("customers"),disabled:o,children:[i.jsx(ya,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),"Sincronizar Clientes"]})]}),i.jsx(He,{children:"Configure como os clientes sero sincronizados do Baselinker"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Y,{children:"Criar clientes automaticamente"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Criar novos clientes a partir de pedidos"})]}),i.jsx(Br,{checked:!0,disabled:!0})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Y,{children:"Atualizar clientes existentes"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Atualizar dados de clientes existentes"})]}),i.jsx(Br,{checked:!0,disabled:!0})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Mapeamento de Campos"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Os dados de clientes do Baselinker sero mapeados para os campos do OmniCRM da seguinte forma:"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"email"}),i.jsx("span",{className:"text-sm font-medium",children:""}),i.jsx("span",{className:"text-sm",children:"email"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"phone"}),i.jsx("span",{className:"text-sm font-medium",children:""}),i.jsx("span",{className:"text-sm",children:"phone"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"delivery_fullname"}),i.jsx("span",{className:"text-sm font-medium",children:""}),i.jsx("span",{className:"text-sm",children:"name"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"invoice_company"}),i.jsx("span",{className:"text-sm font-medium",children:""}),i.jsx("span",{className:"text-sm",children:"company"})]})]})]})]})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{children:"Estatsticas de Clientes"})}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g.customersCount}),i.jsx("p",{className:"text-sm text-blue-800",children:"Total de Clientes"})]}),i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:Math.floor(g.customersCount*.8)}),i.jsx("p",{className:"text-sm text-green-800",children:"Clientes Ativos"})]}),i.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Math.floor(g.customersCount*.15)}),i.jsx("p",{className:"text-sm text-purple-800",children:"Novos (30 dias)"})]})]})})]})]}):i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(jn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No conectado ao Baselinker"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Configure a conexo com Baselinker para sincronizar clientes"}),i.jsx(B,{onClick:()=>{var V;return(V=document.getElementById("config-tab"))==null?void 0:V.click()},children:"Ir para Configurao"})]})})}),i.jsx(Ve,{value:"inventory",className:"space-y-4",children:s?i.jsx(aK,{}):i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(jn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No conectado ao Baselinker"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Configure a conexo com Baselinker para configurar warehouses"}),i.jsx(B,{onClick:()=>{var V;return(V=document.getElementById("config-tab"))==null?void 0:V.click()},children:"Ir para Configurao"})]})})})]}),i.jsx(yt,{children:i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"})})]})]})}function vUe(){var f,h,m,g,p,y,x,w;const{channels:e,whatsappInstances:t,fetchChannels:n,fetchWhatsAppInstances:r,disconnectWhatsApp:s}=je(),{isConnected:a}=nK();v.useEffect(()=>{n(),r()},[n,r]);const o=[{id:"whatsapp",name:"WhatsApp Business",description:"Conecte WhatsApp Business via Evolution API para mensagens diretas",icon:qn,color:"bg-green-100 text-green-800",status:t.some(j=>j.status==="connected")?"connected":"disconnected",action:"Configurar WhatsApp",available:!0},{id:"openai",name:"OpenAI",description:"Integre com OpenAI para chatbot inteligente e classificao de texto",icon:jr,color:"bg-purple-100 text-purple-800",status:(m=(h=(f=je.getState().currentWorkspace)==null?void 0:f.settings)==null?void 0:h.openai)!=null&&m.enabled?"connected":"disconnected",action:"Configurar OpenAI",available:!0},{id:"n8n",name:"n8n Automation",description:"Conecte com n8n para automaes avanadas e fluxos de trabalho personalizados",icon:ds,color:"bg-blue-100 text-blue-800",status:(y=(p=(g=je.getState().currentWorkspace)==null?void 0:g.settings)==null?void 0:p.n8n)!=null&&y.enabled?"connected":"disconnected",action:"Configurar n8n",available:!0},{id:"baselinker",name:"Baselinker",description:"Sincronize pedidos, clientes e estoque com o ERP Baselinker",icon:lc,color:"bg-orange-100 text-orange-800",status:a()?"connected":"disconnected",action:"Configurar Baselinker",available:!0},{id:"shopee",name:"Shopee",description:"Sincronize pedidos e mensagens do marketplace Shopee",icon:lc,color:"bg-orange-100 text-orange-800",status:e.some(j=>j.type==="shopee"&&j.status==="connected")?"connected":"disconnected",action:"Conectar Shopee",available:!1},{id:"mercado_livre",name:"Mercado Livre",description:"Integre com Mercado Livre para gesto de pedidos e mensagens",icon:Tt,color:"bg-yellow-100 text-yellow-800",status:e.some(j=>j.type==="mercado_livre"&&j.status==="connected")?"connected":"disconnected",action:"Conectar Mercado Livre",available:!1},{id:"rd_marketplace",name:"RD Marketplace",description:"Conecte RD Marketplace para gesto unificada de clientes",icon:ile,color:"bg-blue-100 text-blue-800",status:e.some(j=>j.type==="rd_marketplace"&&j.status==="connected")?"connected":"disconnected",action:"Conectar RD Marketplace",available:!1}],l=j=>{switch(j){case"connected":return"bg-green-100 text-green-800";case"connecting":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},c=j=>{switch(j){case"connected":return i.jsx(Gn,{className:"h-4 w-4"});case"connecting":return i.jsx(Er,{className:"h-4 w-4"});default:return i.jsx(jn,{className:"h-4 w-4"})}},u=j=>{switch(j){case"connected":return"Conectado";case"connecting":return"Conectando";case"disconnected":return"Desconectado";default:return"Desconhecido"}},d=j=>{switch(j.id){case"whatsapp":return i.jsx(OG,{});case"openai":return i.jsx(iUe,{});case"n8n":return i.jsx(lUe,{});case"baselinker":return i.jsx(gUe,{});default:return i.jsxs(B,{className:"w-full\\",variant:"outline\\",disabled:!j.available,children:[i.jsx(j.icon,{className:"mr-2 h-4 w-4"}),j.action," ",!j.available&&"(Em Breve)"]})}};return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Integraes"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Conecte seus canais e automatize seus fluxos de trabalho"})]}),i.jsxs("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(j=>j.status==="connected").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Canais Conectados"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(j=>j.status==="connected").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Instncias WhatsApp"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:localStorage.getItem(`openai_config_${(x=je.getState().currentWorkspace)==null?void 0:x.id}`)?1:0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Integraes IA"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(localStorage.getItem(`n8n_config_${(w=je.getState().currentWorkspace)==null?void 0:w.id}`)?1:0)+(a()?1:0)}),i.jsx("div",{className:"text-sm text-gray-600",children:"Automaes & ERPs"})]})})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Integraes Disponveis"}),i.jsx("div",{className:"w-full grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.map(j=>{const b=j.icon;return i.jsxs(re,{className:"hover:shadow-md transition-shadow",children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${j.color}`,children:i.jsx(b,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx(ge,{className:"text-lg",children:j.name}),i.jsx(He,{children:j.description})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[c(j.status),i.jsx(fe,{className:l(j.status),children:u(j.status)})]})]})}),i.jsx(se,{children:d(j)})]},j.id)})})]}),t.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Instncias WhatsApp"}),i.jsx("div",{className:"w-full space-y-4",children:t.map(j=>i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-green-100 text-green-800",children:i.jsx(qn,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:j.instance_name}),i.jsx("p",{className:"text-sm text-gray-500",children:j.phone_number||"No conectado"}),i.jsxs("p",{className:"text-xs text-gray-400",children:["Criado em: ",new Date(j.created_at).toLocaleDateString("pt-BR")]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[c(j.status),i.jsx(fe,{className:l(j.status),children:u(j.status)})]}),i.jsx(B,{variant:"outline",size:"sm",onClick:()=>s(j.id),children:"Desconectar"})]})]})})},j.id))})]}),a()&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Configurao do Baselinker"}),i.jsx(aK,{})]})]})})})}function er(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=er(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const{useDebugValue:yUe}=T,{useSyncExternalStoreWithSelector:xUe}=xF,wUe=e=>e;function iK(e,t=wUe,n){const r=xUe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return yUe(r),r}const dL=(e,t)=>{const n=hF(e),r=(s,a=t)=>iK(n,s,a);return Object.assign(r,n),r},bUe=(e,t)=>e?dL(e,t):dL;function $n(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var jUe={value:()=>{}};function Mb(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Gv(n)}function Gv(e){this._=e}function SUe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Gv.prototype=Mb.prototype={constructor:Gv,on:function(e,t){var n=this._,r=SUe(e+"",n),s,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((s=(e=r[a]).type)&&(s=NUe(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(s=(e=r[a]).type)n[s]=fL(n[s],e.name,t);else if(t==null)for(s in n)n[s]=fL(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Gv(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,a;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,s=a.length;r<s;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,a=r.length;s<a;++s)r[s].value.apply(t,n)}};function NUe(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function fL(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=jUe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var IC="http://www.w3.org/1999/xhtml";const hL={svg:"http://www.w3.org/2000/svg",xhtml:IC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rb(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),hL.hasOwnProperty(t)?{space:hL[t],local:e}:e}function _Ue(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===IC&&t.documentElement.namespaceURI===IC?t.createElement(e):t.createElementNS(n,e)}}function CUe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function oK(e){var t=Rb(e);return(t.local?CUe:_Ue)(t)}function EUe(){}function r2(e){return e==null?EUe:function(){return this.querySelector(e)}}function kUe(e){typeof e!="function"&&(e=r2(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=r[s]=new Array(o),c,u,d=0;d<o;++d)(c=a[d])&&(u=e.call(c,c.__data__,d,a))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new xs(r,this._parents)}function AUe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function PUe(){return[]}function lK(e){return e==null?PUe:function(){return this.querySelectorAll(e)}}function TUe(e){return function(){return AUe(e.apply(this,arguments))}}function OUe(e){typeof e=="function"?e=TUe(e):e=lK(e);for(var t=this._groups,n=t.length,r=[],s=[],a=0;a<n;++a)for(var o=t[a],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(r.push(e.call(c,c.__data__,u,o)),s.push(c));return new xs(r,s)}function cK(e){return function(){return this.matches(e)}}function uK(e){return function(t){return t.matches(e)}}var IUe=Array.prototype.find;function DUe(e){return function(){return IUe.call(this.children,e)}}function MUe(){return this.firstElementChild}function RUe(e){return this.select(e==null?MUe:DUe(typeof e=="function"?e:uK(e)))}var $Ue=Array.prototype.filter;function LUe(){return Array.from(this.children)}function FUe(e){return function(){return $Ue.call(this.children,e)}}function BUe(e){return this.selectAll(e==null?LUe:FUe(typeof e=="function"?e:uK(e)))}function zUe(e){typeof e!="function"&&(e=cK(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=r[s]=[],c,u=0;u<o;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new xs(r,this._parents)}function dK(e){return new Array(e.length)}function WUe(){return new xs(this._enter||this._groups.map(dK),this._parents)}function s0(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}s0.prototype={constructor:s0,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function VUe(e){return function(){return e}}function UUe(e,t,n,r,s,a){for(var o=0,l,c=t.length,u=a.length;o<u;++o)(l=t[o])?(l.__data__=a[o],r[o]=l):n[o]=new s0(e,a[o]);for(;o<c;++o)(l=t[o])&&(s[o]=l)}function qUe(e,t,n,r,s,a,o){var l,c,u=new Map,d=t.length,f=a.length,h=new Array(d),m;for(l=0;l<d;++l)(c=t[l])&&(h[l]=m=o.call(c,c.__data__,l,t)+"",u.has(m)?s[l]=c:u.set(m,c));for(l=0;l<f;++l)m=o.call(e,a[l],l,a)+"",(c=u.get(m))?(r[l]=c,c.__data__=a[l],u.delete(m)):n[l]=new s0(e,a[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(h[l])===c&&(s[l]=c)}function HUe(e){return e.__data__}function GUe(e,t){if(!arguments.length)return Array.from(this,HUe);var n=t?qUe:UUe,r=this._parents,s=this._groups;typeof e!="function"&&(e=VUe(e));for(var a=s.length,o=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var d=r[u],f=s[u],h=f.length,m=KUe(e.call(d,d&&d.__data__,u,r)),g=m.length,p=l[u]=new Array(g),y=o[u]=new Array(g),x=c[u]=new Array(h);n(d,f,p,y,x,m,t);for(var w=0,j=0,b,S;w<g;++w)if(b=p[w]){for(w>=j&&(j=w+1);!(S=y[j])&&++j<g;);b._next=S||null}}return o=new xs(o,r),o._enter=l,o._exit=c,o}function KUe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function YUe(){return new xs(this._exit||this._groups.map(dK),this._parents)}function XUe(e,t,n){var r=this.enter(),s=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?a.remove():n(a),r&&s?r.merge(s).order():s}function JUe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,a=r.length,o=Math.min(s,a),l=new Array(s),c=0;c<o;++c)for(var u=n[c],d=r[c],f=u.length,h=l[c]=new Array(f),m,g=0;g<f;++g)(m=u[g]||d[g])&&(h[g]=m);for(;c<s;++c)l[c]=n[c];return new xs(l,this._parents)}function QUe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,a=r[s],o;--s>=0;)(o=r[s])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function ZUe(e){e||(e=eqe);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,c=s[a]=new Array(l),u,d=0;d<l;++d)(u=o[d])&&(c[d]=u);c.sort(t)}return new xs(s,this._parents).order()}function eqe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function tqe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function nqe(){return Array.from(this)}function rqe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,a=r.length;s<a;++s){var o=r[s];if(o)return o}return null}function sqe(){let e=0;for(const t of this)++e;return e}function aqe(){return!this.node()}function iqe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],a=0,o=s.length,l;a<o;++a)(l=s[a])&&e.call(l,l.__data__,a,s);return this}function oqe(e){return function(){this.removeAttribute(e)}}function lqe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function cqe(e,t){return function(){this.setAttribute(e,t)}}function uqe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function dqe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function fqe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function hqe(e,t){var n=Rb(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?lqe:oqe:typeof t=="function"?n.local?fqe:dqe:n.local?uqe:cqe)(n,t))}function fK(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function mqe(e){return function(){this.style.removeProperty(e)}}function pqe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function gqe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function vqe(e,t,n){return arguments.length>1?this.each((t==null?mqe:typeof t=="function"?gqe:pqe)(e,t,n??"")):Rd(this.node(),e)}function Rd(e,t){return e.style.getPropertyValue(t)||fK(e).getComputedStyle(e,null).getPropertyValue(t)}function yqe(e){return function(){delete this[e]}}function xqe(e,t){return function(){this[e]=t}}function wqe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function bqe(e,t){return arguments.length>1?this.each((t==null?yqe:typeof t=="function"?wqe:xqe)(e,t)):this.node()[e]}function hK(e){return e.trim().split(/^|\s+/)}function s2(e){return e.classList||new mK(e)}function mK(e){this._node=e,this._names=hK(e.getAttribute("class")||"")}mK.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function pK(e,t){for(var n=s2(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function gK(e,t){for(var n=s2(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function jqe(e){return function(){pK(this,e)}}function Sqe(e){return function(){gK(this,e)}}function Nqe(e,t){return function(){(t.apply(this,arguments)?pK:gK)(this,e)}}function _qe(e,t){var n=hK(e+"");if(arguments.length<2){for(var r=s2(this.node()),s=-1,a=n.length;++s<a;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Nqe:t?jqe:Sqe)(n,t))}function Cqe(){this.textContent=""}function Eqe(e){return function(){this.textContent=e}}function kqe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Aqe(e){return arguments.length?this.each(e==null?Cqe:(typeof e=="function"?kqe:Eqe)(e)):this.node().textContent}function Pqe(){this.innerHTML=""}function Tqe(e){return function(){this.innerHTML=e}}function Oqe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Iqe(e){return arguments.length?this.each(e==null?Pqe:(typeof e=="function"?Oqe:Tqe)(e)):this.node().innerHTML}function Dqe(){this.nextSibling&&this.parentNode.appendChild(this)}function Mqe(){return this.each(Dqe)}function Rqe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $qe(){return this.each(Rqe)}function Lqe(e){var t=typeof e=="function"?e:oK(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Fqe(){return null}function Bqe(e,t){var n=typeof e=="function"?e:oK(e),r=t==null?Fqe:typeof t=="function"?t:r2(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function zqe(){var e=this.parentNode;e&&e.removeChild(this)}function Wqe(){return this.each(zqe)}function Vqe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Uqe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qqe(e){return this.select(e?Uqe:Vqe)}function Hqe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Gqe(e){return function(t){e.call(this,t,this.__data__)}}function Kqe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Yqe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,a;n<s;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function Xqe(e,t,n){return function(){var r=this.__on,s,a=Gqe(t);if(r){for(var o=0,l=r.length;o<l;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(s):this.__on=[s]}}function Jqe(e,t,n){var r=Kqe(e+""),s,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(s=0,d=l[c];s<a;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?Xqe:Yqe,s=0;s<a;++s)this.each(l(r[s],t,n));return this}function vK(e,t,n){var r=fK(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function Qqe(e,t){return function(){return vK(this,e,t)}}function Zqe(e,t){return function(){return vK(this,e,t.apply(this,arguments))}}function e9e(e,t){return this.each((typeof t=="function"?Zqe:Qqe)(e,t))}function*t9e(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,a=r.length,o;s<a;++s)(o=r[s])&&(yield o)}var yK=[null];function xs(e,t){this._groups=e,this._parents=t}function fg(){return new xs([[document.documentElement]],yK)}function n9e(){return this}xs.prototype=fg.prototype={constructor:xs,select:kUe,selectAll:OUe,selectChild:RUe,selectChildren:BUe,filter:zUe,data:GUe,enter:WUe,exit:YUe,join:XUe,merge:JUe,selection:n9e,order:QUe,sort:ZUe,call:tqe,nodes:nqe,node:rqe,size:sqe,empty:aqe,each:iqe,attr:hqe,style:vqe,property:bqe,classed:_qe,text:Aqe,html:Iqe,raise:Mqe,lower:$qe,append:Lqe,insert:Bqe,remove:Wqe,clone:qqe,datum:Hqe,on:Jqe,dispatch:e9e,[Symbol.iterator]:t9e};function Ms(e){return typeof e=="string"?new xs([[document.querySelector(e)]],[document.documentElement]):new xs([[e]],yK)}function r9e(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ua(e,t){if(e=r9e(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const s9e={passive:!1},bp={capture:!0,passive:!1};function G1(e){e.stopImmediatePropagation()}function Hu(e){e.preventDefault(),e.stopImmediatePropagation()}function xK(e){var t=e.document.documentElement,n=Ms(e).on("dragstart.drag",Hu,bp);"onselectstart"in t?n.on("selectstart.drag",Hu,bp):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function wK(e,t){var n=e.document.documentElement,r=Ms(e).on("dragstart.drag",null);t&&(r.on("click.drag",Hu,bp),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const yv=e=>()=>e;function DC(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:a,x:o,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}DC.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function a9e(e){return!e.ctrlKey&&!e.button}function i9e(){return this.parentNode}function o9e(e,t){return t??{x:e.x,y:e.y}}function l9e(){return navigator.maxTouchPoints||"ontouchstart"in this}function c9e(){var e=a9e,t=i9e,n=o9e,r=l9e,s={},a=Mb("start","drag","end"),o=0,l,c,u,d,f=0;function h(b){b.on("mousedown.drag",m).filter(r).on("touchstart.drag",y).on("touchmove.drag",x,s9e).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(b,S){if(!(d||!e.call(this,b,S))){var N=j(this,t.call(this,b,S),b,S,"mouse");N&&(Ms(b.view).on("mousemove.drag",g,bp).on("mouseup.drag",p,bp),xK(b.view),G1(b),u=!1,l=b.clientX,c=b.clientY,N("start",b))}}function g(b){if(Hu(b),!u){var S=b.clientX-l,N=b.clientY-c;u=S*S+N*N>f}s.mouse("drag",b)}function p(b){Ms(b.view).on("mousemove.drag mouseup.drag",null),wK(b.view,u),Hu(b),s.mouse("end",b)}function y(b,S){if(e.call(this,b,S)){var N=b.changedTouches,C=t.call(this,b,S),_=N.length,k,P;for(k=0;k<_;++k)(P=j(this,C,b,S,N[k].identifier,N[k]))&&(G1(b),P("start",b,N[k]))}}function x(b){var S=b.changedTouches,N=S.length,C,_;for(C=0;C<N;++C)(_=s[S[C].identifier])&&(Hu(b),_("drag",b,S[C]))}function w(b){var S=b.changedTouches,N=S.length,C,_;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),C=0;C<N;++C)(_=s[S[C].identifier])&&(G1(b),_("end",b,S[C]))}function j(b,S,N,C,_,k){var P=a.copy(),A=ua(k||N,S),I,L,E;if((E=n.call(b,new DC("beforestart",{sourceEvent:N,target:h,identifier:_,active:o,x:A[0],y:A[1],dx:0,dy:0,dispatch:P}),C))!=null)return I=E.x-A[0]||0,L=E.y-A[1]||0,function R(O,F,D){var M=A,$;switch(O){case"start":s[_]=R,$=o++;break;case"end":delete s[_],--o;case"drag":A=ua(D||F,S),$=o;break}P.call(O,b,new DC(O,{sourceEvent:F,subject:E,target:h,identifier:_,active:$,x:A[0]+I,y:A[1]+L,dx:A[0]-M[0],dy:A[1]-M[1],dispatch:P}),C)}}return h.filter=function(b){return arguments.length?(e=typeof b=="function"?b:yv(!!b),h):e},h.container=function(b){return arguments.length?(t=typeof b=="function"?b:yv(b),h):t},h.subject=function(b){return arguments.length?(n=typeof b=="function"?b:yv(b),h):n},h.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:yv(!!b),h):r},h.on=function(){var b=a.on.apply(a,arguments);return b===a?h:b},h.clickDistance=function(b){return arguments.length?(f=(b=+b)*b,h):Math.sqrt(f)},h}var $d=0,lh=0,qf=0,bK=1e3,a0,ch,i0=0,bc=0,$b=0,jp=typeof performance=="object"&&performance.now?performance:Date,jK=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function a2(){return bc||(jK(u9e),bc=jp.now()+$b)}function u9e(){bc=0}function o0(){this._call=this._time=this._next=null}o0.prototype=SK.prototype={constructor:o0,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?a2():+n)+(t==null?0:+t),!this._next&&ch!==this&&(ch?ch._next=this:a0=this,ch=this),this._call=e,this._time=n,MC()},stop:function(){this._call&&(this._call=null,this._time=1/0,MC())}};function SK(e,t,n){var r=new o0;return r.restart(e,t,n),r}function d9e(){a2(),++$d;for(var e=a0,t;e;)(t=bc-e._time)>=0&&e._call.call(void 0,t),e=e._next;--$d}function mL(){bc=(i0=jp.now())+$b,$d=lh=0;try{d9e()}finally{$d=0,h9e(),bc=0}}function f9e(){var e=jp.now(),t=e-i0;t>bK&&($b-=t,i0=e)}function h9e(){for(var e,t=a0,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:a0=n);ch=e,MC(r)}function MC(e){if(!$d){lh&&(lh=clearTimeout(lh));var t=e-bc;t>24?(e<1/0&&(lh=setTimeout(mL,e-jp.now()-$b)),qf&&(qf=clearInterval(qf))):(qf||(i0=jp.now(),qf=setInterval(f9e,bK)),$d=1,jK(mL))}}function pL(e,t,n){var r=new o0;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var m9e=Mb("start","end","cancel","interrupt"),p9e=[],NK=0,gL=1,RC=2,Kv=3,vL=4,$C=5,Yv=6;function Lb(e,t,n,r,s,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;g9e(e,n,{name:t,index:r,group:s,on:m9e,tween:p9e,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:NK})}function i2(e,t){var n=Oa(e,t);if(n.state>NK)throw new Error("too late; already scheduled");return n}function li(e,t){var n=Oa(e,t);if(n.state>Kv)throw new Error("too late; already running");return n}function Oa(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function g9e(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=SK(a,0,n.time);function a(u){n.state=gL,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,f,h,m;if(n.state!==gL)return c();for(d in r)if(m=r[d],m.name===n.name){if(m.state===Kv)return pL(o);m.state===vL?(m.state=Yv,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[d]):+d<t&&(m.state=Yv,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[d])}if(pL(function(){n.state===Kv&&(n.state=vL,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=RC,n.on.call("start",e,e.__data__,n.index,n.group),n.state===RC){for(n.state=Kv,s=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(m=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=m);s.length=f+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=$C,1),f=-1,h=s.length;++f<h;)s[f].call(e,d);n.state===$C&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Yv,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Xv(e,t){var n=e.__transition,r,s,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}s=r.state>RC&&r.state<$C,r.state=Yv,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function v9e(e){return this.each(function(){Xv(this,e)})}function y9e(e,t){var n,r;return function(){var s=li(this,e),a=s.tween;if(a!==n){r=n=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function x9e(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var a=li(this,e),o=a.tween;if(o!==r){s=(r=o).slice();for(var l={name:t,value:n},c=0,u=s.length;c<u;++c)if(s[c].name===t){s[c]=l;break}c===u&&s.push(l)}a.tween=s}}function w9e(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Oa(this.node(),n).tween,s=0,a=r.length,o;s<a;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?y9e:x9e)(n,e,t))}function o2(e,t,n){var r=e._id;return e.each(function(){var s=li(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Oa(s,r).value[t]}}function _K(e,t){var n;return(typeof t=="number"?fa:t instanceof hc?dx:(n=hc(t))?(t=n,dx):_V)(e,t)}function b9e(e){return function(){this.removeAttribute(e)}}function j9e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function S9e(e,t,n){var r,s=n+"",a;return function(){var o=this.getAttribute(e);return o===s?null:o===r?a:a=t(r=o,n)}}function N9e(e,t,n){var r,s=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?a:a=t(r=o,n)}}function _9e(e,t,n){var r,s,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===r&&c===s?a:(s=c,a=t(r=o,l)))}}function C9e(e,t,n){var r,s,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===r&&c===s?a:(s=c,a=t(r=o,l)))}}function E9e(e,t){var n=Rb(e),r=n==="transform"?rEe:_K;return this.attrTween(e,typeof t=="function"?(n.local?C9e:_9e)(n,r,o2(this,"attr."+e,t)):t==null?(n.local?j9e:b9e)(n):(n.local?N9e:S9e)(n,r,t))}function k9e(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function A9e(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function P9e(e,t){var n,r;function s(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&A9e(e,a)),n}return s._value=t,s}function T9e(e,t){var n,r;function s(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&k9e(e,a)),n}return s._value=t,s}function O9e(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Rb(e);return this.tween(n,(r.local?P9e:T9e)(r,t))}function I9e(e,t){return function(){i2(this,e).delay=+t.apply(this,arguments)}}function D9e(e,t){return t=+t,function(){i2(this,e).delay=t}}function M9e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?I9e:D9e)(t,e)):Oa(this.node(),t).delay}function R9e(e,t){return function(){li(this,e).duration=+t.apply(this,arguments)}}function $9e(e,t){return t=+t,function(){li(this,e).duration=t}}function L9e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?R9e:$9e)(t,e)):Oa(this.node(),t).duration}function F9e(e,t){if(typeof t!="function")throw new Error;return function(){li(this,e).ease=t}}function B9e(e){var t=this._id;return arguments.length?this.each(F9e(t,e)):Oa(this.node(),t).ease}function z9e(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;li(this,e).ease=n}}function W9e(e){if(typeof e!="function")throw new Error;return this.each(z9e(this._id,e))}function V9e(e){typeof e!="function"&&(e=cK(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=r[s]=[],c,u=0;u<o;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new Gi(r,this._parents,this._name,this._id)}function U9e(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,a=Math.min(r,s),o=new Array(r),l=0;l<a;++l)for(var c=t[l],u=n[l],d=c.length,f=o[l]=new Array(d),h,m=0;m<d;++m)(h=c[m]||u[m])&&(f[m]=h);for(;l<r;++l)o[l]=t[l];return new Gi(o,this._parents,this._name,this._id)}function q9e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function H9e(e,t,n){var r,s,a=q9e(t)?i2:li;return function(){var o=a(this,e),l=o.on;l!==r&&(s=(r=l).copy()).on(t,n),o.on=s}}function G9e(e,t){var n=this._id;return arguments.length<2?Oa(this.node(),n).on.on(e):this.each(H9e(n,e,t))}function K9e(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Y9e(){return this.on("end.remove",K9e(this._id))}function X9e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=r2(e));for(var r=this._groups,s=r.length,a=new Array(s),o=0;o<s;++o)for(var l=r[o],c=l.length,u=a[o]=new Array(c),d,f,h=0;h<c;++h)(d=l[h])&&(f=e.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,Lb(u[h],t,n,h,u,Oa(d,n)));return new Gi(a,this._parents,t,n)}function J9e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=lK(e));for(var r=this._groups,s=r.length,a=[],o=[],l=0;l<s;++l)for(var c=r[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),m,g=Oa(d,n),p=0,y=h.length;p<y;++p)(m=h[p])&&Lb(m,t,n,p,h,g);a.push(h),o.push(d)}return new Gi(a,o,t,n)}var Q9e=fg.prototype.constructor;function Z9e(){return new Q9e(this._groups,this._parents)}function e7e(e,t){var n,r,s;return function(){var a=Rd(this,e),o=(this.style.removeProperty(e),Rd(this,e));return a===o?null:a===n&&o===r?s:s=t(n=a,r=o)}}function CK(e){return function(){this.style.removeProperty(e)}}function t7e(e,t,n){var r,s=n+"",a;return function(){var o=Rd(this,e);return o===s?null:o===r?a:a=t(r=o,n)}}function n7e(e,t,n){var r,s,a;return function(){var o=Rd(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Rd(this,e))),o===c?null:o===r&&c===s?a:(s=c,a=t(r=o,l))}}function r7e(e,t){var n,r,s,a="style."+t,o="end."+a,l;return function(){var c=li(this,e),u=c.on,d=c.value[a]==null?l||(l=CK(t)):void 0;(u!==n||s!==d)&&(r=(n=u).copy()).on(o,s=d),c.on=r}}function s7e(e,t,n){var r=(e+="")=="transform"?nEe:_K;return t==null?this.styleTween(e,e7e(e,r)).on("end.style."+e,CK(e)):typeof t=="function"?this.styleTween(e,n7e(e,r,o2(this,"style."+e,t))).each(r7e(this._id,e)):this.styleTween(e,t7e(e,r,t),n).on("end.style."+e,null)}function a7e(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function i7e(e,t,n){var r,s;function a(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&a7e(e,o,n)),r}return a._value=t,a}function o7e(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,i7e(e,t,n??""))}function l7e(e){return function(){this.textContent=e}}function c7e(e){return function(){var t=e(this);this.textContent=t??""}}function u7e(e){return this.tween("text",typeof e=="function"?c7e(o2(this,"text",e)):l7e(e==null?"":e+""))}function d7e(e){return function(t){this.textContent=e.call(this,t)}}function f7e(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&d7e(s)),t}return r._value=e,r}function h7e(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,f7e(e))}function m7e(){for(var e=this._name,t=this._id,n=EK(),r=this._groups,s=r.length,a=0;a<s;++a)for(var o=r[a],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var d=Oa(c,t);Lb(c,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Gi(r,this._parents,e,n)}function p7e(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(a,o){var l={value:o},c={value:function(){--s===0&&a()}};n.each(function(){var u=li(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),s===0&&a()})}var g7e=0;function Gi(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function EK(){return++g7e}var di=fg.prototype;Gi.prototype={constructor:Gi,select:X9e,selectAll:J9e,selectChild:di.selectChild,selectChildren:di.selectChildren,filter:V9e,merge:U9e,selection:Z9e,transition:m7e,call:di.call,nodes:di.nodes,node:di.node,size:di.size,empty:di.empty,each:di.each,on:G9e,attr:E9e,attrTween:O9e,style:s7e,styleTween:o7e,text:u7e,textTween:h7e,remove:Y9e,tween:w9e,delay:M9e,duration:L9e,ease:B9e,easeVarying:W9e,end:p7e,[Symbol.iterator]:di[Symbol.iterator]};function v7e(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var y7e={time:null,delay:0,duration:250,ease:v7e};function x7e(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function w7e(e){var t,n;e instanceof Gi?(t=e._id,e=e._name):(t=EK(),(n=y7e).time=a2(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,a=0;a<s;++a)for(var o=r[a],l=o.length,c,u=0;u<l;++u)(c=o[u])&&Lb(c,e,t,u,o,n||x7e(c,t));return new Gi(r,this._parents,e,t)}fg.prototype.interrupt=v9e;fg.prototype.transition=w7e;const xv=e=>()=>e;function b7e(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Ni(e,t,n){this.k=e,this.x=t,this.y=n}Ni.prototype={constructor:Ni,scale:function(e){return e===1?this:new Ni(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ni(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Oi=new Ni(1,0,0);Ni.prototype;function K1(e){e.stopImmediatePropagation()}function Hf(e){e.preventDefault(),e.stopImmediatePropagation()}function j7e(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function S7e(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function yL(){return this.__zoom||Oi}function N7e(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function _7e(){return navigator.maxTouchPoints||"ontouchstart"in this}function C7e(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function kK(){var e=j7e,t=S7e,n=C7e,r=N7e,s=_7e,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=oEe,u=Mb("start","zoom","end"),d,f,h,m=500,g=150,p=0,y=10;function x(E){E.property("__zoom",yL).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",P).filter(s).on("touchstart.zoom",A).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(E,R,O,F){var D=E.selection?E.selection():E;D.property("__zoom",yL),E!==D?S(E,R,O,F):D.interrupt().each(function(){N(this,arguments).event(F).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},x.scaleBy=function(E,R,O,F){x.scaleTo(E,function(){var D=this.__zoom.k,M=typeof R=="function"?R.apply(this,arguments):R;return D*M},O,F)},x.scaleTo=function(E,R,O,F){x.transform(E,function(){var D=t.apply(this,arguments),M=this.__zoom,$=O==null?b(D):typeof O=="function"?O.apply(this,arguments):O,z=M.invert($),W=typeof R=="function"?R.apply(this,arguments):R;return n(j(w(M,W),$,z),D,o)},O,F)},x.translateBy=function(E,R,O,F){x.transform(E,function(){return n(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof O=="function"?O.apply(this,arguments):O),t.apply(this,arguments),o)},null,F)},x.translateTo=function(E,R,O,F,D){x.transform(E,function(){var M=t.apply(this,arguments),$=this.__zoom,z=F==null?b(M):typeof F=="function"?F.apply(this,arguments):F;return n(Oi.translate(z[0],z[1]).scale($.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof O=="function"?-O.apply(this,arguments):-O),M,o)},F,D)};function w(E,R){return R=Math.max(a[0],Math.min(a[1],R)),R===E.k?E:new Ni(R,E.x,E.y)}function j(E,R,O){var F=R[0]-O[0]*E.k,D=R[1]-O[1]*E.k;return F===E.x&&D===E.y?E:new Ni(E.k,F,D)}function b(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function S(E,R,O,F){E.on("start.zoom",function(){N(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(F).end()}).tween("zoom",function(){var D=this,M=arguments,$=N(D,M).event(F),z=t.apply(D,M),W=O==null?b(z):typeof O=="function"?O.apply(D,M):O,H=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),V=D.__zoom,te=typeof R=="function"?R.apply(D,M):R,ne=c(V.invert(W).concat(H/V.k),te.invert(W).concat(H/te.k));return function(X){if(X===1)X=te;else{var ee=ne(X),Z=H/ee[2];X=new Ni(Z,W[0]-ee[0]*Z,W[1]-ee[1]*Z)}$.zoom(null,X)}})}function N(E,R,O){return!O&&E.__zooming||new C(E,R)}function C(E,R){this.that=E,this.args=R,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,R),this.taps=0}C.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,R){return this.mouse&&E!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var R=Ms(this.that).datum();u.call(E,this.that,new b7e(E,{sourceEvent:this.sourceEvent,target:x,type:E,transform:this.that.__zoom,dispatch:u}),R)}};function _(E,...R){if(!e.apply(this,arguments))return;var O=N(this,R).event(E),F=this.__zoom,D=Math.max(a[0],Math.min(a[1],F.k*Math.pow(2,r.apply(this,arguments)))),M=ua(E);if(O.wheel)(O.mouse[0][0]!==M[0]||O.mouse[0][1]!==M[1])&&(O.mouse[1]=F.invert(O.mouse[0]=M)),clearTimeout(O.wheel);else{if(F.k===D)return;O.mouse=[M,F.invert(M)],Xv(this),O.start()}Hf(E),O.wheel=setTimeout($,g),O.zoom("mouse",n(j(w(F,D),O.mouse[0],O.mouse[1]),O.extent,o));function $(){O.wheel=null,O.end()}}function k(E,...R){if(h||!e.apply(this,arguments))return;var O=E.currentTarget,F=N(this,R,!0).event(E),D=Ms(E.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",H,!0),M=ua(E,O),$=E.clientX,z=E.clientY;xK(E.view),K1(E),F.mouse=[M,this.__zoom.invert(M)],Xv(this),F.start();function W(V){if(Hf(V),!F.moved){var te=V.clientX-$,ne=V.clientY-z;F.moved=te*te+ne*ne>p}F.event(V).zoom("mouse",n(j(F.that.__zoom,F.mouse[0]=ua(V,O),F.mouse[1]),F.extent,o))}function H(V){D.on("mousemove.zoom mouseup.zoom",null),wK(V.view,F.moved),Hf(V),F.event(V).end()}}function P(E,...R){if(e.apply(this,arguments)){var O=this.__zoom,F=ua(E.changedTouches?E.changedTouches[0]:E,this),D=O.invert(F),M=O.k*(E.shiftKey?.5:2),$=n(j(w(O,M),F,D),t.apply(this,R),o);Hf(E),l>0?Ms(this).transition().duration(l).call(S,$,F,E):Ms(this).call(x.transform,$,F,E)}}function A(E,...R){if(e.apply(this,arguments)){var O=E.touches,F=O.length,D=N(this,R,E.changedTouches.length===F).event(E),M,$,z,W;for(K1(E),$=0;$<F;++$)z=O[$],W=ua(z,this),W=[W,this.__zoom.invert(W),z.identifier],D.touch0?!D.touch1&&D.touch0[2]!==W[2]&&(D.touch1=W,D.taps=0):(D.touch0=W,M=!0,D.taps=1+!!d);d&&(d=clearTimeout(d)),M&&(D.taps<2&&(f=W[0],d=setTimeout(function(){d=null},m)),Xv(this),D.start())}}function I(E,...R){if(this.__zooming){var O=N(this,R).event(E),F=E.changedTouches,D=F.length,M,$,z,W;for(Hf(E),M=0;M<D;++M)$=F[M],z=ua($,this),O.touch0&&O.touch0[2]===$.identifier?O.touch0[0]=z:O.touch1&&O.touch1[2]===$.identifier&&(O.touch1[0]=z);if($=O.that.__zoom,O.touch1){var H=O.touch0[0],V=O.touch0[1],te=O.touch1[0],ne=O.touch1[1],X=(X=te[0]-H[0])*X+(X=te[1]-H[1])*X,ee=(ee=ne[0]-V[0])*ee+(ee=ne[1]-V[1])*ee;$=w($,Math.sqrt(X/ee)),z=[(H[0]+te[0])/2,(H[1]+te[1])/2],W=[(V[0]+ne[0])/2,(V[1]+ne[1])/2]}else if(O.touch0)z=O.touch0[0],W=O.touch0[1];else return;O.zoom("touch",n(j($,z,W),O.extent,o))}}function L(E,...R){if(this.__zooming){var O=N(this,R).event(E),F=E.changedTouches,D=F.length,M,$;for(K1(E),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),M=0;M<D;++M)$=F[M],O.touch0&&O.touch0[2]===$.identifier?delete O.touch0:O.touch1&&O.touch1[2]===$.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&($=ua($,this),Math.hypot(f[0]-$[0],f[1]-$[1])<y)){var z=Ms(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return x.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:xv(+E),x):r},x.filter=function(E){return arguments.length?(e=typeof E=="function"?E:xv(!!E),x):e},x.touchable=function(E){return arguments.length?(s=typeof E=="function"?E:xv(!!E),x):s},x.extent=function(E){return arguments.length?(t=typeof E=="function"?E:xv([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),x):t},x.scaleExtent=function(E){return arguments.length?(a[0]=+E[0],a[1]=+E[1],x):[a[0],a[1]]},x.translateExtent=function(E){return arguments.length?(o[0][0]=+E[0][0],o[1][0]=+E[1][0],o[0][1]=+E[0][1],o[1][1]=+E[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(E){return arguments.length?(n=E,x):n},x.duration=function(E){return arguments.length?(l=+E,x):l},x.interpolate=function(E){return arguments.length?(c=E,x):c},x.on=function(){var E=u.on.apply(u,arguments);return E===u?x:E},x.clickDistance=function(E){return arguments.length?(p=(E=+E)*E,x):Math.sqrt(p)},x.tapDistance=function(E){return arguments.length?(y=+E,x):y},x}const Fb=v.createContext(null),E7e=Fb.Provider,Ki={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},AK=Ki.error001();function It(e,t){const n=v.useContext(Fb);if(n===null)throw new Error(AK);return iK(n,e,t)}const _n=()=>{const e=v.useContext(Fb);if(e===null)throw new Error(AK);return v.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},k7e=e=>e.userSelectionActive?"none":"all";function Bb({position:e,children:t,className:n,style:r,...s}){const a=It(k7e),o=`${e}`.split("-");return T.createElement("div",{className:er(["react-flow__panel",n,...o]),style:{...r,pointerEvents:a},...s},t)}function A7e({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:T.createElement(Bb,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},T.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const P7e=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:a={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d})=>{const f=v.useRef(null),[h,m]=v.useState({x:0,y:0,width:0,height:0}),g=er(["react-flow__edge-textwrapper",u]);return v.useEffect(()=>{if(f.current){const p=f.current.getBBox();m({x:p.x,y:p.y,width:p.width,height:p.height})}},[n]),typeof n>"u"||!n?null:T.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:g,visibility:h.width?"visible":"hidden",...d},s&&T.createElement("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:a,rx:l,ry:l}),T.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),c)};var T7e=v.memo(P7e);const l2=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ld=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),c2=(e={x:0,y:0},t)=>({x:Ld(e.x,t[0][0],t[1][0]),y:Ld(e.y,t[0][1],t[1][1])}),xL=(e,t,n)=>e<t?Ld(Math.abs(e-t),1,50)/50:e>n?-Ld(Math.abs(e-n),1,50)/50:0,PK=(e,t)=>{const n=xL(e.x,35,t.width-35)*20,r=xL(e.y,35,t.height-35)*20;return[n,r]},TK=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},OK=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Sp=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),IK=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),wL=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),O7e=(e,t)=>IK(OK(Sp(e),Sp(t))),LC=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},I7e=e=>Bs(e.width)&&Bs(e.height)&&Bs(e.x)&&Bs(e.y),Bs=e=>!isNaN(e)&&isFinite(e),Qt=Symbol.for("internals"),DK=["Enter"," ","Escape"],D7e=(e,t)=>{},M7e=e=>"nativeEvent"in e;function FC(e){var s,a;const t=M7e(e)?e.nativeEvent:e,n=((a=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:a[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const MK=e=>"clientX"in e,Vo=(e,t)=>{var a,o;const n=MK(e),r=n?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},l0=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},hg=({id:e,path:t,labelX:n,labelY:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:m=20})=>T.createElement(T.Fragment,null,T.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),m&&T.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),s&&Bs(n)&&Bs(r)?T.createElement(T7e,{x:n,y:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null);hg.displayName="BaseEdge";function Gf(e,t,n){return n===void 0?n:r=>{const s=t().edges.find(a=>a.id===e);s&&n(r,{...s})}}function RK({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,a=n<e?n+s:n-s,o=Math.abs(r-t)/2,l=r<t?r+o:r-o;return[a,l,s,o]}function $K({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:a,targetControlX:o,targetControlY:l}){const c=e*.125+s*.375+o*.375+n*.125,u=t*.125+a*.375+l*.375+r*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var jc;(function(e){e.Strict="strict",e.Loose="loose"})(jc||(jc={}));var Hl;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Hl||(Hl={}));var Np;(function(e){e.Partial="partial",e.Full="full"})(Np||(Np={}));var So;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(So||(So={}));var c0;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(c0||(c0={}));var Ce;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ce||(Ce={}));function bL({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===Ce.Left||e===Ce.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function LK({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:s,targetPosition:a=Ce.Top}){const[o,l]=bL({pos:n,x1:e,y1:t,x2:r,y2:s}),[c,u]=bL({pos:a,x1:r,y1:s,x2:e,y2:t}),[d,f,h,m]=$K({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${o},${l} ${c},${u} ${r},${s}`,d,f,h,m]}const u2=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=Ce.Bottom,targetPosition:a=Ce.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:g,interactionWidth:p})=>{const[y,x,w]=LK({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:a});return T.createElement(hg,{path:y,labelX:x,labelY:w,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:g,interactionWidth:p})});u2.displayName="SimpleBezierEdge";const jL={[Ce.Left]:{x:-1,y:0},[Ce.Right]:{x:1,y:0},[Ce.Top]:{x:0,y:-1},[Ce.Bottom]:{x:0,y:1}},R7e=({source:e,sourcePosition:t=Ce.Bottom,target:n})=>t===Ce.Left||t===Ce.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},SL=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function $7e({source:e,sourcePosition:t=Ce.Bottom,target:n,targetPosition:r=Ce.Top,center:s,offset:a}){const o=jL[t],l=jL[r],c={x:e.x+o.x*a,y:e.y+o.y*a},u={x:n.x+l.x*a,y:n.y+l.y*a},d=R7e({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",h=d[f];let m=[],g,p;const y={x:0,y:0},x={x:0,y:0},[w,j,b,S]=RK({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[f]*l[f]===-1){g=s.x??w,p=s.y??j;const C=[{x:g,y:c.y},{x:g,y:u.y}],_=[{x:c.x,y:p},{x:u.x,y:p}];o[f]===h?m=f==="x"?C:_:m=f==="x"?_:C}else{const C=[{x:c.x,y:u.y}],_=[{x:u.x,y:c.y}];if(f==="x"?m=o.x===h?_:C:m=o.y===h?C:_,t===r){const L=Math.abs(e[f]-n[f]);if(L<=a){const E=Math.min(a-1,a-L);o[f]===h?y[f]=(c[f]>e[f]?-1:1)*E:x[f]=(u[f]>n[f]?-1:1)*E}}if(t!==r){const L=f==="x"?"y":"x",E=o[f]===l[L],R=c[L]>u[L],O=c[L]<u[L];(o[f]===1&&(!E&&R||E&&O)||o[f]!==1&&(!E&&O||E&&R))&&(m=f==="x"?C:_)}const k={x:c.x+y.x,y:c.y+y.y},P={x:u.x+x.x,y:u.y+x.y},A=Math.max(Math.abs(k.x-m[0].x),Math.abs(P.x-m[0].x)),I=Math.max(Math.abs(k.y-m[0].y),Math.abs(P.y-m[0].y));A>=I?(g=(k.x+P.x)/2,p=m[0].y):(g=m[0].x,p=(k.y+P.y)/2)}return[[e,{x:c.x+y.x,y:c.y+y.y},...m,{x:u.x+x.x,y:u.y+x.y},n],g,p,b,S]}function L7e(e,t,n,r){const s=Math.min(SL(e,t)/2,SL(t,n)/2,r),{x:a,y:o}=t;if(e.x===a&&a===n.x||e.y===o&&o===n.y)return`L${a} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${a+s*u},${o}Q ${a},${o} ${a},${o+s*d}`}const l=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${a},${o+s*c}Q ${a},${o} ${a+s*l},${o}`}function BC({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:s,targetPosition:a=Ce.Top,borderRadius:o=5,centerX:l,centerY:c,offset:u=20}){const[d,f,h,m,g]=$7e({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:a,center:{x:l,y:c},offset:u});return[d.reduce((y,x,w)=>{let j="";return w>0&&w<d.length-1?j=L7e(d[w-1],x,d[w+1],o):j=`${w===0?"M":"L"}${x.x} ${x.y}`,y+=j,y},""),f,h,m,g]}const zb=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=Ce.Bottom,targetPosition:h=Ce.Top,markerEnd:m,markerStart:g,pathOptions:p,interactionWidth:y})=>{const[x,w,j]=BC({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset});return T.createElement(hg,{path:x,labelX:w,labelY:j,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:g,interactionWidth:y})});zb.displayName="SmoothStepEdge";const d2=v.memo(e=>{var t;return T.createElement(zb,{...e,pathOptions:v.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});d2.displayName="StepEdge";function F7e({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,a,o,l]=RK({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,a,o,l]}const f2=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:m})=>{const[g,p,y]=F7e({sourceX:e,sourceY:t,targetX:n,targetY:r});return T.createElement(hg,{path:g,labelX:p,labelY:y,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:m})});f2.displayName="StraightEdge";function wv(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function NL({pos:e,x1:t,y1:n,x2:r,y2:s,c:a}){switch(e){case Ce.Left:return[t-wv(t-r,a),n];case Ce.Right:return[t+wv(r-t,a),n];case Ce.Top:return[t,n-wv(n-s,a)];case Ce.Bottom:return[t,n+wv(s-n,a)]}}function FK({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:s,targetPosition:a=Ce.Top,curvature:o=.25}){const[l,c]=NL({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[u,d]=NL({pos:a,x1:r,y1:s,x2:e,y2:t,c:o}),[f,h,m,g]=$K({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${r},${s}`,f,h,m,g]}const u0=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=Ce.Bottom,targetPosition:a=Ce.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:g,pathOptions:p,interactionWidth:y})=>{const[x,w,j]=FK({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:a,curvature:p==null?void 0:p.curvature});return T.createElement(hg,{path:x,labelX:w,labelY:j,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:g,interactionWidth:y})});u0.displayName="BezierEdge";const h2=v.createContext(null),B7e=h2.Provider;h2.Consumer;const z7e=()=>v.useContext(h2),W7e=e=>"id"in e&&"source"in e&&"target"in e,V7e=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,zC=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,U7e=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),BK=(e,t)=>{if(!e.source||!e.target)return t;let n;return W7e(e)?n={...e}:n={...e,id:V7e(e)},U7e(n,t)?t:t.concat(n)},WC=({x:e,y:t},[n,r,s],a,[o,l])=>{const c={x:(e-n)/s,y:(t-r)/s};return a?{x:o*Math.round(c.x/o),y:l*Math.round(c.y/l)}:c},zK=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r}),ec=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],s={x:e.position.x-n,y:e.position.y-r};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:s}},Wb=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const{x:a,y:o}=ec(s,t).positionAbsolute;return OK(r,Sp({x:a,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return IK(n)},WK=(e,t,[n,r,s]=[0,0,1],a=!1,o=!1,l=[0,0])=>{const c={x:(t.x-n)/s,y:(t.y-r)/s,width:t.width/s,height:t.height/s},u=[];return e.forEach(d=>{const{width:f,height:h,selectable:m=!0,hidden:g=!1}=d;if(o&&!m||g)return!1;const{positionAbsolute:p}=ec(d,l),y={x:p.x,y:p.y,width:f||0,height:h||0},x=LC(c,y),w=typeof f>"u"||typeof h>"u"||f===null||h===null,j=a&&x>0,b=(f||0)*(h||0);(w||j||x>=b||d.dragging)&&u.push(d)}),u},VK=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},UK=(e,t,n,r,s,a=.1)=>{const o=t/(e.width*(1+a)),l=n/(e.height*(1+a)),c=Math.min(o,l),u=Ld(c,r,s),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u,m=n/2-f*u;return{x:h,y:m,zoom:u}},Ml=(e,t=0)=>e.transition().duration(t);function _L(e,t,n,r){return(t[n]||[]).reduce((s,a)=>{var o,l;return`${e.id}-${a.id}-${n}`!==r&&s.push({id:a.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+a.x+a.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+a.y+a.height/2}),s},[])}function q7e(e,t,n,r,s,a){const{x:o,y:l}=Vo(e),u=t.elementsFromPoint(o,l).find(g=>g.classList.contains("react-flow__handle"));if(u){const g=u.getAttribute("data-nodeid");if(g){const p=m2(void 0,u),y=u.getAttribute("data-handleid"),x=a({nodeId:g,id:y,type:p});if(x){const w=s.find(j=>j.nodeId===g&&j.type===p&&j.id===y);return{handle:{id:y,type:p,nodeId:g,x:(w==null?void 0:w.x)||n.x,y:(w==null?void 0:w.y)||n.y},validHandleResult:x}}}}let d=[],f=1/0;if(s.forEach(g=>{const p=Math.sqrt((g.x-n.x)**2+(g.y-n.y)**2);if(p<=r){const y=a(g);p<=f&&(p<f?d=[{handle:g,validHandleResult:y}]:p===f&&d.push({handle:g,validHandleResult:y}),f=p)}}),!d.length)return{handle:null,validHandleResult:qK()};if(d.length===1)return d[0];const h=d.some(({validHandleResult:g})=>g.isValid),m=d.some(({handle:g})=>g.type==="target");return d.find(({handle:g,validHandleResult:p})=>m?g.type==="target":h?p.isValid:!0)||d[0]}const H7e={source:null,target:null,sourceHandle:null,targetHandle:null},qK=()=>({handleDomNode:null,isValid:!1,connection:H7e,endHandle:null});function HK(e,t,n,r,s,a,o){const l=s==="target",c=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...qK(),handleDomNode:c};if(c){const d=m2(void 0,c),f=c.getAttribute("data-nodeid"),h=c.getAttribute("data-handleid"),m=c.classList.contains("connectable"),g=c.classList.contains("connectableend"),p={source:l?f:n,sourceHandle:l?h:r,target:l?n:f,targetHandle:l?r:h};u.connection=p,m&&g&&(t===jc.Strict?l&&d==="source"||!l&&d==="target":f!==n||h!==r)&&(u.endHandle={nodeId:f,handleId:h,type:d},u.isValid=a(p))}return u}function G7e({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((s,a)=>{if(a[Qt]){const{handleBounds:o}=a[Qt];let l=[],c=[];o&&(l=_L(a,o,"source",`${t}-${n}-${r}`),c=_L(a,o,"target",`${t}-${n}-${r}`)),s.push(...l,...c)}return s},[])}function m2(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Y1(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function K7e(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function GK({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:s,getState:a,setState:o,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}){const d=TK(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:m,connectionRadius:g,onConnectStart:p,panBy:y,getNodes:x,cancelConnection:w}=a();let j=0,b;const{x:S,y:N}=Vo(e),C=d==null?void 0:d.elementFromPoint(S,N),_=m2(c,C),k=h==null?void 0:h.getBoundingClientRect();if(!k||!_)return;let P,A=Vo(e,k),I=!1,L=null,E=!1,R=null;const O=G7e({nodes:x(),nodeId:n,handleId:t,handleType:_}),F=()=>{if(!m)return;const[$,z]=PK(A,k);y({x:$,y:z}),j=requestAnimationFrame(F)};o({connectionPosition:A,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:_,connectionStartHandle:{nodeId:n,handleId:t,type:_},connectionEndHandle:null}),p==null||p(e,{nodeId:n,handleId:t,handleType:_});function D($){const{transform:z}=a();A=Vo($,k);const{handle:W,validHandleResult:H}=q7e($,d,WC(A,z,!1,[1,1]),g,O,V=>HK(V,f,n,t,s?"target":"source",l,d));if(b=W,I||(F(),I=!0),R=H.handleDomNode,L=H.connection,E=H.isValid,o({connectionPosition:b&&E?zK({x:b.x,y:b.y},z):A,connectionStatus:K7e(!!b,E),connectionEndHandle:H.endHandle}),!b&&!E&&!R)return Y1(P);L.source!==L.target&&R&&(Y1(P),P=R,R.classList.add("connecting","react-flow__handle-connecting"),R.classList.toggle("valid",E),R.classList.toggle("react-flow__handle-valid",E))}function M($){var z,W;(b||R)&&L&&E&&(r==null||r(L)),(W=(z=a()).onConnectEnd)==null||W.call(z,$),c&&(u==null||u($)),Y1(P),w(),cancelAnimationFrame(j),I=!1,E=!1,L=null,R=null,d.removeEventListener("mousemove",D),d.removeEventListener("mouseup",M),d.removeEventListener("touchmove",D),d.removeEventListener("touchend",M)}d.addEventListener("mousemove",D),d.addEventListener("mouseup",M),d.addEventListener("touchmove",D),d.addEventListener("touchend",M)}const CL=()=>!0,Y7e=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),X7e=(e,t,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:a,connectionClickStartHandle:o}=r;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n||(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},KK=v.forwardRef(({type:e="source",position:t=Ce.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:a=!0,id:o,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},m)=>{var k,P;const g=o||null,p=e==="target",y=_n(),x=z7e(),{connectOnClick:w,noPanClassName:j}=It(Y7e,$n),{connecting:b,clickConnecting:S}=It(X7e(x,g,e),$n);x||(P=(k=y.getState()).onError)==null||P.call(k,"010",Ki.error010());const N=A=>{const{defaultEdgeOptions:I,onConnect:L,hasDefaultEdges:E}=y.getState(),R={...I,...A};if(E){const{edges:O,setEdges:F}=y.getState();F(BK(R,O))}L==null||L(R),l==null||l(R)},C=A=>{if(!x)return;const I=MK(A);s&&(I&&A.button===0||!I)&&GK({event:A,handleId:g,nodeId:x,onConnect:N,isTarget:p,getState:y.getState,setState:y.setState,isValidConnection:n||y.getState().isValidConnection||CL}),I?d==null||d(A):f==null||f(A)},_=A=>{const{onClickConnectStart:I,onClickConnectEnd:L,connectionClickStartHandle:E,connectionMode:R,isValidConnection:O}=y.getState();if(!x||!E&&!s)return;if(!E){I==null||I(A,{nodeId:x,handleId:g,handleType:e}),y.setState({connectionClickStartHandle:{nodeId:x,type:e,handleId:g}});return}const F=TK(A.target),D=n||O||CL,{connection:M,isValid:$}=HK({nodeId:x,id:g,type:e},R,E.nodeId,E.handleId||null,E.type,D,F);$&&N(M),L==null||L(A),y.setState({connectionClickStartHandle:null})};return T.createElement("div",{"data-handleid":g,"data-nodeid":x,"data-handlepos":t,"data-id":`${x}-${g}-${e}`,className:er(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",j,u,{source:!p,target:p,connectable:r,connectablestart:s,connectableend:a,connecting:S,connectionindicator:r&&(s&&!b||a&&b)}]),onMouseDown:C,onTouchStart:C,onClick:w?_:void 0,ref:m,...h},c)});KK.displayName="Handle";var mn=v.memo(KK);const YK=({data:e,isConnectable:t,targetPosition:n=Ce.Top,sourcePosition:r=Ce.Bottom})=>T.createElement(T.Fragment,null,T.createElement(mn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,T.createElement(mn,{type:"source",position:r,isConnectable:t}));YK.displayName="DefaultNode";var VC=v.memo(YK);const XK=({data:e,isConnectable:t,sourcePosition:n=Ce.Bottom})=>T.createElement(T.Fragment,null,e==null?void 0:e.label,T.createElement(mn,{type:"source",position:n,isConnectable:t}));XK.displayName="InputNode";var JK=v.memo(XK);const QK=({data:e,isConnectable:t,targetPosition:n=Ce.Top})=>T.createElement(T.Fragment,null,T.createElement(mn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);QK.displayName="OutputNode";var ZK=v.memo(QK);const p2=()=>null;p2.displayName="GroupNode";const J7e=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),bv=e=>e.id;function Q7e(e,t){return $n(e.selectedNodes.map(bv),t.selectedNodes.map(bv))&&$n(e.selectedEdges.map(bv),t.selectedEdges.map(bv))}const eY=v.memo(({onSelectionChange:e})=>{const t=_n(),{selectedNodes:n,selectedEdges:r}=It(J7e,Q7e);return v.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChange.forEach(a=>a(s))},[n,r,e]),null});eY.displayName="SelectionListener";const Z7e=e=>!!e.onSelectionChange;function eHe({onSelectionChange:e}){const t=It(Z7e);return e||t?T.createElement(eY,{onSelectionChange:e}):null}const tHe=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Jc(e,t){v.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Xe(e,t,n){v.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const nHe=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:a,onConnectEnd:o,onClickConnectStart:l,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:m,elevateNodesOnSelect:g,minZoom:p,maxZoom:y,nodeExtent:x,onNodesChange:w,onEdgesChange:j,elementsSelectable:b,connectionMode:S,snapGrid:N,snapToGrid:C,translateExtent:_,connectOnClick:k,defaultEdgeOptions:P,fitView:A,fitViewOptions:I,onNodesDelete:L,onEdgesDelete:E,onNodeDrag:R,onNodeDragStart:O,onNodeDragStop:F,onSelectionDrag:D,onSelectionDragStart:M,onSelectionDragStop:$,noPanClassName:z,nodeOrigin:W,rfId:H,autoPanOnConnect:V,autoPanOnNodeDrag:te,onError:ne,connectionRadius:X,isValidConnection:ee,nodeDragThreshold:Z})=>{const{setNodes:ae,setEdges:ce,setDefaultNodesAndEdges:q,setMinZoom:be,setMaxZoom:Se,setTranslateExtent:Ae,setNodeExtent:Q,reset:me}=It(tHe,$n),J=_n();return v.useEffect(()=>{const _e=r==null?void 0:r.map(rt=>({...rt,...P}));return q(n,_e),()=>{me()}},[]),Xe("defaultEdgeOptions",P,J.setState),Xe("connectionMode",S,J.setState),Xe("onConnect",s,J.setState),Xe("onConnectStart",a,J.setState),Xe("onConnectEnd",o,J.setState),Xe("onClickConnectStart",l,J.setState),Xe("onClickConnectEnd",c,J.setState),Xe("nodesDraggable",u,J.setState),Xe("nodesConnectable",d,J.setState),Xe("nodesFocusable",f,J.setState),Xe("edgesFocusable",h,J.setState),Xe("edgesUpdatable",m,J.setState),Xe("elementsSelectable",b,J.setState),Xe("elevateNodesOnSelect",g,J.setState),Xe("snapToGrid",C,J.setState),Xe("snapGrid",N,J.setState),Xe("onNodesChange",w,J.setState),Xe("onEdgesChange",j,J.setState),Xe("connectOnClick",k,J.setState),Xe("fitViewOnInit",A,J.setState),Xe("fitViewOnInitOptions",I,J.setState),Xe("onNodesDelete",L,J.setState),Xe("onEdgesDelete",E,J.setState),Xe("onNodeDrag",R,J.setState),Xe("onNodeDragStart",O,J.setState),Xe("onNodeDragStop",F,J.setState),Xe("onSelectionDrag",D,J.setState),Xe("onSelectionDragStart",M,J.setState),Xe("onSelectionDragStop",$,J.setState),Xe("noPanClassName",z,J.setState),Xe("nodeOrigin",W,J.setState),Xe("rfId",H,J.setState),Xe("autoPanOnConnect",V,J.setState),Xe("autoPanOnNodeDrag",te,J.setState),Xe("onError",ne,J.setState),Xe("connectionRadius",X,J.setState),Xe("isValidConnection",ee,J.setState),Xe("nodeDragThreshold",Z,J.setState),Jc(e,ae),Jc(t,ce),Jc(p,be),Jc(y,Se),Jc(_,Ae),Jc(x,Q),null},EL={display:"none"},rHe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},tY="react-flow__node-desc",nY="react-flow__edge-desc",sHe="react-flow__aria-live",aHe=e=>e.ariaLiveMessage;function iHe({rfId:e}){const t=It(aHe);return T.createElement("div",{id:`${sHe}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:rHe},t)}function oHe({rfId:e,disableKeyboardA11y:t}){return T.createElement(T.Fragment,null,T.createElement("div",{id:`${tY}-${e}`,style:EL},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),T.createElement("div",{id:`${nY}-${e}`,style:EL},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&T.createElement(iHe,{rfId:e}))}var _p=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=v.useState(!1),s=v.useRef(!1),a=v.useRef(new Set([])),[o,l]=v.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return v.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=m=>{if(s.current=m.ctrlKey||m.metaKey||m.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&FC(m))return!1;const p=AL(m.code,l);a.current.add(m[p]),kL(o,a.current,!1)&&(m.preventDefault(),r(!0))},f=m=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&FC(m))return!1;const p=AL(m.code,l);kL(o,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(m[p]),m.key==="Meta"&&a.current.clear(),s.current=!1},h=()=>{a.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function kL(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function AL(e,t){return t.includes(e)?"code":"key"}function rY(e,t,n,r){var l,c;const s=e.parentNode||e.parentId;if(!s)return n;const a=t.get(s),o=ec(a,r);return rY(a,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((l=a[Qt])==null?void 0:l.z)??0)>(n.z??0)?((c=a[Qt])==null?void 0:c.z)??0:n.z??0},r)}function sY(e,t,n){e.forEach(r=>{var a;const s=r.parentNode||r.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:o,y:l,z:c}=rY(r,e,{...r.position,z:((a=r[Qt])==null?void 0:a.z)??0},t);r.positionAbsolute={x:o,y:l},r[Qt].z=c,n!=null&&n[r.id]&&(r[Qt].isParent=!0)}})}function X1(e,t,n,r){const s=new Map,a={},o=r?1e3:0;return e.forEach(l=>{var m;const c=(Bs(l.zIndex)?l.zIndex:0)+(l.selected?o:0),u=t.get(l.id),d={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(a[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(d,Qt,{enumerable:!1,value:{handleBounds:h||(m=u==null?void 0:u[Qt])==null?void 0:m.handleBounds,z:c}}),s.set(l.id,d)}),sY(s,n,a),s}function aY(e,t={}){const{getNodes:n,width:r,height:s,minZoom:a,maxZoom:o,d3Zoom:l,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),h=t.initial&&!u&&d;if(l&&c&&(h||!t.initial)){const g=n().filter(y=>{var w;const x=t.includeHiddenNodes?y.width&&y.height:!y.hidden;return(w=t.nodes)!=null&&w.length?x&&t.nodes.some(j=>j.id===y.id):x}),p=g.every(y=>y.width&&y.height);if(g.length>0&&p){const y=Wb(g,f),{x,y:w,zoom:j}=UK(y,r,s,t.minZoom??a,t.maxZoom??o,t.padding??.1),b=Oi.translate(x,w).scale(j);return typeof t.duration=="number"&&t.duration>0?l.transform(Ml(c,t.duration),b):l.transform(c,b),!0}}return!1}function lHe(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Qt]:r[Qt],selected:n.selected})}),new Map(t)}function cHe(e,t){return t.map(n=>{const r=e.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function jv({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:s,edges:a,onNodesChange:o,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:lHe(e,s)}),o==null||o(e)),t!=null&&t.length&&(u&&r({edges:cHe(t,a)}),l==null||l(t))}const Qc=()=>{},uHe={zoomIn:Qc,zoomOut:Qc,zoomTo:Qc,getZoom:()=>1,setViewport:Qc,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Qc,fitBounds:Qc,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},dHe=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),fHe=()=>{const e=_n(),{d3Zoom:t,d3Selection:n}=It(dHe,$n);return v.useMemo(()=>n&&t?{zoomIn:s=>t.scaleBy(Ml(n,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(Ml(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,a)=>t.scaleTo(Ml(n,a==null?void 0:a.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,a)=>{const[o,l,c]=e.getState().transform,u=Oi.translate(s.x??o,s.y??l).scale(s.zoom??c);t.transform(Ml(n,a==null?void 0:a.duration),u)},getViewport:()=>{const[s,a,o]=e.getState().transform;return{x:s,y:a,zoom:o}},fitView:s=>aY(e.getState,s),setCenter:(s,a,o)=>{const{width:l,height:c,maxZoom:u}=e.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,f=l/2-s*d,h=c/2-a*d,m=Oi.translate(f,h).scale(d);t.transform(Ml(n,o==null?void 0:o.duration),m)},fitBounds:(s,a)=>{const{width:o,height:l,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:h}=UK(s,o,l,c,u,(a==null?void 0:a.padding)??.1),m=Oi.translate(d,f).scale(h);t.transform(Ml(n,a==null?void 0:a.duration),m)},project:s=>{const{transform:a,snapToGrid:o,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),WC(s,a,o,l)},screenToFlowPosition:s=>{const{transform:a,snapToGrid:o,snapGrid:l,domNode:c}=e.getState();if(!c)return s;const{x:u,y:d}=c.getBoundingClientRect(),f={x:s.x-u,y:s.y-d};return WC(f,a,o,l)},flowToScreenPosition:s=>{const{transform:a,domNode:o}=e.getState();if(!o)return s;const{x:l,y:c}=o.getBoundingClientRect(),u=zK(s,a);return{x:u.x+l,y:u.y+c}},viewportInitialized:!0}:uHe,[t,n])};function g2(){const e=fHe(),t=_n(),n=v.useCallback(()=>t.getState().getNodes().map(p=>({...p})),[]),r=v.useCallback(p=>t.getState().nodeInternals.get(p),[]),s=v.useCallback(()=>{const{edges:p=[]}=t.getState();return p.map(y=>({...y}))},[]),a=v.useCallback(p=>{const{edges:y=[]}=t.getState();return y.find(x=>x.id===p)},[]),o=v.useCallback(p=>{const{getNodes:y,setNodes:x,hasDefaultNodes:w,onNodesChange:j}=t.getState(),b=y(),S=typeof p=="function"?p(b):p;if(w)x(S);else if(j){const N=S.length===0?b.map(C=>({type:"remove",id:C.id})):S.map(C=>({item:C,type:"reset"}));j(N)}},[]),l=v.useCallback(p=>{const{edges:y=[],setEdges:x,hasDefaultEdges:w,onEdgesChange:j}=t.getState(),b=typeof p=="function"?p(y):p;if(w)x(b);else if(j){const S=b.length===0?y.map(N=>({type:"remove",id:N.id})):b.map(N=>({item:N,type:"reset"}));j(S)}},[]),c=v.useCallback(p=>{const y=Array.isArray(p)?p:[p],{getNodes:x,setNodes:w,hasDefaultNodes:j,onNodesChange:b}=t.getState();if(j){const N=[...x(),...y];w(N)}else if(b){const S=y.map(N=>({item:N,type:"add"}));b(S)}},[]),u=v.useCallback(p=>{const y=Array.isArray(p)?p:[p],{edges:x=[],setEdges:w,hasDefaultEdges:j,onEdgesChange:b}=t.getState();if(j)w([...x,...y]);else if(b){const S=y.map(N=>({item:N,type:"add"}));b(S)}},[]),d=v.useCallback(()=>{const{getNodes:p,edges:y=[],transform:x}=t.getState(),[w,j,b]=x;return{nodes:p().map(S=>({...S})),edges:y.map(S=>({...S})),viewport:{x:w,y:j,zoom:b}}},[]),f=v.useCallback(({nodes:p,edges:y})=>{const{nodeInternals:x,getNodes:w,edges:j,hasDefaultNodes:b,hasDefaultEdges:S,onNodesDelete:N,onEdgesDelete:C,onNodesChange:_,onEdgesChange:k}=t.getState(),P=(p||[]).map(R=>R.id),A=(y||[]).map(R=>R.id),I=w().reduce((R,O)=>{const F=O.parentNode||O.parentId,D=!P.includes(O.id)&&F&&R.find($=>$.id===F);return(typeof O.deletable=="boolean"?O.deletable:!0)&&(P.includes(O.id)||D)&&R.push(O),R},[]),L=j.filter(R=>typeof R.deletable=="boolean"?R.deletable:!0),E=L.filter(R=>A.includes(R.id));if(I||E){const R=VK(I,L),O=[...E,...R],F=O.reduce((D,M)=>(D.includes(M.id)||D.push(M.id),D),[]);if((S||b)&&(S&&t.setState({edges:j.filter(D=>!F.includes(D.id))}),b&&(I.forEach(D=>{x.delete(D.id)}),t.setState({nodeInternals:new Map(x)}))),F.length>0&&(C==null||C(O),k&&k(F.map(D=>({id:D,type:"remove"})))),I.length>0&&(N==null||N(I),_)){const D=I.map(M=>({id:M.id,type:"remove"}));_(D)}}},[]),h=v.useCallback(p=>{const y=I7e(p),x=y?null:t.getState().nodeInternals.get(p.id);return!y&&!x?[null,null,y]:[y?p:wL(x),x,y]},[]),m=v.useCallback((p,y=!0,x)=>{const[w,j,b]=h(p);return w?(x||t.getState().getNodes()).filter(S=>{if(!b&&(S.id===j.id||!S.positionAbsolute))return!1;const N=wL(S),C=LC(N,w);return y&&C>0||C>=w.width*w.height}):[]},[]),g=v.useCallback((p,y,x=!0)=>{const[w]=h(p);if(!w)return!1;const j=LC(w,y);return x&&j>0||j>=w.width*w.height},[]);return v.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:s,getEdge:a,setNodes:o,setEdges:l,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:m,isNodeIntersecting:g}),[e,n,r,s,a,o,l,c,u,d,f,m,g])}const hHe={actInsideInputWithModifier:!1};var mHe=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=_n(),{deleteElements:r}=g2(),s=_p(e,hHe),a=_p(t);v.useEffect(()=>{if(s){const{edges:o,getNodes:l}=n.getState(),c=l().filter(d=>d.selected),u=o.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[s]),v.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function pHe(e){const t=_n();v.useEffect(()=>{let n;const r=()=>{var a,o;if(!e.current)return;const s=l2(e.current);(s.height===0||s.width===0)&&((o=(a=t.getState()).onError)==null||o.call(a,"004",Ki.error004())),t.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const v2={position:"absolute",width:"100%",height:"100%",top:0,left:0},gHe=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Sv=e=>({x:e.x,y:e.y,zoom:e.k}),Zc=(e,t)=>e.target.closest(`.${t}`),PL=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),TL=e=>{const t=e.ctrlKey&&l0()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},vHe=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),yHe=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:a=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=Hl.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:h,translateExtent:m,minZoom:g,maxZoom:p,zoomActivationKeyCode:y,preventScrolling:x=!0,children:w,noWheelClassName:j,noPanClassName:b})=>{const S=v.useRef(),N=_n(),C=v.useRef(!1),_=v.useRef(!1),k=v.useRef(null),P=v.useRef({x:0,y:0,zoom:0}),{d3Zoom:A,d3Selection:I,d3ZoomHandler:L,userSelectionActive:E}=It(vHe,$n),R=_p(y),O=v.useRef(0),F=v.useRef(!1),D=v.useRef();return pHe(k),v.useEffect(()=>{if(k.current){const M=k.current.getBoundingClientRect(),$=kK().scaleExtent([g,p]).translateExtent(m),z=Ms(k.current).call($),W=Oi.translate(h.x,h.y).scale(Ld(h.zoom,g,p)),H=[[0,0],[M.width,M.height]],V=$.constrain()(W,H,m);$.transform(z,V),$.wheelDelta(TL),N.setState({d3Zoom:$,d3Selection:z,d3ZoomHandler:z.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:k.current.closest(".react-flow")})}},[]),v.useEffect(()=>{I&&A&&(o&&!R&&!E?I.on("wheel.zoom",M=>{if(Zc(M,j))return!1;M.preventDefault(),M.stopImmediatePropagation();const $=I.property("__zoom").k||1;if(M.ctrlKey&&a){const ee=ua(M),Z=TL(M),ae=$*Math.pow(2,Z);A.scaleTo(I,ae,ee,M);return}const z=M.deltaMode===1?20:1;let W=c===Hl.Vertical?0:M.deltaX*z,H=c===Hl.Horizontal?0:M.deltaY*z;!l0()&&M.shiftKey&&c!==Hl.Vertical&&(W=M.deltaY*z,H=0),A.translateBy(I,-(W/$)*l,-(H/$)*l,{internal:!0});const V=Sv(I.property("__zoom")),{onViewportChangeStart:te,onViewportChange:ne,onViewportChangeEnd:X}=N.getState();clearTimeout(D.current),F.current||(F.current=!0,t==null||t(M,V),te==null||te(V)),F.current&&(e==null||e(M,V),ne==null||ne(V),D.current=setTimeout(()=>{n==null||n(M,V),X==null||X(V),F.current=!1},150))},{passive:!1}):typeof L<"u"&&I.on("wheel.zoom",function(M,$){if(!x&&M.type==="wheel"&&!M.ctrlKey||Zc(M,j))return null;M.preventDefault(),L.call(this,M,$)},{passive:!1}))},[E,o,c,I,A,L,R,a,x,j,t,e,n]),v.useEffect(()=>{A&&A.on("start",M=>{var W,H;if(!M.sourceEvent||M.sourceEvent.internal)return null;O.current=(W=M.sourceEvent)==null?void 0:W.button;const{onViewportChangeStart:$}=N.getState(),z=Sv(M.transform);C.current=!0,P.current=z,((H=M.sourceEvent)==null?void 0:H.type)==="mousedown"&&N.setState({paneDragging:!0}),$==null||$(z),t==null||t(M.sourceEvent,z)})},[A,t]),v.useEffect(()=>{A&&(E&&!C.current?A.on("zoom",null):E||A.on("zoom",M=>{var z;const{onViewportChange:$}=N.getState();if(N.setState({transform:[M.transform.x,M.transform.y,M.transform.k]}),_.current=!!(r&&PL(f,O.current??0)),(e||$)&&!((z=M.sourceEvent)!=null&&z.internal)){const W=Sv(M.transform);$==null||$(W),e==null||e(M.sourceEvent,W)}}))},[E,A,e,f,r]),v.useEffect(()=>{A&&A.on("end",M=>{if(!M.sourceEvent||M.sourceEvent.internal)return null;const{onViewportChangeEnd:$}=N.getState();if(C.current=!1,N.setState({paneDragging:!1}),r&&PL(f,O.current??0)&&!_.current&&r(M.sourceEvent),_.current=!1,(n||$)&&gHe(P.current,M.transform)){const z=Sv(M.transform);P.current=z,clearTimeout(S.current),S.current=setTimeout(()=>{$==null||$(z),n==null||n(M.sourceEvent,z)},o?150:0)}})},[A,o,f,n,r]),v.useEffect(()=>{A&&A.filter(M=>{const $=R||s,z=a&&M.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&M.button===1&&M.type==="mousedown"&&(Zc(M,"react-flow__node")||Zc(M,"react-flow__edge")))return!0;if(!f&&!$&&!o&&!u&&!a||E||!u&&M.type==="dblclick"||Zc(M,j)&&M.type==="wheel"||Zc(M,b)&&(M.type!=="wheel"||o&&M.type==="wheel"&&!R)||!a&&M.ctrlKey&&M.type==="wheel"||!$&&!o&&!z&&M.type==="wheel"||!f&&(M.type==="mousedown"||M.type==="touchstart")||Array.isArray(f)&&!f.includes(M.button)&&M.type==="mousedown")return!1;const W=Array.isArray(f)&&f.includes(M.button)||!M.button||M.button<=1;return(!M.ctrlKey||M.type==="wheel")&&W})},[E,A,s,a,o,u,f,d,R]),T.createElement("div",{className:"react-flow__renderer",ref:k,style:v2},w)},xHe=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function wHe(){const{userSelectionActive:e,userSelectionRect:t}=It(xHe,$n);return e&&t?T.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function OL(e,t){const n=t.parentNode||t.parentId,r=e.find(s=>s.id===n);if(r){const s=t.position.x+t.width-r.width,a=t.position.y+t.height-r.height;if(s>0||a>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),a>0&&(r.style.height+=a),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function iY(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,s)=>{const a=e.filter(l=>l.id===s.id);if(a.length===0)return r.push(s),r;const o={...s};for(const l of a)if(l)switch(l.type){case"select":{o.selected=l.selected;break}case"position":{typeof l.position<"u"&&(o.position=l.position),typeof l.positionAbsolute<"u"&&(o.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&OL(r,o);break}case"dimensions":{typeof l.dimensions<"u"&&(o.width=l.dimensions.width,o.height=l.dimensions.height),typeof l.updateStyle<"u"&&(o.style={...o.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(o.resizing=l.resizing),o.expandParent&&OL(r,o);break}case"remove":return r}return r.push(o),r},n)}function oY(e,t){return iY(e,t)}function bHe(e,t){return iY(e,t)}const yo=(e,t)=>({id:e,type:"select",selected:t});function Cu(e,t){return e.reduce((n,r)=>{const s=t.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(yo(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(yo(r.id,!1))),n},[])}const J1=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},jHe=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),lY=v.memo(({isSelecting:e,selectionMode:t=Np.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:o,onPaneScroll:l,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const h=v.useRef(null),m=_n(),g=v.useRef(0),p=v.useRef(0),y=v.useRef(),{userSelectionActive:x,elementsSelectable:w,dragging:j}=It(jHe,$n),b=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,p.current=0},S=L=>{a==null||a(L),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},N=L=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){L.preventDefault();return}o==null||o(L)},C=l?L=>l(L):void 0,_=L=>{const{resetSelectedElements:E,domNode:R}=m.getState();if(y.current=R==null?void 0:R.getBoundingClientRect(),!w||!e||L.button!==0||L.target!==h.current||!y.current)return;const{x:O,y:F}=Vo(L,y.current);E(),m.setState({userSelectionRect:{width:0,height:0,startX:O,startY:F,x:O,y:F}}),r==null||r(L)},k=L=>{const{userSelectionRect:E,nodeInternals:R,edges:O,transform:F,onNodesChange:D,onEdgesChange:M,nodeOrigin:$,getNodes:z}=m.getState();if(!e||!y.current||!E)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const W=Vo(L,y.current),H=E.startX??0,V=E.startY??0,te={...E,x:W.x<H?W.x:H,y:W.y<V?W.y:V,width:Math.abs(W.x-H),height:Math.abs(W.y-V)},ne=z(),X=WK(R,te,F,t===Np.Partial,!0,$),ee=VK(X,O).map(ae=>ae.id),Z=X.map(ae=>ae.id);if(g.current!==Z.length){g.current=Z.length;const ae=Cu(ne,Z);ae.length&&(D==null||D(ae))}if(p.current!==ee.length){p.current=ee.length;const ae=Cu(O,ee);ae.length&&(M==null||M(ae))}m.setState({userSelectionRect:te})},P=L=>{if(L.button!==0)return;const{userSelectionRect:E}=m.getState();!x&&E&&L.target===h.current&&(S==null||S(L)),m.setState({nodesSelectionActive:g.current>0}),b(),s==null||s(L)},A=L=>{x&&(m.setState({nodesSelectionActive:g.current>0}),s==null||s(L)),b()},I=w&&(e||x);return T.createElement("div",{className:er(["react-flow__pane",{dragging:j,selection:e}]),onClick:I?void 0:J1(S,h),onContextMenu:J1(N,h),onWheel:J1(C,h),onMouseEnter:I?void 0:c,onMouseDown:I?_:void 0,onMouseMove:I?k:u,onMouseUp:I?P:void 0,onMouseLeave:I?A:d,ref:h,style:v2},f,T.createElement(wHe,null))});lY.displayName="Pane";function cY(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:cY(r,t):!1}function IL(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function SHe(e,t,n,r){return Array.from(e.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!cY(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var a,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((a=s.positionAbsolute)==null?void 0:a.x)??0),y:n.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function NHe(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function uY(e,t,n,r,s=[0,0],a){const o=NHe(e,e.extent||r);let l=o;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=n.get(c),{x:h,y:m}=ec(f,s).positionAbsolute;l=f&&Bs(h)&&Bs(m)&&Bs(f.width)&&Bs(f.height)?[[h+e.width*s[0],m+e.height*s[1]],[h+f.width-e.width+e.width*s[0],m+f.height-e.height+e.height*s[1]]]:l}else a==null||a("005",Ki.error005()),l=o;else if(e.extent&&c&&e.extent!=="parent"){const f=n.get(c),{x:h,y:m}=ec(f,s).positionAbsolute;l=[[e.extent[0][0]+h,e.extent[0][1]+m],[e.extent[1][0]+h,e.extent[1][1]+m]]}let u={x:0,y:0};if(c){const f=n.get(c);u=ec(f,s).positionAbsolute}const d=l&&l!=="parent"?c2(t,l):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Q1({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?r.find(s=>s.id===e):r[0],r]}const DL=(e,t,n,r)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const a=Array.from(s),o=t.getBoundingClientRect(),l={x:o.width*r[0],y:o.height*r[1]};return a.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-o.left-l.x)/n,y:(u.top-o.top-l.y)/n,...l2(c)}})};function Kf(e,t,n){return n===void 0?n:r=>{const s=t().nodeInternals.get(e);s&&n(r,{...s})}}function UC({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:a,multiSelectionActive:o,nodeInternals:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",Ki.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(a({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function _He(){const e=_n();return v.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:a}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,c={x:(o-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:a?s[0]*Math.round(c.x/s[0]):c.x,ySnapped:a?s[1]*Math.round(c.y/s[1]):c.y,...c}},[])}function Z1(e){return(t,n,r)=>e==null?void 0:e(t,r)}function dY({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:a,selectNodesOnDrag:o}){const l=_n(),[c,u]=v.useState(!1),d=v.useRef([]),f=v.useRef({x:null,y:null}),h=v.useRef(0),m=v.useRef(null),g=v.useRef({x:0,y:0}),p=v.useRef(null),y=v.useRef(!1),x=v.useRef(!1),w=v.useRef(!1),j=_He();return v.useEffect(()=>{if(e!=null&&e.current){const b=Ms(e.current),S=({x:_,y:k})=>{const{nodeInternals:P,onNodeDrag:A,onSelectionDrag:I,updateNodePositions:L,nodeExtent:E,snapGrid:R,snapToGrid:O,nodeOrigin:F,onError:D}=l.getState();f.current={x:_,y:k};let M=!1,$={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&E){const W=Wb(d.current,F);$=Sp(W)}if(d.current=d.current.map(W=>{const H={x:_-W.distance.x,y:k-W.distance.y};O&&(H.x=R[0]*Math.round(H.x/R[0]),H.y=R[1]*Math.round(H.y/R[1]));const V=[[E[0][0],E[0][1]],[E[1][0],E[1][1]]];d.current.length>1&&E&&!W.extent&&(V[0][0]=W.positionAbsolute.x-$.x+E[0][0],V[1][0]=W.positionAbsolute.x+(W.width??0)-$.x2+E[1][0],V[0][1]=W.positionAbsolute.y-$.y+E[0][1],V[1][1]=W.positionAbsolute.y+(W.height??0)-$.y2+E[1][1]);const te=uY(W,H,P,V,F,D);return M=M||W.position.x!==te.position.x||W.position.y!==te.position.y,W.position=te.position,W.positionAbsolute=te.positionAbsolute,W}),!M)return;L(d.current,!0,!0),u(!0);const z=s?A:Z1(I);if(z&&p.current){const[W,H]=Q1({nodeId:s,dragItems:d.current,nodeInternals:P});z(p.current,W,H)}},N=()=>{if(!m.current)return;const[_,k]=PK(g.current,m.current);if(_!==0||k!==0){const{transform:P,panBy:A}=l.getState();f.current.x=(f.current.x??0)-_/P[2],f.current.y=(f.current.y??0)-k/P[2],A({x:_,y:k})&&S(f.current)}h.current=requestAnimationFrame(N)},C=_=>{var F;const{nodeInternals:k,multiSelectionActive:P,nodesDraggable:A,unselectNodesAndEdges:I,onNodeDragStart:L,onSelectionDragStart:E}=l.getState();x.current=!0;const R=s?L:Z1(E);(!o||!a)&&!P&&s&&((F=k.get(s))!=null&&F.selected||I()),s&&a&&o&&UC({id:s,store:l,nodeRef:e});const O=j(_);if(f.current=O,d.current=SHe(k,A,O,s),R&&d.current){const[D,M]=Q1({nodeId:s,dragItems:d.current,nodeInternals:k});R(_.sourceEvent,D,M)}};if(t)b.on(".drag",null);else{const _=c9e().on("start",k=>{const{domNode:P,nodeDragThreshold:A}=l.getState();A===0&&C(k),w.current=!1;const I=j(k);f.current=I,m.current=(P==null?void 0:P.getBoundingClientRect())||null,g.current=Vo(k.sourceEvent,m.current)}).on("drag",k=>{var L,E;const P=j(k),{autoPanOnNodeDrag:A,nodeDragThreshold:I}=l.getState();if(k.sourceEvent.type==="touchmove"&&k.sourceEvent.touches.length>1&&(w.current=!0),!w.current){if(!y.current&&x.current&&A&&(y.current=!0,N()),!x.current){const R=P.xSnapped-(((L=f==null?void 0:f.current)==null?void 0:L.x)??0),O=P.ySnapped-(((E=f==null?void 0:f.current)==null?void 0:E.y)??0);Math.sqrt(R*R+O*O)>I&&C(k)}(f.current.x!==P.xSnapped||f.current.y!==P.ySnapped)&&d.current&&x.current&&(p.current=k.sourceEvent,g.current=Vo(k.sourceEvent,m.current),S(P))}}).on("end",k=>{if(!(!x.current||w.current)&&(u(!1),y.current=!1,x.current=!1,cancelAnimationFrame(h.current),d.current)){const{updateNodePositions:P,nodeInternals:A,onNodeDragStop:I,onSelectionDragStop:L}=l.getState(),E=s?I:Z1(L);if(P(d.current,!1,!1),E){const[R,O]=Q1({nodeId:s,dragItems:d.current,nodeInternals:A});E(k.sourceEvent,R,O)}}}).filter(k=>{const P=k.target;return!k.button&&(!n||!IL(P,`.${n}`,e))&&(!r||IL(P,r,e))});return b.call(_),()=>{b.on(".drag",null)}}}},[e,t,n,r,a,l,s,o,j]),c}function fY(){const e=_n();return v.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:a,getNodes:o,snapToGrid:l,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=o().filter(w=>w.selected&&(w.draggable||d&&typeof w.draggable>"u")),h=l?c[0]:5,m=l?c[1]:5,g=n.isShiftPressed?4:1,p=n.x*h*g,y=n.y*m*g,x=f.map(w=>{if(w.positionAbsolute){const j={x:w.positionAbsolute.x+p,y:w.positionAbsolute.y+y};l&&(j.x=c[0]*Math.round(j.x/c[0]),j.y=c[1]*Math.round(j.y/c[1]));const{positionAbsolute:b,position:S}=uY(w,j,r,s,void 0,u);w.position=S,w.positionAbsolute=b}return w});a(x,!0,!1)},[])}const Gu={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Yf=e=>{const t=({id:n,type:r,data:s,xPos:a,yPos:o,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:m,onContextMenu:g,onDoubleClick:p,style:y,className:x,isDraggable:w,isSelectable:j,isConnectable:b,isFocusable:S,selectNodesOnDrag:N,sourcePosition:C,targetPosition:_,hidden:k,resizeObserver:P,dragHandle:A,zIndex:I,isParent:L,noDragClassName:E,noPanClassName:R,initialized:O,disableKeyboardA11y:F,ariaLabel:D,rfId:M,hasHandleBounds:$})=>{const z=_n(),W=v.useRef(null),H=v.useRef(null),V=v.useRef(C),te=v.useRef(_),ne=v.useRef(r),X=j||w||d||f||h||m,ee=fY(),Z=Kf(n,z.getState,f),ae=Kf(n,z.getState,h),ce=Kf(n,z.getState,m),q=Kf(n,z.getState,g),be=Kf(n,z.getState,p),Se=me=>{const{nodeDragThreshold:J}=z.getState();if(j&&(!N||!w||J>0)&&UC({id:n,store:z,nodeRef:W}),d){const _e=z.getState().nodeInternals.get(n);_e&&d(me,{..._e})}},Ae=me=>{if(!FC(me)&&!F)if(DK.includes(me.key)&&j){const J=me.key==="Escape";UC({id:n,store:z,unselect:J,nodeRef:W})}else w&&u&&Object.prototype.hasOwnProperty.call(Gu,me.key)&&(z.setState({ariaLiveMessage:`Moved selected node ${me.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~o}`}),ee({x:Gu[me.key].x,y:Gu[me.key].y,isShiftPressed:me.shiftKey}))};v.useEffect(()=>()=>{H.current&&(P==null||P.unobserve(H.current),H.current=null)},[]),v.useEffect(()=>{if(W.current&&!k){const me=W.current;(!O||!$||H.current!==me)&&(H.current&&(P==null||P.unobserve(H.current)),P==null||P.observe(me),H.current=me)}},[k,O,$]),v.useEffect(()=>{const me=ne.current!==r,J=V.current!==C,_e=te.current!==_;W.current&&(me||J||_e)&&(me&&(ne.current=r),J&&(V.current=C),_e&&(te.current=_),z.getState().updateNodeDimensions([{id:n,nodeElement:W.current,forceUpdate:!0}]))},[n,r,C,_]);const Q=dY({nodeRef:W,disabled:k||!w,noDragClassName:E,handleSelector:A,nodeId:n,isSelectable:j,selectNodesOnDrag:N});return k?null:T.createElement("div",{className:er(["react-flow__node",`react-flow__node-${r}`,{[R]:w},x,{selected:u,selectable:j,parent:L,dragging:Q}]),ref:W,style:{zIndex:I,transform:`translate(${l}px,${c}px)`,pointerEvents:X?"all":"none",visibility:O?"visible":"hidden",...y},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Z,onMouseMove:ae,onMouseLeave:ce,onContextMenu:q,onClick:Se,onDoubleClick:be,onKeyDown:S?Ae:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":F?void 0:`${tY}-${M}`,"aria-label":D},T.createElement(B7e,{value:n},T.createElement(e,{id:n,data:s,type:r,xPos:a,yPos:o,selected:u,isConnectable:b,sourcePosition:C,targetPosition:_,dragging:Q,dragHandle:A,zIndex:I})))};return t.displayName="NodeWrapper",v.memo(t)};const CHe=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Wb(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function EHe({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=_n(),{width:s,height:a,x:o,y:l,transformString:c,userSelectionActive:u}=It(CHe,$n),d=fY(),f=v.useRef(null);if(v.useEffect(()=>{var g;n||(g=f.current)==null||g.focus({preventScroll:!0})},[n]),dY({nodeRef:f}),u||!s||!a)return null;const h=e?g=>{const p=r.getState().getNodes().filter(y=>y.selected);e(g,p)}:void 0,m=g=>{Object.prototype.hasOwnProperty.call(Gu,g.key)&&d({x:Gu[g.key].x,y:Gu[g.key].y,isShiftPressed:g.shiftKey})};return T.createElement("div",{className:er(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},T.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:s,height:a,top:l,left:o}}))}var kHe=v.memo(EHe);const AHe=e=>e.nodesSelectionActive,hY=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:o,deleteKeyCode:l,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:m,onSelectionStart:g,onSelectionEnd:p,multiSelectionKeyCode:y,panActivationKeyCode:x,zoomActivationKeyCode:w,elementsSelectable:j,zoomOnScroll:b,zoomOnPinch:S,panOnScroll:N,panOnScrollSpeed:C,panOnScrollMode:_,zoomOnDoubleClick:k,panOnDrag:P,defaultViewport:A,translateExtent:I,minZoom:L,maxZoom:E,preventScrolling:R,onSelectionContextMenu:O,noWheelClassName:F,noPanClassName:D,disableKeyboardA11y:M})=>{const $=It(AHe),z=_p(f),W=_p(x),H=W||P,V=W||N,te=z||h&&H!==!0;return mHe({deleteKeyCode:l,multiSelectionKeyCode:y}),T.createElement(yHe,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:a,elementsSelectable:j,zoomOnScroll:b,zoomOnPinch:S,panOnScroll:V,panOnScrollSpeed:C,panOnScrollMode:_,zoomOnDoubleClick:k,panOnDrag:!z&&H,defaultViewport:A,translateExtent:I,minZoom:L,maxZoom:E,zoomActivationKeyCode:w,preventScrolling:R,noWheelClassName:F,noPanClassName:D},T.createElement(lY,{onSelectionStart:g,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:o,panOnDrag:H,isSelecting:!!te,selectionMode:m},e,$&&T.createElement(kHe,{onSelectionContextMenu:O,noPanClassName:D,disableKeyboardA11y:M})))};hY.displayName="FlowRenderer";var PHe=v.memo(hY);function THe(e){return It(v.useCallback(n=>e?WK(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function OHe(e){const t={input:Yf(e.input||JK),default:Yf(e.default||VC),output:Yf(e.output||ZK),group:Yf(e.group||p2)},n={},r=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,a)=>(s[a]=Yf(e[a]||VC),s),n);return{...t,...r}}const IHe=({x:e,y:t,width:n,height:r,origin:s})=>!n||!r?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-n*s[0],y:t-r*s[1]},DHe=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),mY=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:a,onError:o}=It(DHe,$n),l=THe(e.onlyRenderVisibleElements),c=v.useRef(),u=v.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const h=f.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));a(h)});return c.current=d,d},[]);return v.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),T.createElement("div",{className:"react-flow__nodes",style:v2},l.map(d=>{var S,N,C;let f=d.type||"default";e.nodeTypes[f]||(o==null||o("003",Ki.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,m=!!(d.draggable||t&&typeof d.draggable>"u"),g=!!(d.selectable||s&&typeof d.selectable>"u"),p=!!(d.connectable||n&&typeof d.connectable>"u"),y=!!(d.focusable||r&&typeof d.focusable>"u"),x=e.nodeExtent?c2(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,w=(x==null?void 0:x.x)??0,j=(x==null?void 0:x.y)??0,b=IHe({x:w,y:j,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return T.createElement(h,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||Ce.Bottom,targetPosition:d.targetPosition||Ce.Top,hidden:d.hidden,xPos:w,yPos:j,xPosOrigin:b.x,yPosOrigin:b.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:m,isSelectable:g,isConnectable:p,isFocusable:y,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((S=d[Qt])==null?void 0:S.z)??0,isParent:!!((N=d[Qt])!=null&&N.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((C=d[Qt])!=null&&C.handleBounds)})}))};mY.displayName="NodeRenderer";var MHe=v.memo(mY);const RHe=(e,t,n)=>n===Ce.Left?e-t:n===Ce.Right?e+t:e,$He=(e,t,n)=>n===Ce.Top?e-t:n===Ce.Bottom?e+t:e,ML="react-flow__edgeupdater",RL=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:a,onMouseOut:o,type:l})=>T.createElement("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:o,className:er([ML,`${ML}-${l}`]),cx:RHe(t,r,e),cy:$He(n,r,e),r,stroke:"transparent",fill:"transparent"}),LHe=()=>!0;var eu=e=>{const t=({id:n,className:r,type:s,data:a,onClick:o,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:p,style:y,source:x,target:w,sourceX:j,sourceY:b,targetX:S,targetY:N,sourcePosition:C,targetPosition:_,elementsSelectable:k,hidden:P,sourceHandleId:A,targetHandleId:I,onContextMenu:L,onMouseEnter:E,onMouseMove:R,onMouseLeave:O,reconnectRadius:F,onReconnect:D,onReconnectStart:M,onReconnectEnd:$,markerEnd:z,markerStart:W,rfId:H,ariaLabel:V,isFocusable:te,isReconnectable:ne,pathOptions:X,interactionWidth:ee,disableKeyboardA11y:Z})=>{const ae=v.useRef(null),[ce,q]=v.useState(!1),[be,Se]=v.useState(!1),Ae=_n(),Q=v.useMemo(()=>`url('#${zC(W,H)}')`,[W,H]),me=v.useMemo(()=>`url('#${zC(z,H)}')`,[z,H]);if(P)return null;const J=nn=>{var zn;const{edges:rr,addSelectedEdges:Re,unselectNodesAndEdges:lt,multiSelectionActive:pt}=Ae.getState(),zt=rr.find(de=>de.id===n);zt&&(k&&(Ae.setState({nodesSelectionActive:!1}),zt.selected&&pt?(lt({nodes:[],edges:[zt]}),(zn=ae.current)==null||zn.blur()):Re([n])),o&&o(nn,zt))},_e=Gf(n,Ae.getState,l),rt=Gf(n,Ae.getState,L),_t=Gf(n,Ae.getState,E),Bn=Gf(n,Ae.getState,R),pn=Gf(n,Ae.getState,O),tr=(nn,rr)=>{if(nn.button!==0)return;const{edges:Re,isValidConnection:lt}=Ae.getState(),pt=rr?w:x,zt=(rr?I:A)||null,zn=rr?"target":"source",de=lt||LHe,gt=rr,st=Re.find(Ns=>Ns.id===n);Se(!0),M==null||M(nn,st,zn);const Ir=Ns=>{Se(!1),$==null||$(Ns,st,zn)};GK({event:nn,handleId:zt,nodeId:pt,onConnect:Ns=>D==null?void 0:D(st,Ns),isTarget:gt,getState:Ae.getState,setState:Ae.setState,isValidConnection:de,edgeUpdaterType:zn,onReconnectEnd:Ir})},Qs=nn=>tr(nn,!0),Xr=nn=>tr(nn,!1),nr=()=>q(!0),Zs=()=>q(!1),gr=!k&&!o,Ia=nn=>{var rr;if(!Z&&DK.includes(nn.key)&&k){const{unselectNodesAndEdges:Re,addSelectedEdges:lt,edges:pt}=Ae.getState();nn.key==="Escape"?((rr=ae.current)==null||rr.blur(),Re({edges:[pt.find(zn=>zn.id===n)]})):lt([n])}};return T.createElement("g",{className:er(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:c,animated:u,inactive:gr,updating:ce}]),onClick:J,onDoubleClick:_e,onContextMenu:rt,onMouseEnter:_t,onMouseMove:Bn,onMouseLeave:pn,onKeyDown:te?Ia:void 0,tabIndex:te?0:void 0,role:te?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${x} to ${w}`,"aria-describedby":te?`${nY}-${H}`:void 0,ref:ae},!be&&T.createElement(e,{id:n,source:x,target:w,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:p,data:a,style:y,sourceX:j,sourceY:b,targetX:S,targetY:N,sourcePosition:C,targetPosition:_,sourceHandleId:A,targetHandleId:I,markerStart:Q,markerEnd:me,pathOptions:X,interactionWidth:ee}),ne&&T.createElement(T.Fragment,null,(ne==="source"||ne===!0)&&T.createElement(RL,{position:C,centerX:j,centerY:b,radius:F,onMouseDown:Qs,onMouseEnter:nr,onMouseOut:Zs,type:"source"}),(ne==="target"||ne===!0)&&T.createElement(RL,{position:_,centerX:S,centerY:N,radius:F,onMouseDown:Xr,onMouseEnter:nr,onMouseOut:Zs,type:"target"})))};return t.displayName="EdgeWrapper",v.memo(t)};function FHe(e){const t={default:eu(e.default||u0),straight:eu(e.bezier||f2),step:eu(e.step||d2),smoothstep:eu(e.step||zb),simplebezier:eu(e.simplebezier||u2)},n={},r=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,a)=>(s[a]=eu(e[a]||u0),s),n);return{...t,...r}}function $L(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,s=((n==null?void 0:n.y)||0)+t.y,a=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case Ce.Top:return{x:r+a/2,y:s};case Ce.Right:return{x:r+a,y:s+o/2};case Ce.Bottom:return{x:r+a/2,y:s+o};case Ce.Left:return{x:r,y:s+o/2}}}function LL(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const BHe=(e,t,n,r,s,a)=>{const o=$L(n,e,t),l=$L(a,r,s);return{sourceX:o.x,sourceY:o.y,targetX:l.x,targetY:l.y}};function zHe({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:a,width:o,height:l,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+r,t.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Sp({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:o/c[2],height:l/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*h)>0}function FL(e){var r,s,a,o,l;const t=((r=e==null?void 0:e[Qt])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const WHe=[{level:0,isMaxLevel:!0,edges:[]}];function VHe(e,t,n=!1){let r=-1;const s=e.reduce((o,l)=>{var d,f;const c=Bs(l.zIndex);let u=c?l.zIndex:0;if(n){const h=t.get(l.target),m=t.get(l.source),g=l.selected||(h==null?void 0:h.selected)||(m==null?void 0:m.selected),p=Math.max(((d=m==null?void 0:m[Qt])==null?void 0:d.z)||0,((f=h==null?void 0:h[Qt])==null?void 0:f.z)||0,1e3);u=(c?l.zIndex:0)+(g?p:0)}return o[u]?o[u].push(l):o[u]=[l],r=u>r?u:r,o},{}),a=Object.entries(s).map(([o,l])=>{const c=+o;return{edges:l,level:c,isMaxLevel:c===r}});return a.length===0?WHe:a}function UHe(e,t,n){const r=It(v.useCallback(s=>e?s.edges.filter(a=>{const o=t.get(a.source),l=t.get(a.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&zHe({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:l.width,targetHeight:l.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return VHe(r,t,n)}const qHe=({color:e="none",strokeWidth:t=1})=>T.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),HHe=({color:e="none",strokeWidth:t=1})=>T.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),BL={[c0.Arrow]:qHe,[c0.ArrowClosed]:HHe};function GHe(e){const t=_n();return v.useMemo(()=>{var s,a;return Object.prototype.hasOwnProperty.call(BL,e)?BL[e]:((a=(s=t.getState()).onError)==null||a.call(s,"009",Ki.error009(e)),null)},[e])}const KHe=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:a="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=GHe(t);return c?T.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0"},T.createElement(c,{color:n,strokeWidth:o})):null},YHe=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((s,a)=>([a.markerStart,a.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const l=zC(o,t);r.includes(l)||(s.push({id:l,color:o.color||e,...o}),r.push(l))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))},pY=({defaultColor:e,rfId:t})=>{const n=It(v.useCallback(YHe({defaultColor:e,rfId:t}),[e,t]),(r,s)=>!(r.length!==s.length||r.some((a,o)=>a.id!==s[o].id)));return T.createElement("defs",null,n.map(r=>T.createElement(KHe,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};pY.displayName="MarkerDefinitions";var XHe=v.memo(pY);const JHe=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),gY=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:a,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:m,onReconnectEnd:g,reconnectRadius:p,children:y,disableKeyboardA11y:x})=>{const{edgesFocusable:w,edgesUpdatable:j,elementsSelectable:b,width:S,height:N,connectionMode:C,nodeInternals:_,onError:k}=It(JHe,$n),P=UHe(t,_,n);return S?T.createElement(T.Fragment,null,P.map(({level:A,edges:I,isMaxLevel:L})=>T.createElement("svg",{key:A,style:{zIndex:A},width:S,height:N,className:"react-flow__edges react-flow__container"},L&&T.createElement(XHe,{defaultColor:e,rfId:r}),T.createElement("g",null,I.map(E=>{const[R,O,F]=FL(_.get(E.source)),[D,M,$]=FL(_.get(E.target));if(!F||!$)return null;let z=E.type||"default";s[z]||(k==null||k("011",Ki.error011(z)),z="default");const W=s[z]||s.default,H=C===jc.Strict?M.target:(M.target??[]).concat(M.source??[]),V=LL(O.source,E.sourceHandle),te=LL(H,E.targetHandle),ne=(V==null?void 0:V.position)||Ce.Bottom,X=(te==null?void 0:te.position)||Ce.Top,ee=!!(E.focusable||w&&typeof E.focusable>"u"),Z=E.reconnectable||E.updatable,ae=typeof h<"u"&&(Z||j&&typeof Z>"u");if(!V||!te)return k==null||k("008",Ki.error008(V,E)),null;const{sourceX:ce,sourceY:q,targetX:be,targetY:Se}=BHe(R,V,ne,D,te,X);return T.createElement(W,{key:E.id,id:E.id,className:er([E.className,a]),type:z,data:E.data,selected:!!E.selected,animated:!!E.animated,hidden:!!E.hidden,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,style:E.style,source:E.source,target:E.target,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerEnd:E.markerEnd,markerStart:E.markerStart,sourceX:ce,sourceY:q,targetX:be,targetY:Se,sourcePosition:ne,targetPosition:X,elementsSelectable:b,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:m,onReconnectEnd:g,reconnectRadius:p,rfId:r,ariaLabel:E.ariaLabel,isFocusable:ee,isReconnectable:ae,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth,disableKeyboardA11y:x})})))),y):null};gY.displayName="EdgeRenderer";var QHe=v.memo(gY);const ZHe=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function eGe({children:e}){const t=It(ZHe);return T.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function tGe(e){const t=g2(),n=v.useRef(!1);v.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const nGe={[Ce.Left]:Ce.Right,[Ce.Right]:Ce.Left,[Ce.Top]:Ce.Bottom,[Ce.Bottom]:Ce.Top},vY=({nodeId:e,handleType:t,style:n,type:r=So.Bezier,CustomComponent:s,connectionStatus:a})=>{var N,C,_;const{fromNode:o,handleId:l,toX:c,toY:u,connectionMode:d}=It(v.useCallback(k=>({fromNode:k.nodeInternals.get(e),handleId:k.connectionHandleId,toX:(k.connectionPosition.x-k.transform[0])/k.transform[2],toY:(k.connectionPosition.y-k.transform[1])/k.transform[2],connectionMode:k.connectionMode}),[e]),$n),f=(N=o==null?void 0:o[Qt])==null?void 0:N.handleBounds;let h=f==null?void 0:f[t];if(d===jc.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!o||!h)return null;const m=l?h.find(k=>k.id===l):h[0],g=m?m.x+m.width/2:(o.width??0)/2,p=m?m.y+m.height/2:o.height??0,y=(((C=o.positionAbsolute)==null?void 0:C.x)??0)+g,x=(((_=o.positionAbsolute)==null?void 0:_.y)??0)+p,w=m==null?void 0:m.position,j=w?nGe[w]:null;if(!w||!j)return null;if(s)return T.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:m,fromX:y,fromY:x,toX:c,toY:u,fromPosition:w,toPosition:j,connectionStatus:a});let b="";const S={sourceX:y,sourceY:x,sourcePosition:w,targetX:c,targetY:u,targetPosition:j};return r===So.Bezier?[b]=FK(S):r===So.Step?[b]=BC({...S,borderRadius:0}):r===So.SmoothStep?[b]=BC(S):r===So.SimpleBezier?[b]=LK(S):b=`M${y},${x} ${c},${u}`,T.createElement("path",{d:b,fill:"none",className:"react-flow__connection-path",style:n})};vY.displayName="ConnectionLine";const rGe=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function sGe({containerStyle:e,style:t,type:n,component:r}){const{nodeId:s,handleType:a,nodesConnectable:o,width:l,height:c,connectionStatus:u}=It(rGe,$n);return!(s&&a&&l&&o)?null:T.createElement("svg",{style:e,width:l,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},T.createElement("g",{className:er(["react-flow__connection",u])},T.createElement(vY,{nodeId:s,handleType:a,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function zL(e,t){return v.useRef(null),_n(),v.useMemo(()=>t(e),[e])}const yY=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:a,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:m,onSelectionContextMenu:g,onSelectionStart:p,onSelectionEnd:y,connectionLineType:x,connectionLineStyle:w,connectionLineComponent:j,connectionLineContainerStyle:b,selectionKeyCode:S,selectionOnDrag:N,selectionMode:C,multiSelectionKeyCode:_,panActivationKeyCode:k,zoomActivationKeyCode:P,deleteKeyCode:A,onlyRenderVisibleElements:I,elementsSelectable:L,selectNodesOnDrag:E,defaultViewport:R,translateExtent:O,minZoom:F,maxZoom:D,preventScrolling:M,defaultMarkerColor:$,zoomOnScroll:z,zoomOnPinch:W,panOnScroll:H,panOnScrollSpeed:V,panOnScrollMode:te,zoomOnDoubleClick:ne,panOnDrag:X,onPaneClick:ee,onPaneMouseEnter:Z,onPaneMouseMove:ae,onPaneMouseLeave:ce,onPaneScroll:q,onPaneContextMenu:be,onEdgeContextMenu:Se,onEdgeMouseEnter:Ae,onEdgeMouseMove:Q,onEdgeMouseLeave:me,onReconnect:J,onReconnectStart:_e,onReconnectEnd:rt,reconnectRadius:_t,noDragClassName:Bn,noWheelClassName:pn,noPanClassName:tr,elevateEdgesOnSelect:Qs,disableKeyboardA11y:Xr,nodeOrigin:nr,nodeExtent:Zs,rfId:gr})=>{const Ia=zL(e,OHe),nn=zL(t,FHe);return tGe(a),T.createElement(PHe,{onPaneClick:ee,onPaneMouseEnter:Z,onPaneMouseMove:ae,onPaneMouseLeave:ce,onPaneContextMenu:be,onPaneScroll:q,deleteKeyCode:A,selectionKeyCode:S,selectionOnDrag:N,selectionMode:C,onSelectionStart:p,onSelectionEnd:y,multiSelectionKeyCode:_,panActivationKeyCode:k,zoomActivationKeyCode:P,elementsSelectable:L,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:z,zoomOnPinch:W,zoomOnDoubleClick:ne,panOnScroll:H,panOnScrollSpeed:V,panOnScrollMode:te,panOnDrag:X,defaultViewport:R,translateExtent:O,minZoom:F,maxZoom:D,onSelectionContextMenu:g,preventScrolling:M,noDragClassName:Bn,noWheelClassName:pn,noPanClassName:tr,disableKeyboardA11y:Xr},T.createElement(eGe,null,T.createElement(QHe,{edgeTypes:nn,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:I,onEdgeContextMenu:Se,onEdgeMouseEnter:Ae,onEdgeMouseMove:Q,onEdgeMouseLeave:me,onReconnect:J,onReconnectStart:_e,onReconnectEnd:rt,reconnectRadius:_t,defaultMarkerColor:$,noPanClassName:tr,elevateEdgesOnSelect:!!Qs,disableKeyboardA11y:Xr,rfId:gr},T.createElement(sGe,{style:w,type:x,component:j,containerStyle:b})),T.createElement("div",{className:"react-flow__edgelabel-renderer"}),T.createElement(MHe,{nodeTypes:Ia,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:m,selectNodesOnDrag:E,onlyRenderVisibleElements:I,noPanClassName:tr,noDragClassName:Bn,disableKeyboardA11y:Xr,nodeOrigin:nr,nodeExtent:Zs,rfId:gr})))};yY.displayName="GraphView";var aGe=v.memo(yY);const qC=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],oo={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:qC,nodeExtent:qC,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:jc.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:D7e,isValidConnection:void 0},iGe=()=>bUe((e,t)=>({...oo,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:a}=t();e({nodeInternals:X1(n,r,s,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",a=typeof r<"u",o=s?X1(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:a?r:[],hasDefaultNodes:s,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:a,fitViewOnInitDone:o,fitViewOnInitOptions:l,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(f.transform),m=n.reduce((p,y)=>{const x=s.get(y.id);if(x!=null&&x.hidden)s.set(x.id,{...x,[Qt]:{...x[Qt],handleBounds:void 0}});else if(x){const w=l2(y.nodeElement);!!(w.width&&w.height&&(x.width!==w.width||x.height!==w.height||y.forceUpdate))&&(s.set(x.id,{...x,[Qt]:{...x[Qt],handleBounds:{source:DL(".source",y.nodeElement,h,u),target:DL(".target",y.nodeElement,h,u)}},...w}),p.push({id:x.id,type:"dimensions",dimensions:w}))}return p},[]);sY(s,u);const g=o||a&&!o&&aY(t,{initial:!0,...l});e({nodeInternals:new Map(s),fitViewOnInitDone:g}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:a}=t(),o=n.map(l=>{const c={id:l.id,type:"position",dragging:s};return r&&(c.positionAbsolute=l.positionAbsolute,c.position=l.position),c});a(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:a,nodeOrigin:o,getNodes:l,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(a){const u=oY(n,l()),d=X1(u,s,o,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=t();let o,l=null;r?o=n.map(c=>yo(c,!0)):(o=Cu(a(),n),l=Cu(s,[])),jv({changedNodes:o,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=t();let o,l=null;r?o=n.map(c=>yo(c,!0)):(o=Cu(s,n),l=Cu(a(),[])),jv({changedNodes:l,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:a}=t(),o=n||a(),l=r||s,c=o.map(d=>(d.selected=!1,yo(d.id,!1))),u=l.map(d=>yo(d.id,!1));jv({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=t();r==null||r.scaleExtent([n,s]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=t();r==null||r.scaleExtent([s,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),a=r().filter(l=>l.selected).map(l=>yo(l.id,!1)),o=n.filter(l=>l.selected).map(l=>yo(l.id,!1));jv({changedNodes:a,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(s=>{s.positionAbsolute=c2(s.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:a,d3Zoom:o,d3Selection:l,translateExtent:c}=t();if(!o||!l||!n.x&&!n.y)return!1;const u=Oi.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,a]],f=o==null?void 0:o.constrain()(u,d,c);return o.transform(l,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:oo.connectionNodeId,connectionHandleId:oo.connectionHandleId,connectionHandleType:oo.connectionHandleType,connectionStatus:oo.connectionStatus,connectionStartHandle:oo.connectionStartHandle,connectionEndHandle:oo.connectionEndHandle}),reset:()=>e({...oo})}),Object.is),xY=({children:e})=>{const t=v.useRef(null);return t.current||(t.current=iGe()),T.createElement(E7e,{value:t.current},e)};xY.displayName="ReactFlowProvider";const wY=({children:e})=>v.useContext(Fb)?T.createElement(T.Fragment,null,e):T.createElement(xY,null,e);wY.displayName="ReactFlowWrapper";const oGe={input:JK,default:VC,output:ZK,group:p2},lGe={default:u0,straight:f2,step:d2,smoothstep:zb,simplebezier:u2},cGe=[0,0],uGe=[15,15],dGe={x:0,y:0,zoom:1},fGe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},bY=v.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:a=oGe,edgeTypes:o=lGe,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:m,onConnectStart:g,onConnectEnd:p,onClickConnectStart:y,onClickConnectEnd:x,onNodeMouseEnter:w,onNodeMouseMove:j,onNodeMouseLeave:b,onNodeContextMenu:S,onNodeDoubleClick:N,onNodeDragStart:C,onNodeDrag:_,onNodeDragStop:k,onNodesDelete:P,onEdgesDelete:A,onSelectionChange:I,onSelectionDragStart:L,onSelectionDrag:E,onSelectionDragStop:R,onSelectionContextMenu:O,onSelectionStart:F,onSelectionEnd:D,connectionMode:M=jc.Strict,connectionLineType:$=So.Bezier,connectionLineStyle:z,connectionLineComponent:W,connectionLineContainerStyle:H,deleteKeyCode:V="Backspace",selectionKeyCode:te="Shift",selectionOnDrag:ne=!1,selectionMode:X=Np.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:Z=l0()?"Meta":"Control",zoomActivationKeyCode:ae=l0()?"Meta":"Control",snapToGrid:ce=!1,snapGrid:q=uGe,onlyRenderVisibleElements:be=!1,selectNodesOnDrag:Se=!0,nodesDraggable:Ae,nodesConnectable:Q,nodesFocusable:me,nodeOrigin:J=cGe,edgesFocusable:_e,edgesUpdatable:rt,elementsSelectable:_t,defaultViewport:Bn=dGe,minZoom:pn=.5,maxZoom:tr=2,translateExtent:Qs=qC,preventScrolling:Xr=!0,nodeExtent:nr,defaultMarkerColor:Zs="#b1b1b7",zoomOnScroll:gr=!0,zoomOnPinch:Ia=!0,panOnScroll:nn=!1,panOnScrollSpeed:rr=.5,panOnScrollMode:Re=Hl.Free,zoomOnDoubleClick:lt=!0,panOnDrag:pt=!0,onPaneClick:zt,onPaneMouseEnter:zn,onPaneMouseMove:de,onPaneMouseLeave:gt,onPaneScroll:st,onPaneContextMenu:Ir,children:Jr,onEdgeContextMenu:Ns,onEdgeDoubleClick:Vb,onEdgeMouseEnter:MY,onEdgeMouseMove:RY,onEdgeMouseLeave:$Y,onEdgeUpdate:LY,onEdgeUpdateStart:FY,onEdgeUpdateEnd:BY,onReconnect:zY,onReconnectStart:WY,onReconnectEnd:VY,reconnectRadius:UY=10,edgeUpdaterRadius:qY=10,onNodesChange:HY,onEdgesChange:GY,noDragClassName:KY="nodrag",noWheelClassName:YY="nowheel",noPanClassName:x2="nopan",fitView:XY=!1,fitViewOptions:JY,connectOnClick:QY=!0,attributionPosition:ZY,proOptions:eX,defaultEdgeOptions:tX,elevateNodesOnSelect:nX=!0,elevateEdgesOnSelect:rX=!1,disableKeyboardA11y:w2=!1,autoPanOnConnect:sX=!0,autoPanOnNodeDrag:aX=!0,connectionRadius:iX=20,isValidConnection:oX,onError:lX,style:cX,id:b2,nodeDragThreshold:uX,...dX},fX)=>{const Ub=b2||"1";return T.createElement("div",{...dX,style:{...cX,...fGe},ref:fX,className:er(["react-flow",s]),"data-testid":"rf__wrapper",id:b2},T.createElement(wY,null,T.createElement(aGe,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:w,onNodeMouseMove:j,onNodeMouseLeave:b,onNodeContextMenu:S,onNodeDoubleClick:N,nodeTypes:a,edgeTypes:o,connectionLineType:$,connectionLineStyle:z,connectionLineComponent:W,connectionLineContainerStyle:H,selectionKeyCode:te,selectionOnDrag:ne,selectionMode:X,deleteKeyCode:V,multiSelectionKeyCode:Z,panActivationKeyCode:ee,zoomActivationKeyCode:ae,onlyRenderVisibleElements:be,selectNodesOnDrag:Se,defaultViewport:Bn,translateExtent:Qs,minZoom:pn,maxZoom:tr,preventScrolling:Xr,zoomOnScroll:gr,zoomOnPinch:Ia,zoomOnDoubleClick:lt,panOnScroll:nn,panOnScrollSpeed:rr,panOnScrollMode:Re,panOnDrag:pt,onPaneClick:zt,onPaneMouseEnter:zn,onPaneMouseMove:de,onPaneMouseLeave:gt,onPaneScroll:st,onPaneContextMenu:Ir,onSelectionContextMenu:O,onSelectionStart:F,onSelectionEnd:D,onEdgeContextMenu:Ns,onEdgeDoubleClick:Vb,onEdgeMouseEnter:MY,onEdgeMouseMove:RY,onEdgeMouseLeave:$Y,onReconnect:zY??LY,onReconnectStart:WY??FY,onReconnectEnd:VY??BY,reconnectRadius:UY??qY,defaultMarkerColor:Zs,noDragClassName:KY,noWheelClassName:YY,noPanClassName:x2,elevateEdgesOnSelect:rX,rfId:Ub,disableKeyboardA11y:w2,nodeOrigin:J,nodeExtent:nr}),T.createElement(nHe,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:g,onConnectEnd:p,onClickConnectStart:y,onClickConnectEnd:x,nodesDraggable:Ae,nodesConnectable:Q,nodesFocusable:me,edgesFocusable:_e,edgesUpdatable:rt,elementsSelectable:_t,elevateNodesOnSelect:nX,minZoom:pn,maxZoom:tr,nodeExtent:nr,onNodesChange:HY,onEdgesChange:GY,snapToGrid:ce,snapGrid:q,connectionMode:M,translateExtent:Qs,connectOnClick:QY,defaultEdgeOptions:tX,fitView:XY,fitViewOptions:JY,onNodesDelete:P,onEdgesDelete:A,onNodeDragStart:C,onNodeDrag:_,onNodeDragStop:k,onSelectionDrag:E,onSelectionDragStart:L,onSelectionDragStop:R,noPanClassName:x2,nodeOrigin:J,rfId:Ub,autoPanOnConnect:sX,autoPanOnNodeDrag:aX,onError:lX,connectionRadius:iX,isValidConnection:oX,nodeDragThreshold:uX}),T.createElement(eHe,{onSelectionChange:I}),Jr,T.createElement(A7e,{proOptions:eX,position:ZY}),T.createElement(oHe,{rfId:Ub,disableKeyboardA11y:w2})))});bY.displayName="ReactFlow";function jY(e){return t=>{const[n,r]=v.useState(t),s=v.useCallback(a=>r(o=>e(a,o)),[]);return[n,r,s]}}const hGe=jY(oY),mGe=jY(bHe),SY=({id:e,x:t,y:n,width:r,height:s,style:a,color:o,strokeColor:l,strokeWidth:c,className:u,borderRadius:d,shapeRendering:f,onClick:h,selected:m})=>{const{background:g,backgroundColor:p}=a||{},y=o||g||p;return T.createElement("rect",{className:er(["react-flow__minimap-node",{selected:m},u]),x:t,y:n,rx:d,ry:d,width:r,height:s,fill:y,stroke:l,strokeWidth:c,shapeRendering:f,onClick:h?x=>h(x,e):void 0})};SY.displayName="MiniMapNode";var pGe=v.memo(SY);const gGe=e=>e.nodeOrigin,vGe=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),eS=e=>e instanceof Function?e:()=>e;function yGe({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:a=pGe,onClick:o}){const l=It(vGe,$n),c=It(gGe),u=eS(t),d=eS(e),f=eS(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return T.createElement(T.Fragment,null,l.map(m=>{const{x:g,y:p}=ec(m,c).positionAbsolute;return T.createElement(a,{key:m.id,x:g,y:p,width:m.width,height:m.height,style:m.style,selected:m.selected,className:f(m),color:u(m),borderRadius:r,strokeColor:d(m),strokeWidth:s,shapeRendering:h,onClick:o,id:m.id})}))}var xGe=v.memo(yGe);const wGe=200,bGe=150,jGe=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?O7e(Wb(t,e.nodeOrigin),n):n,rfId:e.rfId}},SGe="react-flow__minimap-desc";function NY({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:a=5,nodeStrokeWidth:o=2,nodeComponent:l,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:f="bottom-right",onClick:h,onNodeClick:m,pannable:g=!1,zoomable:p=!1,ariaLabel:y="React Flow mini map",inversePan:x=!1,zoomStep:w=10,offsetScale:j=5}){const b=_n(),S=v.useRef(null),{boundingRect:N,viewBB:C,rfId:_}=It(jGe,$n),k=(e==null?void 0:e.width)??wGe,P=(e==null?void 0:e.height)??bGe,A=N.width/k,I=N.height/P,L=Math.max(A,I),E=L*k,R=L*P,O=j*L,F=N.x-(E-N.width)/2-O,D=N.y-(R-N.height)/2-O,M=E+O*2,$=R+O*2,z=`${SGe}-${_}`,W=v.useRef(0);W.current=L,v.useEffect(()=>{if(S.current){const te=Ms(S.current),ne=Z=>{const{transform:ae,d3Selection:ce,d3Zoom:q}=b.getState();if(Z.sourceEvent.type!=="wheel"||!ce||!q)return;const be=-Z.sourceEvent.deltaY*(Z.sourceEvent.deltaMode===1?.05:Z.sourceEvent.deltaMode?1:.002)*w,Se=ae[2]*Math.pow(2,be);q.scaleTo(ce,Se)},X=Z=>{const{transform:ae,d3Selection:ce,d3Zoom:q,translateExtent:be,width:Se,height:Ae}=b.getState();if(Z.sourceEvent.type!=="mousemove"||!ce||!q)return;const Q=W.current*Math.max(1,ae[2])*(x?-1:1),me={x:ae[0]-Z.sourceEvent.movementX*Q,y:ae[1]-Z.sourceEvent.movementY*Q},J=[[0,0],[Se,Ae]],_e=Oi.translate(me.x,me.y).scale(ae[2]),rt=q.constrain()(_e,J,be);q.transform(ce,rt)},ee=kK().on("zoom",g?X:null).on("zoom.wheel",p?ne:null);return te.call(ee),()=>{te.on("zoom",null)}}},[g,p,x,w]);const H=h?te=>{const ne=ua(te);h(te,{x:ne[0],y:ne[1]})}:void 0,V=m?(te,ne)=>{const X=b.getState().nodeInternals.get(ne);m(te,X)}:void 0;return T.createElement(Bb,{position:f,style:e,className:er(["react-flow__minimap",t]),"data-testid":"rf__minimap"},T.createElement("svg",{width:k,height:P,viewBox:`${F} ${D} ${M} ${$}`,role:"img","aria-labelledby":z,ref:S,onClick:H},y&&T.createElement("title",{id:z},y),T.createElement(xGe,{onClick:V,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:l}),T.createElement("path",{className:"react-flow__minimap-mask",d:`M${F-O},${D-O}h${M+O*2}v${$+O*2}h${-M-O*2}z
        M${C.x},${C.y}h${C.width}v${C.height}h${-C.width}z`,fill:c,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}NY.displayName="MiniMap";var NGe=v.memo(NY);function _Ge(){return T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},T.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function CGe(){return T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},T.createElement("path",{d:"M0 0h32v4.2H0z"}))}function EGe(){return T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},T.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function kGe(){return T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},T.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function AGe(){return T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},T.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const uh=({children:e,className:t,...n})=>T.createElement("button",{type:"button",className:er(["react-flow__controls-button",t]),...n},e);uh.displayName="ControlButton";const PGe=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),_Y=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const h=_n(),[m,g]=v.useState(!1),{isInteractive:p,minZoomReached:y,maxZoomReached:x}=It(PGe,$n),{zoomIn:w,zoomOut:j,fitView:b}=g2();if(v.useEffect(()=>{g(!0)},[]),!m)return null;const S=()=>{w(),a==null||a()},N=()=>{j(),o==null||o()},C=()=>{b(s),l==null||l()},_=()=>{h.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),c==null||c(!p)};return T.createElement(Bb,{className:er(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&T.createElement(T.Fragment,null,T.createElement(uh,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},T.createElement(_Ge,null)),T.createElement(uh,{onClick:N,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y},T.createElement(CGe,null))),n&&T.createElement(uh,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view"},T.createElement(EGe,null)),r&&T.createElement(uh,{className:"react-flow__controls-interactive",onClick:_,title:"toggle interactivity","aria-label":"toggle interactivity"},p?T.createElement(AGe,null):T.createElement(kGe,null)),d)};_Y.displayName="Controls";var TGe=v.memo(_Y),wa;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(wa||(wa={}));function OGe({color:e,dimensions:t,lineWidth:n}){return T.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function IGe({color:e,radius:t}){return T.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const DGe={[wa.Dots]:"#91919a",[wa.Lines]:"#eee",[wa.Cross]:"#e2e2e2"},MGe={[wa.Dots]:1,[wa.Lines]:1,[wa.Cross]:6},RGe=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function CY({id:e,variant:t=wa.Dots,gap:n=20,size:r,lineWidth:s=1,offset:a=2,color:o,style:l,className:c}){const u=v.useRef(null),{transform:d,patternId:f}=It(RGe,$n),h=o||DGe[t],m=r||MGe[t],g=t===wa.Dots,p=t===wa.Cross,y=Array.isArray(n)?n:[n,n],x=[y[0]*d[2]||1,y[1]*d[2]||1],w=m*d[2],j=p?[w,w]:x,b=g?[w/a,w/a]:[j[0]/a,j[1]/a];return T.createElement("svg",{className:er(["react-flow__background",c]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},T.createElement("pattern",{id:f+e,x:d[0]%x[0],y:d[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${b[0]},-${b[1]})`},g?T.createElement(IGe,{color:h,radius:w/a}):T.createElement(OGe,{dimensions:j,color:h,lineWidth:s})),T.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}CY.displayName="Background";var $Ge=v.memo(CY);const EY=v.memo(({data:e})=>{const n=(()=>{switch(e.config.triggerType){case"message_received":return qn;case"chatbot":return jr;default:return ds}})();return i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-blue-50 border-2 border-blue-200 min-w-[150px]",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(n,{className:"h-4 w-4 text-blue-600"}),i.jsx("div",{className:"text-sm font-medium text-blue-900",children:e.label})]}),e.config.triggerType&&i.jsx("div",{className:"text-xs text-blue-700 mt-1",children:e.config.triggerType.replace("_"," ")}),i.jsx(mn,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-blue-500"})]})});EY.displayName="TriggerNode";const kY=v.memo(({data:e})=>{const n=(()=>{switch(e.config.actionType){case"send_message":return qn;case"webhook":return Ik;case"move_stage":return Zoe;case"chatbot_response":return jr;case"text_classification":return zp;default:return tn}})();return i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-green-50 border-2 border-green-200 min-w-[150px]",children:[i.jsx(mn,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-green-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(n,{className:"h-4 w-4 text-green-600"}),i.jsx("div",{className:"text-sm font-medium text-green-900",children:e.label})]}),e.config.actionType&&i.jsx("div",{className:"text-xs text-green-700 mt-1",children:e.config.actionType.replace("_"," ")}),i.jsx(mn,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-green-500"})]})});kY.displayName="ActionNode";const AY=v.memo(({data:e})=>i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-purple-50 border-2 border-purple-200 min-w-[150px]",children:[i.jsx(mn,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-purple-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(C6,{className:"h-4 w-4 text-purple-600"}),i.jsx("div",{className:"text-sm font-medium text-purple-900",children:e.label})]}),e.config.field&&i.jsxs("div",{className:"text-xs text-purple-700 mt-1",children:[e.config.field," ",e.config.operator," ",e.config.value]}),i.jsx(mn,{type:"source",position:Ce.Right,id:"true",style:{top:"30%"},className:"w-3 h-3 bg-green-500"}),i.jsx(mn,{type:"source",position:Ce.Right,id:"false",style:{top:"70%"},className:"w-3 h-3 bg-red-500"})]}));AY.displayName="ConditionNode";const PY=v.memo(({data:e})=>i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-orange-50 border-2 border-orange-200 min-w-[150px]",children:[i.jsx(mn,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-orange-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Er,{className:"h-4 w-4 text-orange-600"}),i.jsx("div",{className:"text-sm font-medium text-orange-900",children:e.label})]}),e.config.duration&&i.jsxs("div",{className:"text-xs text-orange-700 mt-1",children:[e.config.duration," ",e.config.unit]}),i.jsx(mn,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-orange-500"})]}));PY.displayName="DelayNode";const TY=v.memo(({data:e})=>i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-indigo-50 border-2 border-indigo-200 min-w-[150px]",children:[i.jsx(mn,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-indigo-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ik,{className:"h-4 w-4 text-indigo-600"}),i.jsx("div",{className:"text-sm font-medium text-indigo-900",children:e.label})]}),e.config.url&&i.jsx("div",{className:"text-xs text-indigo-700 mt-1 truncate max-w-[200px]",children:e.config.url}),i.jsx(mn,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-indigo-500"})]}));TY.displayName="WebhookNode";const OY=v.memo(({data:e})=>i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-cyan-50 border-2 border-cyan-200 min-w-[150px]",children:[i.jsx(mn,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-cyan-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(jr,{className:"h-4 w-4 text-cyan-600"}),i.jsx("div",{className:"text-sm font-medium text-cyan-900",children:e.label})]}),e.config.model&&i.jsx("div",{className:"text-xs text-cyan-700 mt-1",children:e.config.model}),i.jsx(mn,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-cyan-500"})]}));OY.displayName="ChatbotNode";const IY=v.memo(({data:e})=>i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-pink-50 border-2 border-pink-200 min-w-[150px]",children:[i.jsx(mn,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-pink-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zp,{className:"h-4 w-4 text-pink-600"}),i.jsx("div",{className:"text-sm font-medium text-pink-900",children:e.label})]}),e.config.categories&&i.jsx("div",{className:"text-xs text-pink-700 mt-1",children:typeof e.config.categories=="string"?e.config.categories.split(",").slice(0,3).join(", ")+(e.config.categories.split(",").length>3?"...":""):"Classificador de texto"}),i.jsx(mn,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-pink-500"})]}));IY.displayName="ClassifierNode";const DY=v.memo(({data:e})=>i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-emerald-50 border-2 border-emerald-200 min-w-[150px]",children:[i.jsx(mn,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-emerald-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(jr,{className:"h-4 w-4 text-emerald-600"}),i.jsx("div",{className:"text-sm font-medium text-emerald-900",children:e.label})]}),e.config.agentName&&i.jsx("div",{className:"text-xs text-emerald-700 mt-1",children:e.config.agentName}),i.jsx(mn,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-emerald-500"})]}));DY.displayName="AgentNode";const LGe=[{type:"trigger",label:"Gatilho",icon:ds,description:"Inicia a automao",color:"text-blue-600"},{type:"action",label:"Ao",icon:qn,description:"Executa uma ao",color:"text-green-600"},{type:"condition",label:"Condio",icon:C6,description:"Adiciona lgica condicional",color:"text-purple-600"},{type:"delay",label:"Delay",icon:Er,description:"Adiciona um atraso",color:"text-orange-600"},{type:"webhook",label:"Webhook",icon:Ik,description:"Integrao com servios externos",color:"text-indigo-600"},{type:"chatbot",label:"Chatbot",icon:jr,description:"Resposta inteligente com IA",color:"text-cyan-600"},{type:"classifier",label:"Classificador",icon:zp,description:"Classifica texto com IA",color:"text-pink-600"},{type:"agent",label:"Agente IA",icon:Ga,description:"Resposta com perfil de agente",color:"text-emerald-600"}];function FGe({onAddNode:e}){return i.jsxs(re,{className:"w-64",children:[i.jsx(pe,{className:"pb-3",children:i.jsx(ge,{className:"text-sm",children:"Adicionar N"})}),i.jsx(se,{className:"space-y-2",children:i.jsx(zy,{children:LGe.map(t=>{const n=t.icon;return i.jsxs(Wy,{children:[i.jsx(Vy,{asChild:!0,children:i.jsxs(B,{variant:"outline",className:"w-full justify-start",onClick:()=>e(t.type),children:[i.jsx(n,{className:`h-4 w-4 mr-2 ${t.color}`}),t.label]})}),i.jsx(wm,{children:i.jsx("p",{children:t.description})})]},t.type)})})})]})}function BGe({onSelect:e}){const[t,n]=v.useState(""),s=[{name:"Nome do Cliente",description:"Nome completo do cliente",example:"Joo Silva",code:"{{client.name}}",category:"Cliente"},{name:"Email do Cliente",description:"Endereo de email do cliente",example:"joao.silva@exemplo.com",code:"{{client.email}}",category:"Cliente"},{name:"Telefone do Cliente",description:"Nmero de telefone do cliente",example:"(11) 98765-4321",code:"{{client.phone}}",category:"Cliente"},{name:"Nome da Fase",description:"Nome da fase atual no Kanban",example:"Qualificado",code:"{{stage.name}}",category:"Kanban"},{name:"Cor da Fase",description:"Cor da fase atual no Kanban",example:"#10b981",code:"{{stage.color}}",category:"Kanban"},{name:"Status do Lead",description:"Status atual do lead",example:"qualified",code:"{{lead.status}}",category:"Lead"},{name:"Origem do Lead",description:"Origem do lead",example:"website",code:"{{lead.source}}",category:"Lead"},{name:"Contedo da Mensagem",description:"Contedo da mensagem recebida",example:"Ol, gostaria de mais informaes",code:"{{message.content}}",category:"Mensagem"},{name:"Nome da Empresa",description:"Nome da sua empresa",example:"Minha Empresa",code:"{{company.name}}",category:"Empresa"},{name:"Telefone da Empresa",description:"Telefone de contato da empresa",example:"(11) 3333-4444",code:"{{company.phone}}",category:"Empresa"},{name:"Data Atual",description:"Data atual no formato DD/MM/AAAA",example:"01/06/2025",code:"{{date.today}}",category:"Data e Hora"},{name:"Hora Atual",description:"Hora atual no formato HH:MM",example:"14:30",code:"{{date.time}}",category:"Data e Hora"}].filter(o=>o.name.toLowerCase().includes(t.toLowerCase())||o.description.toLowerCase().includes(t.toLowerCase())||o.code.toLowerCase().includes(t.toLowerCase())||o.category.toLowerCase().includes(t.toLowerCase())),a={};return s.forEach(o=>{a[o.category]||(a[o.category]=[]),a[o.category].push(o)}),i.jsxs(op,{children:[i.jsx(lp,{asChild:!0,children:i.jsxs(B,{variant:"outline",size:"sm",children:[i.jsx(S6,{className:"h-4 w-4 mr-2"}),"Inserir Varivel"]})}),i.jsx(Pd,{className:"w-80",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ie,{placeholder:"Buscar variveis...",value:t,onChange:o=>n(o.target.value),className:"pl-8"})]}),i.jsx(fp,{className:"h-60",children:i.jsxs("div",{className:"space-y-4",children:[Object.entries(a).map(([o,l])=>i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:o}),i.jsx("div",{className:"space-y-2",children:l.map(c=>i.jsx(re,{className:"cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>e(c.code),children:i.jsxs(se,{className:"p-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:c.name}),i.jsx("p",{className:"text-xs text-gray-500",children:c.description})]}),i.jsx(fe,{variant:"outline",className:"text-xs",children:c.code})]}),i.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Exemplo:"})," ",c.example]})]})},c.code))})]},o)),s.length===0&&i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma varivel encontrada"})})]})})]})})]})}function HC({message:e,channel:t,previewData:n}){const s=n||{client:{name:"Joo Silva",email:"joao.silva@exemplo.com",phone:"(11) 98765-4321"},stage:{name:"Qualificado",color:"#10b981"},lead:{status:"qualified",source:"website"},message:{content:"Ol, gostaria de mais informaes"}},a=()=>{let u=e;return Object.entries(s).forEach(([d,f])=>{Object.entries(f).forEach(([h,m])=>{const g=new RegExp(`{{${d}\\.${h}}}`,"g");u=u.replace(g,m)})}),u},o=()=>{const u=a();return i.jsx("div",{className:"max-w-xs mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsxs("div",{className:"bg-green-600 text-white px-4 py-2 flex items-center",children:[i.jsx(qn,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"text-sm font-medium",children:"WhatsApp"})]}),i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"flex justify-end mb-4",children:i.jsxs("div",{className:"bg-green-100 text-gray-800 rounded-lg p-3 max-w-[80%]",children:[i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:u}),i.jsxs("div",{className:"flex justify-end mt-1",children:[i.jsx("span",{className:"text-xs text-gray-500",children:"12:30"}),i.jsx("span",{className:"text-xs text-green-600 ml-1",children:""})]})]})})})]})})},l=()=>{const u=a();return i.jsx("div",{className:"max-w-md mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"bg-blue-600 text-white px-4 py-2",children:i.jsx("h3",{className:"text-sm font-medium",children:"Assunto: Mensagem Automtica"})}),i.jsxs("div",{className:"p-4",children:[i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:u}),i.jsxs("div",{className:"mt-4 pt-4 border-t text-xs text-gray-500",children:[i.jsx("p",{children:"Enviado por OmniCRM"}),i.jsx("p",{children:"Para cancelar o recebimento, clique aqui"})]})]})]})})},c=()=>{const u=a();return i.jsx("div",{className:"max-w-xs mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"bg-purple-600 text-white px-4 py-2",children:i.jsx("span",{className:"text-sm font-medium",children:"SMS"})}),i.jsxs("div",{className:"p-4",children:[i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:u}),i.jsx("div",{className:"text-xs text-gray-500 mt-2",children:i.jsx("span",{children:"Enviado: 12:30"})})]})]})})};return i.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[t==="whatsapp"&&o(),t==="email"&&l(),t==="sms"&&c()]})}function zGe({value:e,onChange:t,channel:n}){const[r,s]=v.useState({client:{name:"Joo Silva",email:"joao.silva@exemplo.com",phone:"(11) 98765-4321"},stage:{name:"Qualificado",color:"#10b981"},lead:{status:"qualified",source:"website"},message:{content:"Ol, gostaria de mais informaes"}}),a=o=>{t(e+o)};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Y,{children:"Mensagem"}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx(BGe,{onSelect:a})})]}),i.jsx(vt,{value:e,onChange:o=>t(o.target.value),placeholder:"Digite sua mensagem... Use variveis como {{client.name}} para personalizar",rows:6}),i.jsxs(Jn,{defaultValue:"preview",children:[i.jsxs(Mn,{className:"grid w-full grid-cols-2",children:[i.jsxs(Fe,{value:"preview",children:[i.jsx(ki,{className:"h-4 w-4 mr-2"}),"Preview"]}),i.jsxs(Fe,{value:"variables",children:[i.jsx(S6,{className:"h-4 w-4 mr-2"}),"Variveis Usadas"]})]}),i.jsx(Ve,{value:"preview",className:"mt-2",children:i.jsx(HC,{message:e,channel:n,previewData:r})}),i.jsx(Ve,{value:"variables",className:"mt-2",children:i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Variveis Disponveis"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Nome do Cliente"}),i.jsx("p",{className:"text-xs text-gray-500",children:"{{client.name}}"})]}),i.jsxs("div",{className:"text-xs text-gray-600",children:["Valor: ",i.jsx("span",{className:"font-medium",children:"Joo Silva"})]})]}),i.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Email do Cliente"}),i.jsx("p",{className:"text-xs text-gray-500",children:"{{client.email}}"})]}),i.jsxs("div",{className:"text-xs text-gray-600",children:["Valor: ",i.jsx("span",{className:"font-medium",children:"joao.silva@exemplo.com"})]})]}),i.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Telefone do Cliente"}),i.jsx("p",{className:"text-xs text-gray-500",children:"{{client.phone}}"})]}),i.jsxs("div",{className:"text-xs text-gray-600",children:["Valor: ",i.jsx("span",{className:"font-medium",children:"(11) 98765-4321"})]})]}),i.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Nome da Fase"}),i.jsx("p",{className:"text-xs text-gray-500",children:"{{stage.name}}"})]}),i.jsxs("div",{className:"text-xs text-gray-600",children:["Valor: ",i.jsx("span",{className:"font-medium",children:"Qualificado"})]})]})]})]})})]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[i.jsx("p",{children:"Dicas:"}),i.jsxs("ul",{className:"list-disc pl-4 space-y-1 mt-1",children:[i.jsxs("li",{children:["Use ",i.jsxs("code",{children:["{","{","client.name","}","}"]})," para inserir o nome do cliente"]}),i.jsx("li",{children:"Pressione Enter para quebrar linhas"}),i.jsx("li",{children:"Emojis so suportados "})]})]})]})}function WGe({node:e,onUpdate:t,onDelete:n,onClose:r}){const[s,a]=v.useState(e.data.config||{}),[o,l]=v.useState(e.data.label||""),{sectors:c}=mb(),{agents:u,fetchAgents:d}=KG();v.useEffect(()=>{e.type==="agent"&&d()},[e.type,d]);const f=()=>{t({config:s,label:o})},h=()=>{switch(s.triggerType){case"new_lead":return i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(Y,{children:"Origem do Lead (Opcional)"}),i.jsxs(Oe,{value:s.source||"any",onValueChange:b=>a({...s,source:b==="any"?void 0:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Qualquer origem"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"any",children:"Qualquer origem"}),i.jsx(K,{value:"website",children:"Website"}),i.jsx(K,{value:"social_media",children:"Redes Sociais"}),i.jsx(K,{value:"referral",children:"Indicao"}),i.jsx(K,{value:"advertising",children:"Publicidade"})]})]})]})});case"stage_change":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Fase de Origem"}),i.jsx(ie,{value:s.fromStage||"",onChange:b=>a({...s,fromStage:b.target.value}),placeholder:"Qualquer fase"})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Fase de Destino"}),i.jsx(ie,{value:s.toStage||"",onChange:b=>a({...s,toStage:b.target.value}),placeholder:"Qualquer fase"})]})]});case"message_received":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Canal"}),i.jsxs(Oe,{value:s.channel||"any",onValueChange:b=>a({...s,channel:b==="any"?void 0:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Qualquer canal"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"any",children:"Qualquer canal"}),i.jsx(K,{value:"whatsapp",children:"WhatsApp"}),i.jsx(K,{value:"email",children:"Email"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Palavras-chave (Opcional)"}),i.jsx(ie,{value:s.keywords||"",onChange:b=>a({...s,keywords:b.target.value}),placeholder:"palavra1, palavra2"})]})]});case"webhook":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"URL do Webhook"}),i.jsx(ie,{value:s.webhookUrl||"",onChange:b=>a({...s,webhookUrl:b.target.value}),placeholder:"https://exemplo.com/webhook"})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Mtodo"}),i.jsxs(Oe,{value:s.method||"POST",onValueChange:b=>a({...s,method:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"POST",children:"POST"}),i.jsx(K,{value:"GET",children:"GET"}),i.jsx(K,{value:"PUT",children:"PUT"})]})]})]})]});default:return i.jsxs("div",{children:[i.jsx(Y,{children:"Tipo de Gatilho"}),i.jsxs(Oe,{value:s.triggerType||"",onValueChange:b=>a({...s,triggerType:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um gatilho"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"new_lead",children:"Novo Lead"}),i.jsx(K,{value:"stage_change",children:"Mudana de Fase"}),i.jsx(K,{value:"message_received",children:"Mensagem Recebida"}),i.jsx(K,{value:"webhook",children:"Webhook"}),i.jsx(K,{value:"time_based",children:"Baseado em Tempo"}),i.jsx(K,{value:"chatbot",children:"Chatbot"})]})]})]})}},m=()=>{switch(s.actionType){case"send_message":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Canal"}),i.jsxs(Oe,{value:s.channel||"whatsapp",onValueChange:b=>a({...s,channel:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"whatsapp",children:"WhatsApp"}),i.jsx(K,{value:"email",children:"Email"}),i.jsx(K,{value:"sms",children:"SMS"})]})]})]}),i.jsx(zGe,{value:s.message||"",onChange:b=>a({...s,message:b}),channel:s.channel||"whatsapp"}),i.jsxs("div",{children:[i.jsx(Y,{children:"Delay (segundos)"}),i.jsx(ie,{type:"number",value:s.delay||0,onChange:b=>a({...s,delay:parseInt(b.target.value)}),min:"0"})]})]});case"move_stage":return i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(Y,{children:"Nova Fase"}),i.jsx(ie,{value:s.targetStage||"",onChange:b=>a({...s,targetStage:b.target.value}),placeholder:"Nome da fase de destino"})]})});case"move_sector":return i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(Y,{children:"Setor de Destino"}),i.jsxs(Oe,{value:s.sector||"",onValueChange:b=>a({...s,sector:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um setor"})}),i.jsx(Te,{children:c.map(b=>i.jsx(K,{value:b.id,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:b.color}}),b.name]})},b.id))})]})]})});case"webhook":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"URL"}),i.jsx(ie,{value:s.url||"",onChange:b=>a({...s,url:b.target.value}),placeholder:"https://hooks.n8n.cloud/webhook/your-id"})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Mtodo"}),i.jsxs(Oe,{value:s.method||"POST",onValueChange:b=>a({...s,method:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"POST",children:"POST"}),i.jsx(K,{value:"GET",children:"GET"}),i.jsx(K,{value:"PUT",children:"PUT"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Headers (JSON)"}),i.jsx(ie,{value:typeof s.headers=="string"?s.headers:JSON.stringify(s.headers||{"Content-Type":"application/json"}),onChange:b=>a({...s,headers:b.target.value}),placeholder:'{"Content-Type": "application/json"}'})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Body (JSON)"}),i.jsx(ie,{value:typeof s.body=="string"?s.body:JSON.stringify(s.body||{client:"{{client}}",event:"automation"}),onChange:b=>a({...s,body:b.target.value}),placeholder:'{"client": "{{client}}", "event": "automation"}'})]})]});case"chatbot_response":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Modelo"}),i.jsxs(Oe,{value:s.model||"gpt-3.5-turbo",onValueChange:b=>a({...s,model:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),i.jsx(K,{value:"gpt-4",children:"GPT-4"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Prompt do Sistema"}),i.jsx(vt,{value:s.systemPrompt||"Voc  um assistente virtual para atendimento ao cliente.",onChange:b=>a({...s,systemPrompt:b.target.value}),rows:4})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Temperatura (Criatividade)"}),i.jsx(Md,{value:[s.temperature||.7],onValueChange:b=>a({...s,temperature:b[0]}),max:1,min:0,step:.1,className:"mt-2"})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Transferir para humano se no souber responder"}),i.jsx(Br,{checked:s.transferIfUnsure||!1,onCheckedChange:b=>a({...s,transferIfUnsure:b})})]})]});case"text_classification":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Categorias (separadas por vrgula)"}),i.jsx(ie,{value:s.categories||"suporte, vendas, informaes, reclamao, elogio",onChange:b=>a({...s,categories:b.target.value}),placeholder:"suporte, vendas, informaes..."})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Modelo"}),i.jsxs(Oe,{value:s.model||"gpt-3.5-turbo",onValueChange:b=>a({...s,model:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),i.jsx(K,{value:"gpt-4",children:"GPT-4"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Ao baseada na categoria"}),i.jsxs(Oe,{value:s.actionOnCategory||"move_sector",onValueChange:b=>a({...s,actionOnCategory:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"move_sector",children:"Mover para Setor"}),i.jsx(K,{value:"tag",children:"Adicionar Tag"}),i.jsx(K,{value:"notify",children:"Notificar"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Mapeamento de Categorias (JSON)"}),i.jsx(vt,{value:typeof s.categoryMapping=="string"?s.categoryMapping:JSON.stringify(s.categoryMapping||{suporte:"setor_suporte_id",vendas:"setor_vendas_id"},null,2),onChange:b=>a({...s,categoryMapping:b.target.value}),rows:4,placeholder:'{"suporte": "setor_suporte_id", "vendas": "setor_vendas_id"}'})]})]});case"agent_response":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Selecionar Agente"}),i.jsxs(Oe,{value:s.agentId||"",onValueChange:b=>{const S=u.find(N=>N.id===b);a({...s,agentId:b,agentName:(S==null?void 0:S.name)||"",agentRole:(S==null?void 0:S.role)||""})},children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um agente"})}),i.jsx(Te,{children:u.map(b=>i.jsxs(K,{value:b.id,children:[b.name," (",b.role,")"]},b.id))})]}),u.length===0&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Nenhum agente disponvel. Crie agentes na configurao OpenAI."})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Canal de Resposta"}),i.jsxs(Oe,{value:s.channel||"whatsapp",onValueChange:b=>a({...s,channel:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"whatsapp",children:"WhatsApp"}),i.jsx(K,{value:"email",children:"Email"}),i.jsx(K,{value:"sms",children:"SMS"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Contexto Adicional (Opcional)"}),i.jsx(vt,{value:s.additionalContext||"",onChange:b=>a({...s,additionalContext:b.target.value}),placeholder:"Informaes adicionais para o agente...",rows:3}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Informaes que sero includas no prompt do agente para contextualizar a resposta."})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Delay (segundos)"}),i.jsx(ie,{type:"number",value:s.delay||0,onChange:b=>a({...s,delay:parseInt(b.target.value)}),min:"0"})]})]});default:return i.jsxs("div",{children:[i.jsx(Y,{children:"Tipo de Ao"}),i.jsxs(Oe,{value:s.actionType||"",onValueChange:b=>a({...s,actionType:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione uma ao"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"send_message",children:"Enviar Mensagem"}),i.jsx(K,{value:"move_stage",children:"Mover Fase"}),i.jsx(K,{value:"move_sector",children:"Mover para Setor"}),i.jsx(K,{value:"webhook",children:"Webhook"}),i.jsx(K,{value:"create_task",children:"Criar Tarefa"}),i.jsx(K,{value:"add_tag",children:"Adicionar Tag"}),i.jsx(K,{value:"chatbot_response",children:"Resposta de Chatbot"}),i.jsx(K,{value:"text_classification",children:"Classificao de Texto"}),i.jsx(K,{value:"agent_response",children:"Resposta de Agente"})]})]})]})}},g=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Campo"}),i.jsxs(Oe,{value:s.field||"",onValueChange:b=>a({...s,field:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um campo"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"client.name",children:"Nome do Cliente"}),i.jsx(K,{value:"client.email",children:"Email do Cliente"}),i.jsx(K,{value:"client.phone",children:"Telefone do Cliente"}),i.jsx(K,{value:"client.tags",children:"Tags do Cliente"}),i.jsx(K,{value:"lead.status",children:"Status do Lead"}),i.jsx(K,{value:"lead.source",children:"Origem do Lead"}),i.jsx(K,{value:"message.content",children:"Contedo da Mensagem"}),i.jsx(K,{value:"time",children:"Horrio"}),i.jsx(K,{value:"chatbot.intent",children:"Inteno do Chatbot"}),i.jsx(K,{value:"classification.category",children:"Categoria da Classificao"}),i.jsx(K,{value:"agent.response",children:"Resposta do Agente"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Operador"}),i.jsxs(Oe,{value:s.operator||"",onValueChange:b=>a({...s,operator:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um operador"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"equals",children:"Igual a"}),i.jsx(K,{value:"not_equals",children:"Diferente de"}),i.jsx(K,{value:"contains",children:"Contm"}),i.jsx(K,{value:"not_contains",children:"No contm"}),i.jsx(K,{value:"greater_than",children:"Maior que"}),i.jsx(K,{value:"less_than",children:"Menor que"}),i.jsx(K,{value:"exists",children:"Existe"}),i.jsx(K,{value:"not_exists",children:"No existe"}),i.jsx(K,{value:"outside_business_hours",children:"Fora do Horrio Comercial"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Valor"}),i.jsx(ie,{value:s.value||"",onChange:b=>a({...s,value:b.target.value}),placeholder:"Valor para comparao"})]})]}),p=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Durao"}),i.jsx(ie,{type:"number",value:s.duration||1,onChange:b=>a({...s,duration:parseInt(b.target.value)}),min:"1"})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Unidade"}),i.jsxs(Oe,{value:s.unit||"minutes",onValueChange:b=>a({...s,unit:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"seconds",children:"Segundos"}),i.jsx(K,{value:"minutes",children:"Minutos"}),i.jsx(K,{value:"hours",children:"Horas"}),i.jsx(K,{value:"days",children:"Dias"})]})]})]})]}),y=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Modelo"}),i.jsxs(Oe,{value:s.model||"gpt-3.5-turbo",onValueChange:b=>a({...s,model:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),i.jsx(K,{value:"gpt-4",children:"GPT-4"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Prompt do Sistema"}),i.jsx(vt,{value:s.systemPrompt||"Voc  um assistente virtual para atendimento ao cliente.",onChange:b=>a({...s,systemPrompt:b.target.value}),rows:4})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Temperatura (Criatividade)"}),i.jsx(Md,{value:[s.temperature||.7],onValueChange:b=>a({...s,temperature:b[0]}),max:1,min:0,step:.1,className:"mt-2"}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[i.jsx("span",{children:"Mais conservador"}),i.jsx("span",{children:"Mais criativo"})]})]})]}),x=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Categorias (separadas por vrgula)"}),i.jsx(ie,{value:s.categories||"suporte, vendas, informaes, reclamao, elogio",onChange:b=>a({...s,categories:b.target.value}),placeholder:"suporte, vendas, informaes..."})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Modelo"}),i.jsxs(Oe,{value:s.model||"gpt-3.5-turbo",onValueChange:b=>a({...s,model:b}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),i.jsx(K,{value:"gpt-4",children:"GPT-4"})]})]})]})]}),w=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Selecionar Agente"}),i.jsxs(Oe,{value:s.agentId||"",onValueChange:b=>{const S=u.find(N=>N.id===b);a({...s,agentId:b,agentName:(S==null?void 0:S.name)||"",agentRole:(S==null?void 0:S.role)||""})},children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um agente"})}),i.jsx(Te,{children:u.map(b=>i.jsxs(K,{value:b.id,children:[b.name," (",b.role,")"]},b.id))})]}),u.length===0&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Nenhum agente disponvel. Crie agentes na configurao OpenAI."})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Contexto Adicional (Opcional)"}),i.jsx(vt,{value:s.additionalContext||"",onChange:b=>a({...s,additionalContext:b.target.value}),placeholder:"Informaes adicionais para o agente...",rows:3}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Informaes que sero includas no prompt do agente para contextualizar a resposta."})]})]}),j=()=>{switch(e.type){case"trigger":return h();case"action":return m();case"condition":return g();case"delay":return p();case"chatbot":return y();case"classifier":return x();case"agent":return w();default:return i.jsx("div",{children:"Configurao no disponvel"})}};return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Configurar N"}),i.jsx(B,{variant:"ghost",size:"sm",onClick:r,children:i.jsx($a,{className:"h-4 w-4"})})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Nome do N"}),i.jsx(ie,{value:o,onChange:b=>l(b.target.value),placeholder:"Nome descritivo"})]}),i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsx(ge,{className:"text-sm",children:"Configuraes"})}),i.jsx(se,{children:j()})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(B,{onClick:f,className:"flex-1",children:[i.jsx(P6,{className:"h-4 w-4 mr-2"}),"Salvar"]}),i.jsx(B,{variant:"destructive",onClick:n,children:i.jsx(Ks,{className:"h-4 w-4"})})]})]})]})}function VGe({workflow:e,onTest:t}){const[n,r]=v.useState(!1),[s,a]=v.useState(!1),[o,l]=v.useState(0),[c,u]=v.useState(!1),d=e.workflow_data.nodes.filter(m=>m.type==="action"&&m.data.config.actionType==="send_message"),f=async()=>{a(!0),l(0),u(!1);const m=d.length;for(let g=0;g<m;g++)await new Promise(p=>setTimeout(p,1500)),l(g+1);await new Promise(g=>setTimeout(g,1e3)),u(!0),a(!1);try{await t()}catch(g){console.error("Error testing workflow:",g)}},h=()=>{r(!1),l(0),u(!1)};return i.jsxs(ot,{open:n,onOpenChange:r,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(Jl,{className:"h-4 w-4 mr-2"}),"Testar"]})}),i.jsxs(et,{className:"max-w-3xl",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Testar Automao"}),i.jsx(ft,{children:"Execute um teste da automao para ver como ela funcionar"})]}),i.jsxs(Jn,{defaultValue:"preview",children:[i.jsxs(Mn,{className:"grid w-full grid-cols-2",children:[i.jsx(Fe,{value:"preview",children:"Visualizao"}),i.jsx(Fe,{value:"execution",children:"Execuo"})]}),i.jsx(Ve,{value:"preview",className:"space-y-4 mt-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Fluxo de Mensagens"}),d.length>0?i.jsx("div",{className:"space-y-6",children:d.map((m,g)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(fe,{variant:"outline",className:"text-xs",children:["Passo ",g+1]}),i.jsx("h4",{className:"text-sm font-medium",children:m.data.label})]}),i.jsx(HC,{message:m.data.config.message||"",channel:m.data.config.channel||"whatsapp"}),g<d.length-1&&i.jsx("div",{className:"flex justify-center my-2",children:i.jsx(Xl,{className:"h-5 w-5 text-gray-400"})})]},m.id))}):i.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[i.jsx(qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Nenhuma mensagem configurada nesta automao"})]})]})}),i.jsxs(Ve,{value:"execution",className:"space-y-4 mt-4",children:[i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{className:"text-lg",children:"Simulao de Execuo"})}),i.jsx(se,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-4",children:[d.map((m,g)=>i.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg border ${o>g?"bg-green-50 border-green-200":o===g&&s?"bg-blue-50 border-blue-200 animate-pulse":"bg-gray-50 border-gray-200"}`,children:[i.jsx("div",{className:"flex-shrink-0",children:o>g?i.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx($s,{className:"h-4 w-4 text-green-600"})}):o===g&&s?i.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-blue-600 border-t-transparent animate-spin"})}):i.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-medium text-gray-600",children:g+1})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:m.data.label}),i.jsx("p",{className:"text-xs text-gray-500",children:m.data.config.channel==="whatsapp"?"WhatsApp":m.data.config.channel==="email"?"Email":"SMS"})]}),i.jsxs("div",{children:[o>g&&i.jsx(fe,{variant:"outline\\",className:"bg-green-50 text-green-700 border-green-200",children:"Concludo"}),o===g&&s&&i.jsx(fe,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Executando"}),o<g&&i.jsx(fe,{variant:"outline",className:"bg-gray-50 text-gray-500 border-gray-200",children:"Pendente"})]})]},m.id)),c&&i.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:[i.jsx($s,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),i.jsx("h3",{className:"text-lg font-medium text-green-800 mb-1",children:"Teste Concludo com Sucesso!"}),i.jsx("p",{className:"text-sm text-green-700",children:"Todos os passos da automao foram executados corretamente."})]}),d.length===0&&i.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[i.jsx(qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Nenhuma mensagem configurada nesta automao"})]})]})})]}),d.length>0&&o>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Mensagem Enviada"}),i.jsx(HC,{message:d[Math.min(o-1,d.length-1)].data.config.message||"",channel:d[Math.min(o-1,d.length-1)].data.config.channel||"whatsapp"})]})]})]}),i.jsxs(yt,{className:"flex justify-between",children:[i.jsx(B,{variant:"outline",onClick:h,children:"Fechar"}),d.length>0&&i.jsx(B,{onClick:f,disabled:s,children:s?"Executando...":c?"Executar Novamente":"Executar Teste"})]})]})]})}const mg=ka((e,t)=>({workflows:[],templates:[],executions:[],currentWorkflow:null,loading:!1,fetchWorkflows:async()=>{await G.handleAsync(async()=>{const n=je.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("automation_workflows").select("*").eq("workspace_id",n.id).order("updated_at",{ascending:!1});if(s)throw s;e({workflows:r||[]})})},fetchTemplates:async()=>{await G.handleAsync(async()=>{const{data:n,error:r}=await U.from("automation_templates").select("*").eq("is_public",!0).order("created_at",{ascending:!1});if(r)throw r;e({templates:n||[]})})},fetchExecutions:async n=>{await G.handleAsync(async()=>{let r=U.from("automation_executions").select(`
          *,
          workflow:automation_workflows(name),
          client:clients(name),
          conversation:conversations(*)
        `).order("started_at",{ascending:!1}).limit(100);if(n)r=r.eq("workflow_id",n);else{if(!je.getState().currentWorkspace)return;r=r.in("workflow_id",t().workflows.map(l=>l.id))}const{data:s,error:a}=await r;if(a)throw a;e({executions:s||[]})})},createWorkflow:async n=>await G.handleAsync(async()=>{const r=je.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");let s={nodes:[],connections:[],viewport:{x:0,y:0,zoom:1}};if(n.template_id){const u=t().templates.find(d=>d.id===n.template_id);u&&(s=u.template_data)}const{template_id:a,...o}=n,{data:l,error:c}=await U.from("automation_workflows").insert({...o,workspace_id:r.id,workflow_data:s,trigger_type:"event_based"}).select().single();if(c)throw c;return t().fetchWorkflows(),G.showSuccess("Automao criada com sucesso!"),l})||null,updateWorkflow:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("automation_workflows").update({...r,updated_at:new Date().toISOString()}).eq("id",n);if(s)throw s;t().fetchWorkflows();const a=t().currentWorkflow;(a==null?void 0:a.id)===n&&e({currentWorkflow:{...a,...r}}),G.showSuccess("Automao atualizada com sucesso!")})},deleteWorkflow:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("automation_workflows").delete().eq("id",n);if(r)throw r;const s=t().currentWorkflow;(s==null?void 0:s.id)===n&&e({currentWorkflow:null}),t().fetchWorkflows(),G.showSuccess("Automao deletada com sucesso!")})},setCurrentWorkflow:n=>{e({currentWorkflow:n})},updateWorkflowData:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("automation_workflows").update({workflow_data:r,updated_at:new Date().toISOString()}).eq("id",n);if(s)throw s;const a=t().currentWorkflow;(a==null?void 0:a.id)===n&&e({currentWorkflow:{...a,workflow_data:r}})})},addNode:async(n,r)=>{await G.handleAsync(async()=>{const s=t().currentWorkflow;if(!s||s.id!==n)return;const a={...s.workflow_data,nodes:[...s.workflow_data.nodes||[],r]};await t().updateWorkflowData(n,a)})},updateNode:async(n,r,s)=>{await G.handleAsync(async()=>{const a=t().currentWorkflow;if(!a||a.id!==n)return;const o={...a.workflow_data,nodes:(a.workflow_data.nodes||[]).map(l=>l.id===r?{...l,...s}:l)};await t().updateWorkflowData(n,o)})},deleteNode:async(n,r)=>{await G.handleAsync(async()=>{const s=t().currentWorkflow;if(!s||s.id!==n)return;const a={...s.workflow_data,nodes:(s.workflow_data.nodes||[]).filter(o=>o.id!==r),connections:(s.workflow_data.connections||[]).filter(o=>o.source!==r&&o.target!==r)};await t().updateWorkflowData(n,a)})},addConnection:async(n,r)=>{await G.handleAsync(async()=>{const s=t().currentWorkflow;if(!s||s.id!==n)return;const a={...s.workflow_data,connections:[...s.workflow_data.connections||[],r]};await t().updateWorkflowData(n,a)})},deleteConnection:async(n,r)=>{await G.handleAsync(async()=>{const s=t().currentWorkflow;if(!s||s.id!==n)return;const a={...s.workflow_data,connections:(s.workflow_data.connections||[]).filter(o=>o.id!==r)};await t().updateWorkflowData(n,a)})},executeWorkflow:async(n,r={})=>{await G.handleAsync(async()=>{const{data:s,error:a}=await U.from("automation_executions").insert({workflow_id:n,trigger_data:r,status:"running"}).select().single();if(a)throw a;const o=t().workflows.find(l=>l.id===n);o&&await U.from("automation_workflows").update({execution_count:(o.execution_count||0)+1,last_executed:new Date().toISOString()}).eq("id",n),setTimeout(async()=>{await U.from("automation_executions").update({status:"completed",completed_at:new Date().toISOString(),execution_data:{success:!0,steps_completed:!0}}).eq("id",s.id),t().fetchExecutions(n)},5e3),G.showSuccess("Automao executada com sucesso!"),t().fetchExecutions(n),t().fetchWorkflows()})},pauseWorkflow:async n=>{await t().updateWorkflow(n,{status:"paused"})},resumeWorkflow:async n=>{await t().updateWorkflow(n,{status:"active"})},createTemplate:async(n,r)=>{await G.handleAsync(async()=>{const s=t().workflows.find(l=>l.id===n);if(!s)throw new Error("Workflow no encontrado");const{data:{user:a}}=await U.auth.getUser();if(!a)throw new Error("Usurio no autenticado");const{error:o}=await U.from("automation_templates").insert({...r,template_data:s.workflow_data,created_by:a.id,is_public:!1});if(o)throw o;t().fetchTemplates(),G.showSuccess("Template criado com sucesso!")})},importTemplate:async n=>await G.handleAsync(async()=>{const r=t().templates.find(a=>a.id===n);if(!r)throw new Error("Template no encontrado");const s=await t().createWorkflow({name:`${r.name} (Importado)`,description:r.description,template_id:n});return G.showSuccess("Template importado com sucesso!"),s})||null})),UGe={trigger:EY,action:kY,condition:AY,delay:PY,webhook:TY,chatbot:OY,classifier:IY,agent:DY};function qGe(){const{currentWorkflow:e,setCurrentWorkflow:t,updateWorkflow:n,updateWorkflowData:r,addNode:s,updateNode:a,deleteNode:o,addConnection:l,deleteConnection:c,executeWorkflow:u}=mg(),[d,f,h]=hGe([]),[m,g,p]=mGe([]),[y,x]=v.useState(null),[w,j]=v.useState(!1),[b,S]=v.useState(!1),{toast:N}=Zn();v.useEffect(()=>{if(e!=null&&e.workflow_data){const R=(e.workflow_data.nodes||[]).map(F=>({id:F.id,type:F.type,position:F.position,data:F.data})),O=(e.workflow_data.connections||[]).map(F=>({id:F.id,source:F.source,target:F.target,sourceHandle:F.sourceHandle,targetHandle:F.targetHandle}));f(R),g(O),S(e.status==="active")}},[e,f,g]);const C=v.useCallback(R=>{const O={id:`edge-${Date.now()}`,source:R.source,target:R.target,sourceHandle:R.sourceHandle,targetHandle:R.targetHandle};g(F=>BK(O,F)),e&&l(e.id,O)},[g,e,l]),_=v.useCallback((R,O)=>{x(O),j(!0)},[]),k=R=>{if(!e)return;const O={id:`${R}-${Date.now()}`,type:R,position:{x:Math.random()*400,y:Math.random()*400},data:{label:`${R.charAt(0).toUpperCase()+R.slice(1)} Node`,config:{},nodeType:R}};f(F=>[...F,O]),s(e.id,O)},P=R=>{e&&(f(O=>O.filter(F=>F.id!==R)),g(O=>O.filter(F=>F.source!==R&&F.target!==R)),o(e.id,R),(y==null?void 0:y.id)===R&&(x(null),j(!1)))},A=(R,O)=>{e&&(f(F=>F.map(D=>D.id===R?{...D,data:{...D.data,...O}}:D)),a(e.id,R,{data:O}))},I=async()=>{if(!e)return;const R={nodes:d.map(O=>({id:O.id,type:O.type,position:O.position,data:O.data})),connections:m.map(O=>({id:O.id,source:O.source,target:O.target,sourceHandle:O.sourceHandle,targetHandle:O.targetHandle})),viewport:{x:0,y:0,zoom:1}};await r(e.id,R),N({title:"Automao salva",description:"Todas as alteraes foram salvas com sucesso"})},L=async()=>{if(!e)return;const R=b?"draft":"active";await n(e.id,{status:R}),S(!b),N({title:b?"Automao desativada":"Automao ativada",description:b?"A automao no ser mais executada automaticamente":"A automao ser executada automaticamente quando o gatilho for acionado"})},E=async()=>{if(e)try{await u(e.id)}catch(R){console.error("Error testing workflow:",R)}};return e?i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-white",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>t(null),children:[i.jsx(Moe,{className:"h-4 w-4 mr-2"}),"Voltar"]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold",children:e.name}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fe,{variant:e.status==="active"?"default":"secondary",children:e.status}),i.jsxs("span",{className:"text-sm text-gray-500",children:[e.execution_count," execues"]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Br,{checked:b,onCheckedChange:L,id:"active-status"}),i.jsx(Y,{htmlFor:"active-status",className:"text-sm",children:b?"Ativo":"Inativo"})]}),i.jsxs(B,{variant:"outline",onClick:I,children:[i.jsx(P6,{className:"h-4 w-4 mr-2"}),"Salvar"]}),i.jsx(VGe,{workflow:e,onTest:E})]})]}),i.jsxs("div",{className:"flex-1 flex",children:[i.jsx("div",{className:"flex-1 relative",children:i.jsxs(bY,{nodes:d,edges:m,onNodesChange:h,onEdgesChange:p,onConnect:C,onNodeClick:_,nodeTypes:UGe,fitView:!0,children:[i.jsx(TGe,{}),i.jsx(NGe,{}),i.jsx($Ge,{variant:"dots",gap:12,size:1}),i.jsx(Bb,{position:"top-left",children:i.jsx(FGe,{onAddNode:k})})]})}),w&&y&&i.jsx("div",{className:"w-80 border-l border-gray-200 bg-white",children:i.jsx(WGe,{node:y,onUpdate:R=>A(y.id,R),onDelete:()=>P(y.id),onClose:()=>j(!1)})})]})]}):null}function HGe({open:e,onOpenChange:t}){const{createWorkflow:n,setCurrentWorkflow:r}=mg(),[s,a]=v.useState({name:"",description:""}),[o,l]=v.useState(!1),c=async u=>{if(u.preventDefault(),!!s.name.trim()){l(!0);try{const d=await n(s);d&&r(d),a({name:"",description:""}),t(!1)}catch(d){console.error("Error creating workflow:",d)}finally{l(!1)}}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(tn,{className:"h-4 w-4 mr-2"}),"Nova Automao"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Criar Nova Automao"}),i.jsx(ft,{children:"Crie um fluxo de automao personalizado para otimizar seus processos"})]}),i.jsxs("form",{onSubmit:c,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workflowName",children:"Nome da Automao *"}),i.jsx(ie,{id:"workflowName",value:s.name,onChange:u=>a({...s,name:u.target.value}),placeholder:"Ex: Boas-vindas para Novos Leads",required:!0})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workflowDescription",children:"Descrio (Opcional)"}),i.jsx(vt,{id:"workflowDescription",value:s.description,onChange:u=>a({...s,description:u.target.value}),placeholder:"Descreva o que esta automao faz...",rows:3})]})]}),i.jsx(yt,{className:"mt-6",children:i.jsx(B,{type:"submit",disabled:o||!s.name.trim(),children:o?"Criando...":"Criar Automao"})})]})]})]})}function WL({open:e,onOpenChange:t}){const{templates:n,fetchTemplates:r,importTemplate:s,setCurrentWorkflow:a}=mg(),[o,l]=v.useState("all"),[c,u]=v.useState(null);v.useEffect(()=>{e&&r()},[e,r]);const d=[{value:"all",label:"Todos"},{value:"lead_nurturing",label:"Nutrio de Leads"},{value:"sales",label:"Vendas"},{value:"customer_support",label:"Suporte"},{value:"marketing",label:"Marketing"}],f=n.filter(p=>o==="all"||p.category===o),h=async p=>{u(p);try{const y=await s(p);y&&(a(y),t(!1))}catch(y){console.error("Error importing template:",y)}finally{u(null)}},m=p=>{switch(p){case"lead_nurturing":return"bg-blue-100 text-blue-800";case"sales":return"bg-green-100 text-green-800";case"customer_support":return"bg-purple-100 text-purple-800";case"marketing":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},g=p=>{const y=d.find(x=>x.value===p);return(y==null?void 0:y.label)||p};return i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Galeria de Templates"}),i.jsx(ft,{children:"Escolha um template pronto para comear rapidamente"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(K0,{className:"h-4 w-4 text-gray-500"}),i.jsxs(Oe,{value:o,onValueChange:l,children:[i.jsx(Pe,{className:"w-48",children:i.jsx(Ie,{})}),i.jsx(Te,{children:d.map(p=>i.jsx(K,{value:p.value,children:p.label},p.value))})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(p=>i.jsxs(re,{className:"hover:shadow-md transition-shadow",children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(ge,{className:"text-lg",children:p.name}),i.jsx(He,{className:"mt-1",children:p.description})]}),i.jsx(fe,{className:m(p.category),children:g(p.category)})]})}),i.jsx(se,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[i.jsx(ale,{className:"h-4 w-4"}),i.jsx("span",{children:"Template Oficial"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(B,{variant:"outline",size:"sm",children:[i.jsx(ki,{className:"h-4 w-4 mr-1"}),"Preview"]}),i.jsxs(B,{size:"sm",onClick:()=>h(p.id),disabled:c===p.id,children:[i.jsx(vm,{className:"h-4 w-4 mr-1"}),c===p.id?"Importando...":"Usar Template"]})]})]})})]},p.id))}),f.length===0&&i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-gray-500",children:"Nenhum template encontrado nesta categoria"})})]})]})})}function GGe(){const{executions:e,fetchExecutions:t}=mg(),[n,r]=v.useState(null);v.useEffect(()=>{t()},[t]);const s=c=>{switch(c){case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-yellow-100 text-yellow-800"}},a=c=>{switch(c){case"completed":return i.jsx(Gn,{className:"h-4 w-4"});case"failed":return i.jsx(jn,{className:"h-4 w-4"});case"running":return i.jsx(Er,{className:"h-4 w-4"});default:return i.jsx(Jl,{className:"h-4 w-4"})}},o=c=>{switch(c){case"completed":return"Concludo";case"failed":return"Falhou";case"running":return"Executando";case"cancelled":return"Cancelado";default:return c}},l=(c,u)=>{const d=new Date(c),h=(u?new Date(u):new Date).getTime()-d.getTime();return h<1e3?`${h}ms`:h<6e4?`${Math.round(h/1e3)}s`:`${Math.round(h/6e4)}m`};return i.jsx("div",{className:"space-y-4",children:i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{children:["Histrico de Execues (",e.length,")"]})}),i.jsx(se,{children:e.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Er,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Nenhuma execuo encontrada"})]}):i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Ne,{children:"Automao"}),i.jsx(Ne,{children:"Cliente"}),i.jsx(Ne,{children:"Status"}),i.jsx(Ne,{children:"Durao"}),i.jsx(Ne,{children:"Iniciado"}),i.jsx(Ne,{children:"Aes"})]})}),i.jsx(Kr,{children:e.map(c=>{var u,d,f,h;return i.jsxs(it,{children:[i.jsx(oe,{className:"font-medium",children:((u=c.workflow)==null?void 0:u.name)||"Automao Deletada"}),i.jsx(oe,{children:((d=c.client)==null?void 0:d.name)||"N/A"}),i.jsx(oe,{children:i.jsxs(fe,{className:s(c.status),children:[a(c.status),i.jsx("span",{className:"ml-1",children:o(c.status)})]})}),i.jsx(oe,{children:l(c.started_at,c.completed_at)}),i.jsx(oe,{children:new Date(c.started_at).toLocaleString("pt-BR")}),i.jsx(oe,{children:i.jsxs(ot,{children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>r(c),children:[i.jsx(ki,{className:"h-4 w-4 mr-1"}),"Detalhes"]})}),i.jsxs(et,{className:"max-w-2xl",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Detalhes da Execuo"}),i.jsx(ft,{children:"Informaes detalhadas sobre a execuo da automao"})]}),n&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Automao"}),i.jsx("p",{className:"text-sm text-gray-600",children:((f=n.workflow)==null?void 0:f.name)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Status"}),i.jsx(fe,{className:s(n.status),children:o(n.status)})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Cliente"}),i.jsx("p",{className:"text-sm text-gray-600",children:((h=n.client)==null?void 0:h.name)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Durao"}),i.jsx("p",{className:"text-sm text-gray-600",children:l(n.started_at,n.completed_at)})]})]}),n.error_message&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-red-600",children:"Erro"}),i.jsx("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:n.error_message})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Dados do Gatilho"}),i.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded overflow-auto",children:JSON.stringify(n.trigger_data,null,2)})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Dados da Execuo"}),i.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded overflow-auto",children:JSON.stringify(n.execution_data,null,2)})]})]})]})]})})]},c.id)})})]})})]})})}function KGe(){const{workflows:e,executions:t,currentWorkflow:n,loading:r,fetchWorkflows:s,fetchExecutions:a,setCurrentWorkflow:o,deleteWorkflow:l,pauseWorkflow:c,resumeWorkflow:u,executeWorkflow:d}=mg(),[f,h]=v.useState(!1),[m,g]=v.useState(!1);v.useEffect(()=>{s(),a()},[s,a]);const p=async(N,C)=>{switch(N){case"pause":await c(C);break;case"resume":await u(C);break;case"execute":await d(C);break;case"delete":await l(C);break}},y=N=>{switch(N){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"draft":return"bg-gray-100 text-gray-800";case"archived":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},x=N=>{switch(N){case"active":return i.jsx(Gn,{className:"h-4 w-4"});case"paused":return i.jsx(kN,{className:"h-4 w-4"});case"draft":return i.jsx(Er,{className:"h-4 w-4"});case"archived":return i.jsx(jn,{className:"h-4 w-4"});default:return i.jsx(Er,{className:"h-4 w-4"})}},w=e.filter(N=>N.status==="active").length,j=t.length,b=t.filter(N=>N.status==="completed").length,S=j>0?b/j*100:0;return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full flex flex-col",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Automao"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Crie fluxos automatizados para otimizar seu atendimento"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(B,{variant:"outline",onClick:()=>g(!0),children:[i.jsx(vm,{className:"h-4 w-4 mr-2"}),"Templates"]}),i.jsx(HGe,{open:f,onOpenChange:h})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ds,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total de Automaes"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Jl,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:w}),i.jsx("div",{className:"text-sm text-gray-600",children:"Ativas"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Foe,{className:"h-5 w-5 text-purple-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:j}),i.jsx("div",{className:"text-sm text-gray-600",children:"Execues"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Gn,{className:"h-5 w-5 text-orange-600"}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[S.toFixed(1),"%"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"Taxa de Sucesso"})]})]})})})]}),i.jsx("div",{className:"flex-1 min-h-0",children:n?i.jsx(qGe,{}):i.jsxs(Jn,{defaultValue:"workflows\\",className:"h-full",children:[i.jsxs(Mn,{children:[i.jsx(Fe,{value:"workflows",children:"Automaes"}),i.jsx(Fe,{value:"executions",children:"Histrico"}),i.jsx(Fe,{value:"templates",children:"Templates"})]}),i.jsx(Ve,{value:"workflows",className:"space-y-4",children:e.length===0?i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(ds,{className:"h-8 w-8 text-gray-400"})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma automao criada"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Crie sua primeira automao para otimizar seus processos"}),i.jsxs("div",{className:"flex gap-2 justify-center",children:[i.jsxs(B,{onClick:()=>h(!0),children:[i.jsx(tn,{className:"h-4 w-4 mr-2"}),"Nova Automao"]}),i.jsxs(B,{variant:"outline",onClick:()=>g(!0),children:[i.jsx(vm,{className:"h-4 w-4 mr-2"}),"Ver Templates"]})]})]})}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(N=>i.jsxs(re,{className:"hover:shadow-md transition-shadow",children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(ge,{className:"text-lg",children:N.name}),N.description&&i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.description})]}),i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",children:i.jsx(oc,{className:"h-4 w-4"})})}),i.jsxs(Ea,{children:[i.jsxs(at,{onClick:()=>o(N),children:[i.jsx(oc,{className:"h-4 w-4 mr-2"}),"Editar"]}),i.jsxs(at,{onClick:()=>p("execute",N.id),children:[i.jsx(Jl,{className:"h-4 w-4 mr-2"}),"Executar"]}),N.status==="active"?i.jsxs(at,{onClick:()=>p("pause",N.id),children:[i.jsx(kN,{className:"h-4 w-4 mr-2"}),"Pausar"]}):i.jsxs(at,{onClick:()=>p("resume",N.id),children:[i.jsx(Jl,{className:"h-4 w-4 mr-2"}),"Ativar"]}),i.jsxs(at,{children:[i.jsx(N6,{className:"h-4 w-4 mr-2"}),"Duplicar"]}),i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsxs(at,{onSelect:C=>C.preventDefault(),children:[i.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Deletar Automao"}),i.jsxs(ln,{children:['Tem certeza que deseja deletar a automao "',N.name,'"? Esta ao no pode ser desfeita.']})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{onClick:()=>p("delete",N.id),className:"bg-red-600 hover:bg-red-700",children:"Deletar"})]})]})]})]})]})]})}),i.jsxs(se,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs(fe,{className:y(N.status),children:[x(N.status),i.jsx("span",{className:"ml-1 capitalize",children:N.status})]}),i.jsxs("span",{className:"text-sm text-gray-500",children:[N.execution_count," execues"]})]}),i.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[i.jsxs("div",{children:["Tipo: ",N.trigger_type]}),i.jsxs("div",{children:["ltima execuo: ",N.last_executed?new Date(N.last_executed).toLocaleDateString("pt-BR"):"Nunca"]})]}),i.jsx(B,{className:"w-full mt-3",variant:"outline",onClick:()=>o(N),children:"Abrir Editor"})]})]},N.id))})}),i.jsx(Ve,{value:"executions",children:i.jsx(GGe,{})}),i.jsx(Ve,{value:"templates",children:i.jsx(WL,{})})]})}),i.jsx(WL,{open:m,onOpenChange:g})]})})})}function YGe(){const{stats:e,leads:t,clients:n,orders:r,messages:s,fetchStats:a,fetchLeads:o,fetchClients:l,fetchOrders:c,fetchMessages:u}=Or(),{currentWorkspace:d}=je();v.useEffect(()=>{d&&(a(),o(),l(),c(),u())},[d,a,o,l,c,u]);const f=[{month:"Jan",revenue:4e3,orders:24},{month:"Feb",revenue:3e3,orders:18},{month:"Mar",revenue:5e3,orders:32},{month:"Apr",revenue:4500,orders:28},{month:"May",revenue:6e3,orders:38},{month:"Jun",revenue:5500,orders:35}],h=[{name:"Website",value:35,color:"#3b82f6"},{name:"Social Media",value:25,color:"#10b981"},{name:"Referral",value:20,color:"#f59e0b"},{name:"Advertising",value:15,color:"#ef4444"},{name:"Other",value:5,color:"#8b5cf6"}],m=[{stage:"Leads",count:t.length,percentage:100},{stage:"Contacted",count:t.filter(g=>g.status==="contacted").length,percentage:0},{stage:"Qualified",count:t.filter(g=>g.status==="qualified").length,percentage:0},{stage:"Converted",count:t.filter(g=>g.status==="converted").length,percentage:0}].map((g,p,y)=>({...g,percentage:y[0].count>0?Math.round(g.count/y[0].count*100):0}));return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Insights and performance metrics for your business"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(re,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Conversion Rate"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.conversionRate?`${e.conversionRate.toFixed(1)}%`:"0%"})]}),i.jsx(Ok,{className:"h-8 w-8 text-green-600"})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",e.avgOrderValue?e.avgOrderValue.toFixed(2):"0.00"]})]}),i.jsx(ic,{className:"h-8 w-8 text-blue-600"})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Clients"}),i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:e.activeClients||0})]}),i.jsx(Fr,{className:"h-8 w-8 text-purple-600"})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Messages Sent"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:s.length})]}),i.jsx(qn,{className:"h-8 w-8 text-orange-600"})]})})})]}),i.jsxs(Jn,{defaultValue:"revenue",className:"space-y-6",children:[i.jsxs(Mn,{children:[i.jsx(Fe,{value:"revenue",children:"Revenue"}),i.jsx(Fe,{value:"leads",children:"Lead Sources"}),i.jsx(Fe,{value:"conversion",children:"Conversion Funnel"}),i.jsx(Fe,{value:"performance",children:"Performance"})]}),i.jsx(Ve,{value:"revenue",className:"space-y-6",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Revenue Over Time"}),i.jsx(He,{children:"Monthly revenue and order trends"})]}),i.jsx(se,{children:i.jsx(Vv,{width:"100%",height:400,children:i.jsxs(Aq,{data:f,children:[i.jsx(Bx,{strokeDasharray:"3 3"}),i.jsx(gc,{dataKey:"month"}),i.jsx(el,{}),i.jsx(rs,{}),i.jsx(Zo,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:3}),i.jsx(Zo,{type:"monotone",dataKey:"orders",stroke:"#10b981",strokeWidth:2})]})})})]})}),i.jsx(Ve,{value:"leads",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Lead Sources"}),i.jsx(He,{children:"Distribution of lead sources"})]}),i.jsx(se,{children:i.jsx(Vv,{width:"100%",height:300,children:i.jsxs(d4e,{children:[i.jsx(eo,{data:h,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:g,percent:p})=>`${g} ${(p*100).toFixed(0)}%`,children:h.map((g,p)=>i.jsx(Bw,{fill:g.color},`cell-${p}`))}),i.jsx(rs,{})]})})})]}),i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Lead Source Performance"}),i.jsx(He,{children:"Leads by source this month"})]}),i.jsx(se,{children:i.jsx("div",{className:"space-y-4",children:h.map(g=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:g.color}}),i.jsx("span",{className:"text-sm font-medium",children:g.name})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:[g.value,"%"]}),i.jsxs(fe,{variant:"outline",children:[Math.round(t.length*g.value/100)," leads"]})]})]},g.name))})})]})]})}),i.jsx(Ve,{value:"conversion",className:"space-y-6",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Conversion Funnel"}),i.jsx(He,{children:"Lead to client conversion process"})]}),i.jsx(se,{children:i.jsx("div",{className:"space-y-4",children:m.map((g,p)=>i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:g.stage}),i.jsxs("span",{className:"text-sm text-gray-600",children:[g.count," (",g.percentage,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.percentage}%`}})})]},g.stage))})})]})}),i.jsx(Ve,{value:"performance",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Monthly Performance"}),i.jsx(He,{children:"Key metrics comparison"})]}),i.jsx(se,{children:i.jsx(Vv,{width:"100%",height:300,children:i.jsxs(u4e,{data:f,children:[i.jsx(Bx,{strokeDasharray:"3 3"}),i.jsx(gc,{dataKey:"month"}),i.jsx(el,{}),i.jsx(rs,{}),i.jsx(Ic,{dataKey:"orders",fill:"#3b82f6"})]})})})]}),i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Performance Insights"}),i.jsx(He,{children:"Key observations and recommendations"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Strong Performance"}),i.jsx("p",{className:"text-sm text-green-700",children:"Revenue has increased by 23% compared to last month"})]}),i.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Opportunity"}),i.jsx("p",{className:"text-sm text-yellow-700",children:"Lead conversion rate could be improved with better follow-up"})]}),i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Recommendation"}),i.jsx("p",{className:"text-sm text-blue-700",children:"Focus on social media leads as they show highest conversion"})]})]})})]})]})})]})]})})})}function XGe(){var W;const[e,t]=v.useState(!1),[n,r]=v.useState(!1),[s,a]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState("operator"),[d,f]=v.useState({name:"",email:"",password:"",confirmPassword:"",role:"operator"}),[h,m]=v.useState(!1),{currentWorkspace:g,workspaceUsers:p,userInvitations:y,fetchWorkspaceUsers:x,fetchUserInvitations:w,inviteUser:j,registerUser:b,removeUser:S,updateUserRole:N,cancelInvitation:C,resendInvitation:_}=je(),{user:k}=ri();v.useEffect(()=>{e&&g&&(x(),w())},[e,g,x,w]);const P=async()=>{if(o.trim()){if(!g){ErrorHandler.showError("Erro","Nenhum workspace selecionado. Selecione um workspace antes de convidar usurios.");return}m(!0);try{await j(o,c),l(""),u("operator"),r(!1)}catch(H){console.error("Error inviting user:",H)}finally{m(!1)}}},A=async()=>{if(!(!d.name.trim()||!d.email.trim()||!d.password.trim())&&d.password===d.confirmPassword&&!(d.password.length<6)){if(!g){ErrorHandler.showError("Erro","Nenhum workspace selecionado. Selecione um workspace antes de cadastrar usurios.");return}m(!0);try{await b({name:d.name,email:d.email,password:d.password,role:d.role,workspace_id:g.id}),f({name:"",email:"",password:"",confirmPassword:"",role:"operator"}),a(!1)}catch(H){console.error("Error registering user:",H)}finally{m(!1)}}},I=async H=>{try{await S(H)}catch(V){console.error("Error removing user:",V)}},L=async(H,V)=>{try{await N(H,V)}catch(te){console.error("Error updating user role:",te)}},E=async H=>{try{await C(H)}catch(V){console.error("Error canceling invitation:",V)}},R=async H=>{try{await _(H)}catch(V){console.error("Error resending invitation:",V)}},O=(H,V=!1)=>{if(V)return i.jsxs(fe,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[i.jsx(Fj,{className:"h-3 w-3 mr-1"}),"Proprietrio"]});switch(H){case"admin":return i.jsxs(fe,{className:"bg-blue-100 text-blue-800 border-blue-300",children:[i.jsx(ru,{className:"h-3 w-3 mr-1"}),"Administrador"]});case"operator":return i.jsxs(fe,{className:"bg-green-100 text-green-800 border-green-300",children:[i.jsx(Fr,{className:"h-3 w-3 mr-1"}),"Operador"]});default:return i.jsx(fe,{variant:"outline",children:H})}},F=H=>{switch(H){case"active":return i.jsx(fe,{className:"bg-green-100 text-green-800",children:"Ativo"});case"pending":return i.jsx(fe,{className:"bg-yellow-100 text-yellow-800",children:"Pendente"});case"inactive":return i.jsx(fe,{className:"bg-gray-100 text-gray-800",children:"Inativo"});default:return i.jsx(fe,{variant:"outline",children:H})}},D=H=>new Date(H).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),M=(g==null?void 0:g.owner_id)===(k==null?void 0:k.id),$=(W=p.find(H=>H.user_id===(k==null?void 0:k.id)))==null?void 0:W.role,z=M||$==="admin";return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Gerenciar Usurios"]})}),i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsxs(nt,{className:"flex items-center",children:[i.jsx(Fr,{className:"mr-2 h-5 w-5"}),"Gerenciar Usurios - ",g==null?void 0:g.name]}),i.jsx(ft,{children:"Gerencie os usurios e permisses do seu workspace"})]}),i.jsxs(Jn,{defaultValue:"users",className:"w-full",children:[i.jsxs(Mn,{className:"grid w-full grid-cols-2",children:[i.jsxs(Fe,{value:"users",children:["Usurios (",p.length,")"]}),i.jsxs(Fe,{value:"invitations",children:["Convites Pendentes (",y.length,")"]})]}),i.jsxs(Ve,{value:"users",className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Membros do Workspace"}),z&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ot,{open:s,onOpenChange:a,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(Ry,{className:"h-4 w-4 mr-2"}),"Cadastrar Usurio"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Cadastrar Novo Usurio"}),i.jsx(ft,{children:"Crie uma nova conta de usurio e adicione ao workspace"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"registerName",children:"Nome Completo *"}),i.jsx(ie,{id:"registerName",placeholder:"Joo Silva",value:d.name,onChange:H=>f({...d,name:H.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"registerEmail",children:"Email *"}),i.jsx(ie,{id:"registerEmail",type:"email",placeholder:"usuario@exemplo.com",value:d.email,onChange:H=>f({...d,email:H.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"registerPassword",children:"Senha *"}),i.jsx(ie,{id:"registerPassword",type:"password",placeholder:"Mnimo 6 caracteres",value:d.password,onChange:H=>f({...d,password:H.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"confirmPassword",children:"Confirmar Senha *"}),i.jsx(ie,{id:"confirmPassword",type:"password",placeholder:"Confirme a senha",value:d.confirmPassword,onChange:H=>f({...d,confirmPassword:H.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"registerRole",children:"Role do Usurio *"}),i.jsxs(Oe,{value:d.role,onValueChange:H=>f({...d,role:H}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"admin",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ru,{className:"h-4 w-4 mr-2"}),"Administrador"]})}),i.jsx(K,{value:"operator",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Operador"]})})]})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Administradores podem gerenciar usurios e configuraes. Operadores tm acesso s funcionalidades principais."})]})]}),i.jsxs(yt,{children:[i.jsx(B,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),i.jsx(B,{onClick:A,disabled:h||!g||!d.name.trim()||!d.email.trim()||!d.password.trim()||d.password!==d.confirmPassword||d.password.length<6,children:h?"Cadastrando...":"Cadastrar Usurio"})]})]})]}),i.jsxs(ot,{open:n,onOpenChange:r,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(tn,{className:"h-4 w-4 mr-2"}),"Convidar Usurio"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Convidar Novo Usurio"}),i.jsx(ft,{children:"Convide um usurio para fazer parte do seu workspace"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"inviteEmail",children:"Email do Usurio *"}),i.jsx(ie,{id:"inviteEmail",type:"email",placeholder:"usuario@exemplo.com",value:o,onChange:H=>l(H.target.value)})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"inviteRole",children:"Role do Usurio *"}),i.jsxs(Oe,{value:c,onValueChange:H=>u(H),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"admin",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ru,{className:"h-4 w-4 mr-2"}),"Administrador"]})}),i.jsx(K,{value:"operator",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Operador"]})})]})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Administradores podem gerenciar usurios e configuraes. Operadores tm acesso s funcionalidades principais."})]})]}),i.jsxs(yt,{children:[i.jsx(B,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),i.jsx(B,{onClick:P,disabled:h||!g||!o.trim(),children:h?"Convidando...":"Enviar Convite"})]})]})]})]})]}),i.jsx(re,{children:i.jsx(se,{className:"p-0",children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Ne,{children:"Usurio"}),i.jsx(Ne,{children:"Role"}),i.jsx(Ne,{children:"Status"}),i.jsx(Ne,{children:"Membro desde"}),z&&i.jsx(Ne,{children:"Aes"})]})}),i.jsxs(Kr,{children:[i.jsxs(it,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:i.jsx(Fj,{className:"h-4 w-4 text-yellow-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:k==null?void 0:k.email}),i.jsx("p",{className:"text-xs text-gray-500",children:"Proprietrio do workspace"})]})]})}),i.jsx(oe,{children:O("owner",!0)}),i.jsx(oe,{children:F("active")}),i.jsx(oe,{children:D((g==null?void 0:g.created_at)||"")}),z&&i.jsx(oe,{children:i.jsx(fe,{variant:"outline",className:"text-xs",children:"Proprietrio"})})]}),p.filter(H=>H.user_id!==(g==null?void 0:g.owner_id)).map(H=>{var V,te,ne,X,ee,Z,ae;return i.jsxs(it,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-medium text-blue-600",children:(te=(V=H.user)==null?void 0:V.email)==null?void 0:te.charAt(0).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:((X=(ne=H.user)==null?void 0:ne.user_metadata)==null?void 0:X.name)||((ee=H.user)==null?void 0:ee.email)}),i.jsx("p",{className:"text-xs text-gray-500",children:(Z=H.user)==null?void 0:Z.email})]})]})}),i.jsx(oe,{children:O(H.role)}),i.jsx(oe,{children:F(H.status)}),i.jsx(oe,{children:H.joined_at?D(H.joined_at):"Pendente"}),z&&i.jsx(oe,{children:i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",children:i.jsx(Lp,{className:"h-4 w-4"})})}),i.jsxs(Ea,{children:[i.jsxs(at,{onClick:()=>L(H.user_id,H.role==="admin"?"operator":"admin"),children:[i.jsx(ru,{className:"h-4 w-4 mr-2"}),"Alterar para ",H.role==="admin"?"Operador":"Administrador"]}),i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsxs(at,{onSelect:ce=>ce.preventDefault(),children:[i.jsx(CI,{className:"h-4 w-4 mr-2"}),"Remover do Workspace"]})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Remover Usurio"}),i.jsxs(ln,{children:['Tem certeza que deseja remover "',(ae=H.user)==null?void 0:ae.email,'" do workspace? O usurio perder acesso a todos os dados e funcionalidades.']})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{onClick:()=>I(H.user_id),className:"bg-red-600 hover:bg-red-700",children:"Remover"})]})]})]})]})]})})]},H.id)})]})]})})})]}),i.jsxs(Ve,{value:"invitations",className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Convites Pendentes"}),i.jsxs(B,{variant:"outline",size:"sm",onClick:w,children:[i.jsx(ya,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]}),y.length===0?i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(ja,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum convite pendente"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Todos os convites foram aceitos ou expirados"}),z&&i.jsxs(B,{onClick:()=>r(!0),children:[i.jsx(tn,{className:"h-4 w-4 mr-2"}),"Convidar Primeiro Usurio"]})]})}):i.jsx(re,{children:i.jsx(se,{className:"p-0",children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Ne,{children:"Email"}),i.jsx(Ne,{children:"Role"}),i.jsx(Ne,{children:"Convidado por"}),i.jsx(Ne,{children:"Enviado em"}),i.jsx(Ne,{children:"Expira em"}),z&&i.jsx(Ne,{children:"Aes"})]})}),i.jsx(Kr,{children:y.map(H=>{var V;return i.jsxs(it,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ja,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{className:"font-medium",children:H.email})]})}),i.jsx(oe,{children:O(H.role)}),i.jsx(oe,{children:(V=H.invited_by_user)==null?void 0:V.email}),i.jsx(oe,{children:D(H.created_at)}),i.jsx(oe,{children:i.jsx("span",{className:new Date(H.expires_at)<new Date?"text-red-600":"text-gray-600",children:D(H.expires_at)})}),z&&i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>R(H.id),children:[i.jsx(Y0,{className:"h-4 w-4 mr-1"}),"Reenviar"]}),i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsx(B,{variant:"outline",size:"sm",children:i.jsx(CI,{className:"h-4 w-4"})})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Cancelar Convite"}),i.jsxs(ln,{children:['Tem certeza que deseja cancelar o convite para "',H.email,'"?']})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{onClick:()=>E(H.id),className:"bg-red-600 hover:bg-red-700",children:"Cancelar Convite"})]})]})]})]})})]},H.id)})})]})})})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Sobre os Roles"}),i.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fj,{className:"h-4 w-4"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Proprietrio:"})," Controle total do workspace, incluindo excluso e transferncia"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ru,{className:"h-4 w-4"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Administrador:"})," Pode gerenciar usurios, configuraes e todas as funcionalidades"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fr,{className:"h-4 w-4"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Operador:"})," Acesso s funcionalidades principais (CRM, mensagens, relatrios)"]})]})]})]}),i.jsx(yt,{children:i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"})})]})]})}function JGe(){var p;const[e,t]=v.useState({name:"",email:"",phone:""}),[n,r]=v.useState({name:"",slug:""}),[s,a]=v.useState({email:!0,push:!1,sms:!1}),[o,l]=v.useState(!1),{currentWorkspace:c,plans:u}=je(),{user:d}=ri(),{toast:f}=Zn();v.useEffect(()=>{var y,x;d&&t({name:((y=d.user_metadata)==null?void 0:y.name)||"",email:d.email||"",phone:((x=d.user_metadata)==null?void 0:x.phone)||""}),c&&r({name:c.name,slug:c.slug})},[d,c]);const h=async()=>{l(!0);try{f({title:"Sucesso",description:"Perfil atualizado com sucesso"})}catch(y){f({title:"Erro",description:y.message||"Falha ao atualizar perfil",variant:"destructive"})}finally{l(!1)}},m=async()=>{l(!0);try{f({title:"Sucesso",description:"Workspace atualizado com sucesso"})}catch(y){f({title:"Erro",description:y.message||"Falha ao atualizar workspace",variant:"destructive"})}finally{l(!1)}},g=u.find(y=>y.id===(c==null?void 0:c.plan_id));return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Configuraes"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie suas preferncias e configuraes da conta"})]}),i.jsxs(Jn,{defaultValue:"profile",className:"space-y-6",children:[i.jsxs(Mn,{children:[i.jsxs(Fe,{value:"profile",children:[i.jsx(Ga,{className:"mr-2 h-4 w-4"}),"Perfil"]}),i.jsxs(Fe,{value:"workspace",children:[i.jsx(Du,{className:"mr-2 h-4 w-4"}),"Workspace"]}),i.jsxs(Fe,{value:"billing",children:[i.jsx(_6,{className:"mr-2 h-4 w-4"}),"Cobrana"]}),i.jsxs(Fe,{value:"notifications",children:[i.jsx(Ak,{className:"mr-2 h-4 w-4"}),"Notificaes"]}),i.jsxs(Fe,{value:"security",children:[i.jsx(ru,{className:"mr-2 h-4 w-4"}),"Segurana"]})]}),i.jsx(Ve,{value:"profile",className:"space-y-6",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Informaes Pessoais"}),i.jsx(He,{children:"Atualize suas informaes pessoais e preferncias"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"name",children:"Nome Completo"}),i.jsx(ie,{id:"name",value:e.name,onChange:y=>t({...e,name:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"email",children:"Email"}),i.jsx(ie,{id:"email",type:"email",value:e.email,onChange:y=>t({...e,email:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"phone",children:"Telefone"}),i.jsx(ie,{id:"phone",value:e.phone,onChange:y=>t({...e,phone:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"timezone",children:"Fuso Horrio"}),i.jsxs(Oe,{defaultValue:"america/sao_paulo",children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"america/sao_paulo",children:"Amrica/So Paulo"}),i.jsx(K,{value:"america/new_york",children:"Amrica/Nova York"}),i.jsx(K,{value:"europe/london",children:"Europa/Londres"})]})]})]})]}),i.jsx(B,{onClick:h,disabled:o,children:o?"Salvando...":"Salvar Alteraes"})]})]})}),i.jsxs(Ve,{value:"workspace",className:"space-y-6",children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Configuraes do Workspace"}),i.jsx(He,{children:"Gerencie as configuraes do seu workspace"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workspaceName",children:"Nome do Workspace"}),i.jsx(ie,{id:"workspaceName",value:n.name,onChange:y=>r({...n,name:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workspaceSlug",children:"URL do Workspace"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"omnicrm.com/"}),i.jsx(ie,{id:"workspaceSlug",value:n.slug,onChange:y=>r({...n,slug:y.target.value})})]})]})]}),i.jsx(B,{onClick:m,disabled:o,children:o?"Salvando...":"Salvar Alteraes"})]})]}),i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Membros do Workspace"}),i.jsx(He,{children:"Gerencie quem tem acesso ao seu workspace"})]}),i.jsx(se,{children:i.jsxs("div",{className:"text-center py-6",children:[i.jsx("p",{className:"text-gray-600 mb-4",children:"Gerencie usurios, roles e permisses do workspace"}),i.jsx(XGe,{})]})})]})]}),i.jsxs(Ve,{value:"billing",className:"space-y-6",children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Plano Atual"}),i.jsx(He,{children:"Gerencie sua assinatura e cobrana"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:(g==null?void 0:g.name)||"Plano No Encontrado"}),i.jsxs("p",{className:"text-gray-600",children:["R$",(g==null?void 0:g.price_monthly)||0,"/ms"]})]}),i.jsx(fe,{variant:"outline",children:"Ativo"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("p",{children:[" Canais: ",(g==null?void 0:g.limits.channels)===-1?"Ilimitado":g==null?void 0:g.limits.channels]}),i.jsxs("p",{children:[" Usurios: ",(g==null?void 0:g.limits.users)===-1?"Ilimitado":g==null?void 0:g.limits.users]}),i.jsxs("p",{children:[" Mensagens/ms: ",(g==null?void 0:g.limits.monthly_messages)===-1?"Ilimitado":(p=g==null?void 0:g.limits.monthly_messages)==null?void 0:p.toLocaleString()]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(B,{variant:"outline",children:"Alterar Plano"}),i.jsx(B,{variant:"outline",children:"Ver Faturas"})]})]})})]}),i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Mtodo de Pagamento"}),i.jsx(He,{children:"Gerencie seus mtodos de pagamento"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 border rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center text-white text-xs font-bold",children:"VISA"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"   4242"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Expira em 12/25"})]})]}),i.jsx(fe,{children:"Padro"})]})}),i.jsx(B,{variant:"outline",children:"Adicionar Mtodo de Pagamento"})]})})]})]}),i.jsx(Ve,{value:"notifications",className:"space-y-6",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Preferncias de Notificao"}),i.jsx(He,{children:"Configure como voc quer receber notificaes"})]}),i.jsxs(se,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Notificaes por Email"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Receba atualizaes importantes por email"})]}),i.jsx(Br,{checked:s.email,onCheckedChange:y=>a({...s,email:y})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Notificaes Push"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Receba notificaes no navegador"})]}),i.jsx(Br,{checked:s.push,onCheckedChange:y=>a({...s,push:y})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Notificaes SMS"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Receba alertas importantes por SMS"})]}),i.jsx(Br,{checked:s.sms,onCheckedChange:y=>a({...s,sms:y})})]})]}),i.jsx(B,{children:"Salvar Preferncias"})]})]})}),i.jsx(Ve,{value:"security",className:"space-y-6",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Segurana da Conta"}),i.jsx(He,{children:"Gerencie a segurana da sua conta"})]}),i.jsx(se,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Alterar Senha"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ie,{type:"password",placeholder:"Senha atual"}),i.jsx(ie,{type:"password",placeholder:"Nova senha"}),i.jsx(ie,{type:"password",placeholder:"Confirmar nova senha"})]}),i.jsx(B,{className:"mt-2",children:"Alterar Senha"})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Autenticao de Dois Fatores"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Adicione uma camada extra de segurana  sua conta"}),i.jsx(B,{variant:"outline",children:"Configurar 2FA"})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Sesses Ativas"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Gerencie onde voc est logado"}),i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Chrome - Windows"}),i.jsx("p",{className:"text-sm text-gray-500",children:"So Paulo, Brasil  Agora"})]}),i.jsx(fe,{variant:"outline",children:"Atual"})]})})]})]})})]})})]})]})})})}async function QGe(e,t){if(!e||!t)throw new Error("Transportadora e cdigo de rastreio so obrigatrios.");try{const s=await fetch("https://oqwstanztqdiexgrpdta.supabase.co/functions/v1/tracking-proxy",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k"},body:JSON.stringify({carrier:e,trackingCode:t})});if(!s.ok){const a=await s.json();throw new Error(a.message||`HTTP error! status: ${s.status}`)}return await s.json()}catch(n){throw console.error("Error in trackPackage function:",n),n}}function ZGe(e,t){var r,s;const n={status:"Status desconhecido",lastUpdate:new Date().toISOString(),history:[]};if(t!=null&&t.success&&(t!=null&&t.result)){const a=(r=t.result.events)==null?void 0:r[0];return{status:(a==null?void 0:a.status)||"Aguardando postagem",estimatedDelivery:t.result.estimatedDelivery,lastUpdate:(a==null?void 0:a.date)||new Date().toISOString(),history:((s=t.result.events)==null?void 0:s.map(o=>({date:o.date,status:o.status,location:o.location})))||[]}}return n}function qh(e,t){if(!t)return"";const n=e.toLowerCase();return n.includes("correios")?`https://rastreamento.correios.com.br/app/index.php?objeto=${t}`:n.includes("jadlog")?`https://www.jadlog.com.br/siteInstitucional/tracking.jad?cte=${t}`:n.includes("total")?`https://www.totalexpress.com.br/tracking/${t}`:n.includes("azul")?`https://rastreamento.azulcargo.com.br/tracking/${t}`:n.includes("braspress")?`https://www.braspress.com/tracking/?numNF=${t}`:n.includes("mercado")?`https://www.mercadolivre.com.br/envios/tracking/${t}`:""}const xf=ka((e,t)=>({purchases:[],returns:[],transfers:[],viewMode:"table",showArchived:!1,loading:!1,setViewMode:n=>e({viewMode:n}),setShowArchived:n=>{e({showArchived:n});const{fetchPurchases:r,fetchReturns:s,fetchTransfers:a}=t();r(),s(),a()},fetchPurchases:async()=>{await G.handleAsync(async()=>{e({loading:!0});const n=je.getState().currentWorkspace;if(!n)return;let r=U.from("purchases").select(`
                    *,
                    products:purchase_products(
                        id,
                        purchase_id,
                        name,
                        quantity,
                        cost,
                        total_cost,
                        is_verified,
                        is_in_stock,
                        vencimento,
                        SKU, 
                        preco_ml,
                        preco_atacado
                    )
                `).eq("workspace_id",n.id).order("date",{ascending:!1});t().showArchived||(r=r.eq("is_archived",!1));const{data:s,error:a}=await r;if(a)throw a;if(!s){e({purchases:[],loading:!1});return}const o=s.map(l=>({id:l.id,date:l.date,carrier:l.carrier,storeName:l.storeName,customer_name:l.customer_name,trackingCode:l.trackingCode,delivery_fee:l.delivery_fee,status:l.status,estimated_delivery:l.estimated_delivery,is_archived:l.is_archived,created_at:l.created_at,updated_at:l.updated_at,workspace_id:l.workspace_id,metadata:l.metadata||null,observation:l.observation,products:(l.products||[]).map(c=>({id:c.id,purchase_id:c.purchase_id,name:c.name,quantity:c.quantity,cost:c.cost,total_cost:c.total_cost,is_verified:c.is_verified,is_in_stock:c.is_in_stock,vencimento:c.vencimento,SKU:c.SKU||"",preco_ml:c.preco_ml,preco_atacado:c.preco_atacado}))}));e({purchases:o,loading:!1})})},fetchReturns:async()=>{await G.handleAsync(async()=>{e({loading:!0});const n=je.getState().currentWorkspace;if(!n)return;let r=U.from("returns").select("*, metadata").eq("workspace_id",n.id).order("date",{ascending:!1});t().showArchived||(r=r.eq("is_archived",!1));const{data:s,error:a}=await r;if(a)throw a;const o=(s||[]).map(l=>({id:l.id,date:l.date,carrier:l.carrier,storeName:l.storeName,customer_name:l.customer_name,trackingCode:l.trackingCode,status:l.status,estimated_delivery:l.estimated_delivery,is_archived:l.is_archived,created_at:l.created_at,updated_at:l.updated_at,workspace_id:l.workspace_id,observations:l.observations,is_verified:l.is_verified,verification_observations:l.verification_observations,verified_at:l.verified_at,metadata:l.metadata}));e({returns:o||[],loading:!1})})},fetchTransfers:async()=>{await G.handleAsync(async()=>{e({loading:!0});const n=je.getState().currentWorkspace;if(!n)return;let r=U.from("transfers").select(`
                    *,
                    products:transfer_products(*)
                `).eq("workspace_id",n.id).order("date",{ascending:!1});const{data:s,error:a}=await r;if(a)throw a;const o=(s||[]).map(l=>({id:l.id,date:l.date,carrier:l.carrier,storeName:l.storeName,customer_name:l.customer_name,trackingCode:l.trackingCode,status:l.status,estimated_delivery:l.estimated_delivery,is_archived:l.is_archived,created_at:l.created_at,updated_at:l.updated_at,workspace_id:l.workspace_id,source_stock:l.source_stock,destination_stock:l.destination_stock,conferido:l.conferido||!1,in_stock:l.in_stock||!1,retirado_stock:l.retirado_stock||!1,metadata:l.metadata,products:(l.products||[]).map(c=>({id:c.id,transfer_id:c.transfer_id,name:c.name,quantity:c.quantity,sku:c.sku,is_verified:c.is_verified,created_at:c.created_at,updated_at:c.updated_at}))}));e({transfers:o||[],loading:!1})})},createPurchase:async(n,r)=>await G.handleAsync(async()=>{const s=je.getState().currentWorkspace;if(!s)throw new Error("Nenhum workspace selecionado");const a={date:n.date,carrier:n.carrier,storeName:n.storeName,customer_name:n.customer_name||null,trackingCode:n.trackingCode,delivery_fee:n.delivery_fee,status:"Aguardando rastreamento",is_archived:!1,workspace_id:s.id,metadata:[],observation:n.observation||null},{data:o,error:l}=await U.from("purchases").insert(a).select().single();if(l)throw l;const c=r.reduce((h,m)=>h+(m.quantity||0),0),u=c>0?n.delivery_fee/c:0,d=r.map(h=>({name:h.name,quantity:h.quantity,cost:parseFloat(((h.cost||0)+u).toFixed(2)),SKU:h.SKU,purchase_id:o.id,is_verified:!1,is_in_stock:!1,vencimento:h.vencimento||null,preco_ml:h.preco_ml||null,preco_atacado:h.preco_atacado||null})),{error:f}=await U.from("purchase_products").insert(d);if(f)throw f;try{await t().updateTrackingStatus("purchase",o.id)}catch(h){console.warn("Could not update tracking status for new purchase:",h)}t().fetchPurchases(),G.showSuccess("Compra criada com sucesso!")}),updatePurchase:async(n,r,s)=>{await G.handleAsync(async()=>{const{error:a}=await U.from("purchases").update({date:r.date,carrier:r.carrier,storeName:r.storeName,customer_name:r.customer_name||null,trackingCode:r.trackingCode,delivery_fee:r.delivery_fee,observation:r.observation||null,updated_at:new Date().toISOString()}).eq("id",n);if(a)throw a;const o=s.map(p=>p.id).filter(Boolean),{data:l,error:c}=await U.from("purchase_products").select("id").eq("purchase_id",n);if(c)throw c;const d=(l||[]).map(p=>p.id).filter(p=>!o.includes(p));if(d.length>0){const{error:p}=await U.from("purchase_products").delete().in("id",d);if(p)throw p}const f=s.reduce((p,y)=>p+(y.quantity||0),0),h=f>0?r.delivery_fee/f:0,m=s.filter(p=>p.id),g=s.filter(p=>!p.id);if(m.length>0){const p=m.map(x=>({id:x.id,purchase_id:n,name:x.name,SKU:x.SKU,quantity:x.quantity,cost:parseFloat(((x.cost||0)+h).toFixed(2))}));console.log("Enviando para o UPDATE:",JSON.stringify(p,null,2));const{error:y}=await U.from("purchase_products").upsert(p);if(y)throw console.error("Erro no UPDATE de produtos:",y),y}if(g.length>0){const p=g.map(x=>({purchase_id:n,name:x.name,SKU:x.SKU,quantity:x.quantity,cost:parseFloat(((x.cost||0)+h).toFixed(2)),is_verified:!1,is_in_stock:!1,vencimento:null,preco_ml:null,preco_atacado:null}));console.log("Enviando para o INSERT:",JSON.stringify(p,null,2));const{error:y}=await U.from("purchase_products").insert(p);if(y)throw console.error("Erro no INSERT de novos produtos:",y),y}await t().fetchPurchases(),G.showSuccess("Compra atualizada com sucesso!")})},archivePurchase:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("purchases").update({is_archived:!0,updated_at:new Date().toISOString()}).eq("id",n);if(r)throw console.error("Error archiving purchase:",r),r;t().fetchPurchases(),G.showSuccess("Compra arquivada com sucesso!")})},deletePurchase:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.rpc("delete_purchase_and_products",{p_id:n});if(r)throw console.error("Erro ao deletar o pedido de compra:",r),r;e(s=>({purchases:s.purchases.filter(a=>a.id!==n)})),G.showSuccess("Pedido de compra deletado com sucesso!")})},verifyPurchaseProduct:async(n,r,s,a,o)=>{await G.handleAsync(async()=>{var S;const{data:l,error:c}=await U.from("purchase_products").select("vencimento, preco_ml, preco_atacado").eq("id",r).eq("purchase_id",n).single();if(c)throw c;const u=s||(l==null?void 0:l.vencimento),d=a!==void 0?a:l==null?void 0:l.preco_ml,f=o!==void 0?o:l==null?void 0:l.preco_atacado,h=!!u&&d!=null&&f!=null,m={is_verified:h,updated_at:new Date().toISOString()};u!==void 0&&(m.vencimento=u),d!==void 0&&(m.preco_ml=d),f!==void 0&&(m.preco_atacado=f);const{error:g}=await U.from("purchase_products").update(m).eq("id",r).eq("purchase_id",n);if(g)throw console.error("Erro ao verificar produto:",g),g;const{data:p,error:y}=await U.from("purchases").select("status, is_archived, products:purchase_products(*)").eq("id",n).single();if(y)throw y;const x=p,w=x.products.map(N=>N.id===r?{...N,is_verified:h,vencimento:u,preco_ml:d,preco_atacado:f}:N);let j=x.status;if(w.every(N=>N.is_verified))j="Produto entregue e conferido";else{const N=[];w.some(C=>!!C.vencimento)&&N.push("Vencimento"),w.some(C=>C.preco_ml!==void 0&&C.preco_ml!==null)&&N.push("Preo ML"),w.some(C=>C.preco_atacado!==void 0&&C.preco_atacado!==null)&&N.push("Preo Atacado"),N.length>0?j=`Produto entregue - ${N.join(" & ")} conferido(s)`:!x.is_archived&&((S=x.status)!=null&&S.toLowerCase().includes("entregue"))&&(j="Entregue")}await U.from("purchases").update({status:j,updated_at:new Date().toISOString()}).eq("id",n),e(N=>({purchases:N.purchases.map(C=>C.id===n?{...C,status:j,products:w}:C)})),t().fetchPurchases()})},updateProductStatusToInStock:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("purchase_products").update({is_in_stock:!0,updated_at:new Date().toISOString()}).eq("id",r).eq("purchase_id",n);if(s)throw console.error("Erro ao adicionar produto ao estoque:",s),s;e(c=>({purchases:c.purchases.map(u=>u.id===n?{...u,products:(u.products||[]).map(d=>d.id===r?{...d,is_in_stock:!0}:d)}:u)}));const{data:a,error:o}=await U.from("purchase_products").select("is_in_stock").eq("purchase_id",n);if(o)throw console.error("Erro ao buscar produtos para verificao de estoque total:",o),o;(a||[]).every(c=>c.is_in_stock)&&await U.from("purchases").update({status:"Adicionado ao estoque",is_archived:!0,updated_at:new Date().toISOString()}).eq("id",n),t().fetchPurchases()})},addProductToInventory:async n=>{await G.handleAsync(async()=>{const r=je.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");const{data:s,error:a}=await U.from("purchases").select("*, purchase_products(*)").eq("id",n).single();if(a||!s)throw new Error("Compra no encontrada");if(!s.warehouse)throw new Error("Warehouse no especificado na compra. Edite a compra e selecione um warehouse.");const{data:o,error:l}=await U.from("baselinker_warehouses").select("*").eq("workspace_id",r.id).eq("warehouse_id",s.warehouse).eq("is_active",!0).single();if(l||!o)throw new Error(`Warehouse ${s.warehouse} no est ativo ou no existe. Ative o warehouse nas configuraes.`);if(!o.allow_stock_updates)throw new Error(`Warehouse ${o.warehouse_name} no permite atualizaes de estoque.`);const c=`baselinker_config_${r.id}`,u=localStorage.getItem(c);if(!u)throw new Error("Configurao do Baselinker no encontrada. Configure a API Key na pgina de Integraes.");const d=JSON.parse(u),f=d.apiKey,h=d.inventoryId;if(!f||!h)throw new Error("API Key ou Inventory ID do Baselinker no configurado");const m=vi();if(!m)throw new Error("Baselinker no est inicializado");const g=s.purchase_products||[],p=[],y=[];for(const j of g)try{const{data:b,error:S}=await U.from("products").select("id, name, baselinker_product_id").eq("workspace_id",r.id).eq("sku",j.sku).eq("warehouse",s.warehouse).single();if(S||!b||!b.baselinker_product_id){p.push(`Produto ${j.sku} no encontrado no Baselinker ou sem product_id configurado`);continue}await m.addProductQuantity(f,{inventory_id:h,product_id:b.baselinker_product_id,variant_id:"0",quantity:j.quantity}),y.push(`${j.sku}: +${j.quantity}`),await U.from("log_lanamento_estoque").insert({workspace_id:r.id,dia_lancado:new Date().toISOString(),sku:j.sku,quantidade:j.quantity,purchase_id:n,tracking_code:s.tracking_code,estoque_origem:s.warehouse,status:"success"});const{data:N}=await U.from("products").select("stock_quantity").eq("id",b.id).single(),C=(N==null?void 0:N.stock_quantity)||0,_=C+j.quantity;await U.from("stock_change_log").insert({workspace_id:r.id,product_id:b.id,sku:j.sku,change_type:"add",warehouse:s.warehouse,reference_type:"purchase",reference_id:n,quantity_before:C,quantity_after:_,quantity_change:j.quantity,notes:`Compra adicionada ao estoque - ${s.tracking_code}`,created_by:r.id})}catch(b){console.error(`Erro ao adicionar ${j.sku}:`,b),p.push(`${j.sku}: ${b.message}`),await U.from("log_lanamento_estoque").insert({workspace_id:r.id,dia_lancado:new Date().toISOString(),sku:j.sku,quantidade:j.quantity,purchase_id:n,tracking_code:s.tracking_code,estoque_origem:s.warehouse,status:"error",error_message:b.message})}const{error:x}=await U.from("purchase_products").update({is_in_stock:!0,updated_at:new Date().toISOString()}).eq("purchase_id",n);if(x)throw console.error("Erro ao atualizar produtos para 'em estoque':",x),x;const{error:w}=await U.from("purchases").update({is_archived:!0,status:p.length>0?"Parcialmente adicionado":"Adicionado ao estoque",updated_at:new Date().toISOString()}).eq("id",n);if(w)throw console.error("Erro ao adicionar compra ao estoque:",w),w;t().fetchPurchases(),p.length>0?G.showError(`Alguns produtos falharam:
${p.join(`
`)}

Sucessos: ${y.join(", ")}`):G.showSuccess(`Compra adicionada ao estoque!
${y.join(", ")}`)})},verifyTransferProduct:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("transfer_products").update({is_verified:!0,updated_at:new Date().toISOString()}).eq("id",r).eq("transfer_id",n);if(s)throw console.error("Erro ao verificar produto da transferncia:",s),s;const{data:a,error:o}=await U.from("transfer_products").select("is_verified").eq("transfer_id",n);if(o)throw console.error("Erro ao buscar produtos da transferncia:",o),o;((a==null?void 0:a.every(c=>c.is_verified))||!1)&&await U.from("transfers").update({conferido:!0,status:"Conferido",updated_at:new Date().toISOString()}).eq("id",n),t().fetchTransfers(),G.showSuccess("Produto da transferncia verificado com sucesso!")})},addTransferToInventory:async n=>{await G.handleAsync(async()=>{const r=je.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");const{data:s,error:a}=await U.from("transfers").select("*, transfer_products(*)").eq("id",n).single();if(a||!s)throw new Error("Transferncia no encontrada");if(!s.source_stock||!s.destination_stock)throw new Error("Warehouse de origem ou destino no especificado na transferncia.");const{data:o,error:l}=await U.from("baselinker_warehouses").select("*").eq("workspace_id",r.id).eq("warehouse_id",s.source_stock).eq("is_active",!0).single();if(l||!o)throw new Error(`Warehouse de origem ${s.source_stock} no est ativo ou no existe.`);const{data:c,error:u}=await U.from("baselinker_warehouses").select("*").eq("workspace_id",r.id).eq("warehouse_id",s.destination_stock).eq("is_active",!0).single();if(u||!c)throw new Error(`Warehouse de destino ${s.destination_stock} no est ativo ou no existe.`);if(!o.allow_stock_updates||!c.allow_stock_updates)throw new Error("Um dos warehouses no permite atualizaes de estoque.");const d=`baselinker_config_${r.id}`,f=localStorage.getItem(d);if(!f)throw new Error("Configurao do Baselinker no encontrada. Configure a API Key na pgina de Integraes.");const h=JSON.parse(f),m=h.apiKey,g=h.inventoryId;if(!m||!g)throw new Error("API Key ou Inventory ID do Baselinker no configurado");const p=vi();if(!p)throw new Error("Baselinker no est inicializado");const y=s.transfer_products||[],x=[],w=[];for(const S of y)try{const{data:N,error:C}=await U.from("products").select("id, name, baselinker_product_id").eq("workspace_id",r.id).eq("sku",S.sku).eq("warehouse",s.source_stock).single();if(C||!N||!N.baselinker_product_id){x.push(`Produto ${S.sku} no encontrado no warehouse de origem`);continue}const{data:_,error:k}=await U.from("products").select("id, name, baselinker_product_id").eq("workspace_id",r.id).eq("sku",S.sku).eq("warehouse",s.destination_stock).single();if(k||!_||!_.baselinker_product_id){x.push(`Produto ${S.sku} no encontrado no warehouse de destino`);continue}await p.removeProductQuantity(m,{inventory_id:g,product_id:N.baselinker_product_id,variant_id:"0",quantity:S.quantity}),await p.addProductQuantity(m,{inventory_id:g,product_id:_.baselinker_product_id,variant_id:"0",quantity:S.quantity}),w.push(`${S.sku}: ${s.source_stock}  ${s.destination_stock} (${S.quantity})`),await U.from("log_lanamento_transferencia").insert({workspace_id:r.id,dia_lancado:new Date().toISOString(),sku:S.sku,quantidade:S.quantity,tracking_code:s.tracking_code,tipo:"transfer",estoque_origem:s.source_stock,estoque_destino:s.destination_stock,status:"success"});const{data:P}=await U.from("products").select("stock_quantity").eq("id",N.id).single(),A=(P==null?void 0:P.stock_quantity)||0,I=A-S.quantity;await U.from("stock_change_log").insert({workspace_id:r.id,product_id:N.id,sku:S.sku,change_type:"transfer_out",warehouse:s.source_stock,reference_type:"transfer",reference_id:n,quantity_before:A,quantity_after:I,quantity_change:-S.quantity,notes:`Transferncia para ${s.destination_stock} - ${s.tracking_code}`,created_by:r.id});const{data:L}=await U.from("products").select("stock_quantity").eq("id",_.id).single(),E=(L==null?void 0:L.stock_quantity)||0,R=E+S.quantity;await U.from("stock_change_log").insert({workspace_id:r.id,product_id:_.id,sku:S.sku,change_type:"transfer_in",warehouse:s.destination_stock,reference_type:"transfer",reference_id:n,quantity_before:E,quantity_after:R,quantity_change:S.quantity,notes:`Transferncia de ${s.source_stock} - ${s.tracking_code}`,created_by:r.id})}catch(N){console.error(`Erro ao processar transferncia de ${S.sku}:`,N),x.push(`${S.sku}: ${N.message}`),await U.from("log_lanamento_transferencia").insert({workspace_id:r.id,dia_lancado:new Date().toISOString(),sku:S.sku,quantidade:S.quantity,tracking_code:s.tracking_code,tipo:"transfer",estoque_origem:s.source_stock,estoque_destino:s.destination_stock,status:"error",error_message:N.message})}const{error:j}=await U.from("transfer_products").update({is_verified:!0,updated_at:new Date().toISOString()}).eq("transfer_id",n);if(j)throw console.error("Erro ao atualizar produtos da transferncia:",j),j;const{error:b}=await U.from("transfers").update({conferido:!0,in_stock:!0,retirado_stock:!0,status:x.length>0?"Parcialmente lanado":"Lanado no estoque",updated_at:new Date().toISOString()}).eq("id",n);if(b)throw console.error("Erro ao finalizar transferncia:",b),b;t().fetchTransfers(),x.length>0?G.showError(`Alguns produtos falharam:
${x.join(`
`)}

Sucessos: ${w.join(", ")}`):G.showSuccess(`Transferncia lanada no estoque!
${w.join(", ")}`)})},updateTransferStatus:async(n,r,s)=>{await G.handleAsync(async()=>{const a={[r]:s,updated_at:new Date().toISOString()};r==="conferido"&&s?a.status="Conferido":r==="in_stock"&&s&&(a.status="Lanado no estoque");const{error:o}=await U.from("transfers").update(a).eq("id",n);if(o)throw console.error("Erro ao atualizar status da transferncia:",o),o;t().fetchTransfers(),G.showSuccess("Status da transferncia atualizado com sucesso!")})},archiveTransfer:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("transfers").update({is_archived:!0,updated_at:new Date().toISOString()}).eq("id",n);if(r)throw console.error("Error archiving transfer:",r),r;t().fetchTransfers(),G.showSuccess("Transferncia arquivada com sucesso!")})},createReturn:async n=>{await G.handleAsync(async()=>{const r=je.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");const s={date:n.date,carrier:n.carrier,storeName:n.storeName,customer_name:n.customer_name,trackingCode:n.trackingCode,status:"Aguardando rastreamento",is_archived:!1,workspace_id:r.id,metadata:[]},{data:a,error:o}=await U.from("returns").insert(s).select().single();if(o)throw console.error("Error creating return:",o),o;try{a&&await t().updateTrackingStatus("return",a.id)}catch(l){console.warn("Could not update tracking status for new return:",l)}t().fetchReturns(),G.showSuccess("Devoluo criada com sucesso!")})},updateReturn:async(n,r)=>{await G.handleAsync(async()=>{const s={updated_at:new Date().toISOString()};r.date!==void 0&&(s.date=r.date),r.carrier!==void 0&&(s.carrier=r.carrier),r.storeName!==void 0&&(s.storeName=r.storeName),r.customer_name!==void 0&&(s.customer_name=r.customer_name),r.trackingCode!==void 0&&(s.trackingCode=r.trackingCode),r.status!==void 0&&(s.status=r.status),r.estimated_delivery!==void 0&&(s.estimated_delivery=r.estimated_delivery),r.is_archived!==void 0&&(s.is_archived=r.is_archived),r.observations!==void 0&&(s.observations=r.observations),r.is_verified!==void 0&&(s.is_verified=r.is_verified),r.verification_observations!==void 0&&(s.verification_observations=r.verification_observations);const{error:a}=await U.from("returns").update(s).eq("id",n);if(a)throw a;t().fetchReturns(),G.showSuccess("Devoluo atualizada com sucesso!")})},archiveReturn:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("returns").update({is_archived:!0,updated_at:new Date().toISOString()}).eq("id",n);if(r)throw console.error("Error archiving return:",r),r;t().fetchReturns(),G.showSuccess("Devoluo arquivada com sucesso!")})},verifyReturn:async(n,r)=>{await G.handleAsync(async()=>{const s={is_verified:!0,verified_at:new Date().toISOString(),updated_at:new Date().toISOString()};r&&r.trim()!==""&&(s.verification_observations=r);const{error:a}=await U.from("returns").update(s).eq("id",n);if(a)throw console.error("Erro ao verificar devoluo:",a),a;t().fetchReturns(),G.showSuccess("Devoluo conferida com sucesso!")})},createTransfer:async n=>{await G.handleAsync(async()=>{const r=je.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");const s={date:n.date,carrier:n.carrier,storeName:n.storeName,customer_name:n.customer_name,trackingCode:n.trackingCode,source_stock:n.source_stock,destination_stock:n.destination_stock,status:"Aguardando rastreamento",is_archived:!1,workspace_id:r.id,metadata:[]},{data:a,error:o}=await U.from("transfers").insert(s).select().single();if(o)throw console.error("Error creating transfer:",o),o;if(n.products&&n.products.length>0){const l=n.products.map(u=>({transfer_id:a.id,name:u.name,quantity:u.quantity,sku:u.sku||"",is_verified:!1})),{error:c}=await U.from("transfer_products").insert(l);if(c)throw console.error("Error creating transfer products:",c),c}try{a&&await t().updateTrackingStatus("transfer",a.id)}catch(l){console.warn("Could not update tracking status for new transfer:",l)}t().fetchTransfers(),G.showSuccess("Transferncia criada com sucesso!")})},updateTransfer:async(n,r)=>{await G.handleAsync(async()=>{const s={updated_at:new Date().toISOString()};r.date!==void 0&&(s.date=r.date),r.carrier!==void 0&&(s.carrier=r.carrier),r.storeName!==void 0&&(s.storeName=r.storeName),r.customer_name!==void 0&&(s.customer_name=r.customer_name),r.trackingCode!==void 0&&(s.trackingCode=r.trackingCode),r.status!==void 0&&(s.status=r.status),r.estimated_delivery!==void 0&&(s.estimated_delivery=r.estimated_delivery),r.is_archived!==void 0&&(s.is_archived=r.is_archived);const{error:a}=await U.from("transfers").update(s).eq("id",n);if(a)throw a;t().fetchTransfers(),G.showSuccess("Transferncia atualizada com sucesso!")})},updateTrackingStatus:async(n,r)=>{await G.handleAsync(async()=>{const{data:s}=await U.from(n==="purchase"?"purchases":n==="return"?"returns":"transfers").select("trackingCode, carrier").eq("id",r).single();if(!(!s||!s.trackingCode))try{const a=await t().getTrackingInfo(s.carrier,s.trackingCode);if(!a.success||!a.data)throw new Error(a.error||"Falha ao rastrear objeto");await U.from(n==="purchase"?"purchases":n==="return"?"returns":"transfers").update({status:a.data.status,estimated_delivery:a.data.estimatedDelivery,metadata:a.data.history,updated_at:new Date().toISOString()}).eq("id",r),n==="purchase"?t().fetchPurchases():n==="return"?t().fetchReturns():n==="transfer"&&t().fetchTransfers()}catch(a){console.error(`Error updating ${s.carrier} tracking for ${n} ${r}:`,a)}})},findItemByTrackingCode:async n=>await G.handleAsync(async()=>{if(!n)return null;const r=je.getState().currentWorkspace;if(!r)return null;const{data:s}=await U.from("purchases").select("*, products:purchase_products(*), metadata").eq("workspace_id",r.id).eq("trackingCode",n).maybeSingle();if(s)return{type:"purchase",item:{...s,products:(s.products||[]).map(c=>({...c})),metadata:s.metadata,observation:s.observation}};const{data:a}=await U.from("returns").select("*, metadata").eq("workspace_id",r.id).eq("trackingCode",n).maybeSingle();if(a)return{type:"return",item:a};const{data:o}=await U.from("transfers").select("*, metadata").eq("workspace_id",r.id).eq("trackingCode",n).maybeSingle();return o?{type:"transfer",item:o}:null})||null,updateAllTrackingStatuses:async()=>{},getTrackingInfo:async(n,r)=>{try{if(!n||!r)return{success:!1,error:"Transportadora ou cdigo de rastreio no informados"};const s=await QGe(n,r);return s.success?{success:!0,data:ZGe(n,s)}:{success:!1,error:s.message||"Falha ao rastrear objeto"}}catch(s){return console.error("Error tracking package:",s),{success:!1,error:s.message||"Falha ao rastrear objeto"}}}}));function y2({products:e,value:t,onSelect:n,onInputChange:r,selectedWarehouse:s}){const[a,o]=v.useState(!1),[l,c]=v.useState(new Map),u=v.useRef(null),d=v.useRef(null),{currentWorkspace:f}=je(),h=(t==null?void 0:t.name)||"";v.useEffect(()=>{m()},[e,f]);const m=async()=>{if(!(!f||e.length===0))try{const w=e.map(N=>N.SKU||N.sku).filter(Boolean);if(w.length===0)return;const{data:j,error:b}=await U.from("product_stock_by_warehouse").select("sku, warehouse_id, stock_quantity").eq("workspace_id",f.id).in("sku",w);if(b){console.error("Error fetching warehouse stocks:",b);return}const S=new Map;(j||[]).forEach(N=>{S.has(N.sku)||S.set(N.sku,new Map),S.get(N.sku).set(N.warehouse_id,N.stock_quantity)}),c(S)}catch(w){console.error("Error in fetchWarehouseStocks:",w)}},g=v.useMemo(()=>{if(!h||h.length<2)return[];const w=h.toLowerCase().trim(),j=w.split(" ").filter(C=>C.length>0);if(j.length===0)return[];const S=e.map(C=>{var P;const _=((P=C.name)==null?void 0:P.toLowerCase())||"";let k=0;return _.includes(w)?k=2:j.every(A=>_.includes(A))&&(k=1),{product:C,score:k}}).filter(C=>C.score>0).sort((C,_)=>_.score-C.score).map(C=>C.product);return S.length===0?[]:S.some(C=>{var _;return(_=C.name)==null?void 0:_.toLowerCase().includes("sabor")})?S.filter(C=>{var _;return(_=C.name)==null?void 0:_.toLowerCase().includes("sabor")}):S},[h,e]);v.useEffect(()=>{h.length>=2&&g.length>0?o(!0):o(!1)},[h,g.length]),v.useEffect(()=>{const w=j=>{u.current&&!u.current.contains(j.target)&&o(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w),o(!1)}},[]);const p=w=>{const j={...w,SKU:w.SKU||w.sku||""};o(!1),n(j)},y=w=>{r(w.target.value)},x=w=>{const j=w.SKU||w.sku||"",b=l.get(j);if(!b||b.size===0){if(s){const k=w.stock_es??0,P=w.stock_sp??0;return s.toLowerCase().includes("es")?`Estoque: ${k}`:s.toLowerCase().includes("sp")?`Estoque: ${P}`:`ES: ${k} | SP: ${P}`}const C=w.stock_es??0,_=w.stock_sp??0;return`ES: ${C} | SP: ${_}`}if(s)return`Estoque: ${b.get(s)??0}`;const S=Array.from(b.values()).reduce((C,_)=>C+_,0),N=b.size;return N===1?`Estoque: ${S}`:`Total: ${S} (${N} warehouses)`};return i.jsxs("div",{ref:u,className:"relative w-full",children:[i.jsx(ie,{ref:d,type:"text",placeholder:"Digite para buscar um produto (mnimo 2 letras)...",value:h,onChange:y,onFocus:()=>{h.length>=2&&g.length>0&&o(!0)},className:"w-full",autoComplete:"off"}),a&&g.length>0&&i.jsx("div",{className:"absolute z-[9999] w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-[300px] overflow-y-auto",children:i.jsx("div",{className:"py-1",children:g.map(w=>i.jsx("div",{onClick:()=>p(w),className:"px-3 py-2 cursor-pointer hover:bg-gray-100 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:w.name}),i.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap flex-shrink-0",children:x(w)})]})},w.id))})})]})}function eKe({open:e,onOpenChange:t}){const[n,r]=v.useState({date:new Date().toISOString().split("T")[0],carrier:"",storeName:"",customer_name:"",trackingCode:"",delivery_fee:0,observation:"",warehouse:""}),[s,a]=v.useState([{name:"",quantity:1,cost:0,SKU:""}]),[o,l]=v.useState([]),[c,u]=v.useState(!1),{createPurchase:d}=xf(),{products:f,fetchProducts:h}=Or(),{currentWorkspace:m}=je(),{toast:g}=Zn();v.useEffect(()=>{e&&(h(),p())},[e,h]);const p=async()=>{if(m)try{const{data:S,error:N}=await U.from("baselinker_warehouses").select("warehouse_id, warehouse_name").eq("workspace_id",m.id);if(N)throw N;l(S||[])}catch(S){console.error("Error fetching warehouses:",S)}},y=()=>{a([...s,{name:"",quantity:1,cost:0,SKU:""}])},x=S=>{a(s.filter((N,C)=>C!==S))},w=(S,N,C)=>{const _=[...s],k=_[S];k&&(k[N]=C,a(_))},j=(S,N)=>{const C=[...s];C[S]={...C[S],id:N.id,name:N.name,SKU:N.SKU||""},a(C)},b=async S=>{if(S.preventDefault(),!n.date||!n.carrier||!n.storeName||!n.trackingCode||n.delivery_fee<0){g({title:"Erro",description:"Por favor, preencha todos os campos obrigatrios da compra",variant:"destructive"});return}if(!n.warehouse){g({title:"Erro",description:"Por favor, selecione o warehouse de destino",variant:"destructive"});return}if(s.length===0||s.some(N=>!N.name||!N.SKU||(N.quantity??0)<=0||(N.cost??-1)<0)){g({title:"Erro",description:"Por favor, preencha corretamente todos os produtos (Nome, SKU, Quantidade e Custo)",variant:"destructive"});return}u(!0);try{await d(n,s),r({date:new Date().toISOString().split("T")[0],carrier:"",storeName:"",customer_name:"",trackingCode:"",delivery_fee:0,observation:"",warehouse:""}),a([{name:"",quantity:1,cost:0,SKU:""}]),t(!1),g({title:"Sucesso",description:"Compra criada com sucesso"})}catch(N){console.error("Error creating purchase:",N),g({title:"Erro",description:"Falha ao criar compra",variant:"destructive"})}finally{u(!1)}};return i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Nova Compra"}),i.jsx(ft,{children:"Adicione uma nova compra para rastreamento"})]}),i.jsxs("form",{onSubmit:b,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"date",className:"flex items-center gap-2",children:[i.jsx(Li,{className:"h-4 w-4 text-gray-500"}),"Data de Compra *"]}),i.jsx(ie,{id:"date",type:"date",value:n.date,onChange:S=>r({...n,date:S.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"carrier",className:"flex items-center gap-2",children:[i.jsx(cc,{className:"h-4 w-4 text-gray-500"})," Transportadora *"]}),i.jsxs(Oe,{value:n.carrier||"",onValueChange:S=>r({...n,carrier:S}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione a transportadora"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"Correios",children:"Correios"}),i.jsx(K,{value:"Jadlog",children:"Jadlog"}),i.jsx(K,{value:"Total Express",children:"Total Express"}),i.jsx(K,{value:"Azul Cargo",children:"Azul Cargo"}),i.jsx(K,{value:"Braspress",children:"Braspress"}),i.jsx(K,{value:"Outra",children:"Outra"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"storeName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"})," Nome da Loja *"]}),i.jsx(ie,{id:"storeName",value:n.storeName,onChange:S=>r({...n,storeName:S.target.value}),placeholder:"Ex: Mercado Livre",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"customerName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"})," Nome do Cliente (Opcional)"]}),i.jsx(ie,{id:"customerName",value:n.customer_name,onChange:S=>r({...n,customer_name:S.target.value}),placeholder:"Ex: Joo Silva"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"trackingCode",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"})," Cdigo de Rastreio *"]}),i.jsx(ie,{id:"trackingCode",value:n.trackingCode,onChange:S=>r({...n,trackingCode:S.target.value}),placeholder:"Ex: AA123456789BR",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"deliveryFee",className:"flex items-center gap-2",children:[i.jsx(ic,{className:"h-4 w-4 text-gray-500"})," Taxa de Entrega *"]}),i.jsx(ie,{id:"deliveryFee",type:"number",min:"0",step:"0.01",value:n.delivery_fee,onChange:S=>r({...n,delivery_fee:parseFloat(S.target.value)||0}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"warehouse",className:"flex items-center gap-2",children:[i.jsx(Mu,{className:"h-4 w-4 text-gray-500"})," Warehouse de Destino *"]}),i.jsxs(Oe,{value:n.warehouse||"",onValueChange:S=>r({...n,warehouse:S}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione o warehouse"})}),i.jsx(Te,{children:o.length===0?i.jsx(K,{value:"none",disabled:!0,children:"Nenhum warehouse ativo configurado"}):o.map(S=>i.jsx(K,{value:S.warehouse_id,children:S.warehouse_name},S.warehouse_id))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"observation",className:"flex items-center gap-2",children:[i.jsx(ma,{className:"h-4 w-4 text-gray-500"})," Observao (Opcional)"]}),i.jsx(vt,{id:"observation",value:n.observation,onChange:S=>r({...n,observation:S.target.value}),placeholder:"Adicione observaes sobre a compra...",rows:3})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Produtos"}),i.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:y,children:[i.jsx(tn,{className:"h-4 w-4 mr-2"})," Adicionar Produto"]})]}),s.map((S,N)=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border rounded-lg items-end",children:[i.jsxs("div",{className:"md:col-span-2 space-y-2",children:[i.jsx(Y,{children:"Nome do Produto *"}),i.jsx(y2,{products:f,value:S,onSelect:C=>j(N,C),onInputChange:C=>w(N,"name",C),selectedWarehouse:n.warehouse})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{children:"SKU *"}),i.jsx(ie,{value:S.SKU||"",placeholder:"Selecione um produto",readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{children:"Quantidade *"}),i.jsx(ie,{type:"number",min:"1",value:S.quantity||1,onChange:C=>w(N,"quantity",parseInt(C.target.value)||1),required:!0})]}),i.jsxs("div",{className:"space-y-2 flex items-end gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(Y,{children:"Custo Unitrio *"}),i.jsx(ie,{type:"number",min:"0",step:"0.01",value:S.cost||0,onChange:C=>w(N,"cost",parseFloat(C.target.value)||0),required:!0})]}),s.length>1&&i.jsx(B,{type:"button",variant:"destructive",size:"icon",onClick:()=>x(N),children:i.jsx(Ks,{className:"h-4 w-4"})})]})]},N))]}),i.jsxs(yt,{children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:c,children:c?"Criando...":"Criar Compra"})]})]})]})})}function tKe({open:e,onOpenChange:t,purchase:n}){const[r,s]=v.useState({date:"",carrier:"",storeName:"",customer_name:"",trackingCode:"",delivery_fee:0,observation:"",warehouse:""}),[a,o]=v.useState([]),[l,c]=v.useState([]),[u,d]=v.useState(!1),{updatePurchase:f}=xf(),{products:h,fetchProducts:m}=Or(),{currentWorkspace:g}=je(),{toast:p}=Zn();v.useEffect(()=>{n&&(s({date:new Date(n.date).toISOString().split("T")[0],carrier:n.carrier||"",storeName:n.storeName||"",customer_name:n.customer_name||"",trackingCode:n.trackingCode||"",delivery_fee:n.delivery_fee||0,observation:n.observation||"",warehouse:n.warehouse||""}),o(structuredClone(n.products||[]))),e&&(m(),y())},[n,e,m]);const y=async()=>{if(g)try{const{data:C,error:_}=await U.from("baselinker_warehouses").select("warehouse_id, warehouse_name").eq("workspace_id",g.id).eq("is_active",!0).eq("allow_stock_updates",!0);if(_)throw _;c(C||[])}catch(C){console.error("Error fetching warehouses:",C)}},x=()=>{const C="802061",_=prompt("Para confirmar esta ao, por favor, digite a senha:");return _===C?!0:(_!==null&&p({title:"Senha Incorreta",description:"A operao no foi autorizada.",variant:"destructive"}),!1)},w=()=>o([...a,{name:"",quantity:1,cost:0,SKU:""}]),j=C=>{x()&&o(a.filter((_,k)=>k!==C))},b=(C,_,k)=>{o(P=>{const A=[...P],I=A[C];return I&&(I[_]=k),A})},S=(C,_)=>{o(k=>{const P=[...k],A=P[C];return A&&(P[C]={...A,name:_.name,SKU:_.SKU||""}),P})},N=async C=>{if(C.preventDefault(),!n||(console.log("Estado dos produtos antes de salvar:",JSON.stringify(a,null,2)),!x()))return;if(!r.date||!r.carrier||!r.storeName||!r.trackingCode){p({title:"Erro de Validao",description:"Por favor, preencha todos os campos da compra.",variant:"destructive"});return}const _=a.find(k=>!k.name||!k.SKU||!(k.quantity&&k.quantity>0));if(_){p({title:"Erro nos Produtos",description:`Por favor, verifique o produto "${_.name||"novo"}". Todos os produtos devem ter Nome, SKU e Quantidade maior que zero.`,variant:"destructive",duration:5e3});return}d(!0);try{console.log("Enviando para updatePurchase:",{purchaseId:n.id,formData:r,products:a}),await f(n.id,r,a),t(!1)}catch(k){console.error("Falha ao submeter a atualizao:",k),p({title:"Erro ao Salvar",description:k.message||"Ocorreu um erro inesperado.",variant:"destructive"})}finally{d(!1)}};return i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsxs(nt,{children:["Editar Compra #",n==null?void 0:n.id]}),i.jsx(ft,{children:"Altere a quantidade dos produtos ou adicione novos itens  compra."})]}),i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"date",className:"flex items-center gap-2",children:[i.jsx(Li,{className:"h-4 w-4 text-gray-500"})," Data de Compra *"]}),i.jsx(ie,{id:"date",type:"date",value:r.date,onChange:C=>s({...r,date:C.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"carrier",className:"flex items-center gap-2",children:[i.jsx(cc,{className:"h-4 w-4 text-gray-500"})," Transportadora *"]}),i.jsxs(Oe,{value:r.carrier||"",onValueChange:C=>s({...r,carrier:C}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione a transportadora"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"Correios",children:"Correios"}),i.jsx(K,{value:"Jadlog",children:"Jadlog"}),i.jsx(K,{value:"Total Express",children:"Total Express"}),i.jsx(K,{value:"Azul Cargo",children:"Azul Cargo"}),i.jsx(K,{value:"Braspress",children:"Braspress"}),i.jsx(K,{value:"Outra",children:"Outra"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"storeName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"})," Nome da Loja *"]}),i.jsx(ie,{id:"storeName",value:r.storeName,onChange:C=>s({...r,storeName:C.target.value}),placeholder:"Ex: Mercado Livre",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"customerName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"})," Nome do Cliente (Opcional)"]}),i.jsx(ie,{id:"customerName",value:r.customer_name,onChange:C=>s({...r,customer_name:C.target.value}),placeholder:"Ex: Joo Silva"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"trackingCode",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"})," Cdigo de Rastreio *"]}),i.jsx(ie,{id:"trackingCode",value:r.trackingCode,onChange:C=>s({...r,trackingCode:C.target.value}),placeholder:"Ex: AA123456789BR",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"deliveryFee",className:"flex items-center gap-2",children:[i.jsx(ic,{className:"h-4 w-4 text-gray-500"})," Taxa de Entrega *"]}),i.jsx(ie,{id:"deliveryFee",type:"number",min:"0",step:"0.01",value:r.delivery_fee,onChange:C=>s({...r,delivery_fee:parseFloat(C.target.value)||0}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"warehouse",className:"flex items-center gap-2",children:[i.jsx(Mu,{className:"h-4 w-4 text-gray-500"})," Warehouse de Destino *"]}),i.jsxs(Oe,{value:r.warehouse||"",onValueChange:C=>s({...r,warehouse:C}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione o warehouse"})}),i.jsx(Te,{children:l.length===0?i.jsx(K,{value:"none",disabled:!0,children:"Nenhum warehouse ativo configurado"}):l.map(C=>i.jsx(K,{value:C.warehouse_id,children:C.warehouse_name},C.warehouse_id))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"observation",className:"flex items-center gap-2",children:[i.jsx(ma,{className:"h-4 w-4 text-gray-500"})," Observao (Opcional)"]}),i.jsx(vt,{id:"observation",value:r.observation,onChange:C=>s({...r,observation:C.target.value}),placeholder:"Alguma observao sobre a compra...",rows:3})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Produtos"}),i.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:w,children:[i.jsx(tn,{className:"h-4 w-4 mr-2"})," Adicionar Novo Produto"]})]}),i.jsx(zy,{children:a.map((C,_)=>{const k=!!C.id,P=!!C.is_verified||!!C.is_in_stock;return i.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border rounded-lg items-end ${k?"bg-gray-50/50":""}`,children:[i.jsxs("div",{className:"md:col-span-2 space-y-2",children:[i.jsx(Y,{children:"Nome do Produto *"}),k?i.jsx("div",{className:"flex items-center h-10 w-full rounded-md border border-input bg-gray-100 px-3 py-2 text-sm text-gray-500 cursor-not-allowed",children:C.name||""}):i.jsx(y2,{products:h,value:C,onSelect:A=>S(_,A),onInputChange:A=>b(_,"name",A)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{children:"SKU *"}),i.jsx(ie,{value:C.SKU||"",disabled:!0,className:"cursor-not-allowed"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{className:"flex items-center gap-1",children:["Quantidade * ",P&&i.jsxs(Wy,{children:[i.jsx(Vy,{children:i.jsx(k6,{className:"h-3 w-3 text-gray-400"})}),i.jsx(wm,{children:"Este item no pode ser alterado pois j foi conferido ou adicionado ao estoque."})]})]}),i.jsx(ie,{type:"number",min:"1",value:C.quantity||1,onChange:A=>b(_,"quantity",parseInt(A.target.value,10)||1),disabled:P,className:P?"cursor-not-allowed bg-gray-100":""})]}),i.jsxs("div",{className:"space-y-2 flex items-end gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs(Y,{className:"flex items-center gap-1",children:[k&&i.jsx(Xoe,{className:"h-3 w-3 text-gray-400"})," Custo Unitrio *"]}),i.jsx(ie,{type:"number",min:"0",step:"0.01",value:C.cost||0,onChange:A=>b(_,"cost",parseFloat(A.target.value)||0),disabled:k,className:k?"cursor-not-allowed":""})]}),!P&&i.jsx(B,{type:"button",variant:"destructive",size:"icon",onClick:()=>j(_),children:i.jsx(Ks,{className:"h-4 w-4"})})]})]},C.id||`new-${_}`)})})]}),i.jsxs(yt,{children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:u,children:u?"Salvando...":"Salvar Alteraes"})]})]})]})})}function nKe({open:e,onOpenChange:t}){const[n,r]=v.useState({date:new Date().toISOString().split("T")[0],carrier:"",storeName:"",customer_name:"",trackingCode:"",observations:""}),[s,a]=v.useState(!1),{createReturn:o}=xf(),{toast:l}=Zn(),c=async u=>{if(u.preventDefault(),!n.date||!n.carrier||!n.storeName||!n.customer_name||!n.trackingCode){l({title:"Erro",description:"Por favor, preencha todos os campos obrigatrios",variant:"destructive"});return}a(!0);try{await o({...n,customerName:n.customer_name}),r({date:new Date().toISOString().split("T")[0],carrier:"",storeName:"",customer_name:"",trackingCode:"",observations:""}),t(!1),l({title:"Sucesso",description:"Devoluo criada com sucesso"})}catch(d){console.error("Error creating return:",d),l({title:"Erro",description:"Falha ao criar devoluo",variant:"destructive"})}finally{a(!1)}};return i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Nova Devoluo"}),i.jsx(ft,{children:"Adicione uma nova devoluo para rastreamento"})]}),i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"date",className:"flex items-center gap-2",children:[i.jsx(Li,{className:"h-4 w-4 text-gray-500"}),"Data de Devoluo *"]}),i.jsx(ie,{id:"date",type:"date",value:n.date,onChange:u=>r({...n,date:u.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"carrier",className:"flex items-center gap-2",children:[i.jsx(cc,{className:"h-4 w-4 text-gray-500"})," Transportadora *"]}),i.jsxs(Oe,{modal:!1,value:n.carrier||"",onValueChange:u=>r({...n,carrier:u}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione a transportadora"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"Correios",children:"Correios"}),i.jsx(K,{value:"Jadlog",children:"Jadlog"}),i.jsx(K,{value:"Total Express",children:"Total Express"}),i.jsx(K,{value:"Azul Cargo",children:"Azul Cargo"}),i.jsx(K,{value:"Braspress",children:"Braspress"}),i.jsx(K,{value:"Outra",children:"Outra"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"storeName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"}),"Nome da Loja *"]}),i.jsx(ie,{id:"storeName",value:n.storeName,onChange:u=>r({...n,storeName:u.target.value}),placeholder:"Ex: Mercado Livre",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"customerName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"}),"Nome do Cliente *"]}),i.jsx(ie,{id:"customerName",value:n.customer_name,onChange:u=>r({...n,customer_name:u.target.value}),placeholder:"Ex: Joo Silva",required:!0})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsxs(Y,{htmlFor:"trackingCode",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"}),"Cdigo de Rastreio *"]}),i.jsx(ie,{id:"trackingCode",value:n.trackingCode,onChange:u=>r({...n,trackingCode:u.target.value}),placeholder:"Ex: AA123456789BR",required:!0})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsxs(Y,{htmlFor:"observations",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"}),"Observaes (Opcional)"]}),i.jsx(vt,{id:"observations",value:n.observations||"",onChange:u=>r({...n,observations:u.target.value}),placeholder:"Adicione observaes sobre esta devoluo...",rows:3})]})]}),i.jsxs(yt,{children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:s,children:s?"Criando...":"Criar Devoluo"})]})]})]})})}function rKe({open:e,onOpenChange:t}){const[n,r]=v.useState({date:new Date().toISOString().split("T")[0],carrier:"",storeName:"",customer_name:"",trackingCode:"",source_stock:"",destination_stock:""}),[s,a]=v.useState([{name:"",quantity:1,sku:""}]),[o,l]=v.useState([]),[c,u]=v.useState(!1),{createTransfer:d}=xf(),{products:f,fetchProducts:h}=Or(),{currentWorkspace:m}=je(),{toast:g}=Zn();v.useEffect(()=>{e&&(h(),p())},[e,h]);const p=async()=>{if(m)try{const{data:S,error:N}=await U.from("baselinker_warehouses").select("warehouse_id, warehouse_name").eq("workspace_id",m.id);if(N)throw N;l(S||[])}catch(S){console.error("Error fetching warehouses:",S)}},y=()=>{a([...s,{name:"",quantity:1,sku:""}])},x=S=>{a(s.filter((N,C)=>C!==S))},w=(S,N,C)=>{const _=[...s],k=_[S];k&&(k[N]=C,a(_))},j=(S,N)=>{const C=[...s];C[S]={...C[S],name:N.name,sku:N.SKU||N.sku||""},a(C)},b=async S=>{if(S.preventDefault(),!n.date||!n.carrier||!n.storeName||!n.customer_name||!n.trackingCode){g({title:"Erro",description:"Por favor, preencha todos os campos obrigatrios da transferncia",variant:"destructive"});return}if(!n.source_stock||!n.destination_stock){g({title:"Erro",description:"Por favor, selecione os estoques de origem e destino",variant:"destructive"});return}if(n.source_stock===n.destination_stock){g({title:"Erro",description:"O estoque de origem deve ser diferente do estoque de destino",variant:"destructive"});return}if(s.length===0||s.some(N=>!N.name||!N.sku||N.quantity<=0)){g({title:"Erro",description:"Por favor, adicione pelo menos um produto vlido (Nome, SKU e Quantidade)",variant:"destructive"});return}u(!0);try{await d({...n,customerName:n.customer_name,products:s}),r({date:new Date().toISOString().split("T")[0],carrier:"",storeName:"",customer_name:"",trackingCode:"",source_stock:"",destination_stock:""}),a([{name:"",quantity:1,sku:""}]),t(!1),g({title:"Sucesso",description:"Transferncia criada com sucesso"})}catch(N){console.error("Error creating transfer:",N),g({title:"Erro",description:"Falha ao criar transferncia",variant:"destructive"})}finally{u(!1)}};return i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Nova Transferncia"}),i.jsx(ft,{children:"Adicione uma nova transferncia entre estoques para rastreamento"})]}),i.jsxs("form",{onSubmit:b,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"date",className:"flex items-center gap-2",children:[i.jsx(Li,{className:"h-4 w-4 text-gray-500"}),"Data de Transferncia *"]}),i.jsx(ie,{id:"date",type:"date",value:n.date,onChange:S=>r({...n,date:S.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"carrier",className:"flex items-center gap-2",children:[i.jsx(cc,{className:"h-4 w-4 text-gray-500"}),"Transportadora *"]}),i.jsxs(Oe,{value:n.carrier,onValueChange:S=>r({...n,carrier:S}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione a transportadora"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"Correios",children:"Correios"}),i.jsx(K,{value:"Jadlog",children:"Jadlog"}),i.jsx(K,{value:"Total Express",children:"Total Express"}),i.jsx(K,{value:"Azul Cargo",children:"Azul Cargo"}),i.jsx(K,{value:"Braspress",children:"Braspress"}),i.jsx(K,{value:"Outra",children:"Outra"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"storeName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"}),"Nome da Loja *"]}),i.jsx(ie,{id:"storeName",value:n.storeName,onChange:S=>r({...n,storeName:S.target.value}),placeholder:"Ex: Mercado Livre",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"customerName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"}),"Nome do Cliente *"]}),i.jsx(ie,{id:"customerName",value:n.customer_name,onChange:S=>r({...n,customer_name:S.target.value}),placeholder:"Ex: Joo Silva",required:!0})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsxs(Y,{htmlFor:"trackingCode",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"}),"Cdigo de Rastreio *"]}),i.jsx(ie,{id:"trackingCode",value:n.trackingCode,onChange:S=>r({...n,trackingCode:S.target.value}),placeholder:"Ex: AA123456789BR",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"sourceStock",className:"flex items-center gap-2",children:[i.jsx(Dy,{className:"h-4 w-4 text-blue-600"}),"Warehouse de Origem *"]}),i.jsxs(Oe,{value:n.source_stock,onValueChange:S=>r({...n,source_stock:S}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione o warehouse de origem"})}),i.jsx(Te,{children:o.length===0?i.jsx(K,{value:"none",disabled:!0,children:"Nenhum warehouse configurado"}):o.map(S=>i.jsx(K,{value:S.warehouse_id,children:S.warehouse_name},S.warehouse_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"destinationStock",className:"flex items-center gap-2",children:[i.jsx(Dy,{className:"h-4 w-4 text-blue-600"}),"Warehouse de Destino *"]}),i.jsxs(Oe,{value:n.destination_stock,onValueChange:S=>r({...n,destination_stock:S}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione o warehouse de destino"})}),i.jsx(Te,{children:o.length===0?i.jsx(K,{value:"none",disabled:!0,children:"Nenhum warehouse configurado"}):o.filter(S=>S.warehouse_id!==n.source_stock).map(S=>i.jsx(K,{value:S.warehouse_id,children:S.warehouse_name},S.warehouse_id))})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Produtos em Transferncia"}),i.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:y,children:[i.jsx(tn,{className:"h-4 w-4 mr-2"}),"Adicionar Produto"]})]}),s.map((S,N)=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg items-end",children:[i.jsxs("div",{className:"md:col-span-2 space-y-2",children:[i.jsx(Y,{children:"Nome do Produto *"}),i.jsx(y2,{products:f,value:S,onSelect:C=>j(N,C),onInputChange:C=>w(N,"name",C),selectedWarehouse:n.source_stock})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{children:"SKU *"}),i.jsx(ie,{value:S.sku||"",placeholder:"Selecione um produto",readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]}),i.jsxs("div",{className:"space-y-2 flex items-end gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(Y,{children:"Quantidade *"}),i.jsx(ie,{type:"number",min:"1",value:S.quantity||1,onChange:C=>w(N,"quantity",parseInt(C.target.value)||1),required:!0})]}),s.length>1&&i.jsx(B,{type:"button",variant:"destructive",size:"icon",onClick:()=>x(N),children:i.jsx(Ks,{className:"h-4 w-4"})})]})]},N))]}),i.jsxs(yt,{children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:c,children:c?"Criando...":"Criar Transferncia"})]})]})]})})}const Nv=[{value:"principal",label:"Estoque Principal"},{value:"secundario",label:"Estoque Secundrio"},{value:"deposito",label:"Depsito"},{value:"loja",label:"Loja Fsica"}];function sKe({open:e,onOpenChange:t,item:n,type:r}){const[s,a]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState(""),[d,f]=v.useState(""),[h,m]=v.useState(!1),[g,p]=v.useState(""),{verifyPurchaseProduct:y,addProductToInventory:x,updateTrackingStatus:w,archivePurchase:j,archiveReturn:b,archiveTransfer:S,verifyReturn:N,verifyTransferProduct:C}=xf(),{toast:_}=Zn();if(v.useEffect(()=>{e&&(l(""),u(""),f(""),m(!1),p(""))},[e]),!n||!r)return null;const k=async($,z,W,H,V)=>{try{await y($,z,W,H,V),_({title:"Produto Conferido",description:"O produto foi marcado como conferido com sucesso."}),l(""),u(""),f("")}catch(te){console.error("Error verifying product:",te),_({title:"Erro",description:"No foi possvel conferir o produto.",variant:"destructive"})}},P=async($,z)=>{try{await C($,z),_({title:"Produto Conferido",description:"O produto da transferncia foi marcado como conferido."})}catch(W){console.error("Error verifying transfer product:",W),_({title:"Erro",description:"No foi possvel conferir o produto da transferncia.",variant:"destructive"})}},A=async($,z)=>{try{await N($,z),_({title:"Devoluo Conferida",description:"A devoluo foi marcada como conferida com sucesso."}),m(!1),p("")}catch(W){console.error("Error verifying return:",W),_({title:"Erro",description:"No foi possvel conferir a devoluo.",variant:"destructive"})}},I=async($,z)=>{try{z==="purchase"?await j($):z==="return"?await b($):await S($),_({title:"Item Arquivado",description:"O item foi movido para os arquivados."}),t(!1)}catch(W){console.error("Error archiving item:",W),_({title:"Erro",description:"No foi possvel arquivar o item.",variant:"destructive"})}},L=async()=>{if(!(!n||!r)){a(!0);try{await w(r,n.id),_({title:"Status Atualizado",description:"O status de rastreamento foi atualizado com sucesso."})}catch($){console.error("Erro ao atualizar rastreio:",$),_({title:"Erro",description:"No foi possvel atualizar o status de rastreio.",variant:"destructive"})}finally{a(!1)}}},E=$=>{const z=($||"").toLowerCase();return z.includes("problema")||z.includes("extraviado")||z.includes("cancelado")||z.includes("no entregue - carteiro no atendido")?"bg-red-100 text-red-800":z.includes("entregue")||z.includes("conferido")||z.includes("estoque")?"bg-green-100 text-green-800":z.includes("trnsito")||z.includes("processamento")?"bg-blue-100 text-blue-800":z.includes("aguardando")||z.includes("pendente")?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"},R=$=>{var H,V;const z="source_stock"in $,W="products"in $&&!z;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(cc,{className:"h-4 w-4"}),i.jsx("span",{children:"Transportadora:"})]}),i.jsx("p",{className:"font-medium",children:$.carrier||"No informada"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Tt,{className:"h-4 w-4"}),i.jsx("span",{children:"Loja:"})]}),i.jsx("p",{className:"font-medium",children:$.storeName||"No informada"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Tt,{className:"h-4 w-4"}),i.jsx("span",{children:"Cliente:"})]}),i.jsx("p",{className:"font-medium",children:$.customer_name||"No informado"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Tt,{className:"h-4 w-4"}),i.jsx("span",{children:"Cdigo de Rastreio:"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-medium",children:$.trackingCode||"No informado"}),$.trackingCode&&i.jsx("a",{href:qh($.carrier,$.trackingCode),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600",children:i.jsx(Fp,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Tt,{className:"h-4 w-4"}),i.jsx("span",{children:"Status:"})]}),i.jsx(fe,{className:`${E($.status)} border-transparent`,children:$.status||"No informado"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Li,{className:"h-4 w-4"}),i.jsx("span",{children:"Previso de Entrega:"})]}),i.jsx("p",{className:"font-medium",children:$!=null&&$.estimated_delivery?new Date($.estimated_delivery).toLocaleDateString("pt-BR"):"No disponvel"})]}),z&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Dy,{className:"h-4 w-4"}),i.jsx("span",{children:"Estoque de Origem:"})]}),i.jsx("p",{className:"font-medium",children:((H=Nv.find(te=>te.value===$.source_stock))==null?void 0:H.label)||$.source_stock})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Dy,{className:"h-4 w-4"}),i.jsx("span",{children:"Estoque de Destino:"})]}),i.jsx("p",{className:"font-medium",children:((V=Nv.find(te=>te.value===$.destination_stock))==null?void 0:V.label)||$.destination_stock})]})]})]}),W&&$.observation&&i.jsxs("div",{className:"space-y-2 mt-4",children:[i.jsxs("h4",{className:"font-medium flex items-center gap-2 text-muted-foreground",children:[i.jsx(ma,{className:"h-4 w-4"})," Observaes da Compra:"]}),i.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:$.observation})]}),W&&O($),z&&F($),r==="return"&&D($)]})},O=$=>{var V,te,ne;const z=()=>{var Z;const X=((Z=$.products)==null?void 0:Z.reduce((ae,ce)=>ae+ce.cost*ce.quantity,0))||0,ee=$.delivery_fee||0;return X+ee},W=((V=$.products)==null?void 0:V.every(X=>X.is_verified))||!1,H=(te=$.status)==null?void 0:te.toLowerCase().includes("estoque");return i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Produtos"}),i.jsx("div",{className:"space-y-3",children:(ne=$.products)==null?void 0:ne.map(X=>i.jsx("div",{className:`p-4 border rounded-lg ${X.is_verified?X.is_in_stock?"bg-green-50 border-green-200":"bg-cyan-50 border-cyan-200":"bg-transparent"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold",children:[X.name||`Item ${X.id}`,X.SKU&&` - ${X.SKU}`]}),i.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-1 mt-1 text-sm text-muted-foreground",children:[i.jsxs("span",{children:["Quantidade: ",i.jsx("span",{className:"font-medium text-foreground",children:X.quantity||0})]}),i.jsxs("span",{children:["Custo: ",i.jsxs("span",{className:"font-medium text-foreground",children:["R$ ",(X.cost||0).toFixed(2)]})]}),i.jsxs("span",{children:["Total: ",i.jsxs("span",{className:"font-medium text-foreground",children:["R$ ",((X.cost||0)*(X.quantity||0)).toFixed(2)]})]}),X.vencimento&&i.jsxs("span",{children:["Vencimento: ",i.jsx("span",{className:"font-medium text-foreground",children:new Date(X.vencimento).toLocaleDateString("pt-BR")})]}),X.preco_ml&&i.jsxs("span",{children:["Preo ML: ",i.jsxs("span",{className:"font-medium text-foreground",children:["R$ ",(X.preco_ml||0).toFixed(2)]})]}),X.preco_atacado&&i.jsxs("span",{children:["Preo Atacado: ",i.jsxs("span",{className:"font-medium text-foreground",children:["R$ ",(X.preco_atacado||0).toFixed(2)]})]})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:X.is_verified?X.is_in_stock?i.jsxs(fe,{className:"bg-green-100 text-green-800 py-2 px-3 border-transparent pointer-events-none",children:[i.jsx(nu,{className:"h-4 w-4 mr-2"})," No Estoque"]}):i.jsxs(B,{variant:"outline",size:"sm",className:"bg-white cursor-default pointer-events-none",children:[i.jsx(Eh,{className:"h-4 w-4 mr-2 text-green-600"})," Conferido"]}):i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{l(X.vencimento||""),u(X.preco_ml||""),f(X.preco_atacado||"")},children:[i.jsx(Bj,{className:"h-4 w-4 mr-2"})," Conferir"]})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsxs(on,{children:["Confirmar Produto: ",X.name]}),i.jsx(ln,{children:"Para marcar o produto como conferido, insira os preos e a data de vencimento."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"vencimento-date",className:"flex items-center gap-2 text-sm font-medium",children:[i.jsx(Li,{className:"h-4 w-4 text-gray-500"}),"Data de Vencimento:"]}),i.jsx(ie,{id:"vencimento-date",type:"date",value:o,onChange:ee=>l(ee.target.value),tabIndex:0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"preco-ml",className:"flex items-center gap-2 text-sm font-medium",children:[i.jsx(ic,{className:"h-4 w-4 text-gray-500"}),"Preo do produto - Mercado Livre:"]}),i.jsx(ie,{id:"preco-ml",type:"number",step:"0.10",value:c,onChange:ee=>u(ee.target.value===""?"":parseFloat(ee.target.value)),placeholder:"R$ 0.00",tabIndex:0}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(B,{type:"button",variant:"secondary",onClick:()=>u(ee=>ee!==""&&ee>50?ee-50:0),children:"-50"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>u(ee=>ee!==""&&ee>10?ee-10:0),children:"-10"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>u(ee=>ee!==""&&ee>1?ee-1:0),children:"-1"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>u(ee=>(ee!==""?ee:0)+1),children:"+1"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>u(ee=>(ee!==""?ee:0)+10),children:"+10"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>u(ee=>(ee!==""?ee:0)+50),children:"+50"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"preco-atacado",className:"flex items-center gap-2 text-sm font-medium",children:[i.jsx(ic,{className:"h-4 w-4 text-gray-500"}),"Preo para o Atacado:"]}),i.jsx(ie,{id:"preco-atacado",type:"number",step:"0.10",value:d,onChange:ee=>f(ee.target.value===""?"":parseFloat(ee.target.value)),placeholder:"R$ 0.00",tabIndex:0}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(B,{type:"button",variant:"secondary",onClick:()=>f(ee=>ee!==""&&ee>50?ee-50:0),children:"-50"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>f(ee=>ee!==""&&ee>10?ee-10:0),children:"-10"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>f(ee=>ee!==""&&ee>1?ee-1:0),children:"-1"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>f(ee=>(ee!==""?ee:0)+1),children:"+1"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>f(ee=>(ee!==""?ee:0)+10),children:"+10"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>f(ee=>(ee!==""?ee:0)+50),children:"+50"})]})]})]}),i.jsxs(an,{children:[i.jsx(un,{onClick:()=>{l(""),u(""),f("")},children:"Cancelar"}),i.jsx(cn,{onClick:()=>k($.id,X.id,o||void 0,c!==""?parseFloat(String(c)):void 0,d!==""?parseFloat(String(d)):void 0),children:"Confirmar"})]})]})]})})]})},X.id))}),i.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Taxa de Entrega: R$ ",($.delivery_fee||0).toFixed(2)]}),i.jsxs("p",{className:"text-lg font-bold",children:["Total da Compra: R$ ",z().toFixed(2)]})]}),i.jsxs("div",{className:"flex gap-2",children:[W&&!H&&i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(nu,{className:"h-4 w-4 mr-2"})," Lanar Compra no Estoque"]})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Lanar Compra no Estoque"}),i.jsx(ln,{children:"Tem certeza que deseja lanar todos os produtos desta compra no estoque? Esta ao ir arquivar a compra."})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{onClick:()=>x($.id),children:"Confirmar e Arquivar"})]})]})]}),H&&i.jsxs(fe,{className:"bg-green-100 text-green-800 py-2 px-3 border-transparent",children:[i.jsx(nu,{className:"h-4 w-4 mr-2"})," Compra em Estoque"]})]})]})]})},F=$=>{var H,V,te,ne,X;const z=((H=$.products)==null?void 0:H.every(ee=>ee.is_verified))||!1,W=$.in_stock||((V=$.status)==null?void 0:V.toLowerCase().includes("estoque"));return i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Produtos em Transferncia"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h4",{className:"font-medium text-blue-800",children:"Estoque de Origem"}),i.jsx("p",{className:"text-lg font-bold text-blue-600",children:((te=Nv.find(ee=>ee.value===$.source_stock))==null?void 0:te.label)||$.source_stock})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("h4",{className:"font-medium text-blue-800",children:"Estoque de Destino"}),i.jsx("p",{className:"text-lg font-bold text-blue-600",children:((ne=Nv.find(ee=>ee.value===$.destination_stock))==null?void 0:ne.label)||$.destination_stock})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsx("div",{className:`p-2 rounded-lg text-center ${$.conferido?"bg-green-100 border-green-200":"bg-gray-100 border-gray-200"} border`,children:i.jsx("p",{className:`text-xs font-medium ${$.conferido?"text-green-800":"text-gray-600"}`,children:$.conferido?" Conferido":"No Conferido"})}),i.jsx("div",{className:`p-2 rounded-lg text-center ${$.in_stock?"bg-green-100 border-green-200":"bg-gray-100 border-gray-200"} border`,children:i.jsx("p",{className:`text-xs font-medium ${$.in_stock?"text-green-800":"text-gray-600"}`,children:$.in_stock?" Lanado":"No Lanado"})}),i.jsx("div",{className:`p-2 rounded-lg text-center ${$.retirado_stock?"bg-green-100 border-green-200":"bg-gray-100 border-gray-200"} border`,children:i.jsx("p",{className:`text-xs font-medium ${$.retirado_stock?"text-green-800":"text-gray-600"}`,children:$.retirado_stock?" Retirado":"No Retirado"})})]}),i.jsx("div",{className:"space-y-3",children:(X=$.products)==null?void 0:X.map(ee=>i.jsx("div",{className:`p-4 border rounded-lg ${ee.is_verified?"bg-green-50 border-green-200":"bg-transparent"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold",children:[ee.name||`Item ${ee.id}`,ee.sku&&` - ${ee.sku}`]}),i.jsx("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-1 mt-1 text-sm text-muted-foreground",children:i.jsxs("span",{children:["Quantidade: ",i.jsx("span",{className:"font-medium text-foreground",children:ee.quantity||0})]})})]}),i.jsx("div",{className:"flex items-center gap-2",children:ee.is_verified?i.jsxs(B,{variant:"outline",size:"sm",className:"bg-white cursor-default pointer-events-none",children:[i.jsx(Eh,{className:"h-4 w-4 mr-2 text-green-600"})," Conferido"]}):i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{P($.id,ee.id)},children:[i.jsx(Bj,{className:"h-4 w-4 mr-2"})," Conferir"]})})]})},ee.id))}),i.jsxs("div",{className:"flex justify-end pt-4 border-t",children:[z&&!W&&i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(nu,{className:"h-4 w-4 mr-2"})," Finalizar Transferncia"]})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Finalizar Transferncia"}),i.jsx(ln,{children:"Tem certeza que deseja lanar esta transferncia no estoque?"})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{onClick:()=>addTransferToInventory($.id),children:"Lanar no Estoque"})]})]})]}),W&&i.jsxs(fe,{className:"bg-green-100 text-green-800 py-2 px-3 border-transparent",children:[i.jsx(nu,{className:"h-4 w-4 mr-2"})," Lanado no Estoque"]})]})]})},D=$=>i.jsxs("div",{className:"space-y-4",children:[$.observations&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Observaes:"}),i.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:$.observations})]}),$.verification_observations&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Observaes da Conferncia:"}),i.jsx("p",{className:"text-sm text-gray-600 bg-green-50 p-3 rounded-lg border border-green-200",children:$.verification_observations}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Conferido em: ",$.verified_at?new Date($.verified_at).toLocaleDateString("pt-BR"):"N/A"]})]}),!$.is_verified&&i.jsx("div",{className:"flex justify-end pt-4 border-t",children:i.jsxs(B,{onClick:()=>m(!0),children:[i.jsx(Bj,{className:"h-4 w-4 mr-2"})," Conferir Devoluo"]})}),$.is_verified&&i.jsx("div",{className:"flex justify-end pt-4 border-t",children:i.jsxs(fe,{className:"bg-green-100 text-green-800 py-2 px-3 border-transparent",children:[i.jsx(Eh,{className:"h-4 w-4 mr-2"})," Devoluo Conferida"]})})]}),M=$=>{const z=$.metadata||[];return!z||z.length===0?i.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"Nenhum histrico de rastreamento disponvel."}):i.jsx("div",{className:"space-y-4 py-4",children:i.jsx("div",{className:"space-y-3",children:z.slice().sort((W,H)=>new Date(H.data).getTime()-new Date(W.data).getTime()).map((W,H)=>i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:"relative pt-1",children:[i.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500 ring-4 ring-blue-100"}),H<z.length-1&&i.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 h-full w-0.5 bg-blue-200"})]}),i.jsxs("div",{className:"flex-1 pb-4",children:[i.jsxs("p",{className:"font-medium",children:[W.detalhe," - ",W.descricao]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[i.jsx(Er,{className:"h-3 w-3"}),i.jsx("span",{children:new Date(W.data).toLocaleDateString("pt-BR")}),W.cidade&&i.jsxs(i.Fragment,{children:[i.jsx(Tk,{className:"h-3 w-3"}),i.jsx("span",{children:W.cidade})]})]})]})]},H))})})};return i.jsxs(i.Fragment,{children:[i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(tt,{children:i.jsx(nt,{children:r==="purchase"?"Detalhes da Compra":r==="return"?"Detalhes da Devoluo":"Detalhes da Transferncia"})}),i.jsxs(Jn,{defaultValue:"general",className:"mt-4",children:[i.jsxs(Mn,{className:"grid w-full grid-cols-2",children:[i.jsxs(Fe,{value:"general",children:[i.jsx(Yoe,{className:"h-4 w-4 mr-2"}),"Informaes Gerais"]}),i.jsxs(Fe,{value:"tracking",children:[i.jsx(cc,{className:"h-4 w-4 mr-2"}),"Rastreamento"]})]}),i.jsx(Ve,{value:"general",children:R(n)}),i.jsx(Ve,{value:"tracking",children:M(n)})]}),i.jsxs(yt,{className:"sm:justify-between mt-6 pt-4 border-t",children:[i.jsxs(B,{variant:"ghost",onClick:L,disabled:s,children:[i.jsx(ya,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),s?"Atualizando...":"Atualizar Dados"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"}),r==="transfer"&&n.conferido&&n.in_stock&&n.retirado_stock?i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsxs(B,{variant:"destructive",className:"bg-red-700 hover:bg-red-800",children:[i.jsx(_N,{className:"h-4 w-4 mr-2"})," Arquivar"]})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Arquivar Transferncia"}),i.jsx(ln,{children:"Tem certeza que deseja arquivar esta transferncia? Ela ser movida para a lista de arquivados."})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{className:"bg-red-700 hover:bg-red-800",onClick:()=>I(n.id,r),children:"Sim, Arquivar"})]})]})]}):r!=="transfer"?i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsxs(B,{variant:"destructive",className:"bg-red-700 hover:bg-red-800",children:[i.jsx(_N,{className:"h-4 w-4 mr-2"})," Arquivar"]})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Arquivar Item"}),i.jsx(ln,{children:"Tem certeza que deseja arquivar este item? Ele ser movido para a lista de arquivados."})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{className:"bg-red-700 hover:bg-red-800",onClick:()=>I(n.id,r),children:"Sim, Arquivar"})]})]})]}):null]})]})]})}),i.jsx(xn,{open:h,onOpenChange:m,children:i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Conferir Devoluo"}),i.jsx(ln,{children:"Marque esta devoluo como conferida e adicione observaes se necessrio."})]}),i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"verification-observations",children:"Observaes da Conferncia (Opcional)"}),i.jsx(vt,{id:"verification-observations",value:g,onChange:$=>p($.target.value),placeholder:"Adicione observaes sobre a conferncia da devoluo...",rows:3})]})}),i.jsxs(an,{children:[i.jsx(un,{onClick:()=>{m(!1),p("")},children:"Cancelar"}),i.jsx(cn,{onClick:()=>A(n.id,g),children:"Confirmar Conferncia"})]})]})})]})}const tS={Aguardando:{title:"Aguardando",headerClasses:"bg-yellow-100/70 border-yellow-200",textClasses:"text-yellow-900",countBg:"bg-yellow-300/80"},"Em Trnsito":{title:"Em Trnsito",headerClasses:"bg-blue-100/70 border-blue-200",textClasses:"text-blue-900",countBg:"bg-blue-300/80"},Atrasado:{title:"Atrasado",headerClasses:"bg-orange-100/70 border-orange-200",textClasses:"text-orange-900",countBg:"bg-orange-300/80"},"Com problemas":{title:"Com Problemas",headerClasses:"bg-red-100/70 border-red-200",textClasses:"text-red-900",countBg:"bg-red-300/80"},Entregue:{title:"Entregue",headerClasses:"bg-cyan-100/70 border-cyan-200",textClasses:"text-cyan-900",countBg:"bg-cyan-300/80"},Concludo:{title:"Concludo",headerClasses:"bg-green-100/70 border-green-200",textClasses:"text-green-900",countBg:"bg-green-300/80"}},VL=[{value:"vitoria",label:"Vitria"},{value:"sao_paulo",label:"So Paulo"}],aKe=e=>{const t=(e.status||"").toLowerCase();return t.includes("estoque")?"Concludo":t.includes("problema")||t.includes("no autorizada")||t.includes("necessidade de apresentar")||t.includes("extraviado")||t.includes("no entregue - carteiro no atendido")||t.includes("pausado")?"Com problemas":t.includes("entregue")||t.includes("conferido")?"Entregue":!(t.includes("entregue")||t.includes("conferido")||t.includes("estoque"))&&e.estimated_delivery&&new Date(e.estimated_delivery)<new Date?"Atrasado":t.includes("trnsito")||t.includes("transferncia")||t.includes("saiu para entrega")?"Em Trnsito":"Aguardando"},iKe=({item:e,onViewDetails:t,onVerifyProduct:n,onAddToInventory:r})=>{var u,d,f,h,m,g,p;const s="products"in e,a="source_stock"in e,o=((u=e.status)==null?void 0:u.toLowerCase().includes("estoque"))||!1,l=s&&((d=e.products)==null?void 0:d.every(y=>y.isVerified))||!1,c=a&&((f=e.products)==null?void 0:f.every(y=>y.is_verified))||!1;return i.jsx(re,{className:"mb-4 bg-white hover:shadow-lg transition-shadow duration-200",children:i.jsxs(se,{className:"p-3",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("span",{className:"font-semibold text-sm pr-2 break-words",children:s?e.storeName:a?`${e.source_stock}  ${e.destination_stock}`:e.customer_name||"No identificado"}),i.jsx(fe,{variant:s?"default":a?"outline":"secondary",children:s?"Compra":a?"Transf.":"Dev."})]}),i.jsxs("div",{className:"space-y-1 text-xs text-gray-600 mb-3",children:[i.jsxs("p",{children:["Data: ",new Date(e.date).toLocaleDateString("pt-BR")]}),i.jsxs("p",{className:"flex items-center gap-1",children:[i.jsxs("span",{children:["Rastreio: ",e.trackingCode||"N/A"]}),e.trackingCode&&i.jsx("a",{href:qh(e.carrier,e.trackingCode),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:i.jsx(Fp,{size:12})})]}),(s||a)&&i.jsxs("p",{children:["Produtos: ",s?((h=e.products)==null?void 0:h.length)||0:((m=e.products)==null?void 0:m.length)||0]}),a&&i.jsxs("p",{children:["De: ",((g=VL.find(y=>y.value===e.source_stock))==null?void 0:g.label)||e.source_stock]}),a&&i.jsxs("p",{children:["Para: ",((p=VL.find(y=>y.value===e.destination_stock))==null?void 0:p.label)||e.destination_stock]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-end",children:[i.jsx(B,{variant:"outline",size:"sm",onClick:()=>t(e),children:i.jsx(ki,{className:"h-4 w-4"})}),s&&!l||a&&!c&&i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsx(B,{variant:"outline",size:"sm",children:i.jsx(sle,{className:"h-4 w-4"})})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Conferir Produtos"}),i.jsx(ln,{children:"Marcar todos os produtos como conferidos?"})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{onClick:()=>{var y;s&&((y=e.products)==null||y.forEach(x=>n(e.id,x.id)))},children:"Confirmar"})]})]})]}),(l&&s||c&&a||!s&&!a)&&!o&&i.jsxs(xn,{children:[i.jsx(Hn,{asChild:!0,children:i.jsx(B,{variant:"default",size:"sm",children:i.jsx(nu,{className:"h-4 w-4"})})}),i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Lanar no Estoque"}),i.jsx(ln,{children:"Esta ao ir arquivar o item. Tem certeza?"})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{onClick:()=>r(e.id,s?"purchase":a?"transfer":"return"),children:"Confirmar"})]})]})]}),(l||c)&&!o&&i.jsxs(fe,{variant:"outline",className:"text-blue-600 border-blue-600",children:[i.jsx(Gn,{className:"h-3 w-3 mr-1"}),"Conferido"]})]})]})})};function oKe({activeTab:e,purchases:t,returns:n,transfers:r,onViewDetails:s,onVerifyProduct:a,onAddToInventory:o}){const l=v.useMemo(()=>{switch(e){case"purchases":return t;case"returns":return n;case"transfers":return r;default:return[]}},[e,t,n,r]),c=v.useMemo(()=>{const u=Object.keys(tS).reduce((d,f)=>(d[f]=[],d),{});return l.reduce((d,f)=>{const h=aKe(f);return d[h]&&d[h].push(f),d},u)},[l]);return i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-6 gap-5 w-full",children:Object.keys(tS).map(u=>{const d=tS[u],f=c[u];return i.jsxs("div",{className:"bg-gray-50 rounded-xl flex flex-col",children:[i.jsx("div",{className:`p-3 border-b sticky top-0 rounded-t-xl z-10 backdrop-blur-sm ${d.headerClasses}`,children:i.jsxs("h2",{className:`font-bold text-md flex items-center justify-between ${d.textClasses}`,children:[i.jsx("span",{children:d.title}),i.jsx("span",{className:`text-sm font-semibold text-gray-900 rounded-full h-6 w-6 flex items-center justify-center ${d.countBg}`,children:f.length})]})}),i.jsx("div",{className:"flex-grow p-2 overflow-y-auto",children:f.length>0?f.map(h=>i.jsx(iKe,{item:h,onViewDetails:s,onVerifyProduct:a,onAddToInventory:o,onVerifyReturn},h.id)):i.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-xs p-4",children:"Nenhum item nesta etapa."})})]},u)})})}const lKe=e=>{const t=(e.status||"").toLowerCase();return t.includes("saiu para entrega")?"Saiu para entrega":t.includes("pagamento")?"Aguardando pagamento":t.includes("problema")||t.includes("no autorizada")||t.includes("necessidade de apresentar")||t.includes("complementar")||t.includes("extraviado")||t.includes("pausado")||t.includes("no entregue - carteiro no atendido")?"Pausado/Problema":t.includes("entregue")||t.includes("conferido")||t.includes("estoque")?"Entregue":t.includes("trnsito")||t.includes("transferncia")?"Em trnsito":t.includes("aguardando")||t.includes("aguarde")?"Aguardando":"Outro"},nS=e=>{const t=(e||"").toLowerCase();return t.includes("saiu para entrega")?"bg-[#03A9F4] text-white":t.includes("pagamento")?"bg-[#FFC107] text-gray-900":t.includes("entregue")||t.includes("conferido")?"bg-green-100 text-green-800":t.includes("trnsito")?"bg-blue-100 text-blue-800":t.includes("aguardando")?"bg-yellow-100 text-yellow-800":t.includes("problema")||t.includes("no autorizada")||t.includes("necessidade de apresentar")||t.includes("extraviado")||t.includes("no entregue - carteiro no atendido")?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"};function cKe(e,t,n=10){const[r,s]=v.useState(1),[a,o]=v.useState(n),[l,c]=v.useState({key:t,direction:"descending"}),u=v.useMemo(()=>{let y=[...e];return l.key&&y.sort((x,w)=>{var S,N;const j=x[l.key],b=w[l.key];if(j==null)return 1;if(b==null)return-1;if(l.key==="products"){const C=((S=x.products)==null?void 0:S.length)||0,_=((N=w.products)==null?void 0:N.length)||0;return C<_?l.direction==="ascending"?-1:1:C>_?l.direction==="ascending"?1:-1:0}return j<b?l.direction==="ascending"?-1:1:j>b?l.direction==="ascending"?1:-1:0}),y},[e,l]),d=u.length,f=Math.ceil(d/a),h=v.useMemo(()=>{const y=(r-1)*a;return u.slice(y,y+a)},[u,r,a]),m=y=>{let x="ascending";l.key===y&&l.direction==="ascending"&&(x="descending"),c({key:y,direction:x}),s(1)},g=y=>{y>=1&&y<=f&&s(y)},p=y=>{o(y),s(1)};return v.useEffect(()=>{s(1),c({key:t,direction:"descending"})},[e,t]),{paginatedData:h,requestSort:m,sortConfig:l,currentPage:r,totalPages:f,changePage:g,rowsPerPage:a,changeRowsPerPage:p,totalRows:d}}function uKe(){const{purchases:e,returns:t,transfers:n,viewMode:r,showArchived:s,loading:a,setViewMode:o,setShowArchived:l,fetchPurchases:c,fetchReturns:u,fetchTransfers:d,updateAllTrackingStatuses:f,verifyPurchaseProduct:h,addProductToInventory:m,archivePurchase:g,archiveReturn:p,archiveTransfer:y,findItemByTrackingCode:x,deletePurchase:w}=xf(),[j,b]=v.useState("purchases"),[S,N]=v.useState(""),[C,_]=v.useState(""),[k,P]=v.useState("all"),[A,I]=v.useState(!1),[L,E]=v.useState(!1),[R,O]=v.useState(!1),[F,D]=v.useState(null),[M,$]=v.useState(!1),[z,W]=v.useState(!1),[H,V]=v.useState(null),[te,ne]=v.useState(!1),[X,ee]=v.useState(null),[Z,ae]=v.useState(null),{toast:ce}=Zn();v.useEffect(()=>{c(),u(),d()},[c,u,d]);const q=v.useMemo(()=>{let Re=[];return j==="purchases"&&(Re=e),j==="returns"&&(Re=t),j==="transfers"&&(Re=n),Re.filter(lt=>{if(s){if(!lt.is_archived)return!1}else if(lt.is_archived)return!1;const pt=S.toLowerCase(),zt=C.toLowerCase(),zn=(lt.storeName||"").toLowerCase().includes(pt)||(lt.customer_name||"").toLowerCase().includes(pt)||(lt.trackingCode||"").toLowerCase().includes(pt)||(lt.status||"").toLowerCase().includes(pt);return pt&&!zn||j==="purchases"&&zt&&!(lt.products||[]).some(st=>(st.name||"").toLowerCase().includes(zt))?!1:k==="all"?!0:lKe(lt)===k})},[e,t,n,j,S,C,k,s]),{paginatedData:be,requestSort:Se,sortConfig:Ae,currentPage:Q,totalPages:me,changePage:J,rowsPerPage:_e,changeRowsPerPage:rt,totalRows:_t}=cKe(q,"date"),Bn=()=>{j==="purchases"&&c(),j==="returns"&&u(),j==="transfers"&&d(),ce({title:"Atualizando...",description:`Aguarde, os dados da aba ${j} esto sendo buscados.`})},pn=Re=>{D(Re),V(j==="purchases"?"purchase":j==="returns"?"return":"transfer"),$(!0)},tr=Re=>{ee(Re),ne(!0)},Qs=async()=>{if(Z)try{await w(Z.id),ce({title:"Sucesso!",description:"Pedido deletado com sucesso."}),c()}catch(Re){console.error("Falha ao deletar o pedido:",Re),ce({title:"Erro",description:"Falha ao deletar o pedido.",variant:"destructive"})}finally{ae(null)}},Xr=Re=>{ne(Re),Re||(ee(null),c())},nr=async(Re,lt)=>{console.log("Verify return:",Re,lt)},Zs=async(Re,lt)=>await h(Re,lt),gr=async(Re,lt)=>{lt==="purchase"?await m(Re):lt==="return"?await p(Re):await y(Re)},Ia=async()=>{if(!S){ce({title:"Cdigo de rastreio vazio",description:"Por favor, digite um cdigo de rastreio para buscar",variant:"destructive"});return}W(!0);try{const Re=await x(S);if(Re){const lt={purchase:"purchases",return:"returns",transfer:"transfers"};b(lt[Re.type]||"purchases"),D(Re.item),$(!0),ce({title:"Item encontrado",description:`Encontrado em ${lt[Re.type]}`})}else ce({title:"No encontrado",description:"Nenhum item encontrado com este cdigo de rastreio",variant:"destructive"})}catch(Re){ce({title:"Erro na busca",description:Re.message||"Erro ao buscar por cdigo de rastreio",variant:"destructive"})}finally{W(!1)}},nn=({tKey:Re,label:lt})=>i.jsx(Ne,{children:i.jsxs(B,{variant:"ghost",onClick:()=>Se(Re),className:"px-2",children:[lt,i.jsx(EN,{className:`ml-2 h-4 w-4 ${Ae.key===Re?"text-foreground":"text-muted-foreground"}`})]})}),rr=()=>{const lt={purchases:[{key:"date",label:"Data"},{key:"customer_name",label:"Loja/Cliente"},{key:"trackingCode",label:"Rastreio"},{key:"products",label:"Produtos"},{key:"status",label:"Status"},{key:"updated_at",label:"ltima Atualizao"},{key:"estimated_delivery",label:"Previso"}],returns:[{key:"date",label:"Data"},{key:"customer_name",label:"Cliente"},{key:"storeName",label:"Loja"},{key:"carrier",label:"Transportadora"},{key:"trackingCode",label:"Rastreio"},{key:"status",label:"Status"},{key:"estimated_delivery",label:"Previso"},{key:"observations",label:"Observaes"},{key:"is_verified",label:"Conferido"}],transfers:[{key:"date",label:"Data"},{key:"customer_name",label:"Cliente"},{key:"storeName",label:"Loja"},{key:"carrier",label:"Transportadora"},{key:"trackingCode",label:"Rastreio"},{key:"status",label:"Status"},{key:"estimated_delivery",label:"Previso"},{key:"source_stock",label:"Origem  Destino"},{key:"products",label:"Produtos"}]}[j]||[];return i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{children:[j.charAt(0).toUpperCase()+j.slice(1)," (",_t,")"]})}),i.jsxs(se,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[lt.map(pt=>i.jsx(nn,{tKey:pt.key,label:pt.label},String(pt.key))),i.jsx(Ne,{children:"Aes"})]})}),i.jsx(Kr,{children:be.length===0?i.jsx(it,{children:i.jsx(oe,{colSpan:lt.length+1,className:"h-24 text-center",children:"Nenhum item encontrado para os filtros selecionados."})}):be.map(pt=>{var zt,zn;if(j==="purchases"){const de=pt;return i.jsxs(it,{children:[i.jsx(oe,{children:new Date(de.date).toLocaleDateString("pt-BR")}),i.jsx(oe,{children:de.customer_name||"No informado"}),i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:de.trackingCode||"No informado"}),de.trackingCode&&i.jsx("a",{href:qh(de.carrier,de.trackingCode),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-external-link",children:[i.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),i.jsx("polyline",{points:"15 3 21 3 21 9"}),i.jsx("line",{x1:"10",x2:"21",y1:"14",y2:"3"})]})})]})}),i.jsxs(oe,{children:[((zt=de.products)==null?void 0:zt.length)||0," item(s)"]}),i.jsx(oe,{children:i.jsx(fe,{className:nS(de.status),children:de.status||"No informado"})}),i.jsx(oe,{children:de.updated_at?new Date(de.updated_at).toLocaleDateString("pt-BR"):"N/A"}),i.jsx(oe,{children:de.estimated_delivery?new Date(de.estimated_delivery).toLocaleDateString("pt-BR"):"N/A"}),i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(B,{variant:"outline",size:"sm",onClick:()=>tr(de),children:i.jsx(tle,{className:"h-4 w-4"})}),i.jsx(B,{variant:"outline",size:"sm",onClick:()=>pn(de),children:i.jsx(ki,{className:"h-4 w-4"})}),i.jsx(B,{variant:"destructive",size:"sm",onClick:()=>ae(de),children:i.jsx(Ks,{className:"h-4 w-4"})})]})})]},de.id)}else if(j==="returns"){const de=pt;return i.jsxs(it,{children:[i.jsx(oe,{children:new Date(de.date).toLocaleDateString("pt-BR")}),i.jsx(oe,{children:de.customer_name||"No informado"}),i.jsx(oe,{children:de.storeName||"No informado"}),i.jsx(oe,{children:de.carrier||"No informado"}),i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:de.trackingCode||"No informado"}),de.trackingCode&&i.jsx("a",{href:qh(de.carrier,de.trackingCode),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-external-link",children:[i.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),i.jsx("polyline",{points:"15 3 21 3 21 9"}),i.jsx("line",{x1:"10",x2:"21",y1:"14",y2:"3"})]})})]})}),i.jsx(oe,{children:i.jsx(fe,{className:nS(de.status),children:de.status||"No informado"})}),i.jsx(oe,{children:de.estimated_delivery?new Date(de.estimated_delivery).toLocaleDateString("pt-BR"):"N/A"}),i.jsx(oe,{children:i.jsx("div",{className:"max-w-xs truncate",children:de.observations||"N/A"})}),i.jsx(oe,{children:de.is_verified?i.jsxs(fe,{className:"bg-green-100 text-green-800",children:[i.jsx(Gn,{className:"h-3 w-3 mr-1"}),"Sim"]}):i.jsx(fe,{variant:"outline",children:"No"})}),i.jsx(oe,{children:i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx(B,{variant:"outline",size:"sm",onClick:()=>pn(de),children:i.jsx(ki,{className:"h-4 w-4"})})})})]},de.id)}else if(j==="transfers"){const de=pt;return i.jsxs(it,{children:[i.jsx(oe,{children:new Date(de.date).toLocaleDateString("pt-BR")}),i.jsx(oe,{children:de.customer_name||"No informado"}),i.jsx(oe,{children:de.storeName||"No informado"}),i.jsx(oe,{children:de.carrier||"No informado"}),i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:de.trackingCode||"No informado"}),de.trackingCode&&i.jsx("a",{href:qh(de.carrier,de.trackingCode),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-external-link",children:[i.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),i.jsx("polyline",{points:"15 3 21 3 21 9"}),i.jsx("line",{x1:"10",x2:"21",y1:"14",y2:"3"})]})})]})}),i.jsx(oe,{children:i.jsx(fe,{className:nS(de.status),children:de.status||"No informado"})}),i.jsx(oe,{children:de.estimated_delivery?new Date(de.estimated_delivery).toLocaleDateString("pt-BR"):"N/A"}),i.jsxs(oe,{children:[de.source_stock,"  ",de.destination_stock]}),i.jsxs(oe,{children:[((zn=de.products)==null?void 0:zn.length)||0," item(s)"]}),i.jsx(oe,{children:i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx(B,{variant:"outline",size:"sm",onClick:()=>pn(de),children:i.jsx(ki,{className:"h-4 w-4"})})})})]},de.id)}return null})})]})}),i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Linhas por pgina"}),i.jsxs(Oe,{value:`${_e}`,onValueChange:pt=>{rt(Number(pt))},children:[i.jsx(Pe,{className:"h-8 w-[80px]",children:i.jsx(Ie,{placeholder:_e})}),i.jsxs(Te,{side:"top",children:[[10,20,50,100].map(pt=>i.jsx(K,{value:`${pt}`,children:pt},pt)),_t>0&&i.jsx(K,{value:`${_t}`,children:"Todos"})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",Q," de ",me||1]}),i.jsx(B,{variant:"outline",size:"icon",onClick:()=>J(1),disabled:Q===1,children:i.jsx(zoe,{className:"h-4 w-4"})}),i.jsx(B,{variant:"outline",size:"icon",onClick:()=>J(Q-1),disabled:Q===1,children:i.jsx(H0,{className:"h-4 w-4"})}),i.jsx(B,{variant:"outline",size:"icon",onClick:()=>J(Q+1),disabled:Q===me,children:i.jsx(G0,{className:"h-4 w-4"})}),i.jsx(B,{variant:"outline",size:"icon",onClick:()=>J(me),disabled:Q===me,children:i.jsx(Woe,{className:"h-4 w-4"})})]})]})]})]})};return i.jsxs(kr,{children:[i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Acompanhamento"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie compras, devolues e transferncias"})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(tn,{className:"h-4 w-4 mr-2"}),"Adicionar"]})}),i.jsxs(Ea,{align:"end",children:[i.jsxs(at,{onClick:()=>I(!0),children:[i.jsx(lc,{className:"h-4 w-4 mr-2"}),"Nova Compra"]}),i.jsxs(at,{onClick:()=>E(!0),children:[i.jsx(AN,{className:"h-4 w-4 mr-2"}),"Nova Devoluo"]}),i.jsxs(at,{onClick:()=>O(!0),children:[i.jsx(CN,{className:"h-4 w-4 mr-2"}),"Nova Transferncia"]})]})]})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4"}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[i.jsx(Jn,{value:j,onValueChange:b,className:"w-full md:w-auto",children:i.jsxs(Mn,{children:[i.jsxs(Fe,{value:"purchases",children:[i.jsx(lc,{className:"h-4 w-4 mr-2"}),"Compras"]}),i.jsxs(Fe,{value:"returns",children:[i.jsx(AN,{className:"h-4 w-4 mr-2"}),"Devolues"]}),i.jsxs(Fe,{value:"transfers",children:[i.jsx(CN,{className:"h-4 w-4 mr-2"}),"Transferncias"]})]})}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative w-48",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ie,{placeholder:"Buscar rastreio...",value:S,onChange:Re=>N(Re.target.value),className:"pl-10",onKeyDown:Re=>{Re.key==="Enter"&&Ia()}})]}),j==="purchases"&&i.jsxs("div",{className:"relative w-48",children:[i.jsx(Tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ie,{placeholder:"Buscar produto...",value:C,onChange:Re=>_(Re.target.value),className:"pl-10"})]}),i.jsx(B,{variant:"outline",onClick:Bn,children:i.jsx(ya,{className:`h-4 w-4 ${a?"animate-spin":""}`})})]}),i.jsxs(Oe,{value:k,onValueChange:P,children:[i.jsxs(Pe,{className:"w-full md:w-[200px]",children:[i.jsx(K0,{className:"h-4 w-4 mr-2"}),i.jsx(Ie,{placeholder:"Filtrar por status"})]}),i.jsxs(Te,{children:[i.jsx(K,{value:"all",children:"Todos os Status"}),i.jsx(K,{value:"Em trnsito",children:"Em trnsito"}),i.jsx(K,{value:"Aguardando",children:"Aguardando"}),i.jsx(K,{value:"Entregue",children:"Entregue"}),i.jsx(K,{value:"Pausado/Problema",children:"Pausado / Problema"}),i.jsx(K,{value:"Atrasado",children:"Atrasado"}),i.jsx(K,{value:"Saiu para entrega",children:"Saiu para entrega"}),i.jsx(K,{value:"Aguardando pagamento",children:"Aguardando pagamento"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Y,{htmlFor:"show-archived",className:"text-sm shrink-0",children:"Mostrar Arquivados"}),i.jsx(Br,{id:"show-archived",checked:s,onCheckedChange:l})]}),i.jsxs("div",{className:"flex border rounded-md",children:[i.jsx(B,{variant:r==="table"?"default":"ghost",size:"sm",onClick:()=>o("table"),className:"rounded-r-none",children:i.jsx(Goe,{className:"h-4 w-4"})}),i.jsx(B,{variant:r==="kanban"?"default":"ghost",size:"sm",onClick:()=>o("kanban"),className:"rounded-l-none",children:i.jsx(Hoe,{className:"h-4 w-4"})})]})]})]}),i.jsx("div",{className:"flex-1",children:r==="table"?rr():i.jsx(oKe,{activeTab:j,purchases:q.filter(Re=>j==="purchases"),returns:q.filter(Re=>j==="returns"),transfers:q.filter(Re=>j==="transfers"),onViewDetails:pn,onVerifyProduct:Zs,onAddToInventory:gr,onVerifyReturn:nr})})]})}),i.jsx(eKe,{open:A,onOpenChange:I,onPurchaseCreated:c}),i.jsx(nKe,{open:L,onOpenChange:E}),i.jsx(rKe,{open:R,onOpenChange:O}),i.jsx(sKe,{open:M,onOpenChange:$,item:F,type:H}),i.jsx(tKe,{open:te,onOpenChange:Xr,purchase:X}),i.jsx(xn,{open:!!Z,onOpenChange:Re=>!Re&&ae(null),children:i.jsxs(rn,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:"Voc tem certeza absoluta?"}),i.jsxs(ln,{children:["Esta ao no pode ser desfeita. Isso excluir permanentemente o pedido de compra",i.jsxs("strong",{className:"mx-1",children:["#",Z==null?void 0:Z.id]}),"e todos os seus produtos associados dos nossos servidores."]})]}),i.jsxs(an,{children:[i.jsx(un,{children:"Cancelar"}),i.jsx(cn,{onClick:Qs,children:"Sim, deletar pedido"})]})]})})]})}function dKe(){const{currentWorkspace:e}=je(),[t,n]=v.useState([]),[r,s]=v.useState([]),[a,o]=v.useState(!0),[l,c]=v.useState(!1),[u,d]=v.useState("all"),[f,h]=v.useState("all"),[m,g]=v.useState("");v.useEffect(()=>{e!=null&&e.id&&p()},[e==null?void 0:e.id,u,f]);const p=async()=>{try{o(!0),await Promise.all([y(),x()])}catch(_){console.error("Error loading data:",_),Rr.error("Erro ao carregar dados")}finally{o(!1)}},y=async()=>{try{let _=U.from("event_queue").select("*").order("created_at",{ascending:!1}).limit(100);u!=="all"&&(_=_.eq("status",u));const{data:k,error:P}=await _;if(P)throw P;n(k||[])}catch(_){throw console.error("Error loading events:",_),_}},x=async()=>{try{let _=U.from("v_recent_stock_changes").select("*").eq("workspace_id",e.id).order("created_at",{ascending:!1}).limit(100);f!=="all"&&(_=_.eq("source",f));const{data:k,error:P}=await _;if(P)throw P;s(k||[])}catch(_){throw console.error("Error loading stock logs:",_),_}},w=async()=>{c(!0),await p(),c(!1),Rr.success("Dados atualizados")},j=async _=>{try{const{error:k}=await U.from("event_queue").update({status:"pending",retry_count:0,error_message:null}).eq("id",_);if(k)throw k;Rr.success("Evento reenviado para processamento"),await y()}catch(k){console.error("Error retrying event:",k),Rr.error("Erro ao reprocessar evento")}},b=_=>{switch(_){case"completed":return i.jsxs(fe,{className:"bg-green-500",children:[i.jsx(Eh,{className:"h-3 w-3 mr-1"}),"Completo"]});case"failed":return i.jsxs(fe,{variant:"destructive",children:[i.jsx(jn,{className:"h-3 w-3 mr-1"}),"Falhou"]});case"processing":return i.jsxs(fe,{variant:"secondary",children:[i.jsx(mr,{className:"h-3 w-3 mr-1 animate-spin"}),"Processando"]});case"pending":return i.jsxs(fe,{variant:"outline",children:[i.jsx(Er,{className:"h-3 w-3 mr-1"}),"Pendente"]});default:return i.jsx(fe,{variant:"secondary",children:_})}},S=_=>{const k={manual:"bg-blue-500",baselinker:"bg-purple-500",system:"bg-gray-500",purchase:"bg-green-500",transfer:"bg-orange-500",order:"bg-pink-500"};return i.jsx(fe,{className:k[_]||"bg-gray-500",children:_})},N=t.filter(_=>{var k;return m?_.event_name.toLowerCase().includes(m.toLowerCase())||((k=_.order_id)==null?void 0:k.toString().includes(m))||_.event_log_id.toString().includes(m):!0}),C=r.filter(_=>{var k,P;return m?_.sku.toLowerCase().includes(m.toLowerCase())||((k=_.product_name)==null?void 0:k.toLowerCase().includes(m.toLowerCase()))||((P=_.warehouse_name)==null?void 0:P.toLowerCase().includes(m.toLowerCase())):!0});return a?i.jsx(kr,{children:i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsx(mr,{className:"h-8 w-8 animate-spin text-gray-400"})})}):i.jsx(kr,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Jobs & Logs"}),i.jsx("p",{className:"text-muted-foreground",children:"Monitore eventos do Baselinker e alteraes de estoque"})]}),i.jsxs(B,{onClick:w,disabled:l,children:[l?i.jsx(mr,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(ya,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[i.jsxs(re,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total de Eventos"}),i.jsx(Er,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(se,{children:i.jsx("div",{className:"text-2xl font-bold",children:t.length})})]}),i.jsxs(re,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Eventos Completos"}),i.jsx(Eh,{className:"h-4 w-4 text-green-500"})]}),i.jsx(se,{children:i.jsx("div",{className:"text-2xl font-bold",children:t.filter(_=>_.status==="completed").length})})]}),i.jsxs(re,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Eventos Falhados"}),i.jsx(jn,{className:"h-4 w-4 text-red-500"})]}),i.jsx(se,{children:i.jsx("div",{className:"text-2xl font-bold",children:t.filter(_=>_.status==="failed").length})})]}),i.jsxs(re,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Alteraes de Estoque"}),i.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(se,{children:i.jsx("div",{className:"text-2xl font-bold",children:r.length})})]})]}),i.jsxs(Jn,{defaultValue:"events",className:"space-y-4",children:[i.jsxs(Mn,{children:[i.jsx(Fe,{value:"events",children:"Fila de Eventos"}),i.jsx(Fe,{value:"stock-logs",children:"Logs de Estoque"})]}),i.jsx(Ve,{value:"events",className:"space-y-4",children:i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Eventos do Baselinker"}),i.jsx(He,{children:"ltimos 100 eventos processados pela plataforma"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Oe,{value:u,onValueChange:d,children:[i.jsx(Pe,{className:"w-[180px]",children:i.jsx(Ie,{placeholder:"Status"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"all",children:"Todos os Status"}),i.jsx(K,{value:"pending",children:"Pendente"}),i.jsx(K,{value:"processing",children:"Processando"}),i.jsx(K,{value:"completed",children:"Completo"}),i.jsx(K,{value:"failed",children:"Falhou"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(ie,{placeholder:"Buscar...",value:m,onChange:_=>g(_.target.value),className:"pl-8 w-[250px]"})]})]})]})}),i.jsx(se,{children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Ne,{children:"Evento"}),i.jsx(Ne,{children:"Status"}),i.jsx(Ne,{children:"Order ID"}),i.jsx(Ne,{children:"Log ID"}),i.jsx(Ne,{children:"Tentativas"}),i.jsx(Ne,{children:"Criado"}),i.jsx(Ne,{children:"Processado"}),i.jsx(Ne,{children:"Aes"})]})}),i.jsx(Kr,{children:N.length===0?i.jsx(it,{children:i.jsx(oe,{colSpan:8,className:"text-center text-muted-foreground",children:"Nenhum evento encontrado"})}):N.map(_=>i.jsxs(it,{children:[i.jsx(oe,{className:"font-medium",children:_.event_name}),i.jsx(oe,{children:b(_.status)}),i.jsx(oe,{children:_.order_id||"-"}),i.jsx(oe,{className:"text-muted-foreground",children:_.event_log_id}),i.jsx(oe,{children:_.retry_count>0&&i.jsxs(fe,{variant:"outline",children:[_.retry_count,"x"]})}),i.jsx(oe,{className:"text-sm",children:A1(new Date(_.created_at),"dd/MM/yyyy HH:mm",{locale:Uu})}),i.jsx(oe,{className:"text-sm",children:_.processed_at?A1(new Date(_.processed_at),"dd/MM/yyyy HH:mm",{locale:Uu}):"-"}),i.jsx(oe,{children:_.status==="failed"&&i.jsx(B,{size:"sm",variant:"outline",onClick:()=>j(_.id),children:"Reprocessar"})})]},_.id))})]})})]})}),i.jsx(Ve,{value:"stock-logs",className:"space-y-4",children:i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Logs de Alterao de Estoque"}),i.jsx(He,{children:"Todas as alteraes de estoque feitas pela plataforma"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Oe,{value:f,onValueChange:h,children:[i.jsx(Pe,{className:"w-[180px]",children:i.jsx(Ie,{placeholder:"Origem"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"all",children:"Todas as Origens"}),i.jsx(K,{value:"manual",children:"Manual"}),i.jsx(K,{value:"baselinker",children:"Baselinker"}),i.jsx(K,{value:"system",children:"Sistema"}),i.jsx(K,{value:"purchase",children:"Compra"}),i.jsx(K,{value:"transfer",children:"Transferncia"}),i.jsx(K,{value:"order",children:"Pedido"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(ie,{placeholder:"Buscar SKU...",value:m,onChange:_=>g(_.target.value),className:"pl-8 w-[250px]"})]})]})]})}),i.jsx(se,{children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Ne,{children:"SKU"}),i.jsx(Ne,{children:"Produto"}),i.jsx(Ne,{children:"Warehouse"}),i.jsx(Ne,{children:"Ao"}),i.jsx(Ne,{children:"Quantidade"}),i.jsx(Ne,{children:"Origem"}),i.jsx(Ne,{children:"Usurio"}),i.jsx(Ne,{children:"Data"})]})}),i.jsx(Kr,{children:C.length===0?i.jsx(it,{children:i.jsx(oe,{colSpan:8,className:"text-center text-muted-foreground",children:"Nenhum log de estoque encontrado"})}):C.map(_=>i.jsxs(it,{children:[i.jsx(oe,{className:"font-mono font-medium",children:_.sku}),i.jsx(oe,{children:_.product_name||"-"}),i.jsx(oe,{children:_.warehouse_name||_.warehouse_id}),i.jsx(oe,{children:i.jsx(fe,{variant:"outline",children:_.action_type})}),i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[_.quantity_change>0?i.jsx(Ok,{className:"h-4 w-4 text-green-500"}):i.jsx(ole,{className:"h-4 w-4 text-red-500"}),i.jsxs("span",{className:_.quantity_change>0?"text-green-600":"text-red-600",children:[_.quantity_change>0?"+":"",_.quantity_change]}),i.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",_.previous_quantity,"  ",_.new_quantity,")"]})]})}),i.jsx(oe,{children:S(_.source)}),i.jsx(oe,{className:"text-sm",children:_.user_name||"-"}),i.jsx(oe,{className:"text-sm",children:A1(new Date(_.created_at),"dd/MM/yyyy HH:mm",{locale:Uu})})]},_.id))})]})})]})})]})]})})}const fKe=ka((e,t)=>({products:[],warehouses:new Map,loading:!1,searchQuery:"",selectedWarehouse:null,loadWarehouses:async()=>{await G.handleAsync(async()=>{const n=je.getState().currentWorkspace;if(!n)throw new Error("Nenhum workspace selecionado");const{data:r,error:s}=await U.from("baselinker_warehouses").select("warehouse_id, warehouse_code, warehouse_name").eq("workspace_id",n.id);if(s)throw s;const a=new Map;r==null||r.forEach(o=>{a.set(o.warehouse_id,{code:o.warehouse_code||o.warehouse_id,name:o.warehouse_name})}),e({warehouses:a})})},loadProducts:async()=>{await G.handleAsync(async()=>{const n=je.getState().currentWorkspace;if(!n)throw new Error("Nenhum workspace selecionado");e({loading:!0}),t().warehouses.size===0&&await t().loadWarehouses();const{data:r,error:s}=await U.from("products").select("*").eq("workspace_id",n.id).order("sku",{ascending:!0});if(s)throw s;const{data:a,error:o}=await U.from("product_stock_by_warehouse").select("product_id, warehouse_id, stock_quantity").eq("workspace_id",n.id);o&&console.error("Error loading stock data:",o);const l=new Map;(a||[]).forEach(d=>{l.has(d.product_id)||l.set(d.product_id,new Map),l.get(d.product_id).set(d.warehouse_id,d.stock_quantity)});const c=t().warehouses,u=(r||[]).map(d=>{var m,g;const f=l.get(d.id),h=(f==null?void 0:f.get(d.warehouseID))??d.stock_es??0;return{id:d.id,sku:d.sku,name:d.name,warehouseID:d.warehouseID||"",warehouseName:((m=c.get(d.warehouseID))==null?void 0:m.name)||d.warehouseID,warehouseCode:((g=c.get(d.warehouseID))==null?void 0:g.code)||d.warehouseID,stock:h,cost:d.cost,price:d.price,ean:d.ean}});e({products:u,loading:!1})},()=>{e({loading:!1})})},getProductSummaries:()=>{const{products:n,searchQuery:r,selectedWarehouse:s}=t();let a=n;if(r){const l=r.toLowerCase();a=n.filter(c=>{var u;return c.sku.toLowerCase().includes(l)||c.name.toLowerCase().includes(l)||((u=c.ean)==null?void 0:u.toLowerCase().includes(l))})}s&&(a=a.filter(l=>l.warehouseID===s));const o=new Map;return a.forEach(l=>{o.has(l.sku)||o.set(l.sku,{sku:l.sku,name:l.name,ean:l.ean,totalStock:0,warehouses:[]});const c=o.get(l.sku);c.totalStock+=l.stock,c.warehouses.push({warehouseID:l.warehouseID,warehouseName:l.warehouseName||l.warehouseID,warehouseCode:l.warehouseCode||l.warehouseID,stock:l.stock,cost:l.cost,price:l.price});const u=c.warehouses.filter(f=>f.cost).map(f=>f.cost),d=c.warehouses.filter(f=>f.price).map(f=>f.price);u.length>0&&(c.avgCost=u.reduce((f,h)=>f+h,0)/u.length),d.length>0&&(c.avgPrice=d.reduce((f,h)=>f+h,0)/d.length)}),Array.from(o.values()).sort((l,c)=>l.sku.localeCompare(c.sku))},setSearchQuery:n=>{e({searchQuery:n})},setSelectedWarehouse:n=>{e({selectedWarehouse:n})},updateProductStock:async(n,r)=>{await G.handleAsync(async()=>{const s=je.getState().currentWorkspace;if(!s)throw new Error("Nenhum workspace selecionado");const{data:a,error:o}=await U.from("products").select("sku, warehouseID").eq("id",n).single();if(o||!a)throw o||new Error("Produto no encontrado");const{error:l}=await U.from("product_stock_by_warehouse").upsert({workspace_id:s.id,product_id:n,warehouse_id:a.warehouseID,sku:a.sku,stock_quantity:r,updated_at:new Date().toISOString()},{onConflict:"workspace_id,sku,warehouse_id"});if(l)throw l;const{error:c}=await U.from("products").update({stock_es:r}).eq("id",n);if(c)throw c;e(u=>({products:u.products.map(d=>d.id===n?{...d,stock:r}:d)})),G.showSuccess("Estoque atualizado com sucesso")})}}));function hKe(){const{products:e,warehouses:t,loading:n,searchQuery:r,selectedWarehouse:s,loadProducts:a,getProductSummaries:o,setSearchQuery:l,setSelectedWarehouse:c}=fKe();v.useEffect(()=>{a()},[a]);const u=o(),d=u.reduce((m,g)=>m+g.totalStock,0),f=u.reduce((m,g)=>m+(g.avgPrice||0)*g.totalStock,0),h=Array.from(t.entries()).map(([m,g])=>({id:m,...g}));return i.jsx(kr,{children:i.jsxs(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Estoque"}),i.jsx("p",{className:"text-muted-foreground",children:"Gerencie o estoque de produtos em mltiplos armazns"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs(re,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total de Produtos"}),i.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(se,{children:[i.jsx("div",{className:"text-2xl font-bold",children:u.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"SKUs nicos"})]})]}),i.jsxs(re,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Estoque Total"}),i.jsx(Ok,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(se,{children:[i.jsx("div",{className:"text-2xl font-bold",children:d}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Unidades totais"})]})]}),i.jsxs(re,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Valor Total"}),i.jsx(Mu,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(se,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",f.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor em estoque"})]})]})]}),i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Filtros"}),i.jsx(He,{children:"Pesquise e filtre produtos no estoque"})]}),i.jsx(se,{children:i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(ie,{placeholder:"Pesquisar por SKU, nome ou EAN...",value:r,onChange:m=>l(m.target.value),className:"pl-10"})]}),i.jsxs(Oe,{value:s||"all",onValueChange:m=>c(m==="all"?null:m),children:[i.jsx(Pe,{className:"w-[200px]",children:i.jsx(Ie,{placeholder:"Todos os armazns"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"all",children:"Todos os armazns"}),h.map(m=>i.jsxs(K,{value:m.id,children:[m.code," - ",m.name]},m.id))]})]}),i.jsx(B,{variant:"outline",onClick:()=>{l(""),c(null)},children:"Limpar"})]})})]}),i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Produtos em Estoque"}),i.jsxs(He,{children:[u.length," produto(s) encontrado(s)"]})]}),i.jsx(se,{children:n?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(mr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):u.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[i.jsx(Tt,{className:"h-12 w-12 mb-4 opacity-50"}),i.jsx("p",{children:"Nenhum produto encontrado"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Ne,{children:"SKU"}),i.jsx(Ne,{children:"Nome"}),i.jsx(Ne,{children:"EAN"}),i.jsx(Ne,{className:"text-center",children:"Estoque Total"}),i.jsx(Ne,{children:"Armazns"}),i.jsx(Ne,{className:"text-right",children:"Preo Mdio"})]})}),i.jsx(Kr,{children:u.map(m=>i.jsxs(it,{children:[i.jsx(oe,{className:"font-mono font-medium",children:m.sku}),i.jsx(oe,{children:m.name}),i.jsx(oe,{className:"font-mono text-sm",children:m.ean||"-"}),i.jsx(oe,{className:"text-center",children:i.jsx(fe,{variant:m.totalStock>0?"default":"secondary",children:m.totalStock})}),i.jsx(oe,{children:i.jsx("div",{className:"flex flex-col gap-1",children:m.warehouses.map(g=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(fe,{variant:"outline",className:"min-w-[60px] justify-center",children:g.warehouseCode}),i.jsxs("span",{className:"text-muted-foreground",children:[g.stock," un."]})]},g.warehouseID))})}),i.jsx(oe,{className:"text-right font-medium",children:m.avgPrice?`R$ ${m.avgPrice.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"-"})]},m.sku))})]})})})]})]})})}function mKe(){const{currentWorkspace:e,workspaces:t,fetchWorkspaces:n,setCurrentWorkspace:r}=je(),{user:s,loading:a}=ri(),[o,l]=v.useState(!1),[c,u]=v.useState(!1),d=ol(),f=_c();return v.useEffect(()=>{(async()=>{if(!(!s||o&&t.length>0)){console.log("Initializing app for user:",s.email),u(!0);try{await n();const m=je.getState().workspaces;if(console.log("Fetched workspaces:",m.length),m.length>0){const g=localStorage.getItem("currentWorkspaceId");console.log("Saved workspace ID:",g);let p=null;g&&(p=m.find(x=>x.id===g),console.log("Found saved workspace:",p==null?void 0:p.name)),p||(p=m[0],console.log("Using first workspace:",p.name)),r(p),console.log("Workspace set successfully");const y=localStorage.getItem("lastVisitedRoute");d.pathname==="/"&&y&&y!=="/onboarding"&&(console.log("Restoring last visited route:",y),f(y,{replace:!0}))}else console.log("No workspaces found, user needs onboarding")}catch(m){console.error("Error initializing app:",m)}finally{u(!1),l(!0)}}})()},[s,o,t,n,r,f,d.pathname]),v.useEffect(()=>{s&&e&&d.pathname!=="/"&&d.pathname!=="/onboarding"&&localStorage.setItem("lastVisitedRoute",d.pathname)},[d.pathname,s,e]),a?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):i.jsxs(AZ,{children:[i.jsx(gn,{path:"/login",element:i.jsx(Nce,{})}),i.jsx(gn,{path:"/signup",element:i.jsx(Ece,{})}),i.jsx(gn,{path:"/onboarding",element:i.jsx(vr,{children:i.jsx(Dce,{})})}),i.jsx(gn,{path:"/dashboard",element:i.jsx(vr,{children:e?i.jsx(l3e,{}):i.jsx(Cn,{to:"/onboarding",replace:!0})})}),i.jsx(gn,{path:"/inbox",element:i.jsx(vr,{children:e?i.jsx(KFe,{}):i.jsx(Cn,{to:"/onboarding",replace:!0})})}),i.jsx(gn,{path:"/clients",element:i.jsx(vr,{children:e?i.jsx(nBe,{}):i.jsx(Cn,{to:"/onboarding",replace:!0})})}),i.jsx(gn,{path:"/kanban",element:i.jsx(vr,{children:e?i.jsx(MVe,{}):i.jsx(Cn,{to:"/onboarding",replace:!0})})}),i.jsx(gn,{path:"/orders",element:i.jsx(vr,{children:e?i.jsx($Ve,{}):i.jsx(Cn,{to:"/onboarding",replace:!0})})}),i.jsx(gn,{path:"/messages",element:i.jsx(vr,{children:e?i.jsx(LVe,{}):i.jsx(Cn,{to:"/onboarding",replace:!0})})}),i.jsx(gn,{path:"/campaigns",element:i.jsx(vr,{children:e?i.jsx(BVe,{}):i.jsx(Cn,{to:"/onboarding",replace:!0})})}),i.jsx(gn,{path:"/integrations",element:i.jsx(vr,{children:e?i.jsx(vUe,{}):i.jsx(Cn,{to:"/onboarding",replace:!0})})}),i.jsx(gn,{path:"/automation",element:i.jsx(vr,{children:e?i.jsx(KGe,{}):i.jsx(Cn,{to:"/onboarding",replace:!0})})}),i.jsx(gn,{path:"/analytics",element:i.jsx(vr,{children:e?i.jsx(YGe,{}):i.jsx(Cn,{to:"/onboarding",replace:!0})})}),i.jsx(gn,{path:"/settings",element:i.jsx(vr,{children:e?i.jsx(JGe,{}):i.jsx(Cn,{to:"/onboarding",replace:!0})})}),i.jsx(gn,{path:"/tracking",element:i.jsx(vr,{children:e?i.jsx(uKe,{}):i.jsx(Cn,{to:"/onboarding",replace:!0})})}),i.jsx(gn,{path:"/jobs",element:i.jsx(vr,{children:e?i.jsx(dKe,{}):i.jsx(Cn,{to:"/onboarding",replace:!0})})}),i.jsx(gn,{path:"/estoque",element:i.jsx(vr,{children:e?i.jsx(hKe,{}):i.jsx(Cn,{to:"/onboarding",replace:!0})})}),i.jsx(gn,{path:"/",element:s?e?(()=>{const h=localStorage.getItem("lastVisitedRoute"),m=h&&h!=="/onboarding"?h:"/dashboard";return i.jsx(Cn,{to:m,replace:!0})})():c||!o?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Carregando workspace..."})]})}):t.length===0?i.jsx(Cn,{to:"/onboarding",replace:!0}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("p",{className:"text-gray-600",children:"Finalizando..."})}):i.jsx(Cn,{to:"/login",replace:!0})})]})}function pKe(){const{initialize:e}=ri(),[t,n]=v.useState(!1);return v.useEffect(()=>{(async()=>{try{await e();const s="https://oqwstanztqdiexgrpdta.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k";s&&a&&(tK(s,a),console.log("Baselinker API initialized"))}catch(s){console.error("Error initializing auth:",s)}finally{n(!0)}})()},[e]),t?i.jsx($Z,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(mKe,{}),i.jsx(vee,{})]})}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Inicializando..."})]})})}nF(document.getElementById("root")).render(i.jsx(v.StrictMode,{children:i.jsx(pKe,{})}));
