var hX=Object.defineProperty;var mX=(e,t,n)=>t in e?hX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var sr=(e,t,n)=>mX(e,typeof t!="symbol"?t+"":t,n);function pX(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gX(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var GL={exports:{}},h0={},KL={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=Symbol.for("react.element"),vX=Symbol.for("react.portal"),yX=Symbol.for("react.fragment"),xX=Symbol.for("react.strict_mode"),wX=Symbol.for("react.profiler"),bX=Symbol.for("react.provider"),jX=Symbol.for("react.context"),SX=Symbol.for("react.forward_ref"),NX=Symbol.for("react.suspense"),_X=Symbol.for("react.memo"),CX=Symbol.for("react.lazy"),_2=Symbol.iterator;function EX(e){return e===null||typeof e!="object"?null:(e=_2&&e[_2]||e["@@iterator"],typeof e=="function"?e:null)}var YL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XL=Object.assign,JL={};function Fd(e,t,n){this.props=e,this.context=t,this.refs=JL,this.updater=n||YL}Fd.prototype.isReactComponent={};Fd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function QL(){}QL.prototype=Fd.prototype;function XC(e,t,n){this.props=e,this.context=t,this.refs=JL,this.updater=n||YL}var JC=XC.prototype=new QL;JC.constructor=XC;XL(JC,Fd.prototype);JC.isPureReactComponent=!0;var C2=Array.isArray,ZL=Object.prototype.hasOwnProperty,QC={current:null},e3={key:!0,ref:!0,__self:!0,__source:!0};function t3(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)ZL.call(t,r)&&!e3.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:kp,type:e,key:a,ref:o,props:s,_owner:QC.current}}function kX(e,t){return{$$typeof:kp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ZC(e){return typeof e=="object"&&e!==null&&e.$$typeof===kp}function AX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var E2=/\/+/g;function Kb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AX(""+e.key):t.toString(36)}function Cv(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case kp:case vX:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Kb(o,0):r,C2(s)?(n="",e!=null&&(n=e.replace(E2,"$&/")+"/"),Cv(s,t,n,"",function(u){return u})):s!=null&&(ZC(s)&&(s=kX(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(E2,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",C2(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Kb(a,l);o+=Cv(a,t,n,c,s)}else if(c=EX(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Kb(a,l++),o+=Cv(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gg(e,t,n){if(e==null)return e;var r=[],s=0;return Cv(e,r,"","",function(a){return t.call(n,a,s++)}),r}function PX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ar={current:null},Ev={transition:null},TX={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:Ev,ReactCurrentOwner:QC};function n3(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:gg,forEach:function(e,t,n){gg(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gg(e,function(){t++}),t},toArray:function(e){return gg(e,function(t){return t})||[]},only:function(e){if(!ZC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qe.Component=Fd;Qe.Fragment=yX;Qe.Profiler=wX;Qe.PureComponent=XC;Qe.StrictMode=xX;Qe.Suspense=NX;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TX;Qe.act=n3;Qe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=XL({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=QC.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ZL.call(t,c)&&!e3.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:kp,type:e.type,key:s,ref:a,props:r,_owner:o}};Qe.createContext=function(e){return e={$$typeof:jX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bX,_context:e},e.Consumer=e};Qe.createElement=t3;Qe.createFactory=function(e){var t=t3.bind(null,e);return t.type=e,t};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(e){return{$$typeof:SX,render:e}};Qe.isValidElement=ZC;Qe.lazy=function(e){return{$$typeof:CX,_payload:{_status:-1,_result:e},_init:PX}};Qe.memo=function(e,t){return{$$typeof:_X,type:e,compare:t===void 0?null:t}};Qe.startTransition=function(e){var t=Ev.transition;Ev.transition={};try{e()}finally{Ev.transition=t}};Qe.unstable_act=n3;Qe.useCallback=function(e,t){return Ar.current.useCallback(e,t)};Qe.useContext=function(e){return Ar.current.useContext(e)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(e){return Ar.current.useDeferredValue(e)};Qe.useEffect=function(e,t){return Ar.current.useEffect(e,t)};Qe.useId=function(){return Ar.current.useId()};Qe.useImperativeHandle=function(e,t,n){return Ar.current.useImperativeHandle(e,t,n)};Qe.useInsertionEffect=function(e,t){return Ar.current.useInsertionEffect(e,t)};Qe.useLayoutEffect=function(e,t){return Ar.current.useLayoutEffect(e,t)};Qe.useMemo=function(e,t){return Ar.current.useMemo(e,t)};Qe.useReducer=function(e,t,n){return Ar.current.useReducer(e,t,n)};Qe.useRef=function(e){return Ar.current.useRef(e)};Qe.useState=function(e){return Ar.current.useState(e)};Qe.useSyncExternalStore=function(e,t,n){return Ar.current.useSyncExternalStore(e,t,n)};Qe.useTransition=function(){return Ar.current.useTransition()};Qe.version="18.3.1";KL.exports=Qe;var v=KL.exports;const P=mt(v),m0=pX({__proto__:null,default:P},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OX=v,IX=Symbol.for("react.element"),DX=Symbol.for("react.fragment"),MX=Object.prototype.hasOwnProperty,RX=OX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$X={key:!0,ref:!0,__self:!0,__source:!0};function r3(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)MX.call(t,r)&&!$X.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:IX,type:e,key:a,ref:o,props:s,_owner:RX.current}}h0.Fragment=DX;h0.jsx=r3;h0.jsxs=r3;GL.exports=h0;var i=GL.exports,s3={exports:{}},ws={},a3={exports:{}},i3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,M){var L=I.length;I.push(M);e:for(;0<L;){var z=L-1>>>1,W=I[z];if(0<s(W,M))I[z]=M,I[L]=W,L=z;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var M=I[0],L=I.pop();if(L!==M){I[0]=L;e:for(var z=0,W=I.length,q=W>>>1;z<q;){var V=2*(z+1)-1,te=I[V],ne=V+1,X=I[ne];if(0>s(te,L))ne<W&&0>s(X,te)?(I[z]=X,I[ne]=L,z=ne):(I[z]=te,I[V]=L,z=V);else if(ne<W&&0>s(X,L))I[z]=X,I[ne]=L,z=ne;else break e}}return M}function s(I,M){var L=I.sortIndex-M.sortIndex;return L!==0?L:I.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(I){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=I)r(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=n(u)}}function w(I){if(p=!1,j(I),!g)if(n(c)!==null)g=!0,O(S);else{var M=n(u);M!==null&&R(w,M.startTime-I)}}function S(I,M){g=!1,p&&(p=!1,x(_),_=-1),m=!0;var L=h;try{for(j(M),f=n(c);f!==null&&(!(f.expirationTime>M)||I&&!T());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var W=z(f.expirationTime<=M);M=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(c)&&r(c),j(M)}else r(c);f=n(c)}if(f!==null)var q=!0;else{var V=n(u);V!==null&&R(w,V.startTime-M),q=!1}return q}finally{f=null,h=L,m=!1}}var N=!1,C=null,_=-1,k=5,A=-1;function T(){return!(e.unstable_now()-A<k)}function D(){if(C!==null){var I=e.unstable_now();A=I;var M=!0;try{M=C(!0,I)}finally{M?F():(N=!1,C=null)}}else N=!1}var F;if(typeof b=="function")F=function(){b(D)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,$=E.port2;E.port1.onmessage=D,F=function(){$.postMessage(null)}}else F=function(){y(D,0)};function O(I){C=I,N||(N=!0,F())}function R(I,M){_=y(function(){I(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,O(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var L=h;h=M;try{return I()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,M){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var L=h;h=I;try{return M()}finally{h=L}},e.unstable_scheduleCallback=function(I,M,L){var z=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?z+L:z):L=z,I){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=L+W,I={id:d++,callback:M,priorityLevel:I,startTime:L,expirationTime:W,sortIndex:-1},L>z?(I.sortIndex=L,t(u,I),n(c)===null&&I===n(u)&&(p?(x(_),_=-1):p=!0,R(w,L-z))):(I.sortIndex=W,t(c,I),g||m||(g=!0,O(S))),I},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(I){var M=h;return function(){var L=h;h=M;try{return I.apply(this,arguments)}finally{h=L}}}})(i3);a3.exports=i3;var LX=a3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FX=v,vs=LX;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o3=new Set,Kh={};function Sc(e,t){Ku(e,t),Ku(e+"Capture",t)}function Ku(e,t){for(Kh[e]=t,e=0;e<t.length;e++)o3.add(t[e])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iS=Object.prototype.hasOwnProperty,BX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k2={},A2={};function zX(e){return iS.call(A2,e)?!0:iS.call(k2,e)?!1:BX.test(e)?A2[e]=!0:(k2[e]=!0,!1)}function WX(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VX(e,t,n,r){if(t===null||typeof t>"u"||WX(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pr(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jn[e]=new Pr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jn[t]=new Pr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jn[e]=new Pr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jn[e]=new Pr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jn[e]=new Pr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jn[e]=new Pr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jn[e]=new Pr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jn[e]=new Pr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jn[e]=new Pr(e,5,!1,e.toLowerCase(),null,!1,!1)});var eE=/[\-:]([a-z])/g;function tE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(eE,tE);Jn[t]=new Pr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(eE,tE);Jn[t]=new Pr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(eE,tE);Jn[t]=new Pr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jn[e]=new Pr(e,1,!1,e.toLowerCase(),null,!1,!1)});Jn.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jn[e]=new Pr(e,1,!1,e.toLowerCase(),null,!0,!0)});function nE(e,t,n,r){var s=Jn.hasOwnProperty(t)?Jn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VX(t,n,s,r)&&(n=null),r||s===null?zX(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yi=FX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vg=Symbol.for("react.element"),au=Symbol.for("react.portal"),iu=Symbol.for("react.fragment"),rE=Symbol.for("react.strict_mode"),oS=Symbol.for("react.profiler"),l3=Symbol.for("react.provider"),c3=Symbol.for("react.context"),sE=Symbol.for("react.forward_ref"),lS=Symbol.for("react.suspense"),cS=Symbol.for("react.suspense_list"),aE=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),u3=Symbol.for("react.offscreen"),P2=Symbol.iterator;function bf(e){return e===null||typeof e!="object"?null:(e=P2&&e[P2]||e["@@iterator"],typeof e=="function"?e:null)}var Xt=Object.assign,Yb;function Jf(e){if(Yb===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yb=t&&t[1]||""}return`
`+Yb+e}var Xb=!1;function Jb(e,t){if(!e||Xb)return"";Xb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Xb=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Jf(e):""}function UX(e){switch(e.tag){case 5:return Jf(e.type);case 16:return Jf("Lazy");case 13:return Jf("Suspense");case 19:return Jf("SuspenseList");case 0:case 2:case 15:return e=Jb(e.type,!1),e;case 11:return e=Jb(e.type.render,!1),e;case 1:return e=Jb(e.type,!0),e;default:return""}}function uS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case iu:return"Fragment";case au:return"Portal";case oS:return"Profiler";case rE:return"StrictMode";case lS:return"Suspense";case cS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case c3:return(e.displayName||"Context")+".Consumer";case l3:return(e._context.displayName||"Context")+".Provider";case sE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case aE:return t=e.displayName||null,t!==null?t:uS(e.type)||"Memo";case mo:t=e._payload,e=e._init;try{return uS(e(t))}catch{}}return null}function qX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uS(t);case 8:return t===rE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Uo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function d3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HX(e){var t=d3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yg(e){e._valueTracker||(e._valueTracker=HX(e))}function f3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=d3(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dS(e,t){var n=t.checked;return Xt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function T2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Uo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function h3(e,t){t=t.checked,t!=null&&nE(e,"checked",t,!1)}function fS(e,t){h3(e,t);var n=Uo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hS(e,t.type,n):t.hasOwnProperty("defaultValue")&&hS(e,t.type,Uo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function O2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hS(e,t,n){(t!=="number"||Qv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Qf=Array.isArray;function Eu(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Uo(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function mS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return Xt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function I2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(he(92));if(Qf(n)){if(1<n.length)throw Error(he(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Uo(n)}}function m3(e,t){var n=Uo(t.value),r=Uo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function D2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function p3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?p3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xg,g3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xg=xg||document.createElement("div"),xg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GX=["Webkit","ms","Moz","O"];Object.keys(fh).forEach(function(e){GX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fh[t]=fh[e]})});function v3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fh.hasOwnProperty(e)&&fh[e]?(""+t).trim():t+"px"}function y3(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=v3(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var KX=Xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gS(e,t){if(t){if(KX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function vS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yS=null;function iE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xS=null,ku=null,Au=null;function M2(e){if(e=Tp(e)){if(typeof xS!="function")throw Error(he(280));var t=e.stateNode;t&&(t=x0(t),xS(e.stateNode,e.type,t))}}function x3(e){ku?Au?Au.push(e):Au=[e]:ku=e}function w3(){if(ku){var e=ku,t=Au;if(Au=ku=null,M2(e),t)for(e=0;e<t.length;e++)M2(t[e])}}function b3(e,t){return e(t)}function j3(){}var Qb=!1;function S3(e,t,n){if(Qb)return e(t,n);Qb=!0;try{return b3(e,t,n)}finally{Qb=!1,(ku!==null||Au!==null)&&(j3(),w3())}}function Xh(e,t){var n=e.stateNode;if(n===null)return null;var r=x0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(he(231,t,typeof n));return n}var wS=!1;if(Ii)try{var jf={};Object.defineProperty(jf,"passive",{get:function(){wS=!0}}),window.addEventListener("test",jf,jf),window.removeEventListener("test",jf,jf)}catch{wS=!1}function YX(e,t,n,r,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var hh=!1,Zv=null,ey=!1,bS=null,XX={onError:function(e){hh=!0,Zv=e}};function JX(e,t,n,r,s,a,o,l,c){hh=!1,Zv=null,YX.apply(XX,arguments)}function QX(e,t,n,r,s,a,o,l,c){if(JX.apply(this,arguments),hh){if(hh){var u=Zv;hh=!1,Zv=null}else throw Error(he(198));ey||(ey=!0,bS=u)}}function Nc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function N3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function R2(e){if(Nc(e)!==e)throw Error(he(188))}function ZX(e){var t=e.alternate;if(!t){if(t=Nc(e),t===null)throw Error(he(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return R2(s),e;if(a===r)return R2(s),t;a=a.sibling}throw Error(he(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?e:t}function _3(e){return e=ZX(e),e!==null?C3(e):null}function C3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=C3(e);if(t!==null)return t;e=e.sibling}return null}var E3=vs.unstable_scheduleCallback,$2=vs.unstable_cancelCallback,eJ=vs.unstable_shouldYield,tJ=vs.unstable_requestPaint,tn=vs.unstable_now,nJ=vs.unstable_getCurrentPriorityLevel,oE=vs.unstable_ImmediatePriority,k3=vs.unstable_UserBlockingPriority,ty=vs.unstable_NormalPriority,rJ=vs.unstable_LowPriority,A3=vs.unstable_IdlePriority,p0=null,Wa=null;function sJ(e){if(Wa&&typeof Wa.onCommitFiberRoot=="function")try{Wa.onCommitFiberRoot(p0,e,void 0,(e.current.flags&128)===128)}catch{}}var ga=Math.clz32?Math.clz32:oJ,aJ=Math.log,iJ=Math.LN2;function oJ(e){return e>>>=0,e===0?32:31-(aJ(e)/iJ|0)|0}var wg=64,bg=4194304;function Zf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ny(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Zf(l):(a&=o,a!==0&&(r=Zf(a)))}else o=n&~s,o!==0?r=Zf(o):a!==0&&(r=Zf(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ga(t),s=1<<n,r|=e[n],t&=~s;return r}function lJ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cJ(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ga(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=lJ(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function jS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function P3(){var e=wg;return wg<<=1,!(wg&4194240)&&(wg=64),e}function Zb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ap(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ga(t),e[t]=n}function uJ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ga(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function lE(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ga(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var wt=0;function T3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var O3,cE,I3,D3,M3,SS=!1,jg=[],ko=null,Ao=null,Po=null,Jh=new Map,Qh=new Map,xo=[],dJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L2(e,t){switch(e){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":Po=null;break;case"pointerover":case"pointerout":Jh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qh.delete(t.pointerId)}}function Sf(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Tp(t),t!==null&&cE(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fJ(e,t,n,r,s){switch(t){case"focusin":return ko=Sf(ko,e,t,n,r,s),!0;case"dragenter":return Ao=Sf(Ao,e,t,n,r,s),!0;case"mouseover":return Po=Sf(Po,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Jh.set(a,Sf(Jh.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Qh.set(a,Sf(Qh.get(a)||null,e,t,n,r,s)),!0}return!1}function R3(e){var t=Ll(e.target);if(t!==null){var n=Nc(t);if(n!==null){if(t=n.tag,t===13){if(t=N3(n),t!==null){e.blockedOn=t,M3(e.priority,function(){I3(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=NS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yS=r,n.target.dispatchEvent(r),yS=null}else return t=Tp(n),t!==null&&cE(t),e.blockedOn=n,!1;t.shift()}return!0}function F2(e,t,n){kv(e)&&n.delete(t)}function hJ(){SS=!1,ko!==null&&kv(ko)&&(ko=null),Ao!==null&&kv(Ao)&&(Ao=null),Po!==null&&kv(Po)&&(Po=null),Jh.forEach(F2),Qh.forEach(F2)}function Nf(e,t){e.blockedOn===t&&(e.blockedOn=null,SS||(SS=!0,vs.unstable_scheduleCallback(vs.unstable_NormalPriority,hJ)))}function Zh(e){function t(s){return Nf(s,e)}if(0<jg.length){Nf(jg[0],e);for(var n=1;n<jg.length;n++){var r=jg[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ko!==null&&Nf(ko,e),Ao!==null&&Nf(Ao,e),Po!==null&&Nf(Po,e),Jh.forEach(t),Qh.forEach(t),n=0;n<xo.length;n++)r=xo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<xo.length&&(n=xo[0],n.blockedOn===null);)R3(n),n.blockedOn===null&&xo.shift()}var Pu=Yi.ReactCurrentBatchConfig,ry=!0;function mJ(e,t,n,r){var s=wt,a=Pu.transition;Pu.transition=null;try{wt=1,uE(e,t,n,r)}finally{wt=s,Pu.transition=a}}function pJ(e,t,n,r){var s=wt,a=Pu.transition;Pu.transition=null;try{wt=4,uE(e,t,n,r)}finally{wt=s,Pu.transition=a}}function uE(e,t,n,r){if(ry){var s=NS(e,t,n,r);if(s===null)cj(e,t,r,sy,n),L2(e,r);else if(fJ(s,e,t,n,r))r.stopPropagation();else if(L2(e,r),t&4&&-1<dJ.indexOf(e)){for(;s!==null;){var a=Tp(s);if(a!==null&&O3(a),a=NS(e,t,n,r),a===null&&cj(e,t,r,sy,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else cj(e,t,r,null,n)}}var sy=null;function NS(e,t,n,r){if(sy=null,e=iE(r),e=Ll(e),e!==null)if(t=Nc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=N3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sy=e,null}function $3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nJ()){case oE:return 1;case k3:return 4;case ty:case rJ:return 16;case A3:return 536870912;default:return 16}default:return 16}}var No=null,dE=null,Av=null;function L3(){if(Av)return Av;var e,t=dE,n=t.length,r,s="value"in No?No.value:No.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return Av=s.slice(e,1<r?1-r:void 0)}function Pv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sg(){return!0}function B2(){return!1}function bs(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Sg:B2,this.isPropagationStopped=B2,this}return Xt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sg)},persist:function(){},isPersistent:Sg}),t}var Bd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fE=bs(Bd),Pp=Xt({},Bd,{view:0,detail:0}),gJ=bs(Pp),ej,tj,_f,g0=Xt({},Pp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_f&&(_f&&e.type==="mousemove"?(ej=e.screenX-_f.screenX,tj=e.screenY-_f.screenY):tj=ej=0,_f=e),ej)},movementY:function(e){return"movementY"in e?e.movementY:tj}}),z2=bs(g0),vJ=Xt({},g0,{dataTransfer:0}),yJ=bs(vJ),xJ=Xt({},Pp,{relatedTarget:0}),nj=bs(xJ),wJ=Xt({},Bd,{animationName:0,elapsedTime:0,pseudoElement:0}),bJ=bs(wJ),jJ=Xt({},Bd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SJ=bs(jJ),NJ=Xt({},Bd,{data:0}),W2=bs(NJ),_J={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kJ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=EJ[e])?!!t[e]:!1}function hE(){return kJ}var AJ=Xt({},Pp,{key:function(e){if(e.key){var t=_J[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CJ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hE,charCode:function(e){return e.type==="keypress"?Pv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PJ=bs(AJ),TJ=Xt({},g0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V2=bs(TJ),OJ=Xt({},Pp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hE}),IJ=bs(OJ),DJ=Xt({},Bd,{propertyName:0,elapsedTime:0,pseudoElement:0}),MJ=bs(DJ),RJ=Xt({},g0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$J=bs(RJ),LJ=[9,13,27,32],mE=Ii&&"CompositionEvent"in window,mh=null;Ii&&"documentMode"in document&&(mh=document.documentMode);var FJ=Ii&&"TextEvent"in window&&!mh,F3=Ii&&(!mE||mh&&8<mh&&11>=mh),U2=" ",q2=!1;function B3(e,t){switch(e){case"keyup":return LJ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ou=!1;function BJ(e,t){switch(e){case"compositionend":return z3(t);case"keypress":return t.which!==32?null:(q2=!0,U2);case"textInput":return e=t.data,e===U2&&q2?null:e;default:return null}}function zJ(e,t){if(ou)return e==="compositionend"||!mE&&B3(e,t)?(e=L3(),Av=dE=No=null,ou=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return F3&&t.locale!=="ko"?null:t.data;default:return null}}var WJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WJ[e.type]:t==="textarea"}function W3(e,t,n,r){x3(r),t=ay(t,"onChange"),0<t.length&&(n=new fE("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ph=null,em=null;function VJ(e){Z3(e,0)}function v0(e){var t=uu(e);if(f3(t))return e}function UJ(e,t){if(e==="change")return t}var V3=!1;if(Ii){var rj;if(Ii){var sj="oninput"in document;if(!sj){var G2=document.createElement("div");G2.setAttribute("oninput","return;"),sj=typeof G2.oninput=="function"}rj=sj}else rj=!1;V3=rj&&(!document.documentMode||9<document.documentMode)}function K2(){ph&&(ph.detachEvent("onpropertychange",U3),em=ph=null)}function U3(e){if(e.propertyName==="value"&&v0(em)){var t=[];W3(t,em,e,iE(e)),S3(VJ,t)}}function qJ(e,t,n){e==="focusin"?(K2(),ph=t,em=n,ph.attachEvent("onpropertychange",U3)):e==="focusout"&&K2()}function HJ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return v0(em)}function GJ(e,t){if(e==="click")return v0(t)}function KJ(e,t){if(e==="input"||e==="change")return v0(t)}function YJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ba=typeof Object.is=="function"?Object.is:YJ;function tm(e,t){if(ba(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!iS.call(t,s)||!ba(e[s],t[s]))return!1}return!0}function Y2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function X2(e,t){var n=Y2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Y2(n)}}function q3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?q3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function H3(){for(var e=window,t=Qv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qv(e.document)}return t}function pE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function XJ(e){var t=H3(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&q3(n.ownerDocument.documentElement,n)){if(r!==null&&pE(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=X2(n,a);var o=X2(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JJ=Ii&&"documentMode"in document&&11>=document.documentMode,lu=null,_S=null,gh=null,CS=!1;function J2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;CS||lu==null||lu!==Qv(r)||(r=lu,"selectionStart"in r&&pE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gh&&tm(gh,r)||(gh=r,r=ay(_S,"onSelect"),0<r.length&&(t=new fE("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lu)))}function Ng(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cu={animationend:Ng("Animation","AnimationEnd"),animationiteration:Ng("Animation","AnimationIteration"),animationstart:Ng("Animation","AnimationStart"),transitionend:Ng("Transition","TransitionEnd")},aj={},G3={};Ii&&(G3=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function y0(e){if(aj[e])return aj[e];if(!cu[e])return e;var t=cu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in G3)return aj[e]=t[n];return e}var K3=y0("animationend"),Y3=y0("animationiteration"),X3=y0("animationstart"),J3=y0("transitionend"),Q3=new Map,Q2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(e,t){Q3.set(e,t),Sc(t,[e])}for(var ij=0;ij<Q2.length;ij++){var oj=Q2[ij],QJ=oj.toLowerCase(),ZJ=oj[0].toUpperCase()+oj.slice(1);rl(QJ,"on"+ZJ)}rl(K3,"onAnimationEnd");rl(Y3,"onAnimationIteration");rl(X3,"onAnimationStart");rl("dblclick","onDoubleClick");rl("focusin","onFocus");rl("focusout","onBlur");rl(J3,"onTransitionEnd");Ku("onMouseEnter",["mouseout","mouseover"]);Ku("onMouseLeave",["mouseout","mouseover"]);Ku("onPointerEnter",["pointerout","pointerover"]);Ku("onPointerLeave",["pointerout","pointerover"]);Sc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(eh));function Z2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,QX(r,t,void 0,e),e.currentTarget=null}function Z3(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Z2(s,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Z2(s,l,u),a=c}}}if(ey)throw e=bS,ey=!1,bS=null,e}function Mt(e,t){var n=t[TS];n===void 0&&(n=t[TS]=new Set);var r=e+"__bubble";n.has(r)||(e5(t,e,2,!1),n.add(r))}function lj(e,t,n){var r=0;t&&(r|=4),e5(n,e,r,t)}var _g="_reactListening"+Math.random().toString(36).slice(2);function nm(e){if(!e[_g]){e[_g]=!0,o3.forEach(function(n){n!=="selectionchange"&&(eQ.has(n)||lj(n,!1,e),lj(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_g]||(t[_g]=!0,lj("selectionchange",!1,t))}}function e5(e,t,n,r){switch($3(t)){case 1:var s=mJ;break;case 4:s=pJ;break;default:s=uE}n=s.bind(null,t,n,e),s=void 0,!wS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function cj(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ll(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}S3(function(){var u=a,d=iE(n),f=[];e:{var h=Q3.get(e);if(h!==void 0){var m=fE,g=e;switch(e){case"keypress":if(Pv(n)===0)break e;case"keydown":case"keyup":m=PJ;break;case"focusin":g="focus",m=nj;break;case"focusout":g="blur",m=nj;break;case"beforeblur":case"afterblur":m=nj;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=z2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=IJ;break;case K3:case Y3:case X3:m=bJ;break;case J3:m=MJ;break;case"scroll":m=gJ;break;case"wheel":m=$J;break;case"copy":case"cut":case"paste":m=SJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=V2}var p=(t&4)!==0,y=!p&&e==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var b=u,j;b!==null;){j=b;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,x!==null&&(w=Xh(b,x),w!=null&&p.push(rm(b,w,j)))),y)break;b=b.return}0<p.length&&(h=new m(h,g,null,n,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==yS&&(g=n.relatedTarget||n.fromElement)&&(Ll(g)||g[Di]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Ll(g):null,g!==null&&(y=Nc(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=z2,w="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=V2,w="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?h:uu(m),j=g==null?h:uu(g),h=new p(w,b+"leave",m,n,d),h.target=y,h.relatedTarget=j,w=null,Ll(d)===u&&(p=new p(x,b+"enter",g,n,d),p.target=j,p.relatedTarget=y,w=p),y=w,m&&g)t:{for(p=m,x=g,b=0,j=p;j;j=Rc(j))b++;for(j=0,w=x;w;w=Rc(w))j++;for(;0<b-j;)p=Rc(p),b--;for(;0<j-b;)x=Rc(x),j--;for(;b--;){if(p===x||x!==null&&p===x.alternate)break t;p=Rc(p),x=Rc(x)}p=null}else p=null;m!==null&&eT(f,h,m,p,!1),g!==null&&y!==null&&eT(f,y,g,p,!0)}}e:{if(h=u?uu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=UJ;else if(H2(h))if(V3)S=KJ;else{S=HJ;var N=qJ}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=GJ);if(S&&(S=S(e,u))){W3(f,S,n,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&hS(h,"number",h.value)}switch(N=u?uu(u):window,e){case"focusin":(H2(N)||N.contentEditable==="true")&&(lu=N,_S=u,gh=null);break;case"focusout":gh=_S=lu=null;break;case"mousedown":CS=!0;break;case"contextmenu":case"mouseup":case"dragend":CS=!1,J2(f,n,d);break;case"selectionchange":if(JJ)break;case"keydown":case"keyup":J2(f,n,d)}var C;if(mE)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ou?B3(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(F3&&n.locale!=="ko"&&(ou||_!=="onCompositionStart"?_==="onCompositionEnd"&&ou&&(C=L3()):(No=d,dE="value"in No?No.value:No.textContent,ou=!0)),N=ay(u,_),0<N.length&&(_=new W2(_,e,null,n,d),f.push({event:_,listeners:N}),C?_.data=C:(C=z3(n),C!==null&&(_.data=C)))),(C=FJ?BJ(e,n):zJ(e,n))&&(u=ay(u,"onBeforeInput"),0<u.length&&(d=new W2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}Z3(f,t)})}function rm(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ay(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Xh(e,n),a!=null&&r.unshift(rm(e,a,s)),a=Xh(e,t),a!=null&&r.push(rm(e,a,s))),e=e.return}return r}function Rc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eT(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Xh(n,a),c!=null&&o.unshift(rm(n,c,l))):s||(c=Xh(n,a),c!=null&&o.push(rm(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var tQ=/\r\n?/g,nQ=/\u0000|\uFFFD/g;function tT(e){return(typeof e=="string"?e:""+e).replace(tQ,`
`).replace(nQ,"")}function Cg(e,t,n){if(t=tT(t),tT(e)!==t&&n)throw Error(he(425))}function iy(){}var ES=null,kS=null;function AS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var PS=typeof setTimeout=="function"?setTimeout:void 0,rQ=typeof clearTimeout=="function"?clearTimeout:void 0,nT=typeof Promise=="function"?Promise:void 0,sQ=typeof queueMicrotask=="function"?queueMicrotask:typeof nT<"u"?function(e){return nT.resolve(null).then(e).catch(aQ)}:PS;function aQ(e){setTimeout(function(){throw e})}function uj(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Zh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Zh(t)}function To(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zd=Math.random().toString(36).slice(2),La="__reactFiber$"+zd,sm="__reactProps$"+zd,Di="__reactContainer$"+zd,TS="__reactEvents$"+zd,iQ="__reactListeners$"+zd,oQ="__reactHandles$"+zd;function Ll(e){var t=e[La];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Di]||n[La]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rT(e);e!==null;){if(n=e[La])return n;e=rT(e)}return t}e=n,n=e.parentNode}return null}function Tp(e){return e=e[La]||e[Di],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function uu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function x0(e){return e[sm]||null}var OS=[],du=-1;function sl(e){return{current:e}}function Lt(e){0>du||(e.current=OS[du],OS[du]=null,du--)}function Pt(e,t){du++,OS[du]=e.current,e.current=t}var qo={},pr=sl(qo),Vr=sl(!1),tc=qo;function Yu(e,t){var n=e.type.contextTypes;if(!n)return qo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ur(e){return e=e.childContextTypes,e!=null}function oy(){Lt(Vr),Lt(pr)}function sT(e,t,n){if(pr.current!==qo)throw Error(he(168));Pt(pr,t),Pt(Vr,n)}function t5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(he(108,qX(e)||"Unknown",s));return Xt({},n,r)}function ly(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qo,tc=pr.current,Pt(pr,e),Pt(Vr,Vr.current),!0}function aT(e,t,n){var r=e.stateNode;if(!r)throw Error(he(169));n?(e=t5(e,t,tc),r.__reactInternalMemoizedMergedChildContext=e,Lt(Vr),Lt(pr),Pt(pr,e)):Lt(Vr),Pt(Vr,n)}var gi=null,w0=!1,dj=!1;function n5(e){gi===null?gi=[e]:gi.push(e)}function lQ(e){w0=!0,n5(e)}function al(){if(!dj&&gi!==null){dj=!0;var e=0,t=wt;try{var n=gi;for(wt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}gi=null,w0=!1}catch(s){throw gi!==null&&(gi=gi.slice(e+1)),E3(oE,al),s}finally{wt=t,dj=!1}}return null}var fu=[],hu=0,cy=null,uy=0,Os=[],Is=0,nc=null,yi=1,xi="";function Nl(e,t){fu[hu++]=uy,fu[hu++]=cy,cy=e,uy=t}function r5(e,t,n){Os[Is++]=yi,Os[Is++]=xi,Os[Is++]=nc,nc=e;var r=yi;e=xi;var s=32-ga(r)-1;r&=~(1<<s),n+=1;var a=32-ga(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,yi=1<<32-ga(t)+s|n<<s|r,xi=a+e}else yi=1<<a|n<<s|r,xi=e}function gE(e){e.return!==null&&(Nl(e,1),r5(e,1,0))}function vE(e){for(;e===cy;)cy=fu[--hu],fu[hu]=null,uy=fu[--hu],fu[hu]=null;for(;e===nc;)nc=Os[--Is],Os[Is]=null,xi=Os[--Is],Os[Is]=null,yi=Os[--Is],Os[Is]=null}var cs=null,os=null,Vt=!1,da=null;function s5(e,t){var n=$s(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function iT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cs=e,os=To(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cs=e,os=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nc!==null?{id:yi,overflow:xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$s(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,cs=e,os=null,!0):!1;default:return!1}}function IS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function DS(e){if(Vt){var t=os;if(t){var n=t;if(!iT(e,t)){if(IS(e))throw Error(he(418));t=To(n.nextSibling);var r=cs;t&&iT(e,t)?s5(r,n):(e.flags=e.flags&-4097|2,Vt=!1,cs=e)}}else{if(IS(e))throw Error(he(418));e.flags=e.flags&-4097|2,Vt=!1,cs=e}}}function oT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cs=e}function Eg(e){if(e!==cs)return!1;if(!Vt)return oT(e),Vt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!AS(e.type,e.memoizedProps)),t&&(t=os)){if(IS(e))throw a5(),Error(he(418));for(;t;)s5(e,t),t=To(t.nextSibling)}if(oT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){os=To(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}os=null}}else os=cs?To(e.stateNode.nextSibling):null;return!0}function a5(){for(var e=os;e;)e=To(e.nextSibling)}function Xu(){os=cs=null,Vt=!1}function yE(e){da===null?da=[e]:da.push(e)}var cQ=Yi.ReactCurrentBatchConfig;function Cf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,e))}return e}function kg(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lT(e){var t=e._init;return t(e._payload)}function i5(e){function t(x,b){if(e){var j=x.deletions;j===null?(x.deletions=[b],x.flags|=16):j.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=Mo(x,b),x.index=0,x.sibling=null,x}function a(x,b,j){return x.index=j,e?(j=x.alternate,j!==null?(j=j.index,j<b?(x.flags|=2,b):j):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,j,w){return b===null||b.tag!==6?(b=yj(j,x.mode,w),b.return=x,b):(b=s(b,j),b.return=x,b)}function c(x,b,j,w){var S=j.type;return S===iu?d(x,b,j.props.children,w,j.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mo&&lT(S)===b.type)?(w=s(b,j.props),w.ref=Cf(x,b,j),w.return=x,w):(w=$v(j.type,j.key,j.props,null,x.mode,w),w.ref=Cf(x,b,j),w.return=x,w)}function u(x,b,j,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=xj(j,x.mode,w),b.return=x,b):(b=s(b,j.children||[]),b.return=x,b)}function d(x,b,j,w,S){return b===null||b.tag!==7?(b=Kl(j,x.mode,w,S),b.return=x,b):(b=s(b,j),b.return=x,b)}function f(x,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=yj(""+b,x.mode,j),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case vg:return j=$v(b.type,b.key,b.props,null,x.mode,j),j.ref=Cf(x,null,b),j.return=x,j;case au:return b=xj(b,x.mode,j),b.return=x,b;case mo:var w=b._init;return f(x,w(b._payload),j)}if(Qf(b)||bf(b))return b=Kl(b,x.mode,j,null),b.return=x,b;kg(x,b)}return null}function h(x,b,j,w){var S=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return S!==null?null:l(x,b,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case vg:return j.key===S?c(x,b,j,w):null;case au:return j.key===S?u(x,b,j,w):null;case mo:return S=j._init,h(x,b,S(j._payload),w)}if(Qf(j)||bf(j))return S!==null?null:d(x,b,j,w,null);kg(x,j)}return null}function m(x,b,j,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(j)||null,l(b,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vg:return x=x.get(w.key===null?j:w.key)||null,c(b,x,w,S);case au:return x=x.get(w.key===null?j:w.key)||null,u(b,x,w,S);case mo:var N=w._init;return m(x,b,j,N(w._payload),S)}if(Qf(w)||bf(w))return x=x.get(j)||null,d(b,x,w,S,null);kg(b,w)}return null}function g(x,b,j,w){for(var S=null,N=null,C=b,_=b=0,k=null;C!==null&&_<j.length;_++){C.index>_?(k=C,C=null):k=C.sibling;var A=h(x,C,j[_],w);if(A===null){C===null&&(C=k);break}e&&C&&A.alternate===null&&t(x,C),b=a(A,b,_),N===null?S=A:N.sibling=A,N=A,C=k}if(_===j.length)return n(x,C),Vt&&Nl(x,_),S;if(C===null){for(;_<j.length;_++)C=f(x,j[_],w),C!==null&&(b=a(C,b,_),N===null?S=C:N.sibling=C,N=C);return Vt&&Nl(x,_),S}for(C=r(x,C);_<j.length;_++)k=m(C,x,_,j[_],w),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?_:k.key),b=a(k,b,_),N===null?S=k:N.sibling=k,N=k);return e&&C.forEach(function(T){return t(x,T)}),Vt&&Nl(x,_),S}function p(x,b,j,w){var S=bf(j);if(typeof S!="function")throw Error(he(150));if(j=S.call(j),j==null)throw Error(he(151));for(var N=S=null,C=b,_=b=0,k=null,A=j.next();C!==null&&!A.done;_++,A=j.next()){C.index>_?(k=C,C=null):k=C.sibling;var T=h(x,C,A.value,w);if(T===null){C===null&&(C=k);break}e&&C&&T.alternate===null&&t(x,C),b=a(T,b,_),N===null?S=T:N.sibling=T,N=T,C=k}if(A.done)return n(x,C),Vt&&Nl(x,_),S;if(C===null){for(;!A.done;_++,A=j.next())A=f(x,A.value,w),A!==null&&(b=a(A,b,_),N===null?S=A:N.sibling=A,N=A);return Vt&&Nl(x,_),S}for(C=r(x,C);!A.done;_++,A=j.next())A=m(C,x,_,A.value,w),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?_:A.key),b=a(A,b,_),N===null?S=A:N.sibling=A,N=A);return e&&C.forEach(function(D){return t(x,D)}),Vt&&Nl(x,_),S}function y(x,b,j,w){if(typeof j=="object"&&j!==null&&j.type===iu&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case vg:e:{for(var S=j.key,N=b;N!==null;){if(N.key===S){if(S=j.type,S===iu){if(N.tag===7){n(x,N.sibling),b=s(N,j.props.children),b.return=x,x=b;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mo&&lT(S)===N.type){n(x,N.sibling),b=s(N,j.props),b.ref=Cf(x,N,j),b.return=x,x=b;break e}n(x,N);break}else t(x,N);N=N.sibling}j.type===iu?(b=Kl(j.props.children,x.mode,w,j.key),b.return=x,x=b):(w=$v(j.type,j.key,j.props,null,x.mode,w),w.ref=Cf(x,b,j),w.return=x,x=w)}return o(x);case au:e:{for(N=j.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){n(x,b.sibling),b=s(b,j.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=xj(j,x.mode,w),b.return=x,x=b}return o(x);case mo:return N=j._init,y(x,b,N(j._payload),w)}if(Qf(j))return g(x,b,j,w);if(bf(j))return p(x,b,j,w);kg(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(n(x,b.sibling),b=s(b,j),b.return=x,x=b):(n(x,b),b=yj(j,x.mode,w),b.return=x,x=b),o(x)):n(x,b)}return y}var Ju=i5(!0),o5=i5(!1),dy=sl(null),fy=null,mu=null,xE=null;function wE(){xE=mu=fy=null}function bE(e){var t=dy.current;Lt(dy),e._currentValue=t}function MS(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tu(e,t){fy=e,xE=mu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zr=!0),e.firstContext=null)}function Hs(e){var t=e._currentValue;if(xE!==e)if(e={context:e,memoizedValue:t,next:null},mu===null){if(fy===null)throw Error(he(308));mu=e,fy.dependencies={lanes:0,firstContext:e}}else mu=mu.next=e;return t}var Fl=null;function jE(e){Fl===null?Fl=[e]:Fl.push(e)}function l5(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,jE(t)):(n.next=s.next,s.next=n),t.interleaved=n,Mi(e,r)}function Mi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var po=!1;function SE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _i(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ut&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Mi(e,n)}return s=r.interleaved,s===null?(t.next=t,jE(r)):(t.next=s.next,s.next=t),r.interleaved=t,Mi(e,n)}function Tv(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lE(e,n)}}function cT(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hy(e,t,n,r){var s=e.updateQueue;po=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Xt({},f,h);break e;case 2:po=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);sc|=o,e.lanes=o,e.memoizedState=f}}function uT(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(he(191,s));s.call(r)}}}var Op={},Va=sl(Op),am=sl(Op),im=sl(Op);function Bl(e){if(e===Op)throw Error(he(174));return e}function NE(e,t){switch(Pt(im,t),Pt(am,e),Pt(Va,Op),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pS(t,e)}Lt(Va),Pt(Va,t)}function Qu(){Lt(Va),Lt(am),Lt(im)}function u5(e){Bl(im.current);var t=Bl(Va.current),n=pS(t,e.type);t!==n&&(Pt(am,e),Pt(Va,n))}function _E(e){am.current===e&&(Lt(Va),Lt(am))}var qt=sl(0);function my(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fj=[];function CE(){for(var e=0;e<fj.length;e++)fj[e]._workInProgressVersionPrimary=null;fj.length=0}var Ov=Yi.ReactCurrentDispatcher,hj=Yi.ReactCurrentBatchConfig,rc=0,Kt=null,xn=null,Tn=null,py=!1,vh=!1,om=0,uQ=0;function ar(){throw Error(he(321))}function EE(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ba(e[n],t[n]))return!1;return!0}function kE(e,t,n,r,s,a){if(rc=a,Kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ov.current=e===null||e.memoizedState===null?mQ:pQ,e=n(r,s),vh){a=0;do{if(vh=!1,om=0,25<=a)throw Error(he(301));a+=1,Tn=xn=null,t.updateQueue=null,Ov.current=gQ,e=n(r,s)}while(vh)}if(Ov.current=gy,t=xn!==null&&xn.next!==null,rc=0,Tn=xn=Kt=null,py=!1,t)throw Error(he(300));return e}function AE(){var e=om!==0;return om=0,e}function Ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Kt.memoizedState=Tn=e:Tn=Tn.next=e,Tn}function Gs(){if(xn===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=xn.next;var t=Tn===null?Kt.memoizedState:Tn.next;if(t!==null)Tn=t,xn=e;else{if(e===null)throw Error(he(310));xn=e,e={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},Tn===null?Kt.memoizedState=Tn=e:Tn=Tn.next=e}return Tn}function lm(e,t){return typeof t=="function"?t(e):t}function mj(e){var t=Gs(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=xn,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((rc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Kt.lanes|=d,sc|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,ba(r,t.memoizedState)||(zr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,Kt.lanes|=a,sc|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pj(e){var t=Gs(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);ba(a,t.memoizedState)||(zr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function d5(){}function f5(e,t){var n=Kt,r=Gs(),s=t(),a=!ba(r.memoizedState,s);if(a&&(r.memoizedState=s,zr=!0),r=r.queue,PE(p5.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Tn!==null&&Tn.memoizedState.tag&1){if(n.flags|=2048,cm(9,m5.bind(null,n,r,s,t),void 0,null),In===null)throw Error(he(349));rc&30||h5(n,t,s)}return s}function h5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function m5(e,t,n,r){t.value=n,t.getSnapshot=r,g5(t)&&v5(e)}function p5(e,t,n){return n(function(){g5(t)&&v5(e)})}function g5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ba(e,n)}catch{return!0}}function v5(e){var t=Mi(e,1);t!==null&&va(t,e,1,-1)}function dT(e){var t=Ra();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lm,lastRenderedState:e},t.queue=e,e=e.dispatch=hQ.bind(null,Kt,e),[t.memoizedState,e]}function cm(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function y5(){return Gs().memoizedState}function Iv(e,t,n,r){var s=Ra();Kt.flags|=e,s.memoizedState=cm(1|t,n,void 0,r===void 0?null:r)}function b0(e,t,n,r){var s=Gs();r=r===void 0?null:r;var a=void 0;if(xn!==null){var o=xn.memoizedState;if(a=o.destroy,r!==null&&EE(r,o.deps)){s.memoizedState=cm(t,n,a,r);return}}Kt.flags|=e,s.memoizedState=cm(1|t,n,a,r)}function fT(e,t){return Iv(8390656,8,e,t)}function PE(e,t){return b0(2048,8,e,t)}function x5(e,t){return b0(4,2,e,t)}function w5(e,t){return b0(4,4,e,t)}function b5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function j5(e,t,n){return n=n!=null?n.concat([e]):null,b0(4,4,b5.bind(null,t,e),n)}function TE(){}function S5(e,t){var n=Gs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&EE(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function N5(e,t){var n=Gs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&EE(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _5(e,t,n){return rc&21?(ba(n,t)||(n=P3(),Kt.lanes|=n,sc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zr=!0),e.memoizedState=n)}function dQ(e,t){var n=wt;wt=n!==0&&4>n?n:4,e(!0);var r=hj.transition;hj.transition={};try{e(!1),t()}finally{wt=n,hj.transition=r}}function C5(){return Gs().memoizedState}function fQ(e,t,n){var r=Do(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},E5(e))k5(t,n);else if(n=l5(e,t,n,r),n!==null){var s=Cr();va(n,e,r,s),A5(n,t,r)}}function hQ(e,t,n){var r=Do(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(E5(e))k5(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,ba(l,o)){var c=t.interleaved;c===null?(s.next=s,jE(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=l5(e,t,s,r),n!==null&&(s=Cr(),va(n,e,r,s),A5(n,t,r))}}function E5(e){var t=e.alternate;return e===Kt||t!==null&&t===Kt}function k5(e,t){vh=py=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function A5(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lE(e,n)}}var gy={readContext:Hs,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},mQ={readContext:Hs,useCallback:function(e,t){return Ra().memoizedState=[e,t===void 0?null:t],e},useContext:Hs,useEffect:fT,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Iv(4194308,4,b5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Iv(4194308,4,e,t)},useInsertionEffect:function(e,t){return Iv(4,2,e,t)},useMemo:function(e,t){var n=Ra();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ra();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fQ.bind(null,Kt,e),[r.memoizedState,e]},useRef:function(e){var t=Ra();return e={current:e},t.memoizedState=e},useState:dT,useDebugValue:TE,useDeferredValue:function(e){return Ra().memoizedState=e},useTransition:function(){var e=dT(!1),t=e[0];return e=dQ.bind(null,e[1]),Ra().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Kt,s=Ra();if(Vt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=t(),In===null)throw Error(he(349));rc&30||h5(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,fT(p5.bind(null,r,a,e),[e]),r.flags|=2048,cm(9,m5.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ra(),t=In.identifierPrefix;if(Vt){var n=xi,r=yi;n=(r&~(1<<32-ga(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=om++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uQ++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pQ={readContext:Hs,useCallback:S5,useContext:Hs,useEffect:PE,useImperativeHandle:j5,useInsertionEffect:x5,useLayoutEffect:w5,useMemo:N5,useReducer:mj,useRef:y5,useState:function(){return mj(lm)},useDebugValue:TE,useDeferredValue:function(e){var t=Gs();return _5(t,xn.memoizedState,e)},useTransition:function(){var e=mj(lm)[0],t=Gs().memoizedState;return[e,t]},useMutableSource:d5,useSyncExternalStore:f5,useId:C5,unstable_isNewReconciler:!1},gQ={readContext:Hs,useCallback:S5,useContext:Hs,useEffect:PE,useImperativeHandle:j5,useInsertionEffect:x5,useLayoutEffect:w5,useMemo:N5,useReducer:pj,useRef:y5,useState:function(){return pj(lm)},useDebugValue:TE,useDeferredValue:function(e){var t=Gs();return xn===null?t.memoizedState=e:_5(t,xn.memoizedState,e)},useTransition:function(){var e=pj(lm)[0],t=Gs().memoizedState;return[e,t]},useMutableSource:d5,useSyncExternalStore:f5,useId:C5,unstable_isNewReconciler:!1};function aa(e,t){if(e&&e.defaultProps){t=Xt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function RS(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var j0={isMounted:function(e){return(e=e._reactInternals)?Nc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Cr(),s=Do(e),a=_i(r,s);a.payload=t,n!=null&&(a.callback=n),t=Oo(e,a,s),t!==null&&(va(t,e,s,r),Tv(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Cr(),s=Do(e),a=_i(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Oo(e,a,s),t!==null&&(va(t,e,s,r),Tv(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Cr(),r=Do(e),s=_i(n,r);s.tag=2,t!=null&&(s.callback=t),t=Oo(e,s,r),t!==null&&(va(t,e,r,n),Tv(t,e,r))}};function hT(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!tm(n,r)||!tm(s,a):!0}function P5(e,t,n){var r=!1,s=qo,a=t.contextType;return typeof a=="object"&&a!==null?a=Hs(a):(s=Ur(t)?tc:pr.current,r=t.contextTypes,a=(r=r!=null)?Yu(e,s):qo),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=j0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function mT(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&j0.enqueueReplaceState(t,t.state,null)}function $S(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},SE(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Hs(a):(a=Ur(t)?tc:pr.current,s.context=Yu(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(RS(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&j0.enqueueReplaceState(s,s.state,null),hy(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zu(e,t){try{var n="",r=t;do n+=UX(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function gj(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function LS(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vQ=typeof WeakMap=="function"?WeakMap:Map;function T5(e,t,n){n=_i(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){yy||(yy=!0,KS=r),LS(e,t)},n}function O5(e,t,n){n=_i(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){LS(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){LS(e,t),typeof r!="function"&&(Io===null?Io=new Set([this]):Io.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function pT(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vQ;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=TQ.bind(null,e,t,n),t.then(e,e))}function gT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vT(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_i(-1,1),t.tag=2,Oo(n,t,1))),n.lanes|=1),e)}var yQ=Yi.ReactCurrentOwner,zr=!1;function br(e,t,n,r){t.child=e===null?o5(t,null,n,r):Ju(t,e.child,n,r)}function yT(e,t,n,r,s){n=n.render;var a=t.ref;return Tu(t,s),r=kE(e,t,n,r,a,s),n=AE(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ri(e,t,s)):(Vt&&n&&gE(t),t.flags|=1,br(e,t,r,s),t.child)}function xT(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!FE(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,I5(e,t,a,r,s)):(e=$v(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:tm,n(o,r)&&e.ref===t.ref)return Ri(e,t,s)}return t.flags|=1,e=Mo(a,r),e.ref=t.ref,e.return=t,t.child=e}function I5(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(tm(a,r)&&e.ref===t.ref)if(zr=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(zr=!0);else return t.lanes=e.lanes,Ri(e,t,s)}return FS(e,t,n,r,s)}function D5(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(gu,ts),ts|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pt(gu,ts),ts|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Pt(gu,ts),ts|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Pt(gu,ts),ts|=r;return br(e,t,s,n),t.child}function M5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function FS(e,t,n,r,s){var a=Ur(n)?tc:pr.current;return a=Yu(t,a),Tu(t,s),n=kE(e,t,n,r,a,s),r=AE(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ri(e,t,s)):(Vt&&r&&gE(t),t.flags|=1,br(e,t,n,s),t.child)}function wT(e,t,n,r,s){if(Ur(n)){var a=!0;ly(t)}else a=!1;if(Tu(t,s),t.stateNode===null)Dv(e,t),P5(t,n,r),$S(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Hs(u):(u=Ur(n)?tc:pr.current,u=Yu(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&mT(t,o,r,u),po=!1;var h=t.memoizedState;o.state=h,hy(t,r,o,s),c=t.memoizedState,l!==r||h!==c||Vr.current||po?(typeof d=="function"&&(RS(t,n,d,r),c=t.memoizedState),(l=po||hT(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,c5(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:aa(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Hs(c):(c=Ur(n)?tc:pr.current,c=Yu(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&mT(t,o,r,c),po=!1,h=t.memoizedState,o.state=h,hy(t,r,o,s);var g=t.memoizedState;l!==f||h!==g||Vr.current||po?(typeof m=="function"&&(RS(t,n,m,r),g=t.memoizedState),(u=po||hT(t,n,u,r,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return BS(e,t,n,r,a,s)}function BS(e,t,n,r,s,a){M5(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&aT(t,n,!1),Ri(e,t,a);r=t.stateNode,yQ.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ju(t,e.child,null,a),t.child=Ju(t,null,l,a)):br(e,t,l,a),t.memoizedState=r.state,s&&aT(t,n,!0),t.child}function R5(e){var t=e.stateNode;t.pendingContext?sT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sT(e,t.context,!1),NE(e,t.containerInfo)}function bT(e,t,n,r,s){return Xu(),yE(s),t.flags|=256,br(e,t,n,r),t.child}var zS={dehydrated:null,treeContext:null,retryLane:0};function WS(e){return{baseLanes:e,cachePool:null,transitions:null}}function $5(e,t,n){var r=t.pendingProps,s=qt.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Pt(qt,s&1),e===null)return DS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=_0(o,r,0,null),e=Kl(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=WS(n),t.memoizedState=zS,e):OE(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xQ(e,t,o,r,l,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Mo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Mo(l,a):(a=Kl(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?WS(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=zS,r}return a=e.child,e=a.sibling,r=Mo(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function OE(e,t){return t=_0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ag(e,t,n,r){return r!==null&&yE(r),Ju(t,e.child,null,n),e=OE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xQ(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=gj(Error(he(422))),Ag(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=_0({mode:"visible",children:r.children},s,0,null),a=Kl(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Ju(t,e.child,null,o),t.child.memoizedState=WS(o),t.memoizedState=zS,a);if(!(t.mode&1))return Ag(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(he(419)),r=gj(a,r,void 0),Ag(e,t,o,r)}if(l=(o&e.childLanes)!==0,zr||l){if(r=In,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Mi(e,s),va(r,e,s,-1))}return LE(),r=gj(Error(he(421))),Ag(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=OQ.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,os=To(s.nextSibling),cs=t,Vt=!0,da=null,e!==null&&(Os[Is++]=yi,Os[Is++]=xi,Os[Is++]=nc,yi=e.id,xi=e.overflow,nc=t),t=OE(t,r.children),t.flags|=4096,t)}function jT(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),MS(e.return,t,n)}function vj(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function L5(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(br(e,t,r.children,n),r=qt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jT(e,n,t);else if(e.tag===19)jT(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pt(qt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&my(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),vj(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&my(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}vj(t,!0,n,null,a);break;case"together":vj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ri(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,n=Mo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wQ(e,t,n){switch(t.tag){case 3:R5(t),Xu();break;case 5:u5(t);break;case 1:Ur(t.type)&&ly(t);break;case 4:NE(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Pt(dy,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pt(qt,qt.current&1),t.flags|=128,null):n&t.child.childLanes?$5(e,t,n):(Pt(qt,qt.current&1),e=Ri(e,t,n),e!==null?e.sibling:null);Pt(qt,qt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return L5(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pt(qt,qt.current),r)break;return null;case 22:case 23:return t.lanes=0,D5(e,t,n)}return Ri(e,t,n)}var F5,VS,B5,z5;F5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};VS=function(){};B5=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Bl(Va.current);var a=null;switch(n){case"input":s=dS(e,s),r=dS(e,r),a=[];break;case"select":s=Xt({},s,{value:void 0}),r=Xt({},r,{value:void 0}),a=[];break;case"textarea":s=mS(e,s),r=mS(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=iy)}gS(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Kh.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Kh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Mt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};z5=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ef(e,t){if(!Vt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ir(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bQ(e,t,n){var r=t.pendingProps;switch(vE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(t),null;case 1:return Ur(t.type)&&oy(),ir(t),null;case 3:return r=t.stateNode,Qu(),Lt(Vr),Lt(pr),CE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Eg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,da!==null&&(JS(da),da=null))),VS(e,t),ir(t),null;case 5:_E(t);var s=Bl(im.current);if(n=t.type,e!==null&&t.stateNode!=null)B5(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(he(166));return ir(t),null}if(e=Bl(Va.current),Eg(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[La]=t,r[sm]=a,e=(t.mode&1)!==0,n){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(s=0;s<eh.length;s++)Mt(eh[s],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":T2(r,a),Mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Mt("invalid",r);break;case"textarea":I2(r,a),Mt("invalid",r)}gS(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Cg(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Cg(r.textContent,l,e),s=["children",""+l]):Kh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Mt("scroll",r)}switch(n){case"input":yg(r),O2(r,a,!0);break;case"textarea":yg(r),D2(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=iy)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=p3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[La]=t,e[sm]=r,F5(e,t,!1,!1),t.stateNode=e;e:{switch(o=vS(n,r),n){case"dialog":Mt("cancel",e),Mt("close",e),s=r;break;case"iframe":case"object":case"embed":Mt("load",e),s=r;break;case"video":case"audio":for(s=0;s<eh.length;s++)Mt(eh[s],e);s=r;break;case"source":Mt("error",e),s=r;break;case"img":case"image":case"link":Mt("error",e),Mt("load",e),s=r;break;case"details":Mt("toggle",e),s=r;break;case"input":T2(e,r),s=dS(e,r),Mt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Xt({},r,{value:void 0}),Mt("invalid",e);break;case"textarea":I2(e,r),s=mS(e,r),Mt("invalid",e);break;default:s=r}gS(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?y3(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&g3(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Yh(e,c):typeof c=="number"&&Yh(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Kh.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Mt("scroll",e):c!=null&&nE(e,a,c,o))}switch(n){case"input":yg(e),O2(e,r,!1);break;case"textarea":yg(e),D2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Uo(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Eu(e,!!r.multiple,a,!1):r.defaultValue!=null&&Eu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=iy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ir(t),null;case 6:if(e&&t.stateNode!=null)z5(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(he(166));if(n=Bl(im.current),Bl(Va.current),Eg(t)){if(r=t.stateNode,n=t.memoizedProps,r[La]=t,(a=r.nodeValue!==n)&&(e=cs,e!==null))switch(e.tag){case 3:Cg(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cg(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[La]=t,t.stateNode=r}return ir(t),null;case 13:if(Lt(qt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vt&&os!==null&&t.mode&1&&!(t.flags&128))a5(),Xu(),t.flags|=98560,a=!1;else if(a=Eg(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(he(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(he(317));a[La]=t}else Xu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ir(t),a=!1}else da!==null&&(JS(da),da=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||qt.current&1?jn===0&&(jn=3):LE())),t.updateQueue!==null&&(t.flags|=4),ir(t),null);case 4:return Qu(),VS(e,t),e===null&&nm(t.stateNode.containerInfo),ir(t),null;case 10:return bE(t.type._context),ir(t),null;case 17:return Ur(t.type)&&oy(),ir(t),null;case 19:if(Lt(qt),a=t.memoizedState,a===null)return ir(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Ef(a,!1);else{if(jn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=my(e),o!==null){for(t.flags|=128,Ef(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pt(qt,qt.current&1|2),t.child}e=e.sibling}a.tail!==null&&tn()>ed&&(t.flags|=128,r=!0,Ef(a,!1),t.lanes=4194304)}else{if(!r)if(e=my(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ef(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Vt)return ir(t),null}else 2*tn()-a.renderingStartTime>ed&&n!==1073741824&&(t.flags|=128,r=!0,Ef(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=tn(),t.sibling=null,n=qt.current,Pt(qt,r?n&1|2:n&1),t):(ir(t),null);case 22:case 23:return $E(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ts&1073741824&&(ir(t),t.subtreeFlags&6&&(t.flags|=8192)):ir(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function jQ(e,t){switch(vE(t),t.tag){case 1:return Ur(t.type)&&oy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qu(),Lt(Vr),Lt(pr),CE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _E(t),null;case 13:if(Lt(qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));Xu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt(qt),null;case 4:return Qu(),null;case 10:return bE(t.type._context),null;case 22:case 23:return $E(),null;case 24:return null;default:return null}}var Pg=!1,cr=!1,SQ=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function pu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qt(e,t,r)}else n.current=null}function US(e,t,n){try{n()}catch(r){Qt(e,t,r)}}var ST=!1;function NQ(e,t){if(ES=ry,e=H3(),pE(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=o),h===a&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(kS={focusedElem:e,selectionRange:n},ry=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,y=g.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:aa(t.type,p),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(w){Qt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return g=ST,ST=!1,g}function yh(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&US(t,n,a)}s=s.next}while(s!==r)}}function S0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function qS(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function W5(e){var t=e.alternate;t!==null&&(e.alternate=null,W5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[La],delete t[sm],delete t[TS],delete t[iQ],delete t[oQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function V5(e){return e.tag===5||e.tag===3||e.tag===4}function NT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||V5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function HS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=iy));else if(r!==4&&(e=e.child,e!==null))for(HS(e,t,n),e=e.sibling;e!==null;)HS(e,t,n),e=e.sibling}function GS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(GS(e,t,n),e=e.sibling;e!==null;)GS(e,t,n),e=e.sibling}var qn=null,ia=!1;function ro(e,t,n){for(n=n.child;n!==null;)U5(e,t,n),n=n.sibling}function U5(e,t,n){if(Wa&&typeof Wa.onCommitFiberUnmount=="function")try{Wa.onCommitFiberUnmount(p0,n)}catch{}switch(n.tag){case 5:cr||pu(n,t);case 6:var r=qn,s=ia;qn=null,ro(e,t,n),qn=r,ia=s,qn!==null&&(ia?(e=qn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qn.removeChild(n.stateNode));break;case 18:qn!==null&&(ia?(e=qn,n=n.stateNode,e.nodeType===8?uj(e.parentNode,n):e.nodeType===1&&uj(e,n),Zh(e)):uj(qn,n.stateNode));break;case 4:r=qn,s=ia,qn=n.stateNode.containerInfo,ia=!0,ro(e,t,n),qn=r,ia=s;break;case 0:case 11:case 14:case 15:if(!cr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&US(n,t,o),s=s.next}while(s!==r)}ro(e,t,n);break;case 1:if(!cr&&(pu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Qt(n,t,l)}ro(e,t,n);break;case 21:ro(e,t,n);break;case 22:n.mode&1?(cr=(r=cr)||n.memoizedState!==null,ro(e,t,n),cr=r):ro(e,t,n);break;default:ro(e,t,n)}}function _T(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new SQ),t.forEach(function(r){var s=IQ.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ea(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:qn=l.stateNode,ia=!1;break e;case 3:qn=l.stateNode.containerInfo,ia=!0;break e;case 4:qn=l.stateNode.containerInfo,ia=!0;break e}l=l.return}if(qn===null)throw Error(he(160));U5(a,o,s),qn=null,ia=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Qt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)q5(t,e),t=t.sibling}function q5(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ea(t,e),Da(e),r&4){try{yh(3,e,e.return),S0(3,e)}catch(p){Qt(e,e.return,p)}try{yh(5,e,e.return)}catch(p){Qt(e,e.return,p)}}break;case 1:ea(t,e),Da(e),r&512&&n!==null&&pu(n,n.return);break;case 5:if(ea(t,e),Da(e),r&512&&n!==null&&pu(n,n.return),e.flags&32){var s=e.stateNode;try{Yh(s,"")}catch(p){Qt(e,e.return,p)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&h3(s,a),vS(l,o);var u=vS(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?y3(s,f):d==="dangerouslySetInnerHTML"?g3(s,f):d==="children"?Yh(s,f):nE(s,d,f,u)}switch(l){case"input":fS(s,a);break;case"textarea":m3(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Eu(s,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Eu(s,!!a.multiple,a.defaultValue,!0):Eu(s,!!a.multiple,a.multiple?[]:"",!1))}s[sm]=a}catch(p){Qt(e,e.return,p)}}break;case 6:if(ea(t,e),Da(e),r&4){if(e.stateNode===null)throw Error(he(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(p){Qt(e,e.return,p)}}break;case 3:if(ea(t,e),Da(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zh(t.containerInfo)}catch(p){Qt(e,e.return,p)}break;case 4:ea(t,e),Da(e);break;case 13:ea(t,e),Da(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ME=tn())),r&4&&_T(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(cr=(u=cr)||d,ea(t,e),cr=u):ea(t,e),Da(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ee=e,d=e.child;d!==null;){for(f=Ee=d;Ee!==null;){switch(h=Ee,m=h.child,h.tag){case 0:case 11:case 14:case 15:yh(4,h,h.return);break;case 1:pu(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Qt(r,n,p)}}break;case 5:pu(h,h.return);break;case 22:if(h.memoizedState!==null){ET(f);continue}}m!==null?(m.return=h,Ee=m):ET(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=v3("display",o))}catch(p){Qt(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Qt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ea(t,e),Da(e),r&4&&_T(e);break;case 21:break;default:ea(t,e),Da(e)}}function Da(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(V5(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yh(s,""),r.flags&=-33);var a=NT(e);GS(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=NT(e);HS(e,l,o);break;default:throw Error(he(161))}}catch(c){Qt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _Q(e,t,n){Ee=e,H5(e)}function H5(e,t,n){for(var r=(e.mode&1)!==0;Ee!==null;){var s=Ee,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Pg;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||cr;l=Pg;var u=cr;if(Pg=o,(cr=c)&&!u)for(Ee=s;Ee!==null;)o=Ee,c=o.child,o.tag===22&&o.memoizedState!==null?kT(s):c!==null?(c.return=o,Ee=c):kT(s);for(;a!==null;)Ee=a,H5(a),a=a.sibling;Ee=s,Pg=l,cr=u}CT(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Ee=a):CT(e)}}function CT(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cr||S0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!cr)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:aa(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&uT(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uT(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Zh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}cr||t.flags&512&&qS(t)}catch(h){Qt(t,t.return,h)}}if(t===e){Ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function ET(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function kT(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{S0(4,t)}catch(c){Qt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Qt(t,s,c)}}var a=t.return;try{qS(t)}catch(c){Qt(t,a,c)}break;case 5:var o=t.return;try{qS(t)}catch(c){Qt(t,o,c)}}}catch(c){Qt(t,t.return,c)}if(t===e){Ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ee=l;break}Ee=t.return}}var CQ=Math.ceil,vy=Yi.ReactCurrentDispatcher,IE=Yi.ReactCurrentOwner,Ws=Yi.ReactCurrentBatchConfig,ut=0,In=null,fn=null,Xn=0,ts=0,gu=sl(0),jn=0,um=null,sc=0,N0=0,DE=0,xh=null,$r=null,ME=0,ed=1/0,hi=null,yy=!1,KS=null,Io=null,Tg=!1,_o=null,xy=0,wh=0,YS=null,Mv=-1,Rv=0;function Cr(){return ut&6?tn():Mv!==-1?Mv:Mv=tn()}function Do(e){return e.mode&1?ut&2&&Xn!==0?Xn&-Xn:cQ.transition!==null?(Rv===0&&(Rv=P3()),Rv):(e=wt,e!==0||(e=window.event,e=e===void 0?16:$3(e.type)),e):1}function va(e,t,n,r){if(50<wh)throw wh=0,YS=null,Error(he(185));Ap(e,n,r),(!(ut&2)||e!==In)&&(e===In&&(!(ut&2)&&(N0|=n),jn===4&&wo(e,Xn)),qr(e,r),n===1&&ut===0&&!(t.mode&1)&&(ed=tn()+500,w0&&al()))}function qr(e,t){var n=e.callbackNode;cJ(e,t);var r=ny(e,e===In?Xn:0);if(r===0)n!==null&&$2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$2(n),t===1)e.tag===0?lQ(AT.bind(null,e)):n5(AT.bind(null,e)),sQ(function(){!(ut&6)&&al()}),n=null;else{switch(T3(r)){case 1:n=oE;break;case 4:n=k3;break;case 16:n=ty;break;case 536870912:n=A3;break;default:n=ty}n=eF(n,G5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function G5(e,t){if(Mv=-1,Rv=0,ut&6)throw Error(he(327));var n=e.callbackNode;if(Ou()&&e.callbackNode!==n)return null;var r=ny(e,e===In?Xn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=wy(e,r);else{t=r;var s=ut;ut|=2;var a=Y5();(In!==e||Xn!==t)&&(hi=null,ed=tn()+500,Gl(e,t));do try{AQ();break}catch(l){K5(e,l)}while(!0);wE(),vy.current=a,ut=s,fn!==null?t=0:(In=null,Xn=0,t=jn)}if(t!==0){if(t===2&&(s=jS(e),s!==0&&(r=s,t=XS(e,s))),t===1)throw n=um,Gl(e,0),wo(e,r),qr(e,tn()),n;if(t===6)wo(e,r);else{if(s=e.current.alternate,!(r&30)&&!EQ(s)&&(t=wy(e,r),t===2&&(a=jS(e),a!==0&&(r=a,t=XS(e,a))),t===1))throw n=um,Gl(e,0),wo(e,r),qr(e,tn()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(he(345));case 2:_l(e,$r,hi);break;case 3:if(wo(e,r),(r&130023424)===r&&(t=ME+500-tn(),10<t)){if(ny(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Cr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=PS(_l.bind(null,e,$r,hi),t);break}_l(e,$r,hi);break;case 4:if(wo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ga(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=tn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CQ(r/1960))-r,10<r){e.timeoutHandle=PS(_l.bind(null,e,$r,hi),r);break}_l(e,$r,hi);break;case 5:_l(e,$r,hi);break;default:throw Error(he(329))}}}return qr(e,tn()),e.callbackNode===n?G5.bind(null,e):null}function XS(e,t){var n=xh;return e.current.memoizedState.isDehydrated&&(Gl(e,t).flags|=256),e=wy(e,t),e!==2&&(t=$r,$r=n,t!==null&&JS(t)),e}function JS(e){$r===null?$r=e:$r.push.apply($r,e)}function EQ(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!ba(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wo(e,t){for(t&=~DE,t&=~N0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ga(t),r=1<<n;e[n]=-1,t&=~r}}function AT(e){if(ut&6)throw Error(he(327));Ou();var t=ny(e,0);if(!(t&1))return qr(e,tn()),null;var n=wy(e,t);if(e.tag!==0&&n===2){var r=jS(e);r!==0&&(t=r,n=XS(e,r))}if(n===1)throw n=um,Gl(e,0),wo(e,t),qr(e,tn()),n;if(n===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,$r,hi),qr(e,tn()),null}function RE(e,t){var n=ut;ut|=1;try{return e(t)}finally{ut=n,ut===0&&(ed=tn()+500,w0&&al())}}function ac(e){_o!==null&&_o.tag===0&&!(ut&6)&&Ou();var t=ut;ut|=1;var n=Ws.transition,r=wt;try{if(Ws.transition=null,wt=1,e)return e()}finally{wt=r,Ws.transition=n,ut=t,!(ut&6)&&al()}}function $E(){ts=gu.current,Lt(gu)}function Gl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rQ(n)),fn!==null)for(n=fn.return;n!==null;){var r=n;switch(vE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oy();break;case 3:Qu(),Lt(Vr),Lt(pr),CE();break;case 5:_E(r);break;case 4:Qu();break;case 13:Lt(qt);break;case 19:Lt(qt);break;case 10:bE(r.type._context);break;case 22:case 23:$E()}n=n.return}if(In=e,fn=e=Mo(e.current,null),Xn=ts=t,jn=0,um=null,DE=N0=sc=0,$r=xh=null,Fl!==null){for(t=0;t<Fl.length;t++)if(n=Fl[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}Fl=null}return e}function K5(e,t){do{var n=fn;try{if(wE(),Ov.current=gy,py){for(var r=Kt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}py=!1}if(rc=0,Tn=xn=Kt=null,vh=!1,om=0,IE.current=null,n===null||n.return===null){jn=1,um=t,fn=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Xn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=gT(o);if(m!==null){m.flags&=-257,vT(m,o,l,a,t),m.mode&1&&pT(a,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){pT(a,u,t),LE();break e}c=Error(he(426))}}else if(Vt&&l.mode&1){var y=gT(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),vT(y,o,l,a,t),yE(Zu(c,l));break e}}a=c=Zu(c,l),jn!==4&&(jn=2),xh===null?xh=[a]:xh.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=T5(a,c,t);cT(a,x);break e;case 1:l=c;var b=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Io===null||!Io.has(j)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=O5(a,l,t);cT(a,w);break e}}a=a.return}while(a!==null)}J5(n)}catch(S){t=S,fn===n&&n!==null&&(fn=n=n.return);continue}break}while(!0)}function Y5(){var e=vy.current;return vy.current=gy,e===null?gy:e}function LE(){(jn===0||jn===3||jn===2)&&(jn=4),In===null||!(sc&268435455)&&!(N0&268435455)||wo(In,Xn)}function wy(e,t){var n=ut;ut|=2;var r=Y5();(In!==e||Xn!==t)&&(hi=null,Gl(e,t));do try{kQ();break}catch(s){K5(e,s)}while(!0);if(wE(),ut=n,vy.current=r,fn!==null)throw Error(he(261));return In=null,Xn=0,jn}function kQ(){for(;fn!==null;)X5(fn)}function AQ(){for(;fn!==null&&!eJ();)X5(fn)}function X5(e){var t=Z5(e.alternate,e,ts);e.memoizedProps=e.pendingProps,t===null?J5(e):fn=t,IE.current=null}function J5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=jQ(n,t),n!==null){n.flags&=32767,fn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jn=6,fn=null;return}}else if(n=bQ(n,t,ts),n!==null){fn=n;return}if(t=t.sibling,t!==null){fn=t;return}fn=t=e}while(t!==null);jn===0&&(jn=5)}function _l(e,t,n){var r=wt,s=Ws.transition;try{Ws.transition=null,wt=1,PQ(e,t,n,r)}finally{Ws.transition=s,wt=r}return null}function PQ(e,t,n,r){do Ou();while(_o!==null);if(ut&6)throw Error(he(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(uJ(e,a),e===In&&(fn=In=null,Xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tg||(Tg=!0,eF(ty,function(){return Ou(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ws.transition,Ws.transition=null;var o=wt;wt=1;var l=ut;ut|=4,IE.current=null,NQ(e,n),q5(n,e),XJ(kS),ry=!!ES,kS=ES=null,e.current=n,_Q(n),tJ(),ut=l,wt=o,Ws.transition=a}else e.current=n;if(Tg&&(Tg=!1,_o=e,xy=s),a=e.pendingLanes,a===0&&(Io=null),sJ(n.stateNode),qr(e,tn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(yy)throw yy=!1,e=KS,KS=null,e;return xy&1&&e.tag!==0&&Ou(),a=e.pendingLanes,a&1?e===YS?wh++:(wh=0,YS=e):wh=0,al(),null}function Ou(){if(_o!==null){var e=T3(xy),t=Ws.transition,n=wt;try{if(Ws.transition=null,wt=16>e?16:e,_o===null)var r=!1;else{if(e=_o,_o=null,xy=0,ut&6)throw Error(he(331));var s=ut;for(ut|=4,Ee=e.current;Ee!==null;){var a=Ee,o=a.child;if(Ee.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ee=u;Ee!==null;){var d=Ee;switch(d.tag){case 0:case 11:case 15:yh(8,d,a)}var f=d.child;if(f!==null)f.return=d,Ee=f;else for(;Ee!==null;){d=Ee;var h=d.sibling,m=d.return;if(W5(d),d===u){Ee=null;break}if(h!==null){h.return=m,Ee=h;break}Ee=m}}}var g=a.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}Ee=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ee=o;else e:for(;Ee!==null;){if(a=Ee,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yh(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Ee=x;break e}Ee=a.return}}var b=e.current;for(Ee=b;Ee!==null;){o=Ee;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Ee=j;else e:for(o=b;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:S0(9,l)}}catch(S){Qt(l,l.return,S)}if(l===o){Ee=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Ee=w;break e}Ee=l.return}}if(ut=s,al(),Wa&&typeof Wa.onPostCommitFiberRoot=="function")try{Wa.onPostCommitFiberRoot(p0,e)}catch{}r=!0}return r}finally{wt=n,Ws.transition=t}}return!1}function PT(e,t,n){t=Zu(n,t),t=T5(e,t,1),e=Oo(e,t,1),t=Cr(),e!==null&&(Ap(e,1,t),qr(e,t))}function Qt(e,t,n){if(e.tag===3)PT(e,e,n);else for(;t!==null;){if(t.tag===3){PT(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Io===null||!Io.has(r))){e=Zu(n,e),e=O5(t,e,1),t=Oo(t,e,1),e=Cr(),t!==null&&(Ap(t,1,e),qr(t,e));break}}t=t.return}}function TQ(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Cr(),e.pingedLanes|=e.suspendedLanes&n,In===e&&(Xn&n)===n&&(jn===4||jn===3&&(Xn&130023424)===Xn&&500>tn()-ME?Gl(e,0):DE|=n),qr(e,t)}function Q5(e,t){t===0&&(e.mode&1?(t=bg,bg<<=1,!(bg&130023424)&&(bg=4194304)):t=1);var n=Cr();e=Mi(e,t),e!==null&&(Ap(e,t,n),qr(e,n))}function OQ(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Q5(e,n)}function IQ(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(t),Q5(e,n)}var Z5;Z5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vr.current)zr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zr=!1,wQ(e,t,n);zr=!!(e.flags&131072)}else zr=!1,Vt&&t.flags&1048576&&r5(t,uy,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Dv(e,t),e=t.pendingProps;var s=Yu(t,pr.current);Tu(t,n),s=kE(null,t,r,e,s,n);var a=AE();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ur(r)?(a=!0,ly(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,SE(t),s.updater=j0,t.stateNode=s,s._reactInternals=t,$S(t,r,e,n),t=BS(null,t,r,!0,a,n)):(t.tag=0,Vt&&a&&gE(t),br(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Dv(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=MQ(r),e=aa(r,e),s){case 0:t=FS(null,t,r,e,n);break e;case 1:t=wT(null,t,r,e,n);break e;case 11:t=yT(null,t,r,e,n);break e;case 14:t=xT(null,t,r,aa(r.type,e),n);break e}throw Error(he(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:aa(r,s),FS(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:aa(r,s),wT(e,t,r,s,n);case 3:e:{if(R5(t),e===null)throw Error(he(387));r=t.pendingProps,a=t.memoizedState,s=a.element,c5(e,t),hy(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Zu(Error(he(423)),t),t=bT(e,t,r,n,s);break e}else if(r!==s){s=Zu(Error(he(424)),t),t=bT(e,t,r,n,s);break e}else for(os=To(t.stateNode.containerInfo.firstChild),cs=t,Vt=!0,da=null,n=o5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xu(),r===s){t=Ri(e,t,n);break e}br(e,t,r,n)}t=t.child}return t;case 5:return u5(t),e===null&&DS(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,AS(r,s)?o=null:a!==null&&AS(r,a)&&(t.flags|=32),M5(e,t),br(e,t,o,n),t.child;case 6:return e===null&&DS(t),null;case 13:return $5(e,t,n);case 4:return NE(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ju(t,null,r,n):br(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:aa(r,s),yT(e,t,r,s,n);case 7:return br(e,t,t.pendingProps,n),t.child;case 8:return br(e,t,t.pendingProps.children,n),t.child;case 12:return br(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Pt(dy,r._currentValue),r._currentValue=o,a!==null)if(ba(a.value,o)){if(a.children===s.children&&!Vr.current){t=Ri(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=_i(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),MS(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(he(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),MS(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}br(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Tu(t,n),s=Hs(s),r=r(s),t.flags|=1,br(e,t,r,n),t.child;case 14:return r=t.type,s=aa(r,t.pendingProps),s=aa(r.type,s),xT(e,t,r,s,n);case 15:return I5(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:aa(r,s),Dv(e,t),t.tag=1,Ur(r)?(e=!0,ly(t)):e=!1,Tu(t,n),P5(t,r,s),$S(t,r,s,n),BS(null,t,r,!0,e,n);case 19:return L5(e,t,n);case 22:return D5(e,t,n)}throw Error(he(156,t.tag))};function eF(e,t){return E3(e,t)}function DQ(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $s(e,t,n,r){return new DQ(e,t,n,r)}function FE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MQ(e){if(typeof e=="function")return FE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sE)return 11;if(e===aE)return 14}return 2}function Mo(e,t){var n=e.alternate;return n===null?(n=$s(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $v(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")FE(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case iu:return Kl(n.children,s,a,t);case rE:o=8,s|=8;break;case oS:return e=$s(12,n,t,s|2),e.elementType=oS,e.lanes=a,e;case lS:return e=$s(13,n,t,s),e.elementType=lS,e.lanes=a,e;case cS:return e=$s(19,n,t,s),e.elementType=cS,e.lanes=a,e;case u3:return _0(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case l3:o=10;break e;case c3:o=9;break e;case sE:o=11;break e;case aE:o=14;break e;case mo:o=16,r=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=$s(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Kl(e,t,n,r){return e=$s(7,e,r,t),e.lanes=n,e}function _0(e,t,n,r){return e=$s(22,e,r,t),e.elementType=u3,e.lanes=n,e.stateNode={isHidden:!1},e}function yj(e,t,n){return e=$s(6,e,null,t),e.lanes=n,e}function xj(e,t,n){return t=$s(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RQ(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zb(0),this.expirationTimes=Zb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zb(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function BE(e,t,n,r,s,a,o,l,c){return e=new RQ(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=$s(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},SE(a),e}function $Q(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:au,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tF(e){if(!e)return qo;e=e._reactInternals;e:{if(Nc(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ur(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var n=e.type;if(Ur(n))return t5(e,n,t)}return t}function nF(e,t,n,r,s,a,o,l,c){return e=BE(n,r,!0,e,s,a,o,l,c),e.context=tF(null),n=e.current,r=Cr(),s=Do(n),a=_i(r,s),a.callback=t??null,Oo(n,a,s),e.current.lanes=s,Ap(e,s,r),qr(e,r),e}function C0(e,t,n,r){var s=t.current,a=Cr(),o=Do(s);return n=tF(n),t.context===null?t.context=n:t.pendingContext=n,t=_i(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Oo(s,t,o),e!==null&&(va(e,s,o,a),Tv(e,s,o)),o}function by(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function TT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function zE(e,t){TT(e,t),(e=e.alternate)&&TT(e,t)}function LQ(){return null}var rF=typeof reportError=="function"?reportError:function(e){console.error(e)};function WE(e){this._internalRoot=e}E0.prototype.render=WE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));C0(e,t,null,null)};E0.prototype.unmount=WE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ac(function(){C0(null,e,null,null)}),t[Di]=null}};function E0(e){this._internalRoot=e}E0.prototype.unstable_scheduleHydration=function(e){if(e){var t=D3();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xo.length&&t!==0&&t<xo[n].priority;n++);xo.splice(n,0,e),n===0&&R3(e)}};function VE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function k0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function OT(){}function FQ(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=by(o);a.call(u)}}var o=nF(t,r,e,0,null,!1,!1,"",OT);return e._reactRootContainer=o,e[Di]=o.current,nm(e.nodeType===8?e.parentNode:e),ac(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=by(c);l.call(u)}}var c=BE(e,0,!1,null,null,!1,!1,"",OT);return e._reactRootContainer=c,e[Di]=c.current,nm(e.nodeType===8?e.parentNode:e),ac(function(){C0(t,c,n,r)}),c}function A0(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=by(o);l.call(c)}}C0(t,o,e,s)}else o=FQ(n,t,e,s,r);return by(o)}O3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zf(t.pendingLanes);n!==0&&(lE(t,n|1),qr(t,tn()),!(ut&6)&&(ed=tn()+500,al()))}break;case 13:ac(function(){var r=Mi(e,1);if(r!==null){var s=Cr();va(r,e,1,s)}}),zE(e,1)}};cE=function(e){if(e.tag===13){var t=Mi(e,134217728);if(t!==null){var n=Cr();va(t,e,134217728,n)}zE(e,134217728)}};I3=function(e){if(e.tag===13){var t=Do(e),n=Mi(e,t);if(n!==null){var r=Cr();va(n,e,t,r)}zE(e,t)}};D3=function(){return wt};M3=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}};xS=function(e,t,n){switch(t){case"input":if(fS(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=x0(r);if(!s)throw Error(he(90));f3(r),fS(r,s)}}}break;case"textarea":m3(e,n);break;case"select":t=n.value,t!=null&&Eu(e,!!n.multiple,t,!1)}};b3=RE;j3=ac;var BQ={usingClientEntryPoint:!1,Events:[Tp,uu,x0,x3,w3,RE]},kf={findFiberByHostInstance:Ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zQ={bundleType:kf.bundleType,version:kf.version,rendererPackageName:kf.rendererPackageName,rendererConfig:kf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_3(e),e===null?null:e.stateNode},findFiberByHostInstance:kf.findFiberByHostInstance||LQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Og.isDisabled&&Og.supportsFiber)try{p0=Og.inject(zQ),Wa=Og}catch{}}ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BQ;ws.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!VE(t))throw Error(he(200));return $Q(e,t,null,n)};ws.createRoot=function(e,t){if(!VE(e))throw Error(he(299));var n=!1,r="",s=rF;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=BE(e,1,!1,null,null,n,!1,r,s),e[Di]=t.current,nm(e.nodeType===8?e.parentNode:e),new WE(t)};ws.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=_3(t),e=e===null?null:e.stateNode,e};ws.flushSync=function(e){return ac(e)};ws.hydrate=function(e,t,n){if(!k0(t))throw Error(he(200));return A0(null,e,t,!0,n)};ws.hydrateRoot=function(e,t,n){if(!VE(e))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=rF;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=nF(t,null,e,1,n??null,s,!1,a,o),e[Di]=t.current,nm(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new E0(t)};ws.render=function(e,t,n){if(!k0(t))throw Error(he(200));return A0(null,e,t,!1,n)};ws.unmountComponentAtNode=function(e){if(!k0(e))throw Error(he(40));return e._reactRootContainer?(ac(function(){A0(null,null,e,!1,function(){e._reactRootContainer=null,e[Di]=null})}),!0):!1};ws.unstable_batchedUpdates=RE;ws.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!k0(n))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return A0(e,t,n,!1,r)};ws.version="18.3.1-next-f1338f8080-20240426";function sF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sF)}catch(e){console.error(e)}}sF(),s3.exports=ws;var ni=s3.exports;const P0=mt(ni);var aF,IT=ni;aF=IT.createRoot,IT.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dm.apply(this,arguments)}var Co;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Co||(Co={}));const DT="popstate";function WQ(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:o,hash:l}=r.location;return QS("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:jy(s)}return UQ(t,n,null,e)}function Yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function iF(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VQ(){return Math.random().toString(36).substr(2,8)}function MT(e,t){return{usr:e.state,key:e.key,idx:t}}function QS(e,t,n,r){return n===void 0&&(n=null),dm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wd(t):t,{state:n,key:t&&t.key||r||VQ()})}function jy(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Wd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function UQ(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=Co.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(dm({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Co.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:l,location:p.location,delta:x})}function h(y,x){l=Co.Push;let b=QS(p.location,y,x);u=d()+1;let j=MT(b,u),w=p.createHref(b);try{o.pushState(j,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(w)}a&&c&&c({action:l,location:p.location,delta:1})}function m(y,x){l=Co.Replace;let b=QS(p.location,y,x);u=d();let j=MT(b,u),w=p.createHref(b);o.replaceState(j,"",w),a&&c&&c({action:l,location:p.location,delta:0})}function g(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof y=="string"?y:jy(y);return b=b.replace(/ $/,"%20"),Yt(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let p={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(DT,f),c=y,()=>{s.removeEventListener(DT,f),c=null}},createHref(y){return t(s,y)},createURL:g,encodeLocation(y){let x=g(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(y){return o.go(y)}};return p}var RT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(RT||(RT={}));function qQ(e,t,n){return n===void 0&&(n="/"),HQ(e,t,n,!1)}function HQ(e,t,n,r){let s=typeof t=="string"?Wd(t):t,a=td(s.pathname||"/",n);if(a==null)return null;let o=oF(e);GQ(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=sZ(a);l=nZ(o[c],u,r)}return l}function oF(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Yt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ro([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Yt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),oF(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:eZ(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of lF(a.path))s(a,o,c)}),t}function lF(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=lF(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function GQ(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tZ(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KQ=/^:[\w-]+$/,YQ=3,XQ=2,JQ=1,QQ=10,ZQ=-2,$T=e=>e==="*";function eZ(e,t){let n=e.split("/"),r=n.length;return n.some($T)&&(r+=ZQ),t&&(r+=XQ),n.filter(s=>!$T(s)).reduce((s,a)=>s+(KQ.test(a)?YQ:a===""?JQ:QQ),r)}function tZ(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function nZ(e,t,n){let{routesMeta:r}=e,s={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=Sy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Sy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ro([a,f.pathname]),pathnameBase:lZ(Ro([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ro([a,f.pathnameBase]))}return o}function Sy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=rZ(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function rZ(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),iF(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function sZ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return iF(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function td(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function aZ(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Wd(e):e;return{pathname:n?n.startsWith("/")?n:iZ(n,t):t,search:cZ(r),hash:uZ(s)}}function iZ(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wj(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oZ(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function UE(e,t){let n=oZ(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qE(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Wd(e):(s=dm({},e),Yt(!s.pathname||!s.pathname.includes("?"),wj("?","pathname","search",s)),Yt(!s.pathname||!s.pathname.includes("#"),wj("#","pathname","hash",s)),Yt(!s.search||!s.search.includes("#"),wj("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=aZ(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ro=e=>e.join("/").replace(/\/\/+/g,"/"),lZ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cZ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uZ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dZ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cF=["post","put","patch","delete"];new Set(cF);const fZ=["get",...cF];new Set(fZ);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fm.apply(this,arguments)}const T0=v.createContext(null),uF=v.createContext(null),Xi=v.createContext(null),O0=v.createContext(null),il=v.createContext({outlet:null,matches:[],isDataRoute:!1}),dF=v.createContext(null);function hZ(e,t){let{relative:n}=t===void 0?{}:t;Vd()||Yt(!1);let{basename:r,navigator:s}=v.useContext(Xi),{hash:a,pathname:o,search:l}=I0(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ro([r,o])),s.createHref({pathname:c,search:l,hash:a})}function Vd(){return v.useContext(O0)!=null}function ol(){return Vd()||Yt(!1),v.useContext(O0).location}function fF(e){v.useContext(Xi).static||v.useLayoutEffect(e)}function _c(){let{isDataRoute:e}=v.useContext(il);return e?CZ():mZ()}function mZ(){Vd()||Yt(!1);let e=v.useContext(T0),{basename:t,future:n,navigator:r}=v.useContext(Xi),{matches:s}=v.useContext(il),{pathname:a}=ol(),o=JSON.stringify(UE(s,n.v7_relativeSplatPath)),l=v.useRef(!1);return fF(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=qE(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ro([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,a,e])}function I0(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(Xi),{matches:s}=v.useContext(il),{pathname:a}=ol(),o=JSON.stringify(UE(s,r.v7_relativeSplatPath));return v.useMemo(()=>qE(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function pZ(e,t){return gZ(e,t)}function gZ(e,t,n,r){Vd()||Yt(!1);let{navigator:s}=v.useContext(Xi),{matches:a}=v.useContext(il),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ol(),d;if(t){var f;let y=typeof t=="string"?Wd(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||Yt(!1),d=y}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=qQ(e,{pathname:m}),p=bZ(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Ro([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Ro([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return t&&p?v.createElement(O0.Provider,{value:{location:fm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Co.Pop}},p):p}function vZ(){let e=_Z(),t=dZ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const yZ=v.createElement(vZ,null);class xZ extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(il.Provider,{value:this.props.routeContext},v.createElement(dF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wZ(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(T0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(il.Provider,{value:t},r)}function bZ(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Yt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,y=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||yZ,c&&(u<0&&h===0?(g=!0,y=null):u===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),b=()=>{let j;return m?j=p:g?j=y:f.route.Component?j=v.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,v.createElement(wZ,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:j})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(xZ,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var hF=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hF||{}),Ny=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ny||{});function jZ(e){let t=v.useContext(T0);return t||Yt(!1),t}function SZ(e){let t=v.useContext(uF);return t||Yt(!1),t}function NZ(e){let t=v.useContext(il);return t||Yt(!1),t}function mF(e){let t=NZ(),n=t.matches[t.matches.length-1];return n.route.id||Yt(!1),n.route.id}function _Z(){var e;let t=v.useContext(dF),n=SZ(Ny.UseRouteError),r=mF(Ny.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function CZ(){let{router:e}=jZ(hF.UseNavigateStable),t=mF(Ny.UseNavigateStable),n=v.useRef(!1);return fF(()=>{n.current=!0}),v.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,fm({fromRouteId:t},a)))},[e,t])}function EZ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function En(e){let{to:t,replace:n,state:r,relative:s}=e;Vd()||Yt(!1);let{future:a,static:o}=v.useContext(Xi),{matches:l}=v.useContext(il),{pathname:c}=ol(),u=_c(),d=qE(t,UE(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function vn(e){Yt(!1)}function kZ(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Co.Pop,navigator:a,static:o=!1,future:l}=e;Vd()&&Yt(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:fm({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=Wd(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=r,p=v.useMemo(()=>{let y=td(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:g},navigationType:s}},[c,d,f,h,m,g,s]);return p==null?null:v.createElement(Xi.Provider,{value:u},v.createElement(O0.Provider,{children:n,value:p}))}function AZ(e){let{children:t,location:n}=e;return pZ(ZS(t),n)}new Promise(()=>{});function ZS(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let a=[...t,s];if(r.type===v.Fragment){n.push.apply(n,ZS(r.props.children,a));return}r.type!==vn&&Yt(!1),!r.props.index||!r.props.children||Yt(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ZS(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_y.apply(this,arguments)}function pF(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function PZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TZ(e,t){return e.button===0&&(!t||t==="_self")&&!PZ(e)}const OZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],IZ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],DZ="6";try{window.__reactRouterVersion=DZ}catch{}const MZ=v.createContext({isTransitioning:!1}),RZ="startTransition",LT=m0[RZ];function $Z(e){let{basename:t,children:n,future:r,window:s}=e,a=v.useRef();a.current==null&&(a.current=WQ({window:s,v5Compat:!0}));let o=a.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(f=>{u&&LT?LT(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>EZ(r),[r]),v.createElement(kZ,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const LZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HE=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=pF(t,OZ),{basename:m}=v.useContext(Xi),g,p=!1;if(typeof u=="string"&&FZ.test(u)&&(g=u,LZ))try{let j=new URL(window.location.href),w=u.startsWith("//")?new URL(j.protocol+u):new URL(u),S=td(w.pathname,m);w.origin===j.origin&&S!=null?u=S+w.search+w.hash:p=!0}catch{}let y=hZ(u,{relative:s}),x=zZ(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function b(j){r&&r(j),j.defaultPrevented||x(j)}return v.createElement("a",_y({},h,{href:g||y,onClick:p||a?r:b,ref:n,target:c}))}),FT=v.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=pF(t,IZ),h=I0(c,{relative:f.relative}),m=ol(),g=v.useContext(uF),{navigator:p,basename:y}=v.useContext(Xi),x=g!=null&&WZ(h)&&u===!0,b=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,j=m.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(j=j.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&y&&(w=td(w,y)||w);const S=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let N=j===b||!o&&j.startsWith(b)&&j.charAt(S)==="/",C=w!=null&&(w===b||!o&&w.startsWith(b)&&w.charAt(b.length)==="/"),_={isActive:N,isPending:C,isTransitioning:x},k=N?r:void 0,A;typeof a=="function"?A=a(_):A=[a,N?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let T=typeof l=="function"?l(_):l;return v.createElement(HE,_y({},f,{"aria-current":k,className:A,ref:n,style:T,to:c,viewTransition:u}),typeof d=="function"?d(_):d)});var eN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(eN||(eN={}));var BT;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(BT||(BT={}));function BZ(e){let t=v.useContext(T0);return t||Yt(!1),t}function zZ(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=_c(),u=ol(),d=I0(e,{relative:o});return v.useCallback(f=>{if(TZ(f,n)){f.preventDefault();let h=r!==void 0?r:jy(u)===jy(d);c(e,{replace:h,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,a,o,l])}function WZ(e,t){t===void 0&&(t={});let n=v.useContext(MZ);n==null&&Yt(!1);let{basename:r}=BZ(eN.useViewTransitionState),s=I0(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=td(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=td(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sy(s.pathname,o)!=null||Sy(s.pathname,a)!=null}var zT=["light","dark"],VZ="(prefers-color-scheme: dark)",UZ=v.createContext(void 0),qZ={setTheme:e=>{},themes:[]},HZ=()=>{var e;return(e=v.useContext(UZ))!=null?e:qZ};v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?zT.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,y=!0)=>{let x=o?o[g]:g,b=p?g+"|| ''":`'${x}'`,j="";return s&&y&&!p&&zT.includes(g)&&(j+=`d.style.colorScheme = '${g}';`),n==="class"?p||x?j+=`c.add(${b})`:j+="null":x&&(j+=`d[s](n,${b})`),j},m=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${VZ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var GZ=e=>{switch(e){case"success":return XZ;case"info":return QZ;case"warning":return JZ;case"error":return ZZ;default:return null}},KZ=Array(12).fill(0),YZ=({visible:e})=>P.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},P.createElement("div",{className:"sonner-spinner"},KZ.map((t,n)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),XZ=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JZ=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),QZ=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ZZ=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),eee=()=>{let[e,t]=P.useState(document.hidden);return P.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},tN=1,tee=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:tN++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async a=>{if(ree(a)&&!a.ok){s=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:n,type:"error",message:o,description:l})}else if(t.success!==void 0){s=!1;let o=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"success",message:o,description:l})}}).catch(async a=>{if(t.error!==void 0){s=!1;let o=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"error",message:o,description:l})}}).finally(()=>{var a;s&&(this.dismiss(n),n=void 0),(a=t.finally)==null||a.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||tN++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},es=new tee,nee=(e,t)=>{let n=(t==null?void 0:t.id)||tN++;return es.addToast({title:e,...t,id:n}),n},ree=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",see=nee,aee=()=>es.toasts,Rr=Object.assign(see,{success:es.success,info:es.info,warning:es.warning,error:es.error,custom:es.custom,message:es.message,promise:es.promise,dismiss:es.dismiss,loading:es.loading},{getHistory:aee});function iee(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}iee(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ig(e){return e.label!==void 0}var oee=3,lee="32px",cee=4e3,uee=356,dee=14,fee=20,hee=200;function mee(...e){return e.filter(Boolean).join(" ")}var pee=e=>{var t,n,r,s,a,o,l,c,u,d;let{invert:f,toast:h,unstyled:m,interacting:g,setHeights:p,visibleToasts:y,heights:x,index:b,toasts:j,expanded:w,removeToast:S,defaultRichColors:N,closeButton:C,style:_,cancelButtonStyle:k,actionButtonStyle:A,className:T="",descriptionClassName:D="",duration:F,position:E,gap:$,loadingIcon:O,expandByDefault:R,classNames:I,icons:M,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:z,cn:W}=e,[q,V]=P.useState(!1),[te,ne]=P.useState(!1),[X,ee]=P.useState(!1),[Z,ae]=P.useState(!1),[ce,H]=P.useState(0),[je,Ne]=P.useState(0),Ae=P.useRef(null),Q=P.useRef(null),me=b===0,J=b+1<=y,_e=h.type,rt=h.dismissible!==!1,_t=h.className||"",Wn=h.descriptionClassName||"",gn=P.useMemo(()=>x.findIndex(de=>de.toastId===h.id)||0,[x,h.id]),tr=P.useMemo(()=>{var de;return(de=h.closeButton)!=null?de:C},[h.closeButton,C]),Qs=P.useMemo(()=>h.duration||F||cee,[h.duration,F]),Xr=P.useRef(0),nr=P.useRef(0),Zs=P.useRef(0),gr=P.useRef(null),[Ia,rn]=E.split("-"),rr=P.useMemo(()=>x.reduce((de,gt,st)=>st>=gn?de:de+gt.height,0),[x,gn]),Re=eee(),lt=h.invert||f,pt=_e==="loading";nr.current=P.useMemo(()=>gn*$+rr,[gn,rr]),P.useEffect(()=>{V(!0)},[]),P.useLayoutEffect(()=>{if(!q)return;let de=Q.current,gt=de.style.height;de.style.height="auto";let st=de.getBoundingClientRect().height;de.style.height=gt,Ne(st),p(Ir=>Ir.find(Jr=>Jr.toastId===h.id)?Ir.map(Jr=>Jr.toastId===h.id?{...Jr,height:st}:Jr):[{toastId:h.id,height:st,position:h.position},...Ir])},[q,h.title,h.description,p,h.id]);let zt=P.useCallback(()=>{ne(!0),H(nr.current),p(de=>de.filter(gt=>gt.toastId!==h.id)),setTimeout(()=>{S(h)},hee)},[h,S,p,nr]);P.useEffect(()=>{if(h.promise&&_e==="loading"||h.duration===1/0||h.type==="loading")return;let de,gt=Qs;return w||g||z&&Re?(()=>{if(Zs.current<Xr.current){let st=new Date().getTime()-Xr.current;gt=gt-st}Zs.current=new Date().getTime()})():gt!==1/0&&(Xr.current=new Date().getTime(),de=setTimeout(()=>{var st;(st=h.onAutoClose)==null||st.call(h,h),zt()},gt)),()=>clearTimeout(de)},[w,g,R,h,Qs,zt,h.promise,_e,z,Re]),P.useEffect(()=>{let de=Q.current;if(de){let gt=de.getBoundingClientRect().height;return Ne(gt),p(st=>[{toastId:h.id,height:gt,position:h.position},...st]),()=>p(st=>st.filter(Ir=>Ir.toastId!==h.id))}},[p,h.id]),P.useEffect(()=>{h.delete&&zt()},[zt,h.delete]);function Vn(){return M!=null&&M.loading?P.createElement("div",{className:"sonner-loader","data-visible":_e==="loading"},M.loading):O?P.createElement("div",{className:"sonner-loader","data-visible":_e==="loading"},O):P.createElement(YZ,{visible:_e==="loading"})}return P.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Q,className:W(T,_t,I==null?void 0:I.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[_e],(n=h==null?void 0:h.classNames)==null?void 0:n[_e]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:N,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":q,"data-promise":!!h.promise,"data-removed":te,"data-visible":J,"data-y-position":Ia,"data-x-position":rn,"data-index":b,"data-front":me,"data-swiping":X,"data-dismissible":rt,"data-type":_e,"data-invert":lt,"data-swipe-out":Z,"data-expanded":!!(w||R&&q),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${te?ce:nr.current}px`,"--initial-height":R?"auto":`${je}px`,..._,...h.style},onPointerDown:de=>{pt||!rt||(Ae.current=new Date,H(nr.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(ee(!0),gr.current={x:de.clientX,y:de.clientY}))},onPointerUp:()=>{var de,gt,st,Ir;if(Z||!rt)return;gr.current=null;let Jr=Number(((de=Q.current)==null?void 0:de.style.getPropertyValue("--swipe-amount").replace("px",""))||0),_s=new Date().getTime()-((gt=Ae.current)==null?void 0:gt.getTime()),Hb=Math.abs(Jr)/_s;if(Math.abs(Jr)>=fee||Hb>.11){H(nr.current),(st=h.onDismiss)==null||st.call(h,h),zt(),ae(!0);return}(Ir=Q.current)==null||Ir.style.setProperty("--swipe-amount","0px"),ee(!1)},onPointerMove:de=>{var gt;if(!gr.current||!rt)return;let st=de.clientY-gr.current.y,Ir=de.clientX-gr.current.x,Jr=(Ia==="top"?Math.min:Math.max)(0,st),_s=de.pointerType==="touch"?10:2;Math.abs(Jr)>_s?(gt=Q.current)==null||gt.style.setProperty("--swipe-amount",`${st}px`):Math.abs(Ir)>_s&&(gr.current=null)}},tr&&!h.jsx?P.createElement("button",{"aria-label":L,"data-disabled":pt,"data-close-button":!0,onClick:pt||!rt?()=>{}:()=>{var de;zt(),(de=h.onDismiss)==null||de.call(h,h)},className:W(I==null?void 0:I.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||P.isValidElement(h.title)?h.jsx||h.title:P.createElement(P.Fragment,null,_e||h.icon||h.promise?P.createElement("div",{"data-icon":"",className:W(I==null?void 0:I.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Vn():null,h.type!=="loading"?h.icon||(M==null?void 0:M[_e])||GZ(_e):null):null,P.createElement("div",{"data-content":"",className:W(I==null?void 0:I.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},P.createElement("div",{"data-title":"",className:W(I==null?void 0:I.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?P.createElement("div",{"data-description":"",className:W(D,Wn,I==null?void 0:I.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),P.isValidElement(h.cancel)?h.cancel:h.cancel&&Ig(h.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||k,onClick:de=>{var gt,st;Ig(h.cancel)&&rt&&((st=(gt=h.cancel).onClick)==null||st.call(gt,de),zt())},className:W(I==null?void 0:I.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,P.isValidElement(h.action)?h.action:h.action&&Ig(h.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||A,onClick:de=>{var gt,st;Ig(h.action)&&(de.defaultPrevented||((st=(gt=h.action).onClick)==null||st.call(gt,de),zt()))},className:W(I==null?void 0:I.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function WT(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var gee=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=oee,toastOptions:m,dir:g=WT(),gap:p=dee,loadingIcon:y,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:j,cn:w=mee}=e,[S,N]=P.useState([]),C=P.useMemo(()=>Array.from(new Set([n].concat(S.filter(z=>z.position).map(z=>z.position)))),[S,n]),[_,k]=P.useState([]),[A,T]=P.useState(!1),[D,F]=P.useState(!1),[E,$]=P.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=P.useRef(null),R=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=P.useRef(null),M=P.useRef(!1),L=P.useCallback(z=>{var W;(W=S.find(q=>q.id===z.id))!=null&&W.delete||es.dismiss(z.id),N(q=>q.filter(({id:V})=>V!==z.id))},[S]);return P.useEffect(()=>es.subscribe(z=>{if(z.dismiss){N(W=>W.map(q=>q.id===z.id?{...q,delete:!0}:q));return}setTimeout(()=>{P0.flushSync(()=>{N(W=>{let q=W.findIndex(V=>V.id===z.id);return q!==-1?[...W.slice(0,q),{...W[q],...z},...W.slice(q+1)]:[z,...W]})})})}),[]),P.useEffect(()=>{if(c!=="system"){$(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{$(z?"dark":"light")})},[c]),P.useEffect(()=>{S.length<=1&&T(!1)},[S]),P.useEffect(()=>{let z=W=>{var q,V;r.every(te=>W[te]||W.code===te)&&(T(!0),(q=O.current)==null||q.focus()),W.code==="Escape"&&(document.activeElement===O.current||(V=O.current)!=null&&V.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[r]),P.useEffect(()=>{if(O.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,M.current=!1)}},[O.current]),S.length?P.createElement("section",{"aria-label":`${b} ${R}`,tabIndex:-1},C.map((z,W)=>{var q;let[V,te]=z.split("-");return P.createElement("ol",{key:z,dir:g==="auto"?WT():g,tabIndex:-1,ref:O,className:o,"data-sonner-toaster":!0,"data-theme":E,"data-y-position":V,"data-x-position":te,style:{"--front-toast-height":`${((q=_[0])==null?void 0:q.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||lee,"--width":`${uee}px`,"--gap":`${p}px`,...f},onBlur:ne=>{M.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(M.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||M.current||(M.current=!0,I.current=ne.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{D||T(!1)},onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},S.filter(ne=>!ne.position&&W===0||ne.position===z).map((ne,X)=>{var ee,Z;return P.createElement(pee,{key:ne.id,icons:x,index:X,toast:ne,defaultRichColors:u,duration:(ee=m==null?void 0:m.duration)!=null?ee:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:h,closeButton:(Z=m==null?void 0:m.closeButton)!=null?Z:a,interacting:D,position:z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:L,toasts:S.filter(ae=>ae.position==ne.position),heights:_.filter(ae=>ae.position==ne.position),setHeights:k,expandByDefault:s,gap:p,loadingIcon:y,expanded:A,pauseWhenPageIsHidden:j,cn:w})}))})):null};const vee=({...e})=>{const{theme:t="system"}=HZ();return i.jsx(gee,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},yee={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k",VITE_SUPABASE_URL:"https://oqwstanztqdiexgrpdta.supabase.co"},VT=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(g=>g(t,m))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(yee?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},gF=e=>e?VT(e):VT;var vF={exports:{}},yF={},xF={exports:{}},wF={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd=v;function xee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wee=typeof Object.is=="function"?Object.is:xee,bee=nd.useState,jee=nd.useEffect,See=nd.useLayoutEffect,Nee=nd.useDebugValue;function _ee(e,t){var n=t(),r=bee({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return See(function(){s.value=n,s.getSnapshot=t,bj(s)&&a({inst:s})},[e,n,t]),jee(function(){return bj(s)&&a({inst:s}),e(function(){bj(s)&&a({inst:s})})},[e]),Nee(n),n}function bj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wee(e,n)}catch{return!0}}function Cee(e,t){return t()}var Eee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Cee:_ee;wF.useSyncExternalStore=nd.useSyncExternalStore!==void 0?nd.useSyncExternalStore:Eee;xF.exports=wF;var bF=xF.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0=v,kee=bF;function Aee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pee=typeof Object.is=="function"?Object.is:Aee,Tee=kee.useSyncExternalStore,Oee=D0.useRef,Iee=D0.useEffect,Dee=D0.useMemo,Mee=D0.useDebugValue;yF.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var a=Oee(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Dee(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),s!==void 0&&o.hasValue){var g=o.value;if(s(g,m))return f=g}return f=m}if(g=f,Pee(d,m))return g;var p=r(m);return s!==void 0&&s(g,p)?(d=m,g):(d=m,f=p)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var l=Tee(e,a[0],a[1]);return Iee(function(){o.hasValue=!0,o.value=l},[l]),Mee(l),l};vF.exports=yF;var Ree=vF.exports;const jF=mt(Ree),SF={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k",VITE_SUPABASE_URL:"https://oqwstanztqdiexgrpdta.supabase.co"},{useDebugValue:$ee}=P,{useSyncExternalStoreWithSelector:Lee}=jF;let UT=!1;const Fee=e=>e;function Bee(e,t=Fee,n){(SF?"production":void 0)!=="production"&&n&&!UT&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),UT=!0);const r=Lee(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return $ee(r),r}const qT=e=>{(SF?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?gF(e):e,n=(r,s)=>Bee(t,r,s);return Object.assign(n,t),n},ka=e=>e?qT(e):qT,zee="modulepreload",Wee=function(e){return"/"+e},HT={},Ip=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Wee(c),c in HT)return;HT[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":zee,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},Vee=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ip(async()=>{const{default:r}=await Promise.resolve().then(()=>Ud);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class GE extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Uee extends GE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class qee extends GE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Hee extends GE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nN||(nN={}));var Gee=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Kee{constructor(t,{headers:n={},customFetch:r,region:s=nN.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Vee(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Gee(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(g=>{throw new Uee(g)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new qee(d);if(!d.ok)throw new Hee(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Lr={},KE={},M0={},Dp={},R0={},$0={},Yee=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rd=Yee();const Xee=rd.fetch,NF=rd.fetch.bind(rd),_F=rd.Headers,Jee=rd.Request,Qee=rd.Response,Ud=Object.freeze(Object.defineProperty({__proto__:null,Headers:_F,Request:Jee,Response:Qee,default:NF,fetch:Xee},Symbol.toStringTag,{value:"Module"})),Zee=gX(Ud);var L0={};Object.defineProperty(L0,"__esModule",{value:!0});let ete=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};L0.default=ete;var CF=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($0,"__esModule",{value:!0});const tte=CF(Zee),nte=CF(L0);let rte=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=tte.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,f=null,h=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await a.text();try{u=JSON.parse(p),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,m="OK")}catch{a.status===404&&p===""?(h=204,m="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new nte.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};$0.default=rte;var ste=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(R0,"__esModule",{value:!0});const ate=ste($0);let ite=class extends ate.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};R0.default=ite;var ote=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dp,"__esModule",{value:!0});const lte=ote(R0);let cte=class extends lte.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Dp.default=cte;var ute=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(M0,"__esModule",{value:!0});const Af=ute(Dp);let dte=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Af.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Af.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Af.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Af.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Af.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};M0.default=dte;var F0={},B0={};Object.defineProperty(B0,"__esModule",{value:!0});B0.version=void 0;B0.version="0.0.0-automated";Object.defineProperty(F0,"__esModule",{value:!0});F0.DEFAULT_HEADERS=void 0;const fte=B0;F0.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fte.version}`};var EF=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(KE,"__esModule",{value:!0});const hte=EF(M0),mte=EF(Dp),pte=F0;let gte=class kF{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},pte.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new hte.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new kF(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=n);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new mte.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};KE.default=gte;var qd=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.PostgrestError=Lr.PostgrestBuilder=Lr.PostgrestTransformBuilder=Lr.PostgrestFilterBuilder=Lr.PostgrestQueryBuilder=Lr.PostgrestClient=void 0;const AF=qd(KE);Lr.PostgrestClient=AF.default;const PF=qd(M0);Lr.PostgrestQueryBuilder=PF.default;const TF=qd(Dp);Lr.PostgrestFilterBuilder=TF.default;const OF=qd(R0);Lr.PostgrestTransformBuilder=OF.default;const IF=qd($0);Lr.PostgrestBuilder=IF.default;const DF=qd(L0);Lr.PostgrestError=DF.default;var vte=Lr.default={PostgrestClient:AF.default,PostgrestQueryBuilder:PF.default,PostgrestFilterBuilder:TF.default,PostgrestTransformBuilder:OF.default,PostgrestBuilder:IF.default,PostgrestError:DF.default};const{PostgrestClient:yte,PostgrestQueryBuilder:SKe,PostgrestFilterBuilder:NKe,PostgrestTransformBuilder:_Ke,PostgrestBuilder:CKe,PostgrestError:EKe}=vte;let rN;typeof window>"u"?rN=require("ws"):rN=window.WebSocket;const xte=rN,wte="2.11.10",bte={"X-Client-Info":`realtime-js/${wte}`},jte="1.0.0",MF=1e4,Ste=1e3;var Iu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Iu||(Iu={}));var wr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(wr||(wr={}));var oa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(oa||(oa={}));var sN;(function(e){e.websocket="websocket"})(sN||(sN={}));var Rl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Rl||(Rl={}));class Nte{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}let RF=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var kt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kt||(kt={}));const GT=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,o)=>(a[o]=_te(o,e,t,s),a),{})},_te=(e,t,n,r)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=n[e];return a&&!r.includes(a)?$F(a,o):aN(o)},$F=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Ate(t,n)}switch(e){case kt.bool:return Cte(t);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return Ete(t);case kt.json:case kt.jsonb:return kte(t);case kt.timestamp:return Pte(t);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return aN(t);default:return aN(t)}},aN=e=>e,Cte=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ete=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kte=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ate=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>$F(t,l))}return e},Pte=e=>typeof e=="string"?e.replace(" ","T"):e,LF=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class jj{constructor(t,n,r={},s=MF){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var KT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(KT||(KT={}));class bh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bh.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=bh.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=bh.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),g=d.filter(y=>m.indexOf(y.presence_ref)<0),p=f.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var YT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(YT||(YT={}));var XT;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(XT||(XT={}));var mi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mi||(mi={}));class YE{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=wr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new jj(this,oa.join,this.params,this.timeout),this.rejoinTimer=new RF(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=wr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oa.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new bh(this),this.broadcastEndpointURL=LF(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(mi.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(mi.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(mi.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let p=0;p<m;p++){const y=h[p],{filter:{event:x,schema:b,table:j,filter:w}}=y,S=d&&d[p];if(S&&S.event===x&&S.schema===b&&S.table===j&&S.filter===w)g.push(Object.assign(Object.assign({},y),{id:S.id}));else{this.unsubscribe(),this.state=wr.errored,t==null||t(mi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(mi.SUBSCRIBED);return}}).receive("error",d=>{this.state=wr.errored,t==null||t(mi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=wr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oa.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new jj(this,oa.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new jj(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=oa;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,p,y;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(p=m.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var g,p,y,x,b,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const w=m.id,S=(g=m.filter)===null||g===void 0?void 0:g.event;return w&&((p=n.ids)===null||p===void 0?void 0:p.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const w=(b=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return w==="*"||w===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:y,commit_timestamp:x,type:b,errors:j}=g;h=Object.assign(Object.assign({},{schema:p,table:y,commit_timestamp:x,eventType:b,new:{},old:{},errors:j}),this._getPayloadRecords(g))}m.callback(h,r)})}_isClosed(){return this.state===wr.closed}_isJoined(){return this.state===wr.joined}_isJoining(){return this.state===wr.joining}_isLeaving(){return this.state===wr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&YE.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(oa.close,{},t)}_onError(t){this._on(oa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=GT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=GT(t.columns,t.old_record)),n}}const JT=()=>{},Tte=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ote{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=bte,this.params={},this.timeout=MF,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=JT,this.ref=0,this.logger=JT,this.conn=null,this.sendBuffer=[],this.serializer=new Nte,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Ip(async()=>{const{default:c}=await Promise.resolve().then(()=>Ud);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${sN.websocket}`,this.httpEndpoint=LF(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,o)=>o(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new RF(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=xte),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Ite(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jte}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Iu.connecting:return Rl.Connecting;case Iu.open:return Rl.Open;case Iu.closing:return Rl.Closing;default:return Rl.Closed}}isConnected(){return this.connectionState()===Rl.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new YE(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(oa.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Ste,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:a,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(oa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Tte],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Ite{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Iu.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class XE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function An(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Dte extends XE{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class iN extends XE{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Mte=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const FF=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ip(async()=>{const{default:r}=await Promise.resolve().then(()=>Ud);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Rte=()=>Mte(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ip(()=>Promise.resolve().then(()=>Ud),void 0)).Response:Response}),oN=e=>{if(Array.isArray(e))return e.map(n=>oN(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=oN(r)}),t};var Cc=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Sj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$te=(e,t,n)=>Cc(void 0,void 0,void 0,function*(){const r=yield Rte();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Dte(Sj(s),e.status||500))}).catch(s=>{t(new iN(Sj(s),s))}):t(new iN(Sj(e),e))}),Lte=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Mp(e,t,n,r,s,a){return Cc(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,Lte(t,r,s,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>$te(c,l,r))})})}function Cy(e,t,n,r){return Cc(this,void 0,void 0,function*(){return Mp(e,"GET",t,n,r)})}function go(e,t,n,r,s){return Cc(this,void 0,void 0,function*(){return Mp(e,"POST",t,r,s,n)})}function Fte(e,t,n,r,s){return Cc(this,void 0,void 0,function*(){return Mp(e,"PUT",t,r,s,n)})}function Bte(e,t,n,r){return Cc(this,void 0,void 0,function*(){return Mp(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function BF(e,t,n,r,s){return Cc(this,void 0,void 0,function*(){return Mp(e,"DELETE",t,r,s,n)})}var Dr=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const zte={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},QT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wte{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=FF(s)}uploadOrUpdate(t,n,r,s){return Dr(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},QT),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(An(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Dr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:QT.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(An(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Dr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield go(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new XE("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(An(r))return{data:null,error:r};throw r}})}update(t,n,r){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Dr(this,void 0,void 0,function*(){try{return{data:yield go(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(An(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Dr(this,void 0,void 0,function*(){try{return{data:{path:(yield go(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(An(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Dr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield go(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(An(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Dr(this,void 0,void 0,function*(){try{const s=yield go(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(An(s))return{data:null,error:s};throw s}})}download(t,n){return Dr(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Cy(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(An(l))return{data:null,error:l};throw l}})}info(t){return Dr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Cy(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:oN(r),error:null}}catch(r){if(An(r))return{data:null,error:r};throw r}})}exists(t){return Dr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Bte(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(An(r)&&r instanceof iN){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Dr(this,void 0,void 0,function*(){try{return{data:yield BF(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(An(n))return{data:null,error:n};throw n}})}list(t,n,r){return Dr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},zte),n),{prefix:t||""});return{data:yield go(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(An(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Vte="2.7.1",Ute={"X-Client-Info":`storage-js/${Vte}`};var $c=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class qte{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Ute),n),this.fetch=FF(r)}listBuckets(){return $c(this,void 0,void 0,function*(){try{return{data:yield Cy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(An(t))return{data:null,error:t};throw t}})}getBucket(t){return $c(this,void 0,void 0,function*(){try{return{data:yield Cy(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(An(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return $c(this,void 0,void 0,function*(){try{return{data:yield go(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(An(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return $c(this,void 0,void 0,function*(){try{return{data:yield Fte(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(An(r))return{data:null,error:r};throw r}})}emptyBucket(t){return $c(this,void 0,void 0,function*(){try{return{data:yield go(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(An(n))return{data:null,error:n};throw n}})}deleteBucket(t){return $c(this,void 0,void 0,function*(){try{return{data:yield BF(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(An(n))return{data:null,error:n};throw n}})}}class Hte extends qte{constructor(t,n={},r){super(t,n,r)}from(t){return new Wte(this.url,this.headers,t,this.fetch)}}const Gte="2.50.0";let th="";typeof Deno<"u"?th="deno":typeof document<"u"?th="web":typeof navigator<"u"&&navigator.product==="ReactNative"?th="react-native":th="node";const Kte={"X-Client-Info":`supabase-js-${th}/${Gte}`},Yte={headers:Kte},Xte={schema:"public"},Jte={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qte={};var Zte=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const ene=e=>{let t;return e?t=e:typeof fetch>"u"?t=NF:t=fetch,(...n)=>t(...n)},tne=()=>typeof Headers>"u"?_F:Headers,nne=(e,t,n)=>{const r=ene(n),s=tne();return(a,o)=>Zte(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var rne=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function sne(e){return e.endsWith("/")?e:e+"/"}function ane(e,t){var n,r;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>rne(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const zF="2.70.0",tu=30*1e3,lN=3,Nj=lN*tu,ine="http://localhost:9999",one="supabase.auth.token",lne={"X-Client-Info":`gotrue-js/${zF}`},cN="X-Supabase-Api-Version",WF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cne=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,une=6e5;class JE extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function He(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class dne extends JE{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function fne(e){return He(e)&&e.name==="AuthApiError"}class VF extends JE{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ll extends JE{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class lo extends ll{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hne(e){return He(e)&&e.name==="AuthSessionMissingError"}class Dg extends ll{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mg extends ll{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Rg extends ll{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mne(e){return He(e)&&e.name==="AuthImplicitGrantRedirectError"}class ZT extends ll{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uN extends ll{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function _j(e){return He(e)&&e.name==="AuthRetryableFetchError"}class eO extends ll{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class jh extends ll{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ey="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tO=` 	
\r=`.split(""),pne=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tO.length;t+=1)e[tO[t].charCodeAt(0)]=-2;for(let t=0;t<Ey.length;t+=1)e[Ey[t].charCodeAt(0)]=t;return e})();function nO(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ey[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ey[r]),t.queuedBits-=6}}function UF(e,t,n){const r=pne[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rO(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{yne(o,r,n)};for(let o=0;o<e.length;o+=1)UF(e.charCodeAt(o),s,a);return t.join("")}function gne(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function vne(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}gne(r,t)}}function yne(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function xne(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)UF(e.charCodeAt(s),n,r);return new Uint8Array(t)}function wne(e){const t=[];return vne(e,n=>t.push(n)),new Uint8Array(t)}function bne(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>nO(s,n,r)),nO(null,n,r),t.join("")}function jne(e){return Math.round(Date.now()/1e3)+e}function Sne(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const na=()=>typeof window<"u"&&typeof document<"u",yl={tested:!1,writable:!1},Sh=()=>{if(!na())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yl.tested)return yl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),yl.tested=!0,yl.writable=!0}catch{yl.tested=!0,yl.writable=!1}return yl.writable};function Nne(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const qF=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ip(async()=>{const{default:r}=await Promise.resolve().then(()=>Ud);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_ne=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",HF=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},$g=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Lg=async(e,t)=>{await e.removeItem(t)};class z0{constructor(){this.promise=new z0.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}z0.promiseConstructor=Promise;function Cj(e){const t=e.split(".");if(t.length!==3)throw new jh("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!cne.test(t[r]))throw new jh("JWT not in base64url format");return{header:JSON.parse(rO(t[0])),payload:JSON.parse(rO(t[1])),signature:xne(t[2]),raw:{header:t[0],payload:t[1]}}}async function Cne(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ene(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function kne(e){return("0"+e.toString(16)).substr(-2)}function Ane(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,kne).join("")}async function Pne(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function Tne(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Pne(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lc(e,t,n=!1){const r=Ane();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await HF(e,`${t}-code-verifier`,s);const a=await Tne(r);return[a,r===a?"plain":"s256"]}const One=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ine(e){const t=e.headers.get(cN);if(!t||!t.match(One))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Dne(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Mne(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rne=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fc(e){if(!Rne.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var $ne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Cl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lne=[502,503,504];async function sO(e){var t;if(!_ne(e))throw new uN(Cl(e),0);if(Lne.includes(e.status))throw new uN(Cl(e),e.status);let n;try{n=await e.json()}catch(a){throw new VF(Cl(a),a)}let r;const s=Ine(e);if(s&&s.getTime()>=WF["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new eO(Cl(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new lo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new eO(Cl(n),e.status,n.weak_password.reasons);throw new dne(Cl(n),e.status||500,r)}const Fne=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Je(e,t,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[cN]||(a[cN]=WF["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Bne(e,t,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Bne(e,t,n,r,s,a){const o=Fne(t,r,s,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new uN(Cl(c),0)}if(l.ok||await sO(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await sO(c)}}function fi(e){var t;let n=null;Une(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=jne(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function aO(e){const t=fi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zne(e){return{data:e,error:null}}function Wne(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,o=$ne(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Vne(e){return e}function Une(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ej=["global","local","others"];var qne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Hne{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=qF(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Ej[0]){if(Ej.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ej.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:bo})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=qne(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Wne,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(He(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bo})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Vne});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(He(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fc(t);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bo})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Fc(t);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:bo})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Fc(t);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:bo})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Fc(t.userId);try{const{data:n,error:r}=await Je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(He(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Fc(t.userId),Fc(t.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}}const Gne={getItem:e=>Sh()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Sh()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Sh()&&globalThis.localStorage.removeItem(e)}};function iO(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Kne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Bc={debug:!!(globalThis&&Sh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class GF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Yne extends GF{}async function Xne(e,t,n){Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Yne(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Kne();const Jne={url:ine,storageKey:one,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lne,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function oO(e,t,n){return await n()}class hm{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hm.nextInstanceID,hm.nextInstanceID+=1,this.instanceID>0&&na()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Jne),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Hne({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=qF(s.fetch),this.lock=s.lock||oO,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:na()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Xne:this.lock=oO,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Sh()?this.storage=Gne:(this.memoryStorage={},this.storage=iO(this.memoryStorage)):(this.memoryStorage={},this.storage=iO(this.memoryStorage)),na()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zF}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Nne(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),na()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),mne(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return He(n)?{error:n}:{error:new VF("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:fi}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(He(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Lc(this.storage,this.storageKey)),a=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:fi})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:fi})}else throw new Mg("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(He(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:aO})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:aO})}else throw new Mg("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Dg}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,a,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:y,wallet:x,statement:b,options:j}=t;let w;if(na())if(typeof x=="object")w=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))w=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const S=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const N=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let C;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")C=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)C=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),p=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=j==null?void 0:j.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=j==null?void 0:j.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((f=(d=j==null?void 0:j.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...j.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const N=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=N}}try{const{data:y,error:x}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:bne(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:fi});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Dg}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(He(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await $g(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:o}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:fi});if(await Lg(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Dg}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(He(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:o}=t,l=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:fi}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Dg}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Lc(this.storage,this.storageKey));const{error:f}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Mg("You must provide either an email or phone number.")}catch(l){if(He(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:fi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(He(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Lc(this.storage,this.storageKey)),await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:zne})}catch(a){if(He(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new lo;const{error:s}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(He(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:o}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:o,error:l}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Mg("You must provide either an email or phone number and a type")}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await $g(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Nj:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bo}):await this._useSession(async n=>{var r,s,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lo}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:bo})})}catch(n){if(He(n))return hne(n)&&(await this._removeSession(),await Lg(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new lo;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Lc(this.storage,this.storageKey));const{data:u,error:d}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:bo});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new lo;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:o}=Cj(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(He(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new lo;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!na())throw new Rg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Rg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ZT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ZT("No code detected.");const{data:b,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Rg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=tu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:y}=await this._getUser(a);if(y)throw y;const x={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(He(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await $g(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(fne(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Lg(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Sne(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Lc(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(He(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return na()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(He(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)throw o;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ene(async s=>(s>0&&await Cne(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fi})),(s,a)=>{const o=200*Math.pow(2,s);return a&&_j(a)&&Date.now()+o-r<tu})}catch(r){if(this._debug(n,"error",r),He(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),na()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await $g(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Nj;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Nj}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),_j(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new lo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new z0;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new lo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),He(a)){const o={session:null,error:a};return _j(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await HF(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Lg(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&na()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),tu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/tu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${tu}ms, refresh threshold is ${lN} ticks`),s<=lN&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof GF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!na()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Lc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(He(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(He(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Cj(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+une>Date.now()))return r;const{data:s,error:a}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new jh("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new jh("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};r=m.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=Cj(r);if(Dne(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:a,header:s,signature:o},error:null}}const u=Mne(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,wne(`${l}.${c}`)))throw new jh("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}}hm.nextInstanceID=0;const Qne=hm;class Zne extends Qne{constructor(t){super(t)}}var ere=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class tre{constructor(t,n,r){var s,a,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=sne(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Xte,realtime:Qte,auth:Object.assign(Object.assign({},Jte),{storageKey:u}),global:Yte},f=ane(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=nne(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new yte(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Kee(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Hte(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return ere(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:a,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Zne({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Ote(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nre=(e,t,n)=>new tre(e,t,n),rre="https://oqwstanztqdiexgrpdta.supabase.co",sre="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k",U=nre(rre,sre);class lO extends Error{constructor(n,r,s,a,o){super(r);sr(this,"title");sr(this,"userMessage");sr(this,"code");sr(this,"statusCode");this.name="AppError",this.title=n,this.userMessage=r,this.code=s,this.statusCode=a,o&&(this.stack=o.stack)}}const G={translateError:e=>{var t,n,r,s,a,o,l,c,u,d,f,h,m,g;if(e instanceof lO)return{title:e.title,description:e.userMessage,variant:"destructive"};if((t=e.message)!=null&&t.includes("Invalid login credentials"))return{title:"Erro de Login",description:"Email ou senha incorretos. Verifique suas credenciais e tente novamente.",variant:"destructive"};if((n=e.message)!=null&&n.includes("Email not confirmed"))return{title:"Email No Confirmado",description:"Verifique sua caixa de entrada e confirme seu email antes de fazer login.",variant:"destructive"};if((r=e.message)!=null&&r.includes("User already registered"))return{title:"Email J Cadastrado",description:"Este email j est em uso. Tente fazer login ou use outro email.",variant:"destructive"};if((s=e.message)!=null&&s.includes("Password should be at least"))return{title:"Senha Muito Fraca",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"};if((a=e.message)!=null&&a.includes("Too many requests"))return{title:"Muitas Tentativas",description:"Voc fez muitas tentativas. Aguarde alguns minutos antes de tentar novamente.",variant:"destructive"};if((o=e.message)!=null&&o.includes("Failed to fetch")||(l=e.message)!=null&&l.includes("Network Error"))return{title:"Erro de Conexo",description:"Verifique sua conexo com a internet e tente novamente.",variant:"destructive",action:{label:"Tentar Novamente",onClick:()=>window.location.reload()}};if((c=e.message)!=null&&c.includes("JSON object requested, multiple (or no) rows returned"))return{title:"Dados No Encontrados",description:"Os dados solicitados no foram encontrados.",variant:"destructive"};if((u=e.message)!=null&&u.includes("duplicate key value violates unique constraint"))return{title:"Dados Duplicados",description:"J existe um registro com essas informaes.",variant:"destructive"};if((d=e.message)!=null&&d.includes("permission denied"))return{title:"Acesso Negado",description:"Voc no tem permisso para realizar esta ao.",variant:"destructive"};if((f=e.message)!=null&&f.includes("validation"))return{title:"Dados Invlidos",description:"Verifique os dados informados e tente novamente.",variant:"destructive"};if((h=e.message)!=null&&h.includes("Evolution API"))return{title:"Erro do WhatsApp",description:"Problema na conexo com o WhatsApp. Tente novamente em alguns instantes.",variant:"destructive"};if((m=e.message)!=null&&m.includes("instance already exists"))return{title:"Instncia J Existe",description:"Uma instncia WhatsApp com este nome j existe. Use um nome diferente.",variant:"destructive"};if((g=e.message)!=null&&g.includes("Unauthorized"))return{title:"No Autorizado",description:"Sua sesso expirou. Faa login novamente.",variant:"destructive",action:{label:"Fazer Login",onClick:()=>window.location.href="/login"}};if(e.status)switch(e.status){case 400:return{title:"Requisio Invlida",description:"Os dados enviados so invlidos. Verifique e tente novamente.",variant:"destructive"};case 401:return{title:"No Autorizado",description:"Voc precisa fazer login para acessar este recurso.",variant:"destructive",action:{label:"Fazer Login",onClick:()=>window.location.href="/login"}};case 403:return{title:"Acesso Proibido",description:"Voc no tem permisso para realizar esta ao.",variant:"destructive"};case 404:return{title:"No Encontrado",description:"O recurso solicitado no foi encontrado.",variant:"destructive"};case 429:return{title:"Muitas Requisies",description:"Voc est fazendo muitas requisies. Aguarde um momento.",variant:"destructive"};case 500:return{title:"Erro do Servidor",description:"Ocorreu um erro interno. Nossa equipe foi notificada.",variant:"destructive"};case 503:return{title:"Servio Indisponvel",description:"O servio est temporariamente indisponvel. Tente novamente em alguns minutos.",variant:"destructive"}}return e.message?{title:"Erro",description:e.message.replace("AuthApiError: ","").replace("PostgrestError: ","").replace("Error: ",""),variant:"destructive"}:{title:"Erro Inesperado",description:"Ocorreu um erro inesperado. Tente novamente ou entre em contato com o suporte.",variant:"destructive",action:{label:"Recarregar Pgina",onClick:()=>window.location.reload()}}},showError:e=>{const t=G.translateError(e);Rr.error(t.title,{description:t.description,action:t.action?{label:t.action.label,onClick:t.action.onClick}:void 0,duration:6e3})},showSuccess:(e,t)=>{Rr.success(e,{description:t,duration:4e3})},handleAsync:async(e,t)=>{try{return await e()}catch(n){return t?t(n):G.showError(n),null}},createError:(e,t,n,r)=>new lO(e,t,n,r)};class are{constructor(t){sr(this,"config");this.config=t}async makeRequest(t,n="GET",r){const s=`${this.config.serverUrl}${t}`,a={"Content-Type":"application/json",apikey:this.config.apiKey},o={method:n,headers:a};r&&(n==="POST"||n==="PUT")&&(o.body=JSON.stringify(r));try{const l=await fetch(s,o);if(!l.ok){const u=await l.text();let d=`HTTP ${l.status}: ${l.statusText}`;try{const f=JSON.parse(u);d=f.message||f.error||d}catch{d=u||d}throw new Error(d)}return await l.json()}catch(l){throw l}}async createInstance(t,n){const r=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),s={instanceName:t,qrcode:!0,integration:"WHATSAPP-BAILEYS",rejectCall:!1,msgCall:"",groupsIgnore:!1,alwaysOnline:!1,readMessages:!1,readStatus:!1,syncFullHistory:!1};return!r&&n&&(s.webhook={url:n,byEvents:!0,base64:!1,headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.config.apiKey}`},events:["APPLICATION_STARTUP","QRCODE_UPDATED","CONNECTION_UPDATE","MESSAGES_UPSERT","MESSAGES_UPDATE","SEND_MESSAGE","CONTACTS_SET","CONTACTS_UPSERT","CONTACTS_UPDATE","PRESENCE_UPDATE","CHATS_SET","CHATS_UPSERT","CHATS_UPDATE","CHATS_DELETE","GROUPS_UPSERT","GROUP_UPDATE","GROUP_PARTICIPANTS_UPDATE","LABELS_EDIT","LABELS_ASSOCIATION","CALL"]}),this.makeRequest("/instance/create","POST",s)}async deleteInstance(t){return this.makeRequest(`/instance/delete/${t}`,"DELETE")}async restartInstance(t){return this.makeRequest(`/instance/restart/${t}`,"PUT")}async logoutInstance(t){return this.makeRequest(`/instance/logout/${t}`,"DELETE")}async connectInstance(t){return this.makeRequest(`/instance/connect/${t}`)}async getConnectionState(t){return this.makeRequest(`/instance/connectionState/${t}`)}async fetchInstances(t){const n=t?`/instance/fetchInstances?instanceName=${t}`:"/instance/fetchInstances";return this.makeRequest(n)}async setPresence(t,n){return this.makeRequest(`/chat/presence/${t}`,"PUT",{presence:n})}async sendTextMessage(t,n){return this.makeRequest(`/message/sendText/${t}`,"POST",n)}async sendMediaMessage(t,n){return this.makeRequest(`/message/sendMedia/${t}`,"POST",n)}async sendAudioMessage(t,n){return this.makeRequest(`/message/sendWhatsAppAudio/${t}`,"POST",n)}async sendButtonMessage(t,n){return this.makeRequest(`/message/sendButtons/${t}`,"POST",n)}async sendListMessage(t,n){return this.makeRequest(`/message/sendList/${t}`,"POST",n)}async sendLocationMessage(t,n){return this.makeRequest(`/message/sendLocation/${t}`,"POST",n)}async sendContactMessage(t,n){return this.makeRequest(`/message/sendContact/${t}`,"POST",n)}async sendReaction(t,n,r){return this.makeRequest(`/message/sendReaction/${t}`,"POST",{reactionMessage:{key:n,reaction:r}})}async markMessageAsRead(t,n,r){const s={remoteJid:n};return r&&(s.messageId=r),this.makeRequest(`/chat/markMessageAsRead/${t}`,"PUT",s)}async deleteMessage(t,n,r,s){return this.makeRequest(`/message/delete/${t}`,"DELETE",{id:n,remoteJid:r,fromMe:s})}async findChats(t){return this.makeRequest(`/chat/findChats/${t}`)}async findMessages(t,n,r){const s=new URLSearchParams({remoteJid:n});return r&&s.append("limit",r.toString()),this.makeRequest(`/chat/findMessages/${t}?${s}`)}async archiveChat(t,n,r){return this.makeRequest(`/chat/archive/${t}`,"PUT",{remoteJid:n,archive:r})}async deleteChat(t,n){return this.makeRequest(`/chat/delete/${t}`,"DELETE",{remoteJid:n})}async clearMessages(t,n){return this.makeRequest(`/chat/clearMessages/${t}`,"DELETE",{remoteJid:n})}async findContacts(t){return this.makeRequest(`/chat/findContacts/${t}`)}async getProfilePicture(t,n){return this.makeRequest(`/chat/profilePicture/${t}?number=${n}`)}async getStatus(t,n){return this.makeRequest(`/chat/findStatusMessage/${t}?number=${n}`)}async blockContact(t,n){return this.makeRequest(`/chat/blockContact/${t}`,"PUT",{number:n})}async unblockContact(t,n){return this.makeRequest(`/chat/unblockContact/${t}`,"PUT",{number:n})}async updateProfileName(t,n){return this.makeRequest(`/chat/updateProfileName/${t}`,"PUT",{name:n})}async updateProfileStatus(t,n){return this.makeRequest(`/chat/updateProfileStatus/${t}`,"PUT",{status:n})}async updateProfilePicture(t,n){return this.makeRequest(`/chat/updateProfilePicture/${t}`,"PUT",{picture:n})}async removeProfilePicture(t){return this.makeRequest(`/chat/removeProfilePicture/${t}`,"DELETE")}async createGroup(t,n){return this.makeRequest(`/group/create/${t}`,"POST",n)}async updateGroupParticipants(t,n){return this.makeRequest(`/group/updateParticipant/${t}`,"PUT",n)}async updateGroupSetting(t,n,r){return this.makeRequest(`/group/updateSetting/${t}`,"PUT",{groupJid:n,action:r})}async updateGroupSubject(t,n,r){return this.makeRequest(`/group/updateSubject/${t}`,"PUT",{groupJid:n,subject:r})}async updateGroupDescription(t,n,r){return this.makeRequest(`/group/updateDescription/${t}`,"PUT",{groupJid:n,description:r})}async findGroup(t,n){return this.makeRequest(`/group/findGroupInfo/${t}?groupJid=${n}`)}async findGroupParticipants(t,n){return this.makeRequest(`/group/participants/${t}?groupJid=${n}`)}async inviteCode(t,n){return this.makeRequest(`/group/inviteCode/${t}?groupJid=${n}`)}async revokeInviteCode(t,n){return this.makeRequest(`/group/revokeInviteCode/${t}`,"PUT",{groupJid:n})}async sendInvite(t,n,r,s){return this.makeRequest(`/group/sendInvite/${t}`,"POST",{groupJid:n,numbers:r,description:s})}async leaveGroup(t,n){return this.makeRequest(`/group/leaveGroup/${t}`,"DELETE",{groupJid:n})}async setWebhook(t,n,r,s,a){return this.makeRequest(`/webhook/set/${t}`,"POST",{url:n,events:r,byEvents:s,base64:a})}async findWebhook(t){return this.makeRequest(`/webhook/find/${t}`)}async instanceExists(t){try{return await this.getConnectionState(t),!0}catch{return!1}}async getQRCode(t){return this.connectInstance(t)}async getInstanceStatus(t){return this.getConnectionState(t)}async sendSimpleTextMessage(t,n,r){return this.sendTextMessage(t,{number:n,text:r})}async sendImageMessage(t,n,r,s){return this.sendMediaMessage(t,{number:n,mediaMessage:{mediatype:"image",media:r,caption:s}})}async sendDocumentMessage(t,n,r,s,a){return this.sendMediaMessage(t,{number:n,mediaMessage:{mediatype:"document",media:r,fileName:s,caption:a}})}async sendVideoMessage(t,n,r,s){return this.sendMediaMessage(t,{number:n,mediaMessage:{mediatype:"video",media:r,caption:s}})}async sendVoiceMessage(t,n,r){return this.sendAudioMessage(t,{number:n,audioMessage:{audio:r,ptt:!0}})}}let kj=null;const ci=()=>(kj||(kj=new are({serverUrl:"https://evolution.suplelive.com.br",apiKey:"14793ff820dfc1ea9421e24722628426"})),kj),cO=e=>{const t=e.replace(/\D/g,"");return t.length===11&&t.startsWith("55")?`${t}@s.whatsapp.net`:t.length===11?`55${t}@s.whatsapp.net`:t.length===10?`559${t}@s.whatsapp.net`:`${t}@s.whatsapp.net`},be=ka((e,t)=>({currentWorkspace:null,workspaces:[],plans:[],channels:[],whatsappInstances:[],workspaceUsers:[],userInvitations:[],loading:!1,fetchWorkspaces:async()=>{await G.handleAsync(async()=>{const{data:{user:n}}=await U.auth.getUser();if(!n)return;console.log("Fetching workspaces for user:",n.email);const{data:r,error:s}=await U.from("workspaces").select(`
          *,
          plan:plans(*),
          subscription:subscriptions(*)
        `).eq("owner_id",n.id);if(s)throw s;const a=(r||[]).map(o=>({...o,user_role:"owner"}));console.log("Fetched workspaces:",a.length,a.map(o=>({id:o.id,name:o.name}))),e({workspaces:a}),console.log("Workspaces fetched successfully")})},fetchPlans:async()=>{await G.handleAsync(async()=>{const{data:n,error:r}=await U.from("plans").select("*").order("price_monthly",{ascending:!0});if(r)throw r;e({plans:n||[]})})},fetchChannels:async()=>{await G.handleAsync(async()=>{const n=t().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("channels").select("*").eq("workspace_id",n.id).order("created_at",{ascending:!1});if(s)throw s;e({channels:r||[]})})},fetchWhatsAppInstances:async()=>{await G.handleAsync(async()=>{const n=t().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("whatsapp_instances").select("*").eq("workspace_id",n.id).order("created_at",{ascending:!1});if(s)throw s;e({whatsappInstances:r||[]}),setTimeout(()=>{t().syncAllWhatsAppInstances()},1e3)})},fetchWorkspaceUsers:async()=>{await G.handleAsync(async()=>{if(!t().currentWorkspace)return;e({workspaceUsers:[]||[]})})},fetchUserInvitations:async()=>{await G.handleAsync(async()=>{if(!t().currentWorkspace)return;e({userInvitations:[]||[]})})},checkWorkspaceUniqueness:async(n,r)=>await G.handleAsync(async()=>{var o,l;const{data:s,error:a}=await U.rpc("check_workspace_uniqueness",{workspace_name:n,workspace_slug:r});if(a)throw a;return{nameExists:((o=s[0])==null?void 0:o.name_exists)||!1,slugExists:((l=s[0])==null?void 0:l.slug_exists)||!1}})||{nameExists:!1,slugExists:!1},createWorkspace:async n=>await G.handleAsync(async()=>{const{data:{user:r}}=await U.auth.getUser();if(!r)throw new Error("Usurio no autenticado");const s=n.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),a=await t().checkWorkspaceUniqueness(n.name,s);if(a.nameExists){const{data:c}=await U.from("workspaces").select(`
            *,
            users:workspace_users!inner(user_id)
          `).ilike("name",n.name).eq("users.user_id",r.id).maybeSingle();if(c){const{data:u}=await U.from("workspaces").select(`
              *,
              plan:plans(*),
              subscription:subscriptions(*)
            `).eq("id",c.id).single();if(u)return t().setCurrentWorkspace({...u,user_role:"admin"}),G.showSuccess("Bem-vindo de volta!",`Voc j faz parte do workspace "${n.name}"`),u}throw new Error(`J existe um workspace com o nome "${n.name}". Escolha um nome diferente.`)}if(a.slugExists)throw new Error(`A URL "${s}" j est em uso. Escolha um nome diferente.`);const{data:o,error:l}=await U.from("workspaces").insert({name:n.name,slug:s,plan_id:n.plan_id,owner_id:r.id}).select(`
          *,
          plan:plans(*),
          subscription:subscriptions(*)
        `).single();if(l)throw l;return await U.from("subscriptions").insert({workspace_id:o.id,plan_id:n.plan_id,status:"active"}),await U.from("workspace_users").insert({workspace_id:o.id,user_id:r.id,role:"admin",joined_at:new Date().toISOString(),status:"active"}),await t().fetchWorkspaces(),{...o,user_role:"owner"}})||null,setCurrentWorkspace:n=>{n?(localStorage.setItem("currentWorkspaceId",n.id),console.log("Setting current workspace:",n.name,n.id),e({currentWorkspace:n}),t().fetchChannels(),t().fetchWhatsAppInstances()):(localStorage.removeItem("currentWorkspaceId"),console.log("Clearing current workspace"),e({currentWorkspace:null,channels:[],whatsappInstances:[],workspaceUsers:[],userInvitations:[]}))},updateCurrentWorkspace:n=>{e({currentWorkspace:n}),localStorage.setItem("currentWorkspaceId",n.id)},inviteUser:async(n,r)=>{await G.handleAsync(async()=>{throw new Error("Funcionalidade de convite de usurios temporariamente indisponvel")})},registerUser:async n=>{await G.handleAsync(async()=>{const{data:{session:r}}=await U.auth.getSession();if(!r)throw new Error("Usurio no autenticado");const s=await fetch("https://oqwstanztqdiexgrpdta.supabase.co/functions/v1/register-user",{method:"POST",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({name:n.name,email:n.email,password:n.password,role:n.role,workspace_id:n.workspace_id})});if(!s.ok){const a=await s.json();throw new Error(a.error||"Falha ao cadastrar usurio")}await s.json(),G.showSuccess("Usurio cadastrado com sucesso!",`${n.name} foi criado e pode fazer login com o email ${n.email}`),t().fetchWorkspaceUsers()})},removeUser:async n=>{await G.handleAsync(async()=>{throw new Error("Funcionalidade de gerenciamento de usurios temporariamente indisponvel")})},updateUserRole:async(n,r)=>{await G.handleAsync(async()=>{throw new Error("Funcionalidade de alterao de roles temporariamente indisponvel")})},cancelInvitation:async n=>{await G.handleAsync(async()=>{throw new Error("Funcionalidade de cancelamento de convites temporariamente indisponvel")})},resendInvitation:async n=>{await G.handleAsync(async()=>{throw new Error("Funcionalidade de reenvio de convites temporariamente indisponvel")})},connectWhatsApp:async n=>await G.handleAsync(async()=>{var c,u;const r=t().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");const s=`${r.slug}_${n.toLowerCase().replace(/[^a-z0-9]/g,"_")}_${Date.now()}`,a="https://oqwstanztqdiexgrpdta.supabase.co/functions/v1/evolution-webhook",{data:o,error:l}=await U.from("whatsapp_instances").insert({workspace_id:r.id,instance_name:n,session_id:s,status:"connecting",webhook_url:a}).select().single();if(l)throw l;try{const d=ci();if(await d.instanceExists(s))try{const g=await d.getInstanceStatus(s);if(g.instance.state==="open")return await U.from("whatsapp_instances").update({status:"connected",phone_number:g.instance.state||null}).eq("id",o.id),t().fetchWhatsAppInstances(),{...o,status:"connected",phone_number:g.instance.state||null}}catch(g){console.warn("Could not get instance status:",g)}const h=await d.createInstance(s,a),{error:m}=await U.from("whatsapp_instances").update({qr_code:((c=h.qrcode)==null?void 0:c.base64)||null,status:"connecting"}).eq("id",o.id);if(m)throw m;return t().fetchWhatsAppInstances(),setTimeout(()=>{t().syncWhatsAppStatus(o.id)},5e3),{...o,qr_code:((u=h.qrcode)==null?void 0:u.base64)||null}}catch(d){await U.from("whatsapp_instances").update({status:"disconnected"}).eq("id",o.id);let f="Falha ao criar instncia na Evolution API";throw d.message&&(d.message.includes("already exists")?f="Uma instncia com este nome j existe. Tente um nome diferente.":d.message.includes("Bad Request")?f="Dados invlidos enviados para a API. Verifique o nome da instncia.":d.message.includes("Unauthorized")?f="Chave de API invlida ou expirada.":f=`${f}: ${d.message}`),new Error(f)}})||null,reconnectWhatsApp:async n=>{await G.handleAsync(async()=>{var o;const{data:r,error:s}=await U.from("whatsapp_instances").select("*").eq("id",n).maybeSingle();if(s)throw s;if(!r){console.log(`WhatsApp instance ${n} not found in database`);return}if(!r.session_id)throw new Error("Session ID no encontrado");const a=ci();try{if((await a.getInstanceStatus(r.session_id)).instance.state==="open")await U.from("whatsapp_instances").update({status:"connected",qr_code:null}).eq("id",n);else{const c=await a.connectInstance(r.session_id);await U.from("whatsapp_instances").update({status:"connecting",qr_code:c.base64}).eq("id",n),setTimeout(()=>{t().syncWhatsAppStatus(n)},5e3)}}catch(l){if(l.message&&l.message.includes("Not Found")){if(!t().currentWorkspace)throw new Error("Nenhum workspace selecionado");const d=await a.createInstance(r.session_id,"https://oqwstanztqdiexgrpdta.supabase.co/functions/v1/evolution-webhook");await U.from("whatsapp_instances").update({status:"connecting",qr_code:((o=d.qrcode)==null?void 0:o.base64)||null}).eq("id",n),setTimeout(()=>{t().syncWhatsAppStatus(n)},5e3)}else throw l}t().fetchWhatsAppInstances(),G.showSuccess("Reconectando instncia WhatsApp...")})},disconnectWhatsApp:async n=>{await G.handleAsync(async()=>{const{data:r,error:s}=await U.from("whatsapp_instances").select("session_id").eq("id",n).maybeSingle();if(s)throw s;if(!r){console.log(`WhatsApp instance ${n} not found in database`);return}if(r.session_id)try{await ci().logoutInstance(r.session_id)}catch(o){o.message&&o.message.includes("Not Found")?console.log("Instance not found in Evolution API - already disconnected"):console.warn("Evolution API disconnect failed:",o)}const{error:a}=await U.from("whatsapp_instances").update({status:"disconnected",qr_code:null,phone_number:null}).eq("id",n);if(a)throw a;t().fetchWhatsAppInstances()})},deleteWhatsApp:async n=>{await G.handleAsync(async()=>{const{data:r,error:s}=await U.from("whatsapp_instances").select("session_id").eq("id",n).maybeSingle();if(s)throw s;if(!r){console.log(`WhatsApp instance ${n} not found in database`);return}if(r.session_id)try{await ci().deleteInstance(r.session_id)}catch(o){o.message&&o.message.includes("Not Found")?console.log("Instance not found in Evolution API - already deleted"):console.warn("Evolution API delete failed:",o)}const{error:a}=await U.from("whatsapp_instances").delete().eq("id",n);if(a)throw a;t().fetchWhatsAppInstances()})},getWhatsAppQR:async n=>await G.handleAsync(async()=>{const{data:r,error:s}=await U.from("whatsapp_instances").select("session_id").eq("id",n).maybeSingle();if(s)throw s;if(!r)throw new Error("Instncia WhatsApp no encontrada");if(!r.session_id)throw new Error("Session ID no encontrado");const o=await ci().getQRCode(r.session_id);return await U.from("whatsapp_instances").update({qr_code:o.base64}).eq("id",n),t().fetchWhatsAppInstances(),o.base64})||"",updateWhatsAppStatus:async(n,r,s)=>{await G.handleAsync(async()=>{const a={status:r};s&&(a.phone_number=s),r==="disconnected"&&(a.qr_code=null,a.phone_number=null);const{error:o}=await U.from("whatsapp_instances").update(a).eq("id",n);if(o)throw o;t().fetchWhatsAppInstances()})},restartWhatsApp:async n=>{await G.handleAsync(async()=>{const{data:r,error:s}=await U.from("whatsapp_instances").select("session_id").eq("id",n).maybeSingle();if(s)throw s;if(!r)throw new Error("Instncia WhatsApp no encontrada");if(!r.session_id)throw new Error("Session ID no encontrado");const a=ci();try{await a.restartInstance(r.session_id)}catch(o){if(o.message&&o.message.includes("Not Found")){await t().reconnectWhatsApp(n);return}else throw o}await U.from("whatsapp_instances").update({status:"connecting"}).eq("id",n),t().fetchWhatsAppInstances(),setTimeout(()=>{t().syncWhatsAppStatus(n)},5e3)})},syncWhatsAppStatus:async n=>{await G.handleAsync(async()=>{const{data:r,error:s}=await U.from("whatsapp_instances").select("session_id, status").eq("id",n).maybeSingle();if(s)throw s;if(!r){console.log(`WhatsApp instance ${n} not found in database, skipping sync`);return}if(!r.session_id)return;const a=ci();try{const o=await a.getInstanceStatus(r.session_id);let l="disconnected",c=null;if(o.instance.state==="open"){l="connected";try{const u=await a.fetchInstances(r.session_id);u&&u.length>0&&(c=u[0].profileName||null)}catch(u){console.warn("Could not fetch instance info:",u)}}else o.instance.state==="connecting"&&(l="connecting");l!==r.status&&(await U.from("whatsapp_instances").update({status:l,phone_number:c,qr_code:l==="connected"?null:r.qr_code}).eq("id",n),t().fetchWhatsAppInstances()),l==="connecting"&&setTimeout(()=>{t().syncWhatsAppStatus(n)},1e4)}catch(o){o.message&&o.message.includes("Not Found")&&(await U.from("whatsapp_instances").update({status:"disconnected",qr_code:null,phone_number:null}).eq("id",n),t().fetchWhatsAppInstances())}})},syncAllWhatsAppInstances:async()=>{await G.handleAsync(async()=>{const r=t().whatsappInstances.filter(s=>s.status!=="disconnected"&&s.session_id);for(const s of r)setTimeout(()=>{t().syncWhatsAppStatus(s.id)},Math.random()*2e3)})},sendWhatsAppMessage:async(n,r,s)=>{await G.handleAsync(async()=>{const{data:a,error:o}=await U.from("whatsapp_instances").select("session_id").eq("id",n).maybeSingle();if(o)throw o;if(!a)throw new Error("Instncia WhatsApp no encontrada");if(!a.session_id)throw new Error("Session ID no encontrado");const l=ci(),c=cO(r);await l.sendSimpleTextMessage(a.session_id,c,s)})},sendWhatsAppMedia:async(n,r,s,a,o)=>{await G.handleAsync(async()=>{const{data:l,error:c}=await U.from("whatsapp_instances").select("session_id").eq("id",n).maybeSingle();if(c)throw c;if(!l)throw new Error("Instncia WhatsApp no encontrada");if(!l.session_id)throw new Error("Session ID no encontrado");const u=ci(),d=cO(r);switch(a){case"image":await u.sendImageMessage(l.session_id,d,s,o);break;case"video":await u.sendVideoMessage(l.session_id,d,s,o);break;case"audio":await u.sendVoiceMessage(l.session_id,d,s);break;case"document":const f=s.split("/").pop()||"document";await u.sendDocumentMessage(l.session_id,d,s,f,o);break;default:throw new Error("Tipo de mdia no suportado")}})},connectChannel:async(n,r)=>await G.handleAsync(async()=>{const s=t().currentWorkspace;if(!s)throw new Error("Nenhum workspace selecionado");const{data:a,error:o}=await U.from("channels").insert({workspace_id:s.id,type:n,name:`${n.charAt(0).toUpperCase()+n.slice(1)} Channel`,config:r,status:"connected"}).select().single();if(o)throw o;return t().fetchChannels(),a})||null,disconnectChannel:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("channels").update({status:"disconnected"}).eq("id",n);if(r)throw r;t().fetchChannels()})}})),ri=ka((e,t)=>({user:null,loading:!0,signIn:async(n,r)=>{try{e({loading:!0});const{error:s}=await U.auth.signInWithPassword({email:n,password:r});if(s)throw s;G.showSuccess("Login realizado com sucesso!","Bem-vindo de volta!")}catch(s){throw G.showError(s),s}finally{e({loading:!1})}},signUp:async(n,r)=>{try{e({loading:!0});const{error:s}=await U.auth.signUp({email:n,password:r});if(s)throw s;G.showSuccess("Conta criada com sucesso!","Bem-vindo ao OmniCRM!")}catch(s){throw G.showError(s),s}finally{e({loading:!1})}},signOut:async()=>{try{e({loading:!0});const{error:n}=await U.auth.signOut();if(n)throw n;e({user:null}),G.showSuccess("Logout realizado","At logo!")}catch(n){throw G.showError(n),n}finally{e({loading:!1})}},initialize:async()=>{var n;try{e({loading:!0}),console.log("Initializing auth...");const{data:{session:r},error:s}=await U.auth.getSession();if(s)throw s;console.log("Auth session:",((n=r==null?void 0:r.user)==null?void 0:n.email)||"No user"),e({user:(r==null?void 0:r.user)??null,loading:!1}),U.auth.onAuthStateChange((a,o)=>{var c;console.log("Auth state changed:",a,(c=o==null?void 0:o.user)==null?void 0:c.email);const l=(o==null?void 0:o.user)??null;if(e({user:l,loading:!1}),!l){localStorage.removeItem("currentWorkspaceId"),localStorage.removeItem("lastVisitedRoute");const{setCurrentWorkspace:u}=be.getState();u(null)}})}catch(r){e({loading:!1}),console.error("Auth initialization error:",r),G.showError(r)}}}));function vr({children:e}){const{user:t,loading:n,initialize:r}=ri();return v.useEffect(()=>{n&&r()},[r]),n?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):t?i.jsx(i.Fragment,{children:e}):i.jsx(En,{to:"/login",replace:!0})}const QE=v.createContext({});function ZE(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const W0=v.createContext(null),ek=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class ire extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ore({children:e,isPresent:t}){const n=v.useId(),r=v.useRef(null),s=v.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=v.useContext(ek);return v.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),i.jsx(ire,{isPresent:t,childRef:r,sizeRef:s,children:v.cloneElement(e,{ref:r})})}const lre=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:o})=>{const l=ZE(cre),c=v.useId(),u=v.useCallback(f=>{l.set(f,!0);for(const h of l.values())if(!h)return;r&&r()},[l,r]),d=v.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),a?[Math.random(),u]:[n,u]);return v.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[n]),v.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=i.jsx(ore,{isPresent:n,children:e})),i.jsx(W0.Provider,{value:d,children:e})};function cre(){return new Map}function KF(e=!0){const t=v.useContext(W0);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,a=v.useId();v.useEffect(()=>{e&&s(a)},[e]);const o=v.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const Fg=e=>e.key||"";function uO(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const tk=typeof window<"u",YF=tk?v.useLayoutEffect:v.useEffect,El=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=KF(o),u=v.useMemo(()=>uO(e),[e]),d=o&&!l?[]:u.map(Fg),f=v.useRef(!0),h=v.useRef(u),m=ZE(()=>new Map),[g,p]=v.useState(u),[y,x]=v.useState(u);YF(()=>{f.current=!1,h.current=u;for(let w=0;w<y.length;w++){const S=Fg(y[w]);d.includes(S)?m.delete(S):m.get(S)!==!0&&m.set(S,!1)}},[y,d.length,d.join("-")]);const b=[];if(u!==g){let w=[...u];for(let S=0;S<y.length;S++){const N=y[S],C=Fg(N);d.includes(C)||(w.splice(S,0,N),b.push(N))}a==="wait"&&b.length&&(w=b),x(uO(w)),p(u);return}const{forceRender:j}=v.useContext(QE);return i.jsx(i.Fragment,{children:y.map(w=>{const S=Fg(w),N=o&&!l?!1:u===y||d.includes(S),C=()=>{if(m.has(S))m.set(S,!0);else return;let _=!0;m.forEach(k=>{k||(_=!1)}),_&&(j==null||j(),x(h.current),o&&(c==null||c()),r&&r())};return i.jsx(lre,{isPresent:N,initial:!f.current||n?void 0:!1,custom:N?void 0:t,presenceAffectsLayout:s,mode:a,onExitComplete:N?void 0:C,children:w},S)})})},us=e=>e;let dN=us;function nk(e){let t;return()=>(t===void 0&&(t=e()),t)}const sd=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Ci=e=>e*1e3,Ei=e=>e/1e3,ure={skipAnimations:!1,useManualTiming:!1};function dre(e){let t=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const m=f&&r?t:n;return d&&a.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const Bg=["read","resolveKeyframes","update","preRender","render","postRender"],fre=40;function XF(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Bg.reduce((x,b)=>(x[b]=dre(a),x),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,m=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,fre),1),s.timestamp=x,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},g=()=>{n=!0,r=!0,s.isProcessing||e(m)};return{schedule:Bg.reduce((x,b)=>{const j=o[b];return x[b]=(w,S=!1,N=!1)=>(n||g(),j.schedule(w,S,N)),x},{}),cancel:x=>{for(let b=0;b<Bg.length;b++)o[Bg[b]].cancel(x)},state:s,steps:o}}const{schedule:Ft,cancel:Ho,state:Hn,steps:Aj}=XF(typeof requestAnimationFrame<"u"?requestAnimationFrame:us,!0),JF=v.createContext({strict:!1}),dO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ad={};for(const e in dO)ad[e]={isEnabled:t=>dO[e].some(n=>!!t[n])};function hre(e){for(const t in e)ad[t]={...ad[t],...e[t]}}const mre=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ky(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mre.has(e)}let QF=e=>!ky(e);function pre(e){e&&(QF=t=>t.startsWith("on")?!ky(t):e(t))}try{pre(require("@emotion/is-prop-valid").default)}catch{}function gre(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(QF(s)||n===!0&&ky(s)||!t&&!ky(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function vre(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const V0=v.createContext({});function mm(e){return typeof e=="string"||Array.isArray(e)}function U0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const rk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sk=["initial",...rk];function q0(e){return U0(e.animate)||sk.some(t=>mm(e[t]))}function ZF(e){return!!(q0(e)||e.variants)}function yre(e,t){if(q0(e)){const{initial:n,animate:r}=e;return{initial:n===!1||mm(n)?n:void 0,animate:mm(r)?r:void 0}}return e.inherit!==!1?t:{}}function xre(e){const{initial:t,animate:n}=yre(e,v.useContext(V0));return v.useMemo(()=>({initial:t,animate:n}),[fO(t),fO(n)])}function fO(e){return Array.isArray(e)?e.join(" "):e}const wre=Symbol.for("motionComponentSymbol");function vu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bre(e,t,n){return v.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):vu(n)&&(n.current=r))},[t])}const ak=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jre="framerAppearId",eB="data-"+ak(jre),{schedule:ik,cancel:AKe}=XF(queueMicrotask,!1),tB=v.createContext({});function Sre(e,t,n,r,s){var a,o;const{visualElement:l}=v.useContext(V0),c=v.useContext(JF),u=v.useContext(W0),d=v.useContext(ek).reducedMotion,f=v.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,m=v.useContext(tB);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&Nre(f.current,n,s,m);const g=v.useRef(!1);v.useInsertionEffect(()=>{h&&g.current&&h.update(n,u)});const p=n[eB],y=v.useRef(!!p&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,p))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,p)));return YF(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),ik.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,p)}),y.current=!1))}),h}function Nre(e,t,n,r){const{layoutId:s,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:nB(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||l&&vu(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function nB(e){if(e)return e.options.allowProjection!==!1?e.projection:nB(e.parent)}function _re({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var a,o;e&&hre(e);function l(u,d){let f;const h={...v.useContext(ek),...u,layoutId:Cre(u)},{isStatic:m}=h,g=xre(u),p=r(u,m);if(!m&&tk){Ere();const y=kre(h);f=y.MeasureLayout,g.visualElement=Sre(s,p,h,t,y.ProjectionNode)}return i.jsxs(V0.Provider,{value:g,children:[f&&g.visualElement?i.jsx(f,{visualElement:g.visualElement,...h}):null,n(s,u,bre(p,g.visualElement,d),p,m,g.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&o!==void 0?o:""})`}`;const c=v.forwardRef(l);return c[wre]=s,c}function Cre({layoutId:e}){const t=v.useContext(QE).id;return t&&e!==void 0?t+"-"+e:e}function Ere(e,t){v.useContext(JF).strict}function kre(e){const{drag:t,layout:n}=ad;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Are=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ok(e){return typeof e!="string"||e.includes("-")?!1:!!(Are.indexOf(e)>-1||/[A-Z]/u.test(e))}function hO(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function lk(e,t,n,r){if(typeof t=="function"){const[s,a]=hO(r);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=hO(r);t=t(n!==void 0?n:e.custom,s,a)}return t}const fN=e=>Array.isArray(e),Pre=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Tre=e=>fN(e)?e[e.length-1]||0:e,hr=e=>!!(e&&e.getVelocity);function Lv(e){const t=hr(e)?e.get():e;return Pre(t)?t.toValue():t}function Ore({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,a){const o={latestValues:Ire(r,s,a,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const rB=e=>(t,n)=>{const r=v.useContext(V0),s=v.useContext(W0),a=()=>Ore(e,t,r,s);return n?a():ZE(a)};function Ire(e,t,n,r){const s={},a=r(e,{});for(const h in a)s[h]=Lv(a[h]);let{initial:o,animate:l}=e;const c=q0(e),u=ZF(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!U0(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=lk(e,h[m]);if(g){const{transitionEnd:p,transition:y,...x}=g;for(const b in x){let j=x[b];if(Array.isArray(j)){const w=d?j.length-1:0;j=j[w]}j!==null&&(s[b]=j)}for(const b in p)s[b]=p[b]}}}return s}const Hd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ec=new Set(Hd),sB=e=>t=>typeof t=="string"&&t.startsWith(e),aB=sB("--"),Dre=sB("var(--"),ck=e=>Dre(e)?Mre.test(e.split("/*")[0].trim()):!1,Mre=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,iB=(e,t)=>t&&typeof e=="number"?t.transform(e):e,$i=(e,t,n)=>n>t?t:n<e?e:n,Gd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},pm={...Gd,transform:e=>$i(0,1,e)},zg={...Gd,default:1},Rp=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),co=Rp("deg"),Ua=Rp("%"),Le=Rp("px"),Rre=Rp("vh"),$re=Rp("vw"),mO={...Ua,parse:e=>Ua.parse(e)/100,transform:e=>Ua.transform(e*100)},Lre={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le},Fre={rotate:co,rotateX:co,rotateY:co,rotateZ:co,scale:zg,scaleX:zg,scaleY:zg,scaleZ:zg,skew:co,skewX:co,skewY:co,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:pm,originX:mO,originY:mO,originZ:Le},pO={...Gd,transform:Math.round},uk={...Lre,...Fre,zIndex:pO,size:Le,fillOpacity:pm,strokeOpacity:pm,numOctaves:pO},Bre={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zre=Hd.length;function Wre(e,t,n){let r="",s=!0;for(let a=0;a<zre;a++){const o=Hd[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=iB(l,uk[o]);if(!c){s=!1;const d=Bre[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function dk(e,t,n){const{style:r,vars:s,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Ec.has(c)){o=!0;continue}else if(aB(c)){s[c]=u;continue}else{const d=iB(u,uk[c]);c.startsWith("origin")?(l=!0,a[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=Wre(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;r.transformOrigin=`${c} ${u} ${d}`}}const Vre={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ure={offset:"strokeDashoffset",array:"strokeDasharray"};function qre(e,t,n=1,r=0,s=!0){e.pathLength=1;const a=s?Vre:Ure;e[a.offset]=Le.transform(-r);const o=Le.transform(t),l=Le.transform(n);e[a.array]=`${o} ${l}`}function gO(e,t,n){return typeof e=="string"?e:Le.transform(t+n*e)}function Hre(e,t,n){const r=gO(t,e.x,e.width),s=gO(n,e.y,e.height);return`${r} ${s}`}function fk(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(dk(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:g}=e;h.transform&&(g&&(m.transform=h.transform),delete h.transform),g&&(s!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=Hre(g,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&qre(h,o,l,c,!1)}const hk=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),oB=()=>({...hk(),attrs:{}}),mk=e=>typeof e=="string"&&e.toLowerCase()==="svg";function lB(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const cB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uB(e,t,n,r){lB(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(cB.has(s)?s:ak(s),t.attrs[s])}const Ay={};function Gre(e){Object.assign(Ay,e)}function dB(e,{layout:t,layoutId:n}){return Ec.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ay[e]||e==="opacity")}function pk(e,t,n){var r;const{style:s}=e,a={};for(const o in s)(hr(s[o])||t.style&&hr(t.style[o])||dB(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=s[o]);return a}function fB(e,t,n){const r=pk(e,t,n);for(const s in e)if(hr(e[s])||hr(t[s])){const a=Hd.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=e[s]}return r}function Kre(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const vO=["x","y","width","height","cx","cy","r"],Yre={useVisualState:rB({scrapeMotionValuesFromProps:fB,createRenderState:oB,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!e.drag;if(!a){for(const l in s)if(Ec.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<vO.length;l++){const c=vO[l];e[c]!==t[c]&&(o=!0)}o&&Ft.read(()=>{Kre(n,r),Ft.render(()=>{fk(r,s,mk(n.tagName),e.transformTemplate),uB(n,r)})})}})},Xre={useVisualState:rB({scrapeMotionValuesFromProps:pk,createRenderState:hk})};function hB(e,t,n){for(const r in t)!hr(t[r])&&!dB(r,n)&&(e[r]=t[r])}function Jre({transformTemplate:e},t){return v.useMemo(()=>{const n=hk();return dk(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Qre(e,t){const n=e.style||{},r={};return hB(r,n,e),Object.assign(r,Jre(e,t)),r}function Zre(e,t){const n={},r=Qre(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function ese(e,t,n,r){const s=v.useMemo(()=>{const a=oB();return fk(a,t,mk(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};hB(a,e.style,e),s.style={...a,...s.style}}return s}function tse(e=!1){return(n,r,s,{latestValues:a},o)=>{const c=(ok(n)?ese:Zre)(r,a,o,n),u=gre(r,typeof n=="string",e),d=n!==v.Fragment?{...u,...c,ref:s}:{},{children:f}=r,h=v.useMemo(()=>hr(f)?f.get():f,[f]);return v.createElement(n,{...d,children:h})}}function nse(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...ok(r)?Yre:Xre,preloadedFeatures:e,useRender:tse(s),createVisualElement:t,Component:r};return _re(o)}}function mB(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function H0(e,t,n){const r=e.getProps();return lk(r,t,n!==void 0?n:r.custom,e)}const rse=nk(()=>window.ScrollTimeline!==void 0);class sse{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(rse()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ase extends sse{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function gk(e,t){return e?e[t]||e.default||e:void 0}const hN=2e4;function pB(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<hN;)t+=n,r=e.next(t);return t>=hN?1/0:t}function vk(e){return typeof e=="function"}function yO(e,t){e.timeline=t,e.onfinish=null}const yk=e=>Array.isArray(e)&&typeof e[0]=="number",ise={linearEasing:void 0};function ose(e,t){const n=nk(e);return()=>{var r;return(r=ise[t])!==null&&r!==void 0?r:n()}}const Py=ose(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gB=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)r+=e(sd(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function vB(e){return!!(typeof e=="function"&&Py()||!e||typeof e=="string"&&(e in mN||Py())||yk(e)||Array.isArray(e)&&e.every(vB))}const nh=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,mN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nh([0,.65,.55,1]),circOut:nh([.55,0,1,.45]),backIn:nh([.31,.01,.66,-.59]),backOut:nh([.33,1.53,.69,.99])};function yB(e,t){if(e)return typeof e=="function"&&Py()?gB(e,t):yk(e)?nh(e):Array.isArray(e)?e.map(n=>yB(n,t)||mN.easeOut):mN[e]}const ra={x:!1,y:!1};function xB(){return ra.x||ra.y}function lse(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function wB(e,t){const n=lse(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function xO(e){return t=>{t.pointerType==="touch"||xB()||e(t)}}function cse(e,t,n={}){const[r,s,a]=wB(e,n),o=xO(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=xO(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),a}const bB=(e,t)=>t?e===t?!0:bB(e,t.parentElement):!1,xk=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,use=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dse(e){return use.has(e.tagName)||e.tabIndex!==-1}const rh=new WeakSet;function wO(e){return t=>{t.key==="Enter"&&e(t)}}function Pj(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const fse=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=wO(()=>{if(rh.has(n))return;Pj(n,"down");const s=wO(()=>{Pj(n,"up")}),a=()=>Pj(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function bO(e){return xk(e)&&!xB()}function hse(e,t,n={}){const[r,s,a]=wB(e,n),o=l=>{const c=l.currentTarget;if(!bO(l)||rh.has(c))return;rh.add(c);const u=t(l),d=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!bO(m)||!rh.has(c))&&(rh.delete(c),typeof u=="function"&&u(m,{success:g}))},f=m=>{d(m,n.useGlobalTarget||bB(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(l=>{!dse(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>fse(u,s),s)}),a}function mse(e){return e==="x"||e==="y"?ra[e]?null:(ra[e]=!0,()=>{ra[e]=!1}):ra.x||ra.y?null:(ra.x=ra.y=!0,()=>{ra.x=ra.y=!1})}const jB=new Set(["width","height","top","left","right","bottom",...Hd]);let Fv;function pse(){Fv=void 0}const qa={now:()=>(Fv===void 0&&qa.set(Hn.isProcessing||ure.useManualTiming?Hn.timestamp:performance.now()),Fv),set:e=>{Fv=e,queueMicrotask(pse)}};function wk(e,t){e.indexOf(t)===-1&&e.push(t)}function bk(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class jk{constructor(){this.subscriptions=[]}add(t){return wk(this.subscriptions,t),()=>bk(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function SB(e,t){return t?e*(1e3/t):0}const jO=30,gse=e=>!isNaN(parseFloat(e));class vse{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=qa.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=qa.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=gse(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new jk);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=qa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>jO)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jO);return SB(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gm(e,t){return new vse(e,t)}function yse(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,gm(n))}function xse(e,t){const n=H0(e,t);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const o in a){const l=Tre(a[o]);yse(e,o,l)}}function wse(e){return!!(hr(e)&&e.add)}function pN(e,t){const n=e.getValue("willChange");if(wse(n))return n.add(t)}function NB(e){return e.props[eB]}const _B=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,bse=1e-7,jse=12;function Sse(e,t,n,r,s){let a,o,l=0;do o=t+(n-t)/2,a=_B(o,r,s)-e,a>0?n=o:t=o;while(Math.abs(a)>bse&&++l<jse);return o}function $p(e,t,n,r){if(e===t&&n===r)return us;const s=a=>Sse(a,0,1,e,n);return a=>a===0||a===1?a:_B(s(a),t,r)}const CB=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,EB=e=>t=>1-e(1-t),kB=$p(.33,1.53,.69,.99),Sk=EB(kB),AB=CB(Sk),PB=e=>(e*=2)<1?.5*Sk(e):.5*(2-Math.pow(2,-10*(e-1))),Nk=e=>1-Math.sin(Math.acos(e)),TB=EB(Nk),OB=CB(Nk),IB=e=>/^0[^.\s]+$/u.test(e);function Nse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||IB(e):!0}const Nh=e=>Math.round(e*1e5)/1e5,_k=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _se(e){return e==null}const Cse=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ck=(e,t)=>n=>!!(typeof n=="string"&&Cse.test(n)&&n.startsWith(e)||t&&!_se(n)&&Object.prototype.hasOwnProperty.call(n,t)),DB=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,a,o,l]=r.match(_k);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Ese=e=>$i(0,255,e),Tj={...Gd,transform:e=>Math.round(Ese(e))},zl={test:Ck("rgb","red"),parse:DB("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Tj.transform(e)+", "+Tj.transform(t)+", "+Tj.transform(n)+", "+Nh(pm.transform(r))+")"};function kse(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const gN={test:Ck("#"),parse:kse,transform:zl.transform},yu={test:Ck("hsl","hue"),parse:DB("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ua.transform(Nh(t))+", "+Ua.transform(Nh(n))+", "+Nh(pm.transform(r))+")"},or={test:e=>zl.test(e)||gN.test(e)||yu.test(e),parse:e=>zl.test(e)?zl.parse(e):yu.test(e)?yu.parse(e):gN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?zl.transform(e):yu.transform(e)},Ase=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Pse(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(_k))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Ase))===null||n===void 0?void 0:n.length)||0)>0}const MB="number",RB="color",Tse="var",Ose="var(",SO="${}",Ise=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vm(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(Ise,c=>(or.test(c)?(r.color.push(a),s.push(RB),n.push(or.parse(c))):c.startsWith(Ose)?(r.var.push(a),s.push(Tse),n.push(c)):(r.number.push(a),s.push(MB),n.push(parseFloat(c))),++a,SO)).split(SO);return{values:n,split:l,indexes:r,types:s}}function $B(e){return vm(e).values}function LB(e){const{split:t,types:n}=vm(e),r=t.length;return s=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],s[o]!==void 0){const l=n[o];l===MB?a+=Nh(s[o]):l===RB?a+=or.transform(s[o]):a+=s[o]}return a}}const Dse=e=>typeof e=="number"?0:e;function Mse(e){const t=$B(e);return LB(e)(t.map(Dse))}const Go={test:Pse,parse:$B,createTransformer:LB,getAnimatableNone:Mse},Rse=new Set(["brightness","contrast","saturate","opacity"]);function $se(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(_k)||[];if(!r)return e;const s=n.replace(r,"");let a=Rse.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}const Lse=/\b([a-z-]*)\(.*?\)/gu,vN={...Go,getAnimatableNone:e=>{const t=e.match(Lse);return t?t.map($se).join(" "):e}},Fse={...uk,color:or,backgroundColor:or,outlineColor:or,fill:or,stroke:or,borderColor:or,borderTopColor:or,borderRightColor:or,borderBottomColor:or,borderLeftColor:or,filter:vN,WebkitFilter:vN},Ek=e=>Fse[e];function FB(e,t){let n=Ek(e);return n!==vN&&(n=Go),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Bse=new Set(["auto","none","0"]);function zse(e,t,n){let r=0,s;for(;r<e.length&&!s;){const a=e[r];typeof a=="string"&&!Bse.has(a)&&vm(a).values.length&&(s=e[r]),r++}if(s&&n)for(const a of t)e[a]=FB(n,s)}const NO=e=>e===Gd||e===Le,_O=(e,t)=>parseFloat(e.split(", ")[t]),CO=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return _O(s[1],t);{const a=r.match(/^matrix\((.+)\)$/u);return a?_O(a[1],e):0}},Wse=new Set(["x","y","z"]),Vse=Hd.filter(e=>!Wse.has(e));function Use(e){const t=[];return Vse.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const id={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:CO(4,13),y:CO(5,14)};id.translateX=id.x;id.translateY=id.y;const Yl=new Set;let yN=!1,xN=!1;function BB(){if(xN){const e=Array.from(Yl).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Use(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,o])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}xN=!1,yN=!1,Yl.forEach(e=>e.complete()),Yl.clear()}function zB(){Yl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(xN=!0)})}function qse(){zB(),BB()}class kk{constructor(t,n,r,s,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Yl.add(this),yN||(yN=!0,Ft.read(zB),Ft.resolveKeyframes(BB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Yl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Yl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const WB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Hse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gse(e){const t=Hse.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function VB(e,t,n=1){const[r,s]=Gse(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return WB(o)?parseFloat(o):o}return ck(s)?VB(s,t,n+1):s}const UB=e=>t=>t.test(e),Kse={test:e=>e==="auto",parse:e=>e},qB=[Gd,Le,Ua,co,$re,Rre,Kse],EO=e=>qB.find(UB(e));class HB extends kk{constructor(t,n,r,s,a){super(t,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),ck(u))){const d=VB(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!jB.has(r)||t.length!==2)return;const[s,a]=t,o=EO(s),l=EO(a);if(o!==l)if(NO(o)&&NO(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)Nse(t[s])&&r.push(s);r.length&&zse(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=id[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=id[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const kO=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Go.test(e)||e==="0")&&!e.startsWith("url("));function Yse(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Xse(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=kO(s,t),l=kO(a,t);return!o||!l?!1:Yse(e)||(n==="spring"||vk(n))&&r}const Jse=e=>e!==null;function G0(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Jse),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const Qse=40;class GB{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qa.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Qse?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&qse(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=qa.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Xse(t,r,s,a))if(o)this.options.duration=0;else{c&&c(G0(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Gt=(e,t,n)=>e+(t-e)*n;function Oj(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Zse({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,a=0,o=0;if(!t)s=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Oj(c,l,e+1/3),a=Oj(c,l,e),o=Oj(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Ty(e,t){return n=>n>0?t:e}const Ij=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},eae=[gN,zl,yu],tae=e=>eae.find(t=>t.test(e));function AO(e){const t=tae(e);if(!t)return!1;let n=t.parse(e);return t===yu&&(n=Zse(n)),n}const PO=(e,t)=>{const n=AO(e),r=AO(t);if(!n||!r)return Ty(e,t);const s={...n};return a=>(s.red=Ij(n.red,r.red,a),s.green=Ij(n.green,r.green,a),s.blue=Ij(n.blue,r.blue,a),s.alpha=Gt(n.alpha,r.alpha,a),zl.transform(s))},nae=(e,t)=>n=>t(e(n)),Lp=(...e)=>e.reduce(nae),wN=new Set(["none","hidden"]);function rae(e,t){return wN.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function sae(e,t){return n=>Gt(e,t,n)}function Ak(e){return typeof e=="number"?sae:typeof e=="string"?ck(e)?Ty:or.test(e)?PO:oae:Array.isArray(e)?KB:typeof e=="object"?or.test(e)?PO:aae:Ty}function KB(e,t){const n=[...e],r=n.length,s=e.map((a,o)=>Ak(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=s[o](a);return n}}function aae(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Ak(e[s])(e[s],t[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function iae(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[a]=c,s[o]++}return r}const oae=(e,t)=>{const n=Go.createTransformer(t),r=vm(e),s=vm(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?wN.has(e)&&!s.values.length||wN.has(t)&&!r.values.length?rae(e,t):Lp(KB(iae(r,s),s.values),n):Ty(e,t)};function YB(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Gt(e,t,n):Ak(e)(e,t)}const lae=5;function XB(e,t,n){const r=Math.max(t-lae,0);return SB(n-e(r),t-r)}const Jt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dj=.001;function cae({duration:e=Jt.duration,bounce:t=Jt.bounce,velocity:n=Jt.velocity,mass:r=Jt.mass}){let s,a,o=1-t;o=$i(Jt.minDamping,Jt.maxDamping,o),e=$i(Jt.minDuration,Jt.maxDuration,Ei(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-n,m=bN(u,o),g=Math.exp(-f);return Dj-h/m*g},a=u=>{const f=u*o*e,h=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),p=bN(Math.pow(u,2),o);return(-s(u)+Dj>0?-1:1)*((h-m)*g)/p}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Dj+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=dae(s,a,l);if(e=Ci(e),isNaN(c))return{stiffness:Jt.stiffness,damping:Jt.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const uae=12;function dae(e,t,n){let r=n;for(let s=1;s<uae;s++)r=r-e(r)/t(r);return r}function bN(e,t){return e*Math.sqrt(1-t*t)}const fae=["duration","bounce"],hae=["stiffness","damping","mass"];function TO(e,t){return t.some(n=>e[n]!==void 0)}function mae(e){let t={velocity:Jt.velocity,stiffness:Jt.stiffness,damping:Jt.damping,mass:Jt.mass,isResolvedFromDuration:!1,...e};if(!TO(e,hae)&&TO(e,fae))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*$i(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Jt.mass,stiffness:s,damping:a}}else{const n=cae(e);t={...t,...n,mass:Jt.mass},t.isResolvedFromDuration=!0}return t}function JB(e=Jt.visualDuration,t=Jt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=mae({...n,velocity:-Ei(n.velocity||0)}),g=h||0,p=u/(2*Math.sqrt(c*d)),y=o-a,x=Ei(Math.sqrt(c/d)),b=Math.abs(y)<5;r||(r=b?Jt.restSpeed.granular:Jt.restSpeed.default),s||(s=b?Jt.restDelta.granular:Jt.restDelta.default);let j;if(p<1){const S=bN(x,p);j=N=>{const C=Math.exp(-p*x*N);return o-C*((g+p*x*y)/S*Math.sin(S*N)+y*Math.cos(S*N))}}else if(p===1)j=S=>o-Math.exp(-x*S)*(y+(g+x*y)*S);else{const S=x*Math.sqrt(p*p-1);j=N=>{const C=Math.exp(-p*x*N),_=Math.min(S*N,300);return o-C*((g+p*x*y)*Math.sinh(_)+S*y*Math.cosh(_))/S}}const w={calculatedDuration:m&&f||null,next:S=>{const N=j(S);if(m)l.done=S>=f;else{let C=0;p<1&&(C=S===0?Ci(g):XB(j,S,N));const _=Math.abs(C)<=r,k=Math.abs(o-N)<=s;l.done=_&&k}return l.value=l.done?o:N,l},toString:()=>{const S=Math.min(pB(w),hN),N=gB(C=>w.next(S*C).value,S,30);return S+"ms "+N}};return w}function OO({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=_=>l!==void 0&&_<l||c!==void 0&&_>c,g=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let p=n*t;const y=f+p,x=o===void 0?y:o(y);x!==y&&(p=x-f);const b=_=>-p*Math.exp(-_/r),j=_=>x+b(_),w=_=>{const k=b(_),A=j(_);h.done=Math.abs(k)<=u,h.value=h.done?x:A};let S,N;const C=_=>{m(h.value)&&(S=_,N=JB({keyframes:[h.value,g(h.value)],velocity:XB(j,_,h.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:_=>{let k=!1;return!N&&S===void 0&&(k=!0,w(_),C(_)),S!==void 0&&_>=S?N.next(_-S):(!k&&w(_),h)}}}const pae=$p(.42,0,1,1),gae=$p(0,0,.58,1),QB=$p(.42,0,.58,1),vae=e=>Array.isArray(e)&&typeof e[0]!="number",IO={linear:us,easeIn:pae,easeInOut:QB,easeOut:gae,circIn:Nk,circInOut:OB,circOut:TB,backIn:Sk,backInOut:AB,backOut:kB,anticipate:PB},DO=e=>{if(yk(e)){dN(e.length===4);const[t,n,r,s]=e;return $p(t,n,r,s)}else if(typeof e=="string")return dN(IO[e]!==void 0),IO[e];return e};function yae(e,t,n){const r=[],s=n||YB,a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||us:t;l=Lp(c,l)}r.push(l)}return r}function xae(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const a=e.length;if(dN(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=yae(t,r,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=sd(e[f],e[f+1],d);return l[f](h)};return n?d=>u($i(e[0],e[a-1],d)):u}function wae(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=sd(0,t,r);e.push(Gt(n,1,s))}}function bae(e){const t=[0];return wae(t,e.length-1),t}function jae(e,t){return e.map(n=>n*t)}function Sae(e,t){return e.map(()=>t||QB).splice(0,e.length-1)}function Oy({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=vae(r)?r.map(DO):DO(r),a={done:!1,value:t[0]},o=jae(n&&n.length===t.length?n:bae(t),e),l=xae(o,t,{ease:Array.isArray(s)?s:Sae(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Nae=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ft.update(t,!0),stop:()=>Ho(t),now:()=>Hn.isProcessing?Hn.timestamp:qa.now()}},_ae={decay:OO,inertia:OO,tween:Oy,keyframes:Oy,spring:JB},Cae=e=>e/100;class Pk extends GB{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,o=(s==null?void 0:s.KeyframeResolver)||kk,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,l=vk(n)?n:_ae[n]||Oy;let c,u;l!==Oy&&typeof t[0]!="number"&&(c=Lp(Cae,YB(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});a==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=pB(d));const{calculatedDuration:f}=d,h=f+s,m=h*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return a.next(0);const{delay:h,repeat:m,repeatType:g,repeatDelay:p,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-h*(this.speed>=0?1:-1),b=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let j=this.currentTime,w=a;if(m){const _=Math.min(this.currentTime,d)/f;let k=Math.floor(_),A=_%1;!A&&_>=1&&(A=1),A===1&&k--,k=Math.min(k,m+1),!!(k%2)&&(g==="reverse"?(A=1-A,p&&(A-=p/f)):g==="mirror"&&(w=o)),j=$i(0,1,A)*f}const S=b?{done:!1,value:c[0]}:w.next(j);l&&(S.value=l(S.value));let{done:N}=S;!b&&u!==null&&(N=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return C&&s!==void 0&&(S.value=G0(c,this.options,s)),y&&y(S.value),C&&this.finish(),S}get duration(){const{resolved:t}=this;return t?Ei(t.calculatedDuration):0}get time(){return Ei(this.currentTime)}set time(t){t=Ci(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ei(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Nae,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Eae=new Set(["opacity","clipPath","filter","transform"]);function kae(e,t,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=yB(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const Aae=nk(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Iy=10,Pae=2e4;function Tae(e){return vk(e.type)||e.type==="spring"||!vB(e.ease)}function Oae(e,t){const n=new Pk({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let a=0;for(;!r.done&&a<Pae;)r=n.sample(a),s.push(r.value),a+=Iy;return{times:void 0,keyframes:s,duration:a-Iy,ease:"linear"}}const ZB={anticipate:PB,backInOut:AB,circInOut:OB};function Iae(e){return e in ZB}class MO extends GB{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new HB(a,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&Py()&&Iae(a)&&(a=ZB[a]),Tae(this.options)){const{onComplete:f,onUpdate:h,motionValue:m,element:g,...p}=this.options,y=Oae(t,p);t=y.keyframes,t.length===1&&(t[1]=t[0]),r=y.duration,s=y.times,a=y.ease,o="keyframes"}const d=kae(l.owner.current,c,t,{...this.options,duration:r,times:s,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(yO(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(G0(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ei(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ei(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ci(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return us;const{animation:r}=n;yO(r,t)}return us}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:a,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...m}=this.options,g=new Pk({...m,keyframes:r,duration:s,type:a,ease:o,times:l,isGenerator:!0}),p=Ci(this.time);u.setWithVelocity(g.sample(p-Iy).value,g.sample(p).value,Iy)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return Aae()&&r&&Eae.has(r)&&!c&&!u&&!s&&a!=="mirror"&&o!==0&&l!=="inertia"}}const Dae={type:"spring",stiffness:500,damping:25,restSpeed:10},Mae=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Rae={type:"keyframes",duration:.8},$ae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lae=(e,{keyframes:t})=>t.length>2?Rae:Ec.has(e)?e.startsWith("scale")?Mae(t[1]):Dae:$ae;function Fae({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Tk=(e,t,n,r={},s,a)=>o=>{const l=gk(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ci(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};Fae(l)||(d={...d,...Lae(e,d)}),d.duration&&(d.duration=Ci(d.duration)),d.repeatDelay&&(d.repeatDelay=Ci(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!a&&t.get()!==void 0){const h=G0(d.keyframes,l);if(h!==void 0)return Ft.update(()=>{d.onUpdate(h),d.onComplete()}),new ase([])}return!a&&MO.supports(d)?new MO(d):new Pk(d)};function Bae({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function e6(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in c){const h=e.getValue(f,(a=e.latestValues[f])!==null&&a!==void 0?a:null),m=c[f];if(m===void 0||d&&Bae(d,f))continue;const g={delay:n,...gk(o||{},f)};let p=!1;if(window.MotionHandoffAnimation){const x=NB(e);if(x){const b=window.MotionHandoffAnimation(x,f,Ft);b!==null&&(g.startTime=b,p=!0)}}pN(e,f),h.start(Tk(f,h,m,e.shouldReduceMotion&&jB.has(f)?{type:!1}:g,e,p));const y=h.animation;y&&u.push(y)}return l&&Promise.all(u).then(()=>{Ft.update(()=>{l&&xse(e,l)})}),u}function jN(e,t,n={}){var r;const s=H0(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const o=s?()=>Promise.all(e6(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=a;return zae(e,t,d+u,f,h,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function zae(e,t,n=0,r=0,s=1,a){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(Wae).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(jN(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Wae(e,t){return e.sortNodePosition(t)}function Vae(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(a=>jN(e,a,n));r=Promise.all(s)}else if(typeof t=="string")r=jN(e,t,n);else{const s=typeof t=="function"?H0(e,t,n.custom):t;r=Promise.all(e6(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const Uae=sk.length;function t6(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?t6(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Uae;n++){const r=sk[n],s=e.props[r];(mm(s)||s===!1)&&(t[r]=s)}return t}const qae=[...rk].reverse(),Hae=rk.length;function Gae(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Vae(e,n,r)))}function Kae(e){let t=Gae(e),n=RO(),r=!0;const s=c=>(u,d)=>{var f;const h=H0(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:g,...p}=h;u={...u,...p,...g}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=t6(e.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let y=0;y<Hae;y++){const x=qae[y],b=n[x],j=u[x]!==void 0?u[x]:d[x],w=mm(j),S=x===c?b.isActive:null;S===!1&&(g=y);let N=j===d[x]&&j!==u[x]&&w;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),b.protectedKeys={...m},!b.isActive&&S===null||!j&&!b.prevProp||U0(j)||typeof j=="boolean")continue;const C=Yae(b.prevProp,j);let _=C||x===c&&b.isActive&&!N&&w||y>g&&w,k=!1;const A=Array.isArray(j)?j:[j];let T=A.reduce(s(x),{});S===!1&&(T={});const{prevResolvedValues:D={}}=b,F={...D,...T},E=R=>{_=!0,h.has(R)&&(k=!0,h.delete(R)),b.needsAnimating[R]=!0;const I=e.getValue(R);I&&(I.liveStyle=!1)};for(const R in F){const I=T[R],M=D[R];if(m.hasOwnProperty(R))continue;let L=!1;fN(I)&&fN(M)?L=!mB(I,M):L=I!==M,L?I!=null?E(R):h.add(R):I!==void 0&&h.has(R)?E(R):b.protectedKeys[R]=!0}b.prevProp=j,b.prevResolvedValues=T,b.isActive&&(m={...m,...T}),r&&e.blockInitialAnimation&&(_=!1),_&&(!(N&&C)||k)&&f.push(...A.map(R=>({animation:R,options:{type:x}})))}if(h.size){const y={};h.forEach(x=>{const b=e.getBaseTarget(x),j=e.getValue(x);j&&(j.liveStyle=!0),y[x]=b??null}),f.push({animation:y})}let p=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(f):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),n[c].isActive=u;const f=o(c);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=RO(),r=!0}}}function Yae(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mB(t,e):!1}function xl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function RO(){return{animate:xl(!0),whileInView:xl(),whileHover:xl(),whileTap:xl(),whileDrag:xl(),whileFocus:xl(),exit:xl()}}class cl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Xae extends cl{constructor(t){super(t),t.animationState||(t.animationState=Kae(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();U0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Jae=0;class Qae extends cl{constructor(){super(...arguments),this.id=Jae++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Zae={animation:{Feature:Xae},exit:{Feature:Qae}};function ym(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Fp(e){return{point:{x:e.pageX,y:e.pageY}}}const eie=e=>t=>xk(t)&&e(t,Fp(t));function _h(e,t,n,r){return ym(e,t,eie(n),r)}const $O=(e,t)=>Math.abs(e-t);function tie(e,t){const n=$O(e.x,t.x),r=$O(e.y,t.y);return Math.sqrt(n**2+r**2)}class n6{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Rj(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=tie(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:g}=f,{timestamp:p}=Hn;this.history.push({...g,timestamp:p});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Mj(h,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Rj(f.type==="pointercancel"?this.lastMoveEventInfo:Mj(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),g&&g(f,y)},!xk(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Fp(t),l=Mj(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Hn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Rj(l,this.history)),this.removeListeners=Lp(_h(this.contextWindow,"pointermove",this.handlePointerMove),_h(this.contextWindow,"pointerup",this.handlePointerUp),_h(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ho(this.updatePoint)}}function Mj(e,t){return t?{point:t(e.point)}:e}function LO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Rj({point:e},t){return{point:e,delta:LO(e,r6(t)),offset:LO(e,nie(t)),velocity:rie(t,.1)}}function nie(e){return e[0]}function r6(e){return e[e.length-1]}function rie(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=r6(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ci(t)));)n--;if(!r)return{x:0,y:0};const a=Ei(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const s6=1e-4,sie=1-s6,aie=1+s6,a6=.01,iie=0-a6,oie=0+a6;function ys(e){return e.max-e.min}function lie(e,t,n){return Math.abs(e-t)<=n}function FO(e,t,n,r=.5){e.origin=r,e.originPoint=Gt(t.min,t.max,e.origin),e.scale=ys(n)/ys(t),e.translate=Gt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=sie&&e.scale<=aie||isNaN(e.scale))&&(e.scale=1),(e.translate>=iie&&e.translate<=oie||isNaN(e.translate))&&(e.translate=0)}function Ch(e,t,n,r){FO(e.x,t.x,n.x,r?r.originX:void 0),FO(e.y,t.y,n.y,r?r.originY:void 0)}function BO(e,t,n){e.min=n.min+t.min,e.max=e.min+ys(t)}function cie(e,t,n){BO(e.x,t.x,n.x),BO(e.y,t.y,n.y)}function zO(e,t,n){e.min=t.min-n.min,e.max=e.min+ys(t)}function Eh(e,t,n){zO(e.x,t.x,n.x),zO(e.y,t.y,n.y)}function uie(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Gt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Gt(n,e,r.max):Math.min(e,n)),e}function WO(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function die(e,{top:t,left:n,bottom:r,right:s}){return{x:WO(e.x,n,s),y:WO(e.y,t,r)}}function VO(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function fie(e,t){return{x:VO(e.x,t.x),y:VO(e.y,t.y)}}function hie(e,t){let n=.5;const r=ys(e),s=ys(t);return s>r?n=sd(t.min,t.max-r,e.min):r>s&&(n=sd(e.min,e.max-s,t.min)),$i(0,1,n)}function mie(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const SN=.35;function pie(e=SN){return e===!1?e=0:e===!0&&(e=SN),{x:UO(e,"left","right"),y:UO(e,"top","bottom")}}function UO(e,t,n){return{min:qO(e,t),max:qO(e,n)}}function qO(e,t){return typeof e=="number"?e:e[t]||0}const HO=()=>({translate:0,scale:1,origin:0,originPoint:0}),xu=()=>({x:HO(),y:HO()}),GO=()=>({min:0,max:0}),en=()=>({x:GO(),y:GO()});function Ts(e){return[e("x"),e("y")]}function i6({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function gie({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function vie(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function $j(e){return e===void 0||e===1}function NN({scale:e,scaleX:t,scaleY:n}){return!$j(e)||!$j(t)||!$j(n)}function kl(e){return NN(e)||o6(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function o6(e){return KO(e.x)||KO(e.y)}function KO(e){return e&&e!=="0%"}function Dy(e,t,n){const r=e-n,s=t*r;return n+s}function YO(e,t,n,r,s){return s!==void 0&&(e=Dy(e,s,r)),Dy(e,n,r)+t}function _N(e,t=0,n=1,r,s){e.min=YO(e.min,t,n,r,s),e.max=YO(e.max,t,n,r,s)}function l6(e,{x:t,y:n}){_N(e.x,t.translate,t.scale,t.originPoint),_N(e.y,n.translate,n.scale,n.originPoint)}const XO=.999999999999,JO=1.0000000000001;function yie(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,o;for(let l=0;l<s;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&bu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,l6(e,o)),r&&kl(a.latestValues)&&bu(e,a.latestValues))}t.x<JO&&t.x>XO&&(t.x=1),t.y<JO&&t.y>XO&&(t.y=1)}function wu(e,t){e.min=e.min+t,e.max=e.max+t}function QO(e,t,n,r,s=.5){const a=Gt(e.min,e.max,s);_N(e,t,n,a,r)}function bu(e,t){QO(e.x,t.x,t.scaleX,t.scale,t.originX),QO(e.y,t.y,t.scaleY,t.scale,t.originY)}function c6(e,t){return i6(vie(e.getBoundingClientRect(),t))}function xie(e,t,n){const r=c6(e,n),{scroll:s}=t;return s&&(wu(r.x,s.offset.x),wu(r.y,s.offset.y)),r}const u6=({current:e})=>e?e.ownerDocument.defaultView:null,wie=new WeakMap;class bie{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=en(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Fp(d).point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:g}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mse(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ts(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Ua.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const j=b.layout.layoutBox[y];j&&(x=ys(j)*(parseFloat(x)/100))}}this.originPoint[y]=x}),g&&Ft.postRender(()=>g(d,f)),pN(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:p}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=jie(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),p&&p(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Ts(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new n6(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:u6(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ft.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Wg(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=uie(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&vu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=die(s.layoutBox,n):this.constraints=!1,this.elastic=pie(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ts(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=mie(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!vu(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=xie(r,s.root,this.visualElement.getTransformPagePoint());let o=fie(s.layout.layoutBox,a);if(n){const l=n(gie(o));this.hasMutatedConstraints=!!l,l&&(o=i6(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ts(d=>{if(!Wg(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return pN(this.visualElement,t),r.start(Tk(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ts(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ts(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ts(n=>{const{drag:r}=this.getProps();if(!Wg(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];a.set(t[n]-Gt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!vu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ts(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=hie({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ts(o=>{if(!Wg(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Gt(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;wie.set(this.visualElement,this);const t=this.visualElement.current,n=_h(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();vu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ft.read(r);const o=ym(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ts(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=SN,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Wg(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function jie(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Sie extends cl{constructor(t){super(t),this.removeGroupControls=us,this.removeListeners=us,this.controls=new bie(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||us}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZO=e=>(t,n)=>{e&&Ft.postRender(()=>e(t,n))};class Nie extends cl{constructor(){super(...arguments),this.removePointerDownListener=us}onPointerDown(t){this.session=new n6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:u6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:ZO(t),onStart:ZO(n),onMove:r,onEnd:(a,o)=>{delete this.session,s&&Ft.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=_h(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Pf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Le.test(e))e=parseFloat(e);else return e;const n=eI(e,t.target.x),r=eI(e,t.target.y);return`${n}% ${r}%`}},_ie={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Go.parse(e);if(s.length>5)return r;const a=Go.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=Gt(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}};class Cie extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=t;Gre(Eie),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Bv.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Ft.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ik.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function d6(e){const[t,n]=KF(),r=v.useContext(QE);return i.jsx(Cie,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(tB),isPresent:t,safeToRemove:n})}const Eie={borderRadius:{...Pf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pf,borderTopRightRadius:Pf,borderBottomLeftRadius:Pf,borderBottomRightRadius:Pf,boxShadow:_ie};function kie(e,t,n){const r=hr(e)?e:gm(e);return r.start(Tk("",r,t,n)),r.animation}function Aie(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Pie=(e,t)=>e.depth-t.depth;class Tie{constructor(){this.children=[],this.isDirty=!1}add(t){wk(this.children,t),this.isDirty=!0}remove(t){bk(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Pie),this.isDirty=!1,this.children.forEach(t)}}function Oie(e,t){const n=qa.now(),r=({timestamp:s})=>{const a=s-n;a>=t&&(Ho(r),e(a-t))};return Ft.read(r,!0),()=>Ho(r)}const f6=["TopLeft","TopRight","BottomLeft","BottomRight"],Iie=f6.length,tI=e=>typeof e=="string"?parseFloat(e):e,nI=e=>typeof e=="number"||Le.test(e);function Die(e,t,n,r,s,a){s?(e.opacity=Gt(0,n.opacity!==void 0?n.opacity:1,Mie(r)),e.opacityExit=Gt(t.opacity!==void 0?t.opacity:1,0,Rie(r))):a&&(e.opacity=Gt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Iie;o++){const l=`border${f6[o]}Radius`;let c=rI(t,l),u=rI(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||nI(c)===nI(u)?(e[l]=Math.max(Gt(tI(c),tI(u),r),0),(Ua.test(u)||Ua.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Gt(t.rotate||0,n.rotate||0,r))}function rI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Mie=h6(0,.5,TB),Rie=h6(.5,.95,us);function h6(e,t,n){return r=>r<e?0:r>t?1:n(sd(e,t,r))}function sI(e,t){e.min=t.min,e.max=t.max}function Cs(e,t){sI(e.x,t.x),sI(e.y,t.y)}function aI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function iI(e,t,n,r,s){return e-=t,e=Dy(e,1/n,r),s!==void 0&&(e=Dy(e,1/s,r)),e}function $ie(e,t=0,n=1,r=.5,s,a=e,o=e){if(Ua.test(t)&&(t=parseFloat(t),t=Gt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Gt(a.min,a.max,r);e===a&&(l-=t),e.min=iI(e.min,t,n,l,s),e.max=iI(e.max,t,n,l,s)}function oI(e,t,[n,r,s],a,o){$ie(e,t[n],t[r],t[s],t.scale,a,o)}const Lie=["x","scaleX","originX"],Fie=["y","scaleY","originY"];function lI(e,t,n,r){oI(e.x,t,Lie,n?n.x:void 0,r?r.x:void 0),oI(e.y,t,Fie,n?n.y:void 0,r?r.y:void 0)}function cI(e){return e.translate===0&&e.scale===1}function m6(e){return cI(e.x)&&cI(e.y)}function uI(e,t){return e.min===t.min&&e.max===t.max}function Bie(e,t){return uI(e.x,t.x)&&uI(e.y,t.y)}function dI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function p6(e,t){return dI(e.x,t.x)&&dI(e.y,t.y)}function fI(e){return ys(e.x)/ys(e.y)}function hI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class zie{constructor(){this.members=[]}add(t){wk(this.members,t),t.scheduleRender()}remove(t){if(bk(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Wie(e,t,n){let r="";const s=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||a||o)&&(r=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Al={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},sh=typeof window<"u"&&window.MotionDebug!==void 0,Lj=["","X","Y","Z"],Vie={visibility:"hidden"},mI=1e3;let Uie=0;function Fj(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function g6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=NB(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ft,!(s||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&g6(r)}function v6({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Uie++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sh&&(Al.totalNodes=Al.resolvedTargetDeltas=Al.recalculatedProjection=0),this.nodes.forEach(Gie),this.nodes.forEach(Qie),this.nodes.forEach(Zie),this.nodes.forEach(Kie),sh&&window.MotionDebug.record(Al)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tie)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new jk),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Aie(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Oie(h,250),Bv.hasAnimatedSinceResize&&(Bv.hasAnimatedSinceResize=!1,this.nodes.forEach(gI))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||soe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!p6(this.targetLayout,g)||m,j=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,j);const w={...gk(p,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||gI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ho(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eoe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&g6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pI);return}this.isUpdating||this.nodes.forEach(Xie),this.isUpdating=!1,this.nodes.forEach(Jie),this.nodes.forEach(qie),this.nodes.forEach(Hie),this.clearAllSnapshots();const l=qa.now();Hn.delta=$i(0,1e3/60,l-Hn.timestamp),Hn.timestamp=l,Hn.isProcessing=!0,Aj.update.process(Hn),Aj.preRender.process(Hn),Aj.render.process(Hn),Hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ik.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Yie),this.sharedNodes.forEach(toe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=en(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!m6(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||kl(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),aoe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return en();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(ioe))){const{scroll:d}=this.root;d&&(wu(c.x,d.offset.x),wu(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=en();if(Cs(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Cs(c,o),wu(c.x,f.offset.x),wu(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=en();Cs(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&bu(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),kl(d.latestValues)&&bu(c,d.latestValues)}return kl(this.latestValues)&&bu(c,this.latestValues),c}removeTransform(o){const l=en();Cs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!kl(u.latestValues))continue;NN(u.latestValues)&&u.updateSnapshot();const d=en(),f=u.measurePageBox();Cs(d,f),lI(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return kl(this.latestValues)&&lI(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Hn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),Eh(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=en(),this.targetWithTransforms=en()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cie(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cs(this.target,this.layout.layoutBox),l6(this.target,this.targetDelta)):Cs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),Eh(this.relativeTargetOrigin,this.target,m.target),Cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sh&&Al.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||NN(this.parent.latestValues)||o6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Hn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Cs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;yie(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=en());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aI(this.prevProjectionDelta.x,this.projectionDelta.x),aI(this.prevProjectionDelta.y,this.projectionDelta.y)),Ch(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!hI(this.projectionDelta.x,this.prevProjectionDelta.x)||!hI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),sh&&Al.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xu(),this.projectionDelta=xu(),this.projectionDeltaWithTransform=xu()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=xu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=en(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=m!==g,y=this.getStack(),x=!y||y.members.length<=1,b=!!(p&&!x&&this.options.crossfade===!0&&!this.path.some(roe));this.animationProgress=0;let j;this.mixTargetDelta=w=>{const S=w/1e3;vI(f.x,o.x,S),vI(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eh(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),noe(this.relativeTarget,this.relativeTargetOrigin,h,S),j&&Bie(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=en()),Cs(j,this.relativeTarget)),p&&(this.animationValues=d,Die(d,u,this.latestValues,S,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ho(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{Bv.hasAnimatedSinceResize=!0,this.currentAnimation=kie(0,mI,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&y6(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||en();const f=ys(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=ys(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Cs(l,c),bu(l,d),Ch(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zie),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Fj("z",o,u,this.animationValues);for(let d=0;d<Lj.length;d++)Fj(`rotate${Lj[d]}`,o,u,this.animationValues),Fj(`skew${Lj[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Vie;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Lv(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Lv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!kl(this.latestValues)&&(p.transform=d?d({},""):"none",this.hasProjected=!1),p}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Wie(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const p in Ay){if(h[p]===void 0)continue;const{correct:y,applyTo:x}=Ay[p],b=u.transform==="none"?h[p]:y(h[p],f);if(x){const j=x.length;for(let w=0;w<j;w++)u[x[w]]=b}else u[p]=b}return this.options.layoutId&&(u.pointerEvents=f===this?Lv(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(pI),this.root.sharedNodes.clear()}}}function qie(e){e.updateLayout()}function Hie(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?Ts(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=ys(h);h.min=r[f].min,h.max=h.min+m}):y6(a,n.layoutBox,r)&&Ts(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=ys(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=xu();Ch(l,r,n.layoutBox);const c=xu();o?Ch(c,e.applyTransform(s,!0),n.measuredBox):Ch(c,r,n.layoutBox);const u=!m6(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=en();Eh(g,n.layoutBox,h.layoutBox);const p=en();Eh(p,r,m.layoutBox),p6(g,p)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Gie(e){sh&&Al.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Kie(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Yie(e){e.clearSnapshot()}function pI(e){e.clearMeasurements()}function Xie(e){e.isLayoutDirty=!1}function Jie(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function gI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Qie(e){e.resolveTargetDelta()}function Zie(e){e.calcProjection()}function eoe(e){e.resetSkewAndRotation()}function toe(e){e.removeLeadSnapshot()}function vI(e,t,n){e.translate=Gt(t.translate,0,n),e.scale=Gt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function yI(e,t,n,r){e.min=Gt(t.min,n.min,r),e.max=Gt(t.max,n.max,r)}function noe(e,t,n,r){yI(e.x,t.x,n.x,r),yI(e.y,t.y,n.y,r)}function roe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const soe={duration:.45,ease:[.4,0,.1,1]},xI=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),wI=xI("applewebkit/")&&!xI("chrome/")?Math.round:us;function bI(e){e.min=wI(e.min),e.max=wI(e.max)}function aoe(e){bI(e.x),bI(e.y)}function y6(e,t,n){return e==="position"||e==="preserve-aspect"&&!lie(fI(t),fI(n),.2)}function ioe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const ooe=v6({attachResizeListener:(e,t)=>ym(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bj={current:void 0},x6=v6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Bj.current){const e=new ooe({});e.mount(window),e.setOptions({layoutScroll:!0}),Bj.current=e}return Bj.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),loe={pan:{Feature:Nie},drag:{Feature:Sie,ProjectionNode:x6,MeasureLayout:d6}};function jI(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&Ft.postRender(()=>a(t,Fp(t)))}class coe extends cl{mount(){const{current:t}=this.node;t&&(this.unmount=cse(t,n=>(jI(this.node,n,"Start"),r=>jI(this.node,r,"End"))))}unmount(){}}class uoe extends cl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lp(ym(this.node.current,"focus",()=>this.onFocus()),ym(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function SI(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&Ft.postRender(()=>a(t,Fp(t)))}class doe extends cl{mount(){const{current:t}=this.node;t&&(this.unmount=hse(t,n=>(SI(this.node,n,"Start"),(r,{success:s})=>SI(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const CN=new WeakMap,zj=new WeakMap,foe=e=>{const t=CN.get(e.target);t&&t(e)},hoe=e=>{e.forEach(foe)};function moe({root:e,...t}){const n=e||document;zj.has(n)||zj.set(n,{});const r=zj.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(hoe,{root:e,...t})),r[s]}function poe(e,t,n){const r=moe(t);return CN.set(e,n),r.observe(e),()=>{CN.delete(e),r.unobserve(e)}}const goe={some:0,all:1};class voe extends cl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:goe[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return poe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(yoe(t,n))&&this.startObserver()}unmount(){}}function yoe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const xoe={inView:{Feature:voe},tap:{Feature:doe},focus:{Feature:uoe},hover:{Feature:coe}},woe={layout:{ProjectionNode:x6,MeasureLayout:d6}},EN={current:null},w6={current:!1};function boe(){if(w6.current=!0,!!tk)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>EN.current=e.matches;e.addListener(t),t()}else EN.current=!1}const joe=[...qB,or,Go],Soe=e=>joe.find(UB(e)),NI=new WeakMap;function Noe(e,t,n){for(const r in t){const s=t[r],a=n[r];if(hr(s))e.addValue(r,s);else if(hr(a))e.addValue(r,gm(s,{owner:e}));else if(a!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,gm(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const _I=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _oe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=qa.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ft.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=q0(n),this.isVariantNode=ZF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const g=h[m];c[m]!==void 0&&hr(g)&&g.set(c[m],!1)}}mount(t){this.current=t,NI.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),w6.current||boe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:EN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){NI.delete(this.current),this.projection&&this.projection.unmount(),Ho(this.notifyUpdate),Ho(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ec.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ad){const n=ad[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):en()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<_I.length;r++){const s=_I[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Noe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=gm(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(WB(s)||IB(s))?s=parseFloat(s):!Soe(s)&&Go.test(n)&&(s=FB(t,n)),this.setBaseTarget(t,hr(s)?s.get():s)),hr(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=lk(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!hr(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new jk),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class b6 extends _oe{constructor(){super(...arguments),this.KeyframeResolver=HB}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Coe(e){return window.getComputedStyle(e)}class Eoe extends b6{constructor(){super(...arguments),this.type="html",this.renderInstance=lB}readValueFromInstance(t,n){if(Ec.has(n)){const r=Ek(n);return r&&r.default||0}else{const r=Coe(t),s=(aB(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return c6(t,n)}build(t,n,r){dk(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return pk(t,n,r)}}class koe extends b6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=en}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ec.has(n)){const r=Ek(n);return r&&r.default||0}return n=cB.has(n)?n:ak(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return fB(t,n,r)}build(t,n,r){fk(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){uB(t,n,r,s)}mount(t){this.isSVGTag=mk(t.tagName),super.mount(t)}}const Aoe=(e,t)=>ok(e)?new koe(t):new Eoe(t,{allowProjection:e!==v.Fragment}),Poe=nse({...Zae,...xoe,...loe,...woe},Aoe),Nt=vre(Poe);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),j6=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ooe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...Ooe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:j6("lucide",s),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(e,t)=>{const n=v.forwardRef(({className:r,...s},a)=>v.createElement(Ioe,{ref:a,iconNode:t,className:j6(`lucide-${Toe(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=ue("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=ue("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=ue("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=ue("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=ue("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=ue("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=ue("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ue("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=ue("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=ue("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=ue("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=ue("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=ue("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=ue("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=ue("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=ue("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ue("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=ue("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=ue("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=ue("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=ue("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=ue("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=ue("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=ue("FolderSync",[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v.5",key:"1dkoa9"}],["path",{d:"M12 10v4h4",key:"1czhmt"}],["path",{d:"m12 14 1.535-1.605a5 5 0 0 1 8 1.5",key:"lvuxfi"}],["path",{d:"M22 22v-4h-4",key:"1ewp4q"}],["path",{d:"m22 18-1.535 1.605a5 5 0 0 1-8-1.5",key:"14ync0"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=ue("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=ue("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=ue("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=ue("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=ue("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=ue("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=ue("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=ue("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=ue("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=ue("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=ue("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=ue("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ele=ue("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=ue("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=ue("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=ue("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=ue("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=ue("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=ue("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=ue("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=ue("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=ue("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=ue("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=ue("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=ue("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=ue("SquareCheck",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ile=ue("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=ue("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=ue("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=ue("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ue("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=ue("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=ue("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=ue("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=ue("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=ue("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=ue("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ue("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function dle(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Z0(...e){return t=>e.forEach(n=>dle(n,t))}function ze(...e){return v.useCallback(Z0(...e),e)}var Fi=v.forwardRef((e,t)=>{const{children:n,...r}=e,s=v.Children.toArray(n),a=s.find(fle);if(a){const o=a.props.children,l=s.map(c=>c===a?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return i.jsx(IN,{...r,ref:t,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return i.jsx(IN,{...r,ref:t,children:n})});Fi.displayName="Slot";var IN=v.forwardRef((e,t)=>{const{children:n,...r}=e;if(v.isValidElement(n)){const s=mle(n);return v.cloneElement(n,{...hle(r,n.props),ref:t?Z0(t,s):s})}return v.Children.count(n)>1?v.Children.only(null):null});IN.displayName="SlotClone";var $k=({children:e})=>i.jsx(i.Fragment,{children:e});function fle(e){return v.isValidElement(e)&&e.type===$k}function hle(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function mle(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function I6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=I6(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ple(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=I6(e))&&(r&&(r+=" "),r+=t);return r}const PI=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,TI=ple,ew=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return TI(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const h=PI(d)||PI(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,y]=g;return Array.isArray(y)?y.includes({...a,...l}[p]):{...a,...l}[p]===y})?[...u,f,h]:u},[]);return TI(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};function D6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=D6(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=D6(e))&&(r&&(r+=" "),r+=t);return r}const Lk="-",gle=e=>{const t=yle(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(Lk);return l[0]===""&&l.length!==1&&l.shift(),M6(l,t)||vle(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},M6=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?M6(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Lk);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},OI=/^\[(.+)\]$/,vle=e=>{if(OI.test(e)){const t=OI.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},yle=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return wle(Object.entries(e.classGroups),n).forEach(([a,o])=>{DN(o,r,a,t)}),r},DN=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:II(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(xle(s)){DN(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{DN(o,II(t,a),n,r)})})},II=(e,t)=>{let n=e;return t.split(Lk).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},xle=e=>e.isThemeGetter,wle=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,s]}):e,ble=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},R6="!",jle=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let x=l[y];if(u===0){if(x===s&&(r||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(x==="/"){f=y;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(R6),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},Sle=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Nle=e=>({cache:ble(e.cacheSize),parseClassName:jle(e),...gle(e)}),_le=/\s+/,Cle=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(_le);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let g=!!m,p=r(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=r(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const y=Sle(d).join(":"),x=f?y+R6:y,b=x+p;if(a.includes(b))continue;a.push(b);const j=s(p,g);for(let w=0;w<j.length;++w){const S=j[w];a.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function Ele(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=$6(t))&&(r&&(r+=" "),r+=n);return r}const $6=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=$6(e[r]))&&(n&&(n+=" "),n+=t);return n};function kle(e,...t){let n,r,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=Nle(u),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=Cle(c,n);return s(c,d),d}return function(){return a(Ele.apply(null,arguments))}}const Dt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},L6=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ale=/^\d+\/\d+$/,Ple=new Set(["px","full","screen"]),Tle=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ole=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ile=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Dle=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mle=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ui=e=>Ru(e)||Ple.has(e)||Ale.test(e),so=e=>Yd(e,"length",Vle),Ru=e=>!!e&&!Number.isNaN(Number(e)),Uj=e=>Yd(e,"number",Ru),Tf=e=>!!e&&Number.isInteger(Number(e)),Rle=e=>e.endsWith("%")&&Ru(e.slice(0,-1)),Ge=e=>L6.test(e),ao=e=>Tle.test(e),$le=new Set(["length","size","percentage"]),Lle=e=>Yd(e,$le,F6),Fle=e=>Yd(e,"position",F6),Ble=new Set(["image","url"]),zle=e=>Yd(e,Ble,qle),Wle=e=>Yd(e,"",Ule),Of=()=>!0,Yd=(e,t,n)=>{const r=L6.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Vle=e=>Ole.test(e)&&!Ile.test(e),F6=()=>!1,Ule=e=>Dle.test(e),qle=e=>Mle.test(e),Hle=()=>{const e=Dt("colors"),t=Dt("spacing"),n=Dt("blur"),r=Dt("brightness"),s=Dt("borderColor"),a=Dt("borderRadius"),o=Dt("borderSpacing"),l=Dt("borderWidth"),c=Dt("contrast"),u=Dt("grayscale"),d=Dt("hueRotate"),f=Dt("invert"),h=Dt("gap"),m=Dt("gradientColorStops"),g=Dt("gradientColorStopPositions"),p=Dt("inset"),y=Dt("margin"),x=Dt("opacity"),b=Dt("padding"),j=Dt("saturate"),w=Dt("scale"),S=Dt("sepia"),N=Dt("skew"),C=Dt("space"),_=Dt("translate"),k=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Ge,t],D=()=>[Ge,t],F=()=>["",ui,so],E=()=>["auto",Ru,Ge],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Ge],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Ru,Ge];return{cacheSize:500,separator:":",theme:{colors:[Of],spacing:[ui,so],blur:["none","",ao,Ge],brightness:z(),borderColor:[e],borderRadius:["none","","full",ao,Ge],borderSpacing:D(),borderWidth:F(),contrast:z(),grayscale:M(),hueRotate:z(),invert:M(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[Rle,so],inset:T(),margin:T(),opacity:z(),padding:D(),saturate:z(),scale:z(),sepia:M(),skew:z(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[ao]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Ge]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tf,Ge]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Tf,Ge]}],"grid-cols":[{"grid-cols":[Of]}],"col-start-end":[{col:["auto",{span:["full",Tf,Ge]},Ge]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[Of]}],"row-start-end":[{row:["auto",{span:[Tf,Ge]},Ge]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,t]}],"min-w":[{"min-w":[Ge,t,"min","max","fit"]}],"max-w":[{"max-w":[Ge,t,"none","full","min","max","fit","prose",{screen:[ao]},ao]}],h:[{h:[Ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ao,so]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Uj]}],"font-family":[{font:[Of]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",Ru,Uj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ui,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ui,so]}],"underline-offset":[{"underline-offset":["auto",ui,Ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),Fle]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Lle]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zle]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[ui,Ge]}],"outline-w":[{outline:[ui,so]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ui,so]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ao,Wle]}],"shadow-color":[{shadow:[Of]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ao,Ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Tf,Ge]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ui,so,Uj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Gle=kle(Hle);function ve(...e){return Gle(Ye(e))}const Fk=ew("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-green-600 text-white hover:bg-green-700",warning:"bg-amber-500 text-white hover:bg-amber-600",info:"bg-blue-500 text-white hover:bg-blue-600"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10","icon-sm":"h-8 w-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),B=v.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const o=r?Fi:"button";return i.jsx(o,{className:ve(Fk({variant:t,size:n,className:e})),ref:a,...s})});B.displayName="Button";const ie=v.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:ve("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));ie.displayName="Input";var Kle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Me=Kle.reduce((e,t)=>{const n=v.forwardRef((r,s)=>{const{asChild:a,...o}=r,l=a?Fi:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function B6(e,t){e&&ni.flushSync(()=>e.dispatchEvent(t))}var Yle="Label",z6=v.forwardRef((e,t)=>i.jsx(Me.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));z6.displayName=Yle;var W6=z6;const Xle=ew("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Y=v.forwardRef(({className:e,...t},n)=>i.jsx(W6,{ref:n,className:ve(Xle(),e),...t}));Y.displayName=W6.displayName;function Jle({onSubmit:e,loading:t}){const[n,r]=v.useState(""),[s,a]=v.useState(""),o=async l=>{l.preventDefault(),await e(n,s)};return i.jsxs("form",{onSubmit:o,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"email",children:"Email"}),i.jsx(ie,{id:"email",type:"email",placeholder:"seu@email.com",value:n,onChange:l=>r(l.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"password",children:"Senha"}),i.jsx(ie,{id:"password",type:"password",placeholder:"Sua senha",value:s,onChange:l=>a(l.target.value),required:!0})]}),i.jsx(B,{type:"submit",className:"w-full",disabled:t,children:t?"Entrando...":"Entrar"})]})}const re=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ve("rounded-xl border bg-card text-card-foreground shadow-sm",e),...t}));re.displayName="Card";const pe=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ve("flex flex-col space-y-1.5 p-6",e),...t}));pe.displayName="CardHeader";const ge=v.forwardRef(({className:e,...t},n)=>i.jsx("h3",{ref:n,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));ge.displayName="CardTitle";const Ve=v.forwardRef(({className:e,...t},n)=>i.jsx("p",{ref:n,className:ve("text-sm text-muted-foreground",e),...t}));Ve.displayName="CardDescription";const se=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ve("p-6 pt-0",e),...t}));se.displayName="CardContent";const $u=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ve("flex items-center p-6 pt-0",e),...t}));$u.displayName="CardFooter";function ye(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Qle(e,t){const n=v.createContext(t),r=a=>{const{children:o,...l}=a,c=v.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(a){const o=v.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function Ss(e,t=[]){let n=[];function r(a,o){const l=v.createContext(o),c=n.length;n=[...n,o];const u=f=>{var x;const{scope:h,children:m,...g}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=v.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:y,children:m})};u.displayName=a+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Zle(s,...t)]}function Zle(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function ece(e,t=[]){let n=[];function r(a,o){const l=v.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:h,children:m,...g}=f,p=(h==null?void 0:h[e][c])||l,y=v.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:y,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,tce(s,...t)]}function tce(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function tw(e){const t=e+"CollectionProvider",[n,r]=ece(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:p}=m,y=P.useRef(null),x=P.useRef(new Map).current;return i.jsx(s,{scope:g,itemMap:x,collectionRef:y,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=P.forwardRef((m,g)=>{const{scope:p,children:y}=m,x=a(l,p),b=ze(g,x.collectionRef);return i.jsx(Fi,{ref:b,children:y})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=P.forwardRef((m,g)=>{const{scope:p,children:y,...x}=m,b=P.useRef(null),j=ze(g,b),w=a(u,p);return P.useEffect(()=>(w.itemMap.set(b,{ref:b,...x}),()=>void w.itemMap.delete(b))),i.jsx(Fi,{[d]:"",ref:j,children:y})});f.displayName=u;function h(m){const g=a(e+"CollectionConsumer",m);return P.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((w,S)=>x.indexOf(w.ref.current)-x.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,r]}function nce(e,t=[]){let n=[];function r(a,o){const l=v.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:h,children:m,...g}=f,p=(h==null?void 0:h[e][c])||l,y=v.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:y,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,rce(s,...t)]}function rce(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Mn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},sce=m0.useId||(()=>{}),ace=0;function Vs(e){const[t,n]=v.useState(sce());return Mn(()=>{e||n(r=>r??String(ace++))},[e]),e||(t?`radix-${t}`:"")}function hn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Na({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=ice({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,l=hn(n),c=v.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[o,c]}function ice({defaultProp:e,onChange:t}){const n=v.useState(e),[r]=n,s=v.useRef(r),a=hn(t);return v.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var oce=v.createContext(void 0);function Xd(e){const t=v.useContext(oce);return e||t||"ltr"}var qj="rovingFocusGroup.onEntryFocus",lce={bubbles:!1,cancelable:!0},nw="RovingFocusGroup",[MN,V6,cce]=tw(nw),[uce,rw]=nce(nw,[cce]),[dce,fce]=uce(nw),U6=v.forwardRef((e,t)=>i.jsx(MN.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(MN.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(hce,{...e,ref:t})})}));U6.displayName=nw;var hce=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=v.useRef(null),m=ze(t,h),g=Xd(a),[p=null,y]=Na({prop:o,defaultProp:l,onChange:c}),[x,b]=v.useState(!1),j=hn(u),w=V6(n),S=v.useRef(!1),[N,C]=v.useState(0);return v.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(qj,j),()=>_.removeEventListener(qj,j)},[j]),i.jsx(dce,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:p,onItemFocus:v.useCallback(_=>y(_),[y]),onItemShiftTab:v.useCallback(()=>b(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:v.useCallback(()=>C(_=>_-1),[]),children:i.jsx(Me.div,{tabIndex:x||N===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ye(e.onMouseDown,()=>{S.current=!0}),onFocus:ye(e.onFocus,_=>{const k=!S.current;if(_.target===_.currentTarget&&k&&!x){const A=new CustomEvent(qj,lce);if(_.currentTarget.dispatchEvent(A),!A.defaultPrevented){const T=w().filter(O=>O.focusable),D=T.find(O=>O.active),F=T.find(O=>O.id===p),$=[D,F,...T].filter(Boolean).map(O=>O.ref.current);G6($,d)}}S.current=!1}),onBlur:ye(e.onBlur,()=>b(!1))})})}),q6="RovingFocusGroupItem",H6=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...o}=e,l=Vs(),c=a||l,u=fce(q6,n),d=u.currentTabStopId===c,f=V6(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return v.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),i.jsx(MN.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:i.jsx(Me.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:ye(e.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:ye(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:ye(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=gce(g,u.orientation,u.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=f().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")x.reverse();else if(p==="prev"||p==="next"){p==="prev"&&x.reverse();const b=x.indexOf(g.currentTarget);x=u.loop?vce(x,b+1):x.slice(b+1)}setTimeout(()=>G6(x))}})})})});H6.displayName=q6;var mce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pce(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function gce(e,t,n){const r=pce(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return mce[r]}function G6(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function vce(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var K6=U6,Y6=H6;function yce(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var Zn=e=>{const{present:t,children:n}=e,r=xce(t),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),a=ze(r.ref,wce(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:a}):null};Zn.displayName="Presence";function xce(e){const[t,n]=v.useState(),r=v.useRef({}),s=v.useRef(e),a=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=yce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Vg(r.current);a.current=l==="mounted"?u:"none"},[l]),Mn(()=>{const u=r.current,d=s.current;if(d!==e){const h=a.current,m=Vg(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Mn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Vg(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(a.current=Vg(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Vg(e){return(e==null?void 0:e.animationName)||"none"}function wce(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Bk="Tabs",[bce,TKe]=Ss(Bk,[rw]),X6=rw(),[jce,zk]=bce(Bk),J6=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Xd(l),[f,h]=Na({prop:r,onChange:s,defaultProp:a});return i.jsx(jce,{scope:n,baseId:Vs(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(Me.div,{dir:d,"data-orientation":o,...u,ref:t})})});J6.displayName=Bk;var Q6="TabsList",Z6=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=zk(Q6,n),o=X6(n);return i.jsx(K6,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:i.jsx(Me.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});Z6.displayName=Q6;var ez="TabsTrigger",tz=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,o=zk(ez,n),l=X6(n),c=sz(o.baseId,r),u=az(o.baseId,r),d=r===o.value;return i.jsx(Y6,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:ye(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ye(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ye(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});tz.displayName=ez;var nz="TabsContent",rz=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...o}=e,l=zk(nz,n),c=sz(l.baseId,r),u=az(l.baseId,r),d=r===l.value,f=v.useRef(d);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Zn,{present:s||d,children:({present:h})=>i.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});rz.displayName=nz;function sz(e,t){return`${e}-trigger-${t}`}function az(e,t){return`${e}-content-${t}`}var Sce=J6,iz=Z6,oz=tz,lz=rz;const Qn=Sce,Rn=v.forwardRef(({className:e,...t},n)=>i.jsx(iz,{ref:n,className:ve("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Rn.displayName=iz.displayName;const Fe=v.forwardRef(({className:e,...t},n)=>i.jsx(oz,{ref:n,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Fe.displayName=oz.displayName;const Ue=v.forwardRef(({className:e,...t},n)=>i.jsx(lz,{ref:n,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ue.displayName=lz.displayName;function Nce(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,a]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState(!1),{signIn:d}=ri(),{workspaces:f,fetchWorkspaces:h,setCurrentWorkspace:m}=be(),g=_c(),p=async x=>{if(x.preventDefault(),!e||!n||!s){G.showError(G.createError("Campos Obrigatrios","Por favor, preencha todos os campos para continuar."));return}u(!0);try{await d(n,s),await h();const j=be.getState().workspaces.find(w=>w.slug===e);if(!j){G.showError(G.createError("Workspace No Encontrado","O workspace informado no foi encontrado ou voc no tem acesso a ele. Verifique a URL e tente novamente.")),u(!1);return}m(j),g("/dashboard")}catch{}finally{u(!1)}},y=async(x,b)=>{l(!0);try{await d(x,b),await h();const j=be.getState().workspaces;j.length>0?(m(j[0]),g("/dashboard")):g("/onboarding")}catch{}finally{l(!1)}};return i.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsxs(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OmniCRM"}),i.jsx("p",{className:"text-gray-600",children:"Entre na sua conta"})]}),i.jsx(re,{children:i.jsx(se,{className:"p-6",children:i.jsxs(Qn,{defaultValue:"workspace",className:"w-full",children:[i.jsxs(Rn,{className:"grid w-full grid-cols-2",children:[i.jsx(Fe,{value:"workspace",children:"Workspace"}),i.jsx(Fe,{value:"personal",children:"Pessoal"})]}),i.jsxs(Ue,{value:"workspace",className:"space-y-4 mt-6",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx(Du,{className:"h-8 w-8 mx-auto text-blue-600 mb-2"}),i.jsx("h3",{className:"text-lg font-semibold",children:"Entrar no Workspace"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Entre com a URL do seu workspace"})]}),i.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workspaceSlug",children:"URL do Workspace"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"omnicrm.com/"}),i.jsx(ie,{id:"workspaceSlug",placeholder:"minha-empresa",value:e,onChange:x=>t(x.target.value),required:!0})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workspaceEmail",children:"Email"}),i.jsx(ie,{id:"workspaceEmail",type:"email",placeholder:"seu@email.com",value:n,onChange:x=>r(x.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workspacePassword",children:"Senha"}),i.jsx(ie,{id:"workspacePassword",type:"password",placeholder:"Sua senha",value:s,onChange:x=>a(x.target.value),required:!0})]}),i.jsxs(B,{type:"submit",className:"w-full",disabled:c,children:[c?"Entrando...":"Entrar no Workspace",i.jsx(Xl,{className:"ml-2 h-4 w-4"})]})]})]}),i.jsxs(Ue,{value:"personal",className:"space-y-4 mt-6",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Login Pessoal"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Entre com sua conta pessoal"})]}),i.jsx(Jle,{onSubmit:y,loading:o})]})]})})}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["No tem uma conta?"," ",i.jsx(HE,{to:"/signup",className:"text-blue-600 hover:underline",children:"Criar conta"})]})})]})})})}function _ce({children:e,title:t,description:n}){return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:i.jsxs(re,{className:"w-full max-w-md",children:[i.jsxs(pe,{className:"space-y-1",children:[i.jsx(ge,{className:"text-2xl font-bold text-center",children:t}),i.jsx(Ve,{className:"text-center",children:n})]}),i.jsx(se,{children:e})]})})}function Cce(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,a]=v.useState(""),[o,l]=v.useState(!1),c=ri(f=>f.signUp),u=_c(),d=async f=>{if(f.preventDefault(),n!==s){G.showError(G.createError("Senhas No Coincidem","As senhas digitadas no coincidem. Verifique e tente novamente."));return}if(n.length<6){G.showError(G.createError("Senha Muito Fraca","A senha deve ter pelo menos 6 caracteres."));return}l(!0);try{await c(e,n),u("/dashboard")}catch{}finally{l(!1)}};return i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"email",children:"Email"}),i.jsx(ie,{id:"email",type:"email",placeholder:"Digite seu email",value:e,onChange:f=>t(f.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"password",children:"Senha"}),i.jsx(ie,{id:"password",type:"password",placeholder:"Digite sua senha",value:n,onChange:f=>r(f.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),i.jsx(ie,{id:"confirmPassword",type:"password",placeholder:"Confirme sua senha",value:s,onChange:f=>a(f.target.value),required:!0})]}),i.jsx(B,{type:"submit",className:"w-full",disabled:o,children:o?"Criando conta...":"Criar Conta"})]})}function Ece(){return i.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsxs(_ce,{title:"Create Account",description:"Get started with your CRM dashboard",children:[i.jsx(Cce,{}),i.jsx("div",{className:"mt-4 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",i.jsx(HE,{to:"/login",className:"text-blue-600 hover:underline",children:"Sign in"})]})})]})})})}const kce=ew("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-amber-100 text-amber-800 hover:bg-amber-200",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200"}},defaultVariants:{variant:"default"}});function fe({className:e,variant:t,...n}){return i.jsx("div",{className:ve(kce({variant:t}),e),...n})}const Ace=1,Pce=1e6;let Hj=0;function Tce(){return Hj=(Hj+1)%Number.MAX_SAFE_INTEGER,Hj.toString()}const Gj=new Map,DI=e=>{if(Gj.has(e))return;const t=setTimeout(()=>{Gj.delete(e),Ih({type:"REMOVE_TOAST",toastId:e})},Pce);Gj.set(e,t)},Oce=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Ace)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?DI(n):e.toasts.forEach(r=>{DI(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},zv=[];let Wv={toasts:[]};function Ih(e){Wv=Oce(Wv,e),zv.forEach(t=>{t(Wv)})}function Ice({...e}){const t=Tce(),n=s=>Ih({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Ih({type:"DISMISS_TOAST",toastId:t});return Ih({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Fn(){const[e,t]=v.useState(Wv);return v.useEffect(()=>(zv.push(t),()=>{const n=zv.indexOf(t);n>-1&&zv.splice(n,1)}),[e]),{...e,toast:Ice,dismiss:n=>Ih({type:"DISMISS_TOAST",toastId:n})}}function Dce(){const[e,t]=v.useState(1),[n,r]=v.useState(""),[s,a]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState(!1),{workspaces:d,plans:f,fetchWorkspaces:h,fetchPlans:m,createWorkspace:g,setCurrentWorkspace:p}=be(),{checkWorkspaceUniqueness:y}=be();ri();const x=_c(),{toast:b}=Fn();v.useEffect(()=>{h(),m()},[h,m]);const j=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),w=_=>{p(_),x("/dashboard")},S=async()=>{if(!n||!s){b({title:"Erro",description:"Por favor, preencha todos os campos obrigatrios",variant:"destructive"});return}l(!0);try{const _=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),k=await y(n,_);if(k.nameExists){b({title:"Nome j existe",description:`J existe um workspace com o nome "${n}". Escolha um nome diferente.`,variant:"destructive"}),l(!1);return}if(k.slugExists){b({title:"URL j existe",description:`A URL "${_}" j est em uso. Escolha um nome diferente.`,variant:"destructive"}),l(!1);return}const A=await g({name:n,plan_id:s});p(A),b({title:"Sucesso!",description:"Workspace criado com sucesso!"}),x("/dashboard")}catch(_){b({title:"Erro",description:_.message||"Falha ao criar workspace",variant:"destructive"})}finally{l(!1)}},N=_=>{switch(_.toLowerCase()){case"starter":return Fr;case"pro":return Du;case"enterprise":return ds;default:return Fr}},C=_=>{const k=[];return _.features.whatsapp&&k.push("Integrao WhatsApp"),_.features.all_channels&&k.push("Todos os Canais"),_.features.advanced_crm&&k.push("CRM Avanado"),_.features.rfm_analysis&&k.push("Anlise RFM"),_.features.campaigns&&k.push("Gesto de Campanhas"),_.features.custom_integrations&&k.push("Integraes Personalizadas"),_.features.white_label&&k.push("White Label"),k};return i.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsxs("div",{className:"w-full max-w-4xl",children:[i.jsxs(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Bem-vindo ao OmniCRM"}),i.jsx("p",{className:"text-xl text-gray-600",children:d.length>0&&!c?"Escolha um workspace ou crie um novo":"Vamos configurar seu workspace e comear"})]}),d.length>0&&!c&&i.jsx(Nt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:i.jsxs(re,{className:"max-w-2xl mx-auto",children:[i.jsxs(pe,{children:[i.jsxs(ge,{className:"flex items-center",children:[i.jsx(Du,{className:"mr-2 h-5 w-5"}),"Seus Workspaces"]}),i.jsxs(Ve,{children:["Voc j possui ",d.length," workspace(s). Escolha um para acessar ou crie um novo."]})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsx("div",{className:"space-y-3",children:d.map(_=>{var k;return i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(Du,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900",children:_.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:["omnicrm.com/",_.slug]}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsx(fe,{variant:"outline",className:"text-xs",children:((k=_.plan)==null?void 0:k.name)||"Plano no encontrado"}),i.jsx(fe,{className:"text-xs bg-yellow-100 text-yellow-800",children:"Proprietrio"})]})]})]}),i.jsxs(B,{onClick:()=>w(_),children:[i.jsx(Joe,{className:"h-4 w-4 mr-2"}),"Acessar"]})]},_.id)})}),i.jsx("div",{className:"flex justify-center pt-4 border-t",children:i.jsxs(B,{variant:"outline",onClick:()=>u(!0),children:[i.jsx(nn,{className:"h-4 w-4 mr-2"}),"Criar Novo Workspace"]})})]})]})}),(d.length===0||c)&&e===1&&i.jsxs(Nt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[c&&i.jsx("div",{className:"text-center mb-6",children:i.jsx(B,{variant:"ghost",onClick:()=>u(!1),className:"mb-4",children:" Voltar para meus workspaces"})}),i.jsxs(re,{className:"max-w-md mx-auto",children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Crie Seu Workspace"}),i.jsx(Ve,{children:"Configure o workspace da sua empresa para comear"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workspaceName",children:"Nome do Workspace *"}),i.jsx(ie,{id:"workspaceName",placeholder:"Minha Empresa",value:n,onChange:_=>r(_.target.value)})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workspaceSlug",children:"Preview da URL do Workspace"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"omnicrm.com/"}),i.jsx(ie,{id:"workspaceSlug",placeholder:"minha-empresa",value:j,readOnly:!0,className:"bg-gray-50"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Uma URL nica ser gerada automaticamente para seu workspace"})]}),i.jsxs(B,{onClick:()=>t(2),className:"w-full",disabled:!n,children:["Continuar",i.jsx(Xl,{className:"ml-2 h-4 w-4"})]})]})]})]}),(d.length===0||c)&&e===2&&i.jsxs(Nt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Escolha Seu Plano"}),i.jsx("p",{className:"text-gray-600",children:"Selecione o plano que melhor atende s necessidades do seu negcio"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:f.map(_=>{const k=N(_.name),A=C(_),T=s===_.id;return i.jsxs(re,{className:`cursor-pointer transition-all duration-200 ${T?"ring-2 ring-blue-500 shadow-lg":"hover:shadow-md"}`,onClick:()=>a(_.id),children:[i.jsxs(pe,{className:"text-center",children:[i.jsx("div",{className:"mx-auto mb-4",children:i.jsx(k,{className:`h-12 w-12 ${T?"text-blue-600":"text-gray-400"}`})}),i.jsx(ge,{className:"text-xl",children:_.name}),i.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:["R$",_.price_monthly,i.jsx("span",{className:"text-sm font-normal text-gray-500",children:"/ms"})]})]}),i.jsxs(se,{children:[i.jsx("ul",{className:"space-y-2 mb-6",children:A.slice(0,4).map((D,F)=>i.jsxs("li",{className:"flex items-center text-sm",children:[i.jsx(Ls,{className:"h-4 w-4 text-green-500 mr-2"}),D]},F))}),i.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Canais:"}),i.jsx("span",{children:_.limits.channels===-1?"Ilimitado":_.limits.channels})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Usurios:"}),i.jsx("span",{children:_.limits.users===-1?"Ilimitado":_.limits.users})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Mensagens/ms:"}),i.jsx("span",{children:_.limits.monthly_messages===-1?"Ilimitado":_.limits.monthly_messages.toLocaleString()})]})]}),_.name==="Pro"&&i.jsx(fe,{className:"w-full justify-center mt-4",variant:"secondary",children:"Mais Popular"})]})]},_.id)})}),i.jsxs("div",{className:"flex justify-center space-x-4",children:[i.jsx(B,{variant:"outline",onClick:()=>t(1),children:"Voltar"}),i.jsxs(B,{onClick:S,disabled:!s||o,children:[o?"Criando...":"Criar Workspace",i.jsx(Xl,{className:"ml-2 h-4 w-4"})]})]})]})]})})})}var Wk="Avatar",[Mce,OKe]=Ss(Wk),[Rce,cz]=Mce(Wk),uz=v.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=v.useState("idle");return i.jsx(Rce,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(Me.span,{...r,ref:t})})});uz.displayName=Wk;var dz="AvatarImage",fz=v.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,o=cz(dz,n),l=$ce(r,a.referrerPolicy),c=hn(u=>{s(u),o.onImageLoadingStatusChange(u)});return Mn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(Me.img,{...a,ref:t,src:r}):null});fz.displayName=dz;var hz="AvatarFallback",mz=v.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=cz(hz,n),[o,l]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(Me.span,{...s,ref:t}):null});mz.displayName=hz;function $ce(e,t){const[n,r]=v.useState("idle");return Mn(()=>{if(!e){r("error");return}let s=!0;const a=new window.Image,o=l=>()=>{s&&r(l)};return r("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),n}var pz=uz,gz=fz,vz=mz;const Bi=v.forwardRef(({className:e,...t},n)=>i.jsx(pz,{ref:n,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Bi.displayName=pz.displayName;const Lce=v.forwardRef(({className:e,...t},n)=>i.jsx(gz,{ref:n,className:ve("aspect-square h-full w-full",e),...t}));Lce.displayName=gz.displayName;const zi=v.forwardRef(({className:e,...t},n)=>i.jsx(vz,{ref:n,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));zi.displayName=vz.displayName;function Fce(e,t=globalThis==null?void 0:globalThis.document){const n=hn(e);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Bce="DismissableLayer",RN="dismissableLayer.update",zce="dismissableLayer.pointerDownOutside",Wce="dismissableLayer.focusOutside",MI,yz=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jd=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(yz),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),g=ze(t,C=>f(C)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),b=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=x,S=qce(C=>{const _=C.target,k=[...u.branches].some(A=>A.contains(_));!w||k||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},h),N=Hce(C=>{const _=C.target;[...u.branches].some(A=>A.contains(_))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},h);return Fce(C=>{b===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(MI=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),RI(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=MI)}},[d,h,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),RI())},[d,u]),v.useEffect(()=>{const C=()=>m({});return document.addEventListener(RN,C),()=>document.removeEventListener(RN,C)},[]),i.jsx(Me.div,{...c,ref:g,style:{pointerEvents:j?w?"auto":"none":void 0,...e.style},onFocusCapture:ye(e.onFocusCapture,N.onFocusCapture),onBlurCapture:ye(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ye(e.onPointerDownCapture,S.onPointerDownCapture)})});Jd.displayName=Bce;var Vce="DismissableLayerBranch",Uce=v.forwardRef((e,t)=>{const n=v.useContext(yz),r=v.useRef(null),s=ze(t,r);return v.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(Me.div,{...e,ref:s})});Uce.displayName=Vce;function qce(e,t=globalThis==null?void 0:globalThis.document){const n=hn(e),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){xz(zce,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Hce(e,t=globalThis==null?void 0:globalThis.document){const n=hn(e),r=v.useRef(!1);return v.useEffect(()=>{const s=a=>{a.target&&!r.current&&xz(Wce,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function RI(){const e=new CustomEvent(RN);document.dispatchEvent(e)}function xz(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?B6(s,a):s.dispatchEvent(a)}const Gce=["top","right","bottom","left"],Ko=Math.min,ss=Math.max,Ly=Math.round,Ug=Math.floor,Yo=e=>({x:e,y:e}),Kce={left:"right",right:"left",bottom:"top",top:"bottom"},Yce={start:"end",end:"start"};function $N(e,t,n){return ss(e,Ko(t,n))}function Wi(e,t){return typeof e=="function"?e(t):e}function Vi(e){return e.split("-")[0]}function Qd(e){return e.split("-")[1]}function Vk(e){return e==="x"?"y":"x"}function Uk(e){return e==="y"?"height":"width"}function Xo(e){return["top","bottom"].includes(Vi(e))?"y":"x"}function qk(e){return Vk(Xo(e))}function Xce(e,t,n){n===void 0&&(n=!1);const r=Qd(e),s=qk(e),a=Uk(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Fy(o)),[o,Fy(o)]}function Jce(e){const t=Fy(e);return[LN(e),t,LN(t)]}function LN(e){return e.replace(/start|end/g,t=>Yce[t])}function Qce(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:o;default:return[]}}function Zce(e,t,n,r){const s=Qd(e);let a=Qce(Vi(e),n==="start",r);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(LN)))),a}function Fy(e){return e.replace(/left|right|bottom|top/g,t=>Kce[t])}function eue(e){return{top:0,right:0,bottom:0,left:0,...e}}function wz(e){return typeof e!="number"?eue(e):{top:e,right:e,bottom:e,left:e}}function By(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function $I(e,t,n){let{reference:r,floating:s}=e;const a=Xo(t),o=qk(t),l=Uk(o),c=Vi(t),u=a==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Qd(t)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const tue=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=$I(u,r,c),h=r,m={},g=0;for(let p=0;p<l.length;p++){const{name:y,fn:x}=l[p],{x:b,y:j,data:w,reset:S}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=j??f,m={...m,[y]:{...m[y],...w}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=$I(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function wm(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Wi(t,e),g=wz(m),y=l[h?f==="floating"?"reference":"floating":f],x=By(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),w=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},S=By(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:j,strategy:c}):b);return{top:(x.top-S.top+g.top)/w.y,bottom:(S.bottom-x.bottom+g.bottom)/w.y,left:(x.left-S.left+g.left)/w.x,right:(S.right-x.right+g.right)/w.x}}const nue=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Wi(e,t)||{};if(u==null)return{};const f=wz(d),h={x:n,y:r},m=qk(s),g=Uk(m),p=await o.getDimensions(u),y=m==="y",x=y?"top":"left",b=y?"bottom":"right",j=y?"clientHeight":"clientWidth",w=a.reference[g]+a.reference[m]-h[m]-a.floating[g],S=h[m]-a.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=N?N[j]:0;(!C||!await(o.isElement==null?void 0:o.isElement(N)))&&(C=l.floating[j]||a.floating[g]);const _=w/2-S/2,k=C/2-p[g]/2-1,A=Ko(f[x],k),T=Ko(f[b],k),D=A,F=C-p[g]-T,E=C/2-p[g]/2+_,$=$N(D,E,F),O=!c.arrow&&Qd(s)!=null&&E!==$&&a.reference[g]/2-(E<D?A:T)-p[g]/2<0,R=O?E<D?E-D:E-F:0;return{[m]:h[m]+R,data:{[m]:$,centerOffset:E-$-R,...O&&{alignmentOffset:R}},reset:O}}}),rue=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...y}=Wi(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const x=Vi(s),b=Xo(l),j=Vi(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(j||!p?[Fy(l)]:Jce(l)),N=g!=="none";!h&&N&&S.push(...Zce(l,p,g,w));const C=[l,...S],_=await wm(t,y),k=[];let A=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&k.push(_[x]),f){const E=Xce(s,o,w);k.push(_[E[0]],_[E[1]])}if(A=[...A,{placement:s,overflows:k}],!k.every(E=>E<=0)){var T,D;const E=(((T=a.flip)==null?void 0:T.index)||0)+1,$=C[E];if($)return{data:{index:E,overflows:A},reset:{placement:$}};let O=(D=A.filter(R=>R.overflows[0]<=0).sort((R,I)=>R.overflows[1]-I.overflows[1])[0])==null?void 0:D.placement;if(!O)switch(m){case"bestFit":{var F;const R=(F=A.filter(I=>{if(N){const M=Xo(I.placement);return M===b||M==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(M=>M>0).reduce((M,L)=>M+L,0)]).sort((I,M)=>I[1]-M[1])[0])==null?void 0:F[0];R&&(O=R);break}case"initialPlacement":O=l;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function LI(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function FI(e){return Gce.some(t=>e[t]>=0)}const sue=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Wi(e,t);switch(r){case"referenceHidden":{const a=await wm(t,{...s,elementContext:"reference"}),o=LI(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:FI(o)}}}case"escaped":{const a=await wm(t,{...s,altBoundary:!0}),o=LI(a,n.floating);return{data:{escapedOffsets:o,escaped:FI(o)}}}default:return{}}}}};async function aue(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Vi(n),l=Qd(n),c=Xo(n)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,f=Wi(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const iue=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await aue(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},oue=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...c}=Wi(e,t),u={x:n,y:r},d=await wm(t,c),f=Xo(Vi(s)),h=Vk(f);let m=u[h],g=u[f];if(a){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=m+d[y],j=m-d[x];m=$N(b,m,j)}if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=g+d[y],j=g-d[x];g=$N(b,g,j)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:a,[f]:o}}}}}},lue=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Wi(e,t),d={x:n,y:r},f=Xo(s),h=Vk(f);let m=d[h],g=d[f];const p=Wi(l,t),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const j=h==="y"?"height":"width",w=a.reference[h]-a.floating[j]+y.mainAxis,S=a.reference[h]+a.reference[j]-y.mainAxis;m<w?m=w:m>S&&(m=S)}if(u){var x,b;const j=h==="y"?"width":"height",w=["top","left"].includes(Vi(s)),S=a.reference[f]-a.floating[j]+(w&&((x=o.offset)==null?void 0:x[f])||0)+(w?0:y.crossAxis),N=a.reference[f]+a.reference[j]+(w?0:((b=o.offset)==null?void 0:b[f])||0)-(w?y.crossAxis:0);g<S?g=S:g>N&&(g=N)}return{[h]:m,[f]:g}}}},cue=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Wi(e,t),d=await wm(t,u),f=Vi(s),h=Qd(s),m=Xo(s)==="y",{width:g,height:p}=a.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,y=h==="end"?"top":"bottom");const b=p-d.top-d.bottom,j=g-d.left-d.right,w=Ko(p-d[y],b),S=Ko(g-d[x],j),N=!t.middlewareData.shift;let C=w,_=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=b),N&&!h){const A=ss(d.left,0),T=ss(d.right,0),D=ss(d.top,0),F=ss(d.bottom,0);m?_=g-2*(A!==0||T!==0?A+T:ss(d.left,d.right)):C=p-2*(D!==0||F!==0?D+F:ss(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:C});const k=await o.getDimensions(l.floating);return g!==k.width||p!==k.height?{reset:{rects:!0}}:{}}}};function sw(){return typeof window<"u"}function Zd(e){return bz(e)?(e.nodeName||"").toLowerCase():"#document"}function fs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function si(e){var t;return(t=(bz(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bz(e){return sw()?e instanceof Node||e instanceof fs(e).Node:!1}function _a(e){return sw()?e instanceof Element||e instanceof fs(e).Element:!1}function Ja(e){return sw()?e instanceof HTMLElement||e instanceof fs(e).HTMLElement:!1}function BI(e){return!sw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fs(e).ShadowRoot}function Vp(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ca(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function uue(e){return["table","td","th"].includes(Zd(e))}function aw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Hk(e){const t=Gk(),n=_a(e)?Ca(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function due(e){let t=Jo(e);for(;Ja(t)&&!od(t);){if(Hk(t))return t;if(aw(t))return null;t=Jo(t)}return null}function Gk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function od(e){return["html","body","#document"].includes(Zd(e))}function Ca(e){return fs(e).getComputedStyle(e)}function iw(e){return _a(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jo(e){if(Zd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||BI(e)&&e.host||si(e);return BI(t)?t.host:t}function jz(e){const t=Jo(e);return od(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ja(t)&&Vp(t)?t:jz(t)}function bm(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=jz(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),o=fs(s);if(a){const l=FN(o);return t.concat(o,o.visualViewport||[],Vp(s)?s:[],l&&n?bm(l):[])}return t.concat(s,bm(s,[],n))}function FN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Sz(e){const t=Ca(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ja(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=Ly(n)!==a||Ly(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function Kk(e){return _a(e)?e:e.contextElement}function Lu(e){const t=Kk(e);if(!Ja(t))return Yo(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=Sz(t);let o=(a?Ly(n.width):n.width)/r,l=(a?Ly(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const fue=Yo(0);function Nz(e){const t=fs(e);return!Gk()||!t.visualViewport?fue:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hue(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==fs(e)?!1:t}function uc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Kk(e);let o=Yo(1);t&&(r?_a(r)&&(o=Lu(r)):o=Lu(e));const l=hue(a,n,r)?Nz(a):Yo(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=fs(a),m=r&&_a(r)?fs(r):r;let g=h,p=FN(g);for(;p&&r&&m!==g;){const y=Lu(p),x=p.getBoundingClientRect(),b=Ca(p),j=x.left+(p.clientLeft+parseFloat(b.paddingLeft))*y.x,w=x.top+(p.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=j,u+=w,g=fs(p),p=FN(g)}}return By({width:d,height:f,x:c,y:u})}function mue(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",o=si(r),l=t?aw(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Yo(1);const d=Yo(0),f=Ja(r);if((f||!f&&!a)&&((Zd(r)!=="body"||Vp(o))&&(c=iw(r)),Ja(r))){const h=uc(r);u=Lu(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function pue(e){return Array.from(e.getClientRects())}function BN(e,t){const n=iw(e).scrollLeft;return t?t.left+n:uc(si(e)).left+n}function gue(e){const t=si(e),n=iw(e),r=e.ownerDocument.body,s=ss(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ss(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+BN(e);const l=-n.scrollTop;return Ca(r).direction==="rtl"&&(o+=ss(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:o,y:l}}function vue(e,t){const n=fs(e),r=si(e),s=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=Gk();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function yue(e,t){const n=uc(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Ja(e)?Lu(e):Yo(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:o,height:l,x:c,y:u}}function zI(e,t,n){let r;if(t==="viewport")r=vue(e,n);else if(t==="document")r=gue(si(e));else if(_a(t))r=yue(t,n);else{const s=Nz(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return By(r)}function _z(e,t){const n=Jo(e);return n===t||!_a(n)||od(n)?!1:Ca(n).position==="fixed"||_z(n,t)}function xue(e,t){const n=t.get(e);if(n)return n;let r=bm(e,[],!1).filter(l=>_a(l)&&Zd(l)!=="body"),s=null;const a=Ca(e).position==="fixed";let o=a?Jo(e):e;for(;_a(o)&&!od(o);){const l=Ca(o),c=Hk(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Vp(o)&&!c&&_z(e,o))?r=r.filter(d=>d!==o):s=l,o=Jo(o)}return t.set(e,r),r}function wue(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?aw(t)?[]:xue(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=zI(t,d,s);return u.top=ss(f.top,u.top),u.right=Ko(f.right,u.right),u.bottom=Ko(f.bottom,u.bottom),u.left=ss(f.left,u.left),u},zI(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function bue(e){const{width:t,height:n}=Sz(e);return{width:t,height:n}}function jue(e,t,n){const r=Ja(t),s=si(t),a=n==="fixed",o=uc(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Yo(0);if(r||!r&&!a)if((Zd(t)!=="body"||Vp(s))&&(l=iw(t)),r){const m=uc(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=BN(s));let u=0,d=0;if(s&&!r&&!a){const m=s.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-BN(s,m)}const f=o.left+l.scrollLeft-c.x-u,h=o.top+l.scrollTop-c.y-d;return{x:f,y:h,width:o.width,height:o.height}}function Kj(e){return Ca(e).position==="static"}function WI(e,t){if(!Ja(e)||Ca(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return si(e)===n&&(n=n.ownerDocument.body),n}function Cz(e,t){const n=fs(e);if(aw(e))return n;if(!Ja(e)){let s=Jo(e);for(;s&&!od(s);){if(_a(s)&&!Kj(s))return s;s=Jo(s)}return n}let r=WI(e,t);for(;r&&uue(r)&&Kj(r);)r=WI(r,t);return r&&od(r)&&Kj(r)&&!Hk(r)?n:r||due(e)||n}const Sue=async function(e){const t=this.getOffsetParent||Cz,n=this.getDimensions,r=await n(e.floating);return{reference:jue(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Nue(e){return Ca(e).direction==="rtl"}const _ue={convertOffsetParentRelativeRectToViewportRelativeRect:mue,getDocumentElement:si,getClippingRect:wue,getOffsetParent:Cz,getElementRects:Sue,getClientRects:pue,getDimensions:bue,getScale:Lu,isElement:_a,isRTL:Nue};function Cue(e,t){let n=null,r;const s=si(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const m=Ug(d),g=Ug(s.clientWidth-(u+f)),p=Ug(s.clientHeight-(d+h)),y=Ug(u),b={rootMargin:-m+"px "+-g+"px "+-p+"px "+-y+"px",threshold:ss(0,Ko(1,c))||1};let j=!0;function w(S){const N=S[0].intersectionRatio;if(N!==c){if(!j)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}j=!1}try{n=new IntersectionObserver(w,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(w,b)}n.observe(e)}return o(!0),a}function Eue(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Kk(e),d=s||a?[...u?bm(u):[],...bm(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),a&&x.addEventListener("resize",n)});const f=u&&l?Cue(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?uc(e):null;c&&y();function y(){const x=uc(e);p&&(x.x!==p.x||x.y!==p.y||x.width!==p.width||x.height!==p.height)&&n(),p=x,g=requestAnimationFrame(y)}return n(),()=>{var x;d.forEach(b=>{s&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const kue=iue,Aue=oue,Pue=rue,Tue=cue,Oue=sue,VI=nue,Iue=lue,Due=(e,t,n)=>{const r=new Map,s={platform:_ue,...n},a={...s.platform,_c:r};return tue(e,t,{...s,platform:a})};var Vv=typeof document<"u"?v.useLayoutEffect:v.useEffect;function zy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zy(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!zy(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Ez(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function UI(e,t){const n=Ez(e);return Math.round(t*n)/n}function Yj(e){const t=v.useRef(e);return Vv(()=>{t.current=e}),t}function Mue(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=v.useState(r);zy(h,r)||m(r);const[g,p]=v.useState(null),[y,x]=v.useState(null),b=v.useCallback(I=>{I!==N.current&&(N.current=I,p(I))},[]),j=v.useCallback(I=>{I!==C.current&&(C.current=I,x(I))},[]),w=a||g,S=o||y,N=v.useRef(null),C=v.useRef(null),_=v.useRef(d),k=c!=null,A=Yj(c),T=Yj(s),D=Yj(u),F=v.useCallback(()=>{if(!N.current||!C.current)return;const I={placement:t,strategy:n,middleware:h};T.current&&(I.platform=T.current),Due(N.current,C.current,I).then(M=>{const L={...M,isPositioned:D.current!==!1};E.current&&!zy(_.current,L)&&(_.current=L,ni.flushSync(()=>{f(L)}))})},[h,t,n,T,D]);Vv(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const E=v.useRef(!1);Vv(()=>(E.current=!0,()=>{E.current=!1}),[]),Vv(()=>{if(w&&(N.current=w),S&&(C.current=S),w&&S){if(A.current)return A.current(w,S,F);F()}},[w,S,F,A,k]);const $=v.useMemo(()=>({reference:N,floating:C,setReference:b,setFloating:j}),[b,j]),O=v.useMemo(()=>({reference:w,floating:S}),[w,S]),R=v.useMemo(()=>{const I={position:n,left:0,top:0};if(!O.floating)return I;const M=UI(O.floating,d.x),L=UI(O.floating,d.y);return l?{...I,transform:"translate("+M+"px, "+L+"px)",...Ez(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:L}},[n,l,O.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:F,refs:$,elements:O,floatingStyles:R}),[d,F,$,O,R])}const Rue=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?VI({element:r.current,padding:s}).fn(n):{}:r?VI({element:r,padding:s}).fn(n):{}}}},$ue=(e,t)=>({...kue(e),options:[e,t]}),Lue=(e,t)=>({...Aue(e),options:[e,t]}),Fue=(e,t)=>({...Iue(e),options:[e,t]}),Bue=(e,t)=>({...Pue(e),options:[e,t]}),zue=(e,t)=>({...Tue(e),options:[e,t]}),Wue=(e,t)=>({...Oue(e),options:[e,t]}),Vue=(e,t)=>({...Rue(e),options:[e,t]});var Uue="Arrow",kz=v.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return i.jsx(Me.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});kz.displayName=Uue;var que=kz;function Hue(e,t=[]){let n=[];function r(a,o){const l=v.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:h,children:m,...g}=f,p=(h==null?void 0:h[e][c])||l,y=v.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:y,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Gue(s,...t)]}function Gue(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function ow(e){const[t,n]=v.useState(void 0);return Mn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Yk="Popper",[Az,ul]=Hue(Yk),[Kue,Pz]=Az(Yk),Tz=e=>{const{__scopePopper:t,children:n}=e,[r,s]=v.useState(null);return i.jsx(Kue,{scope:t,anchor:r,onAnchorChange:s,children:n})};Tz.displayName=Yk;var Oz="PopperAnchor",Iz=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=Pz(Oz,n),o=v.useRef(null),l=ze(t,o);return v.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:i.jsx(Me.div,{...s,ref:l})});Iz.displayName=Oz;var Xk="PopperContent",[Yue,Xue]=Az(Xk),Dz=v.forwardRef((e,t)=>{var X,ee,Z,ae,ce,H;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,y=Pz(Xk,n),[x,b]=v.useState(null),j=ze(t,je=>b(je)),[w,S]=v.useState(null),N=ow(w),C=(N==null?void 0:N.width)??0,_=(N==null?void 0:N.height)??0,k=r+(a!=="center"?"-"+a:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],D=T.length>0,F={padding:A,boundary:T.filter(Que),altBoundary:D},{refs:E,floatingStyles:$,placement:O,isPositioned:R,middlewareData:I}=Mue({strategy:"fixed",placement:k,whileElementsMounted:(...je)=>Eue(...je,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[$ue({mainAxis:s+_,alignmentAxis:o}),c&&Lue({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Fue():void 0,...F}),c&&Bue({...F}),zue({...F,apply:({elements:je,rects:Ne,availableWidth:Ae,availableHeight:Q})=>{const{width:me,height:J}=Ne.reference,_e=je.floating.style;_e.setProperty("--radix-popper-available-width",`${Ae}px`),_e.setProperty("--radix-popper-available-height",`${Q}px`),_e.setProperty("--radix-popper-anchor-width",`${me}px`),_e.setProperty("--radix-popper-anchor-height",`${J}px`)}}),w&&Vue({element:w,padding:l}),Zue({arrowWidth:C,arrowHeight:_}),h&&Wue({strategy:"referenceHidden",...F})]}),[M,L]=$z(O),z=hn(g);Mn(()=>{R&&(z==null||z())},[R,z]);const W=(X=I.arrow)==null?void 0:X.x,q=(ee=I.arrow)==null?void 0:ee.y,V=((Z=I.arrow)==null?void 0:Z.centerOffset)!==0,[te,ne]=v.useState();return Mn(()=>{x&&ne(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:R?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(ae=I.transformOrigin)==null?void 0:ae.x,(ce=I.transformOrigin)==null?void 0:ce.y].join(" "),...((H=I.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Yue,{scope:n,placedSide:M,onArrowChange:S,arrowX:W,arrowY:q,shouldHideArrow:V,children:i.jsx(Me.div,{"data-side":M,"data-align":L,...p,ref:j,style:{...p.style,animation:R?void 0:"none"}})})})});Dz.displayName=Xk;var Mz="PopperArrow",Jue={top:"bottom",right:"left",bottom:"top",left:"right"},Rz=v.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=Xue(Mz,r),o=Jue[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(que,{...s,ref:n,style:{...s.style,display:"block"}})})});Rz.displayName=Mz;function Que(e){return e!==null}var Zue=e=>({name:"transformOrigin",options:e,fn(t){var y,x,b;const{placement:n,rects:r,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=$z(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,m=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${r.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function $z(e){const[t,n="center"]=e.split("-");return[t,n]}var lw=Tz,Up=Iz,cw=Dz,uw=Rz,ede="Portal",dw=v.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=v.useState(!1);Mn(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?P0.createPortal(i.jsx(Me.div,{...r,ref:t}),o):null});dw.displayName=ede;var tde="VisuallyHidden",Jk=v.forwardRef((e,t)=>i.jsx(Me.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Jk.displayName=tde;var nde=Jk,[fw,IKe]=Ss("Tooltip",[ul]),hw=ul(),Lz="TooltipProvider",rde=700,zN="tooltip.open",[sde,Qk]=fw(Lz),Fz=e=>{const{__scopeTooltip:t,delayDuration:n=rde,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,[o,l]=v.useState(!0),c=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),i.jsx(sde,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};Fz.displayName=Lz;var mw="Tooltip",[ade,pw]=fw(mw),Bz=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=Qk(mw,e.__scopeTooltip),u=hw(t),[d,f]=v.useState(null),h=Vs(),m=v.useRef(0),g=o??c.disableHoverableContent,p=l??c.delayDuration,y=v.useRef(!1),[x=!1,b]=Na({prop:r,defaultProp:s,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(zN))):c.onClose(),a==null||a(C)}}),j=v.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),w=v.useCallback(()=>{window.clearTimeout(m.current),y.current=!1,b(!0)},[b]),S=v.useCallback(()=>{window.clearTimeout(m.current),b(!1)},[b]),N=v.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,b(!0)},p)},[p,b]);return v.useEffect(()=>()=>window.clearTimeout(m.current),[]),i.jsx(lw,{...u,children:i.jsx(ade,{scope:t,contentId:h,open:x,stateAttribute:j,trigger:d,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?N():w()},[c.isOpenDelayed,N,w]),onTriggerLeave:v.useCallback(()=>{g?S():window.clearTimeout(m.current)},[S,g]),onOpen:w,onClose:S,disableHoverableContent:g,children:n})})};Bz.displayName=mw;var WN="TooltipTrigger",zz=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=pw(WN,n),a=Qk(WN,n),o=hw(n),l=v.useRef(null),c=ze(t,l,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Up,{asChild:!0,...o,children:i.jsx(Me.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ye(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ye(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ye(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ye(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ye(e.onBlur,s.onClose),onClick:ye(e.onClick,s.onClose)})})});zz.displayName=WN;var ide="TooltipPortal",[DKe,ode]=fw(ide,{forceMount:void 0}),ld="TooltipContent",Wz=v.forwardRef((e,t)=>{const n=ode(ld,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,o=pw(ld,e.__scopeTooltip);return i.jsx(Zn,{present:r||o.open,children:o.disableHoverableContent?i.jsx(Vz,{side:s,...a,ref:t}):i.jsx(lde,{side:s,...a,ref:t})})}),lde=v.forwardRef((e,t)=>{const n=pw(ld,e.__scopeTooltip),r=Qk(ld,e.__scopeTooltip),s=v.useRef(null),a=ze(t,s),[o,l]=v.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=v.useCallback(()=>{l(null),f(!1)},[f]),m=v.useCallback((g,p)=>{const y=g.currentTarget,x={x:g.clientX,y:g.clientY},b=fde(x,y.getBoundingClientRect()),j=hde(x,b),w=mde(p.getBoundingClientRect()),S=gde([...j,...w]);l(S),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&d){const g=y=>m(y,d),p=y=>m(y,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),v.useEffect(()=>{if(o){const g=p=>{const y=p.target,x={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),j=!pde(x,o);b?h():j&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),i.jsx(Vz,{...e,ref:a})}),[cde,ude]=fw(mw,{isInside:!1}),Vz=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=pw(ld,n),u=hw(n),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(zN,d),()=>document.removeEventListener(zN,d)),[d]),v.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(cw,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx($k,{children:r}),i.jsx(cde,{scope:n,isInside:!0,children:i.jsx(nde,{id:c.contentId,role:"tooltip",children:s||r})})]})})});Wz.displayName=ld;var Uz="TooltipArrow",dde=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=hw(n);return ude(Uz,n).isInside?null:i.jsx(uw,{...s,...r,ref:t})});dde.displayName=Uz;function fde(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function hde(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function mde(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function pde(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function gde(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),vde(t)}function vde(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var yde=Fz,xde=Bz,wde=zz,qz=Wz;const Wy=yde,Vy=xde,Uy=wde,jm=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(qz,{ref:r,sideOffset:t,className:ve("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));jm.displayName=qz.displayName;const qI=[{name:"Dashboard",href:"/dashboard",icon:qoe},{name:"Inbox",href:"https://chat.suplelive.com.br/app/accounts/1/inbox/1",icon:Uoe,badge:3,target:"_blank"},{name:"Clientes",href:"/clients",icon:Fr},{name:"Pedidos",href:"/orders",icon:zp},{name:"Estoque",href:"/estoque",icon:Tt},{name:"Campanhas",href:"/campaigns",icon:O6},{name:"Automao",href:"/automation",icon:jr},{name:"Integraes",href:"/integrations",icon:ds},{name:"Acompanhamento",href:"/tracking",icon:cc},{name:"Jobs & Logs",href:"/jobs",icon:S6},{name:"Configuraes",href:"/settings",icon:oc}];function bde(){var h,m,g,p;const[e,t]=v.useState(!1),[n,r]=v.useState(!1),[s,a]=v.useState(window.innerWidth<1024),o=ri(y=>y.signOut),{currentWorkspace:l}=be(),c=ol();v.useEffect(()=>{const y=()=>{a(window.innerWidth<1024),window.innerWidth>=1024&&t(!1)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const u=async()=>{try{await o()}catch(y){console.error("Error signing out:",y)}},d=n?"w-20":"w-72",f=({item:y,isCollapsed:x})=>{const b=c.pathname===y.href;return i.jsx(Wy,{children:i.jsxs(Vy,{children:[i.jsx(Uy,{asChild:!0,children:i.jsxs(FT,{to:y.href,className:({isActive:j})=>ve("flex items-center gap-3 px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 mb-1",x?"justify-center":"justify-between",j?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),onClick:()=>t(!1),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(y.icon,{className:ve("h-5 w-5",b?"text-primary":"text-muted-foreground")}),i.jsx(El,{children:!x&&i.jsx(Nt.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2},className:"overflow-hidden whitespace-nowrap",children:y.name})})]}),y.badge&&!x&&i.jsx(fe,{variant:"default",className:"text-xs",children:y.badge}),y.badge&&x&&i.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-primary rounded-full"})]})}),x&&i.jsxs(jm,{side:"right",children:[i.jsx("p",{children:y.name}),y.badge&&i.jsx(fe,{variant:"default",className:"ml-2 text-xs",children:y.badge})]})]})})};return i.jsxs(i.Fragment,{children:[i.jsx(B,{variant:"outline",size:"icon",className:"lg:hidden fixed top-4 left-4 z-50 bg-background shadow-sm border",onClick:()=>t(!e),children:e?i.jsx($a,{className:"h-5 w-5"}):i.jsx(Qoe,{className:"h-5 w-5"})}),i.jsx(Nt.div,{animate:{width:n?80:288},transition:{duration:.3,ease:"easeInOut"},className:ve("hidden lg:flex lg:flex-col lg:fixed lg:inset-y-0 lg:z-30 border-r bg-background",d),children:i.jsxs("div",{className:"flex flex-col flex-grow h-full",children:[i.jsxs("div",{className:ve("flex flex-col",n?"px-3":"px-6","py-6"),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(El,{children:!n&&i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-primary",children:i.jsx(ds,{className:"h-5 w-5 text-primary-foreground"})}),i.jsx("h1",{className:"text-xl font-bold",children:"OmniCRM"})]})}),i.jsx(B,{variant:"ghost",size:"icon",onClick:()=>r(!n),className:"h-8 w-8 rounded-md hover:bg-muted",children:n?i.jsx(Y0,{className:"h-4 w-4"}):i.jsx(K0,{className:"h-4 w-4"})})]}),i.jsx(El,{children:!n&&l&&i.jsxs(Nt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex items-center gap-2 mt-4 px-2 py-2 rounded-md bg-muted/50",children:[i.jsx(Du,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),i.jsx("span",{className:"text-sm font-medium truncate",children:l.name})]})})]}),i.jsx(El,{children:!n&&i.jsx(Nt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"px-6 mb-6",children:i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[i.jsx(Bi,{className:"h-9 w-9",children:i.jsx(zi,{className:"bg-primary/10 text-primary",children:((h=l==null?void 0:l.name)==null?void 0:h.charAt(0))||"U"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:(l==null?void 0:l.name)||"User"}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:((m=l==null?void 0:l.plan)==null?void 0:m.name)||"Free Plan"})]})]})})}),i.jsx(El,{children:!n&&i.jsx(Nt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"px-6 mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-10 pr-4 py-2 text-sm rounded-md bg-muted/50 border-0 focus:ring-2 focus:ring-primary/20 focus:outline-none"})]})})}),i.jsx("div",{className:ve("flex-1 overflow-y-auto",n?"px-3":"px-6"),children:i.jsx("nav",{className:"space-y-1",children:qI.map(y=>i.jsx(f,{item:y,isCollapsed:n},y.name))})}),i.jsx("div",{className:ve(n?"p-3":"p-6","mt-auto border-t"),children:i.jsxs("div",{className:"flex flex-col gap-3",children:[!n&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ok,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Notificaes"})]}),i.jsx(fe,{variant:"outline",className:"text-xs",children:"3"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[!n&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(N6,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Ajuda"})]}),i.jsx(Wy,{children:i.jsxs(Vy,{children:[i.jsx(Uy,{asChild:!0,children:i.jsxs(B,{variant:"ghost",size:n?"icon":"sm",onClick:u,className:ve("text-muted-foreground hover:text-foreground",n?"w-full":""),children:[i.jsx(EI,{className:ve("h-4 w-4",n?"":"mr-2")}),!n&&"Sair"]})}),n&&i.jsx(jm,{side:"right",children:i.jsx("p",{children:"Sair"})})]})})]})]})})]})}),i.jsx(El,{children:e&&i.jsxs(i.Fragment,{children:[i.jsx(Nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"lg:hidden fixed inset-0 z-30 bg-black/50 backdrop-blur-sm",onClick:()=>t(!1)}),i.jsx(Nt.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:300},className:"lg:hidden fixed inset-y-0 left-0 z-40 w-72 bg-background shadow-xl",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-primary",children:i.jsx(ds,{className:"h-5 w-5 text-primary-foreground"})}),i.jsx("h1",{className:"text-xl font-bold",children:"OmniCRM"})]}),i.jsx(B,{variant:"ghost",size:"icon",onClick:()=>t(!1),children:i.jsx($a,{className:"h-5 w-5"})})]}),i.jsx("div",{className:"p-6 border-b",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Bi,{className:"h-10 w-10",children:i.jsx(zi,{className:"bg-primary/10 text-primary",children:((g=l==null?void 0:l.name)==null?void 0:g.charAt(0))||"U"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:(l==null?void 0:l.name)||"User"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:((p=l==null?void 0:l.plan)==null?void 0:p.name)||"Free Plan"})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsx("nav",{className:"space-y-1",children:qI.map(y=>i.jsxs(FT,{to:y.href,className:({isActive:x})=>ve("flex items-center gap-3 px-3 py-3 text-sm font-medium rounded-lg transition-colors",x?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),onClick:()=>t(!1),children:[i.jsx(y.icon,{className:"h-5 w-5"}),i.jsx("span",{children:y.name}),y.badge&&i.jsx(fe,{variant:"default",className:"ml-auto text-xs",children:y.badge})]},y.name))})}),i.jsx("div",{className:"p-6 border-t",children:i.jsxs(B,{variant:"outline",className:"w-full justify-start",onClick:u,children:[i.jsx(EI,{className:"mr-2 h-5 w-5"}),"Sair"]})})]})})]})}),i.jsx("div",{className:ve("hidden lg:block",d,"flex-shrink-0")})]})}var Xj=0;function gw(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??HI()),document.body.insertAdjacentElement("beforeend",e[1]??HI()),Xj++,()=>{Xj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Xj--}},[])}function HI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Jj="focusScope.autoFocusOnMount",Qj="focusScope.autoFocusOnUnmount",GI={bubbles:!1,cancelable:!0},jde="FocusScope",qp=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=v.useState(null),u=hn(s),d=hn(a),f=v.useRef(null),h=ze(t,p=>c(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let p=function(j){if(m.paused||!l)return;const w=j.target;l.contains(w)?f.current=w:uo(f.current,{select:!0})},y=function(j){if(m.paused||!l)return;const w=j.relatedTarget;w!==null&&(l.contains(w)||uo(f.current,{select:!0}))},x=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&uo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),b.disconnect()}}},[r,l,m.paused]),v.useEffect(()=>{if(l){YI.add(m);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(Jj,GI);l.addEventListener(Jj,u),l.dispatchEvent(x),x.defaultPrevented||(Sde(kde(Hz(l)),{select:!0}),document.activeElement===p&&uo(l))}return()=>{l.removeEventListener(Jj,u),setTimeout(()=>{const x=new CustomEvent(Qj,GI);l.addEventListener(Qj,d),l.dispatchEvent(x),x.defaultPrevented||uo(p??document.body,{select:!0}),l.removeEventListener(Qj,d),YI.remove(m)},0)}}},[l,u,d,m]);const g=v.useCallback(p=>{if(!n&&!r||m.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const b=p.currentTarget,[j,w]=Nde(b);j&&w?!p.shiftKey&&x===w?(p.preventDefault(),n&&uo(j,{select:!0})):p.shiftKey&&x===j&&(p.preventDefault(),n&&uo(w,{select:!0})):x===b&&p.preventDefault()}},[n,r,m.paused]);return i.jsx(Me.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});qp.displayName=jde;function Sde(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(uo(r,{select:t}),document.activeElement!==n)return}function Nde(e){const t=Hz(e),n=KI(t,e),r=KI(t.reverse(),e);return[n,r]}function Hz(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function KI(e,t){for(const n of e)if(!_de(n,{upTo:t}))return n}function _de(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Cde(e){return e instanceof HTMLInputElement&&"select"in e}function uo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Cde(e)&&t&&e.select()}}var YI=Ede();function Ede(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=XI(e,t),e.unshift(t)},remove(t){var n;e=XI(e,t),(n=e[0])==null||n.resume()}}}function XI(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function kde(e){return e.filter(t=>t.tagName!=="A")}var Ade=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zc=new WeakMap,qg=new WeakMap,Hg={},Zj=0,Gz=function(e){return e&&(e.host||Gz(e.parentNode))},Pde=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Gz(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Tde=function(e,t,n,r){var s=Pde(t,Array.isArray(e)?e:[e]);Hg[n]||(Hg[n]=new WeakMap);var a=Hg[n],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(r),g=m!==null&&m!=="false",p=(zc.get(h)||0)+1,y=(a.get(h)||0)+1;zc.set(h,p),a.set(h,y),o.push(h),p===1&&g&&qg.set(h,!0),y===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),Zj++,function(){o.forEach(function(f){var h=zc.get(f)-1,m=a.get(f)-1;zc.set(f,h),a.set(f,m),h||(qg.has(f)||f.removeAttribute(r),qg.delete(f)),m||f.removeAttribute(n)}),Zj--,Zj||(zc=new WeakMap,zc=new WeakMap,qg=new WeakMap,Hg={})}},Hp=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=Ade(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Tde(r,s,n,"aria-hidden")):function(){return null}},dr=function(){return dr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},dr.apply(this,arguments)};function Zk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Kz(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Dh="right-scroll-bar-position",Mh="width-before-scroll-bar",Ode="with-scroll-bars-hidden",Ide="--removed-body-scroll-bar-size";function e1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Dde(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var Mde=typeof window<"u"?v.useLayoutEffect:v.useEffect,JI=new WeakMap;function Yz(e,t){var n=Dde(null,function(r){return e.forEach(function(s){return e1(s,r)})});return Mde(function(){var r=JI.get(n);if(r){var s=new Set(r),a=new Set(e),o=n.current;s.forEach(function(l){a.has(l)||e1(l,null)}),a.forEach(function(l){s.has(l)||e1(l,o)})}JI.set(n,e)},[e]),n}function Rde(e){return e}function $de(e,t){t===void 0&&(t=Rde);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function Xz(e){e===void 0&&(e={});var t=$de(null);return t.options=dr({async:!0,ssr:!1},e),t}var Jz=function(e){var t=e.sideCar,n=Zk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,dr({},n))};Jz.isSideCarExport=!0;function Qz(e,t){return e.useMedium(t),Jz}var Zz=Xz(),t1=function(){},vw=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:t1,onWheelCapture:t1,onTouchMoveCapture:t1}),s=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,g=e.inert,p=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,j=Zk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,S=Yz([n,t]),N=dr(dr({},j),s);return v.createElement(v.Fragment,null,d&&v.createElement(w,{sideCar:Zz,removeScrollBar:u,shards:f,noIsolation:m,inert:g,setCallbacks:a,allowPinchZoom:!!p,lockRef:n,gapMode:b}),o?v.cloneElement(v.Children.only(l),dr(dr({},N),{ref:S})):v.createElement(x,dr({},N,{className:c,ref:S}),l))});vw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vw.classNames={fullWidth:Mh,zeroRight:Dh};var Lde=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Fde(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Lde();return t&&e.setAttribute("nonce",t),e}function Bde(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zde(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Wde=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Fde())&&(Bde(t,n),zde(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Vde=function(){var e=Wde();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},eA=function(){var e=Vde(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Ude={left:0,top:0,right:0,gap:0},n1=function(e){return parseInt(e||"",10)||0},qde=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[n1(n),n1(r),n1(s)]},Hde=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ude;var t=qde(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Gde=eA(),Fu="data-scroll-locked",Kde=function(e,t,n,r){var s=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ode,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Fu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dh,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Mh,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Dh," .").concat(Dh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mh," .").concat(Mh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fu,`] {
    `).concat(Ide,": ").concat(l,`px;
  }
`)},QI=function(){var e=parseInt(document.body.getAttribute(Fu)||"0",10);return isFinite(e)?e:0},Yde=function(){v.useEffect(function(){return document.body.setAttribute(Fu,(QI()+1).toString()),function(){var e=QI()-1;e<=0?document.body.removeAttribute(Fu):document.body.setAttribute(Fu,e.toString())}},[])},e8=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;Yde();var a=v.useMemo(function(){return Hde(s)},[s]);return v.createElement(Gde,{styles:Kde(a,!t,s,n?"":"!important")})},VN=!1;if(typeof window<"u")try{var Gg=Object.defineProperty({},"passive",{get:function(){return VN=!0,!0}});window.addEventListener("test",Gg,Gg),window.removeEventListener("test",Gg,Gg)}catch{VN=!1}var Wc=VN?{passive:!1}:!1,Xde=function(e){return e.tagName==="TEXTAREA"},t8=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Xde(e)&&n[t]==="visible")},Jde=function(e){return t8(e,"overflowY")},Qde=function(e){return t8(e,"overflowX")},ZI=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=n8(e,r);if(s){var a=r8(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Zde=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},efe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},n8=function(e,t){return e==="v"?Jde(t):Qde(t)},r8=function(e,t){return e==="v"?Zde(t):efe(t)},tfe=function(e,t){return e==="h"&&t==="rtl"?-1:1},nfe=function(e,t,n,r,s){var a=tfe(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var m=r8(e,l),g=m[0],p=m[1],y=m[2],x=p-y-a*g;(g||x)&&n8(e,l)&&(f+=x,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Kg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eD=function(e){return[e.deltaX,e.deltaY]},tD=function(e){return e&&"current"in e?e.current:e},rfe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sfe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},afe=0,Vc=[];function ife(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(afe++)[0],a=v.useState(eA)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=Kz([e.lockRef.current],(e.shards||[]).map(tD),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=Kg(p),b=n.current,j="deltaX"in p?p.deltaX:b[0]-x[0],w="deltaY"in p?p.deltaY:b[1]-x[1],S,N=p.target,C=Math.abs(j)>Math.abs(w)?"h":"v";if("touches"in p&&C==="h"&&N.type==="range")return!1;var _=ZI(C,N);if(!_)return!0;if(_?S=C:(S=C==="v"?"h":"v",_=ZI(C,N)),!_)return!1;if(!r.current&&"changedTouches"in p&&(j||w)&&(r.current=S),!S)return!0;var k=r.current||S;return nfe(k,y,p,k==="h"?j:w,!0)},[]),c=v.useCallback(function(p){var y=p;if(!(!Vc.length||Vc[Vc.length-1]!==a)){var x="deltaY"in y?eD(y):Kg(y),b=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&rfe(S.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var j=(o.current.shards||[]).map(tD).filter(Boolean).filter(function(S){return S.contains(y.target)}),w=j.length>0?l(y,j[0]):!o.current.noIsolation;w&&y.cancelable&&y.preventDefault()}}},[]),u=v.useCallback(function(p,y,x,b){var j={name:p,delta:y,target:x,should:b,shadowParent:ofe(x)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(w){return w!==j})},1)},[]),d=v.useCallback(function(p){n.current=Kg(p),r.current=void 0},[]),f=v.useCallback(function(p){u(p.type,eD(p),p.target,l(p,e.lockRef.current))},[]),h=v.useCallback(function(p){u(p.type,Kg(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Vc.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Wc),document.addEventListener("touchmove",c,Wc),document.addEventListener("touchstart",d,Wc),function(){Vc=Vc.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Wc),document.removeEventListener("touchmove",c,Wc),document.removeEventListener("touchstart",d,Wc)}},[]);var m=e.removeScrollBar,g=e.inert;return v.createElement(v.Fragment,null,g?v.createElement(a,{styles:sfe(s)}):null,m?v.createElement(e8,{gapMode:e.gapMode}):null)}function ofe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lfe=Qz(Zz,ife);var Gp=v.forwardRef(function(e,t){return v.createElement(vw,dr({},e,{ref:t,sideCar:lfe}))});Gp.classNames=vw.classNames;var UN=["Enter"," "],cfe=["ArrowDown","PageUp","Home"],s8=["ArrowUp","PageDown","End"],ufe=[...cfe,...s8],dfe={ltr:[...UN,"ArrowRight"],rtl:[...UN,"ArrowLeft"]},ffe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Kp="Menu",[Sm,hfe,mfe]=tw(Kp),[kc,a8]=Ss(Kp,[mfe,ul,rw]),yw=ul(),i8=rw(),[pfe,Ac]=kc(Kp),[gfe,Yp]=kc(Kp),o8=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:o=!0}=e,l=yw(t),[c,u]=v.useState(null),d=v.useRef(!1),f=hn(a),h=Xd(s);return v.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(lw,{...l,children:i.jsx(pfe,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(gfe,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};o8.displayName=Kp;var vfe="MenuAnchor",tA=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=yw(n);return i.jsx(Up,{...s,...r,ref:t})});tA.displayName=vfe;var nA="MenuPortal",[yfe,l8]=kc(nA,{forceMount:void 0}),c8=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=Ac(nA,t);return i.jsx(yfe,{scope:t,forceMount:n,children:i.jsx(Zn,{present:n||a.open,children:i.jsx(dw,{asChild:!0,container:s,children:r})})})};c8.displayName=nA;var Us="MenuContent",[xfe,rA]=kc(Us),u8=v.forwardRef((e,t)=>{const n=l8(Us,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Ac(Us,e.__scopeMenu),o=Yp(Us,e.__scopeMenu);return i.jsx(Sm.Provider,{scope:e.__scopeMenu,children:i.jsx(Zn,{present:r||a.open,children:i.jsx(Sm.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(wfe,{...s,ref:t}):i.jsx(bfe,{...s,ref:t})})})})}),wfe=v.forwardRef((e,t)=>{const n=Ac(Us,e.__scopeMenu),r=v.useRef(null),s=ze(t,r);return v.useEffect(()=>{const a=r.current;if(a)return Hp(a)},[]),i.jsx(sA,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ye(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),bfe=v.forwardRef((e,t)=>{const n=Ac(Us,e.__scopeMenu);return i.jsx(sA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),sA=v.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,y=Ac(Us,n),x=Yp(Us,n),b=yw(n),j=i8(n),w=hfe(n),[S,N]=v.useState(null),C=v.useRef(null),_=ze(t,C,y.onContentChange),k=v.useRef(0),A=v.useRef(""),T=v.useRef(0),D=v.useRef(null),F=v.useRef("right"),E=v.useRef(0),$=g?Gp:v.Fragment,O=g?{as:Fi,allowPinchZoom:!0}:void 0,R=M=>{var X,ee;const L=A.current+M,z=w().filter(Z=>!Z.disabled),W=document.activeElement,q=(X=z.find(Z=>Z.ref.current===W))==null?void 0:X.textValue,V=z.map(Z=>Z.textValue),te=Ife(V,L,q),ne=(ee=z.find(Z=>Z.textValue===te))==null?void 0:ee.ref.current;(function Z(ae){A.current=ae,window.clearTimeout(k.current),ae!==""&&(k.current=window.setTimeout(()=>Z(""),1e3))})(L),ne&&setTimeout(()=>ne.focus())};v.useEffect(()=>()=>window.clearTimeout(k.current),[]),gw();const I=v.useCallback(M=>{var z,W;return F.current===((z=D.current)==null?void 0:z.side)&&Mfe(M,(W=D.current)==null?void 0:W.area)},[]);return i.jsx(xfe,{scope:n,searchRef:A,onItemEnter:v.useCallback(M=>{I(M)&&M.preventDefault()},[I]),onItemLeave:v.useCallback(M=>{var L;I(M)||((L=C.current)==null||L.focus(),N(null))},[I]),onTriggerLeave:v.useCallback(M=>{I(M)&&M.preventDefault()},[I]),pointerGraceTimerRef:T,onPointerGraceIntentChange:v.useCallback(M=>{D.current=M},[]),children:i.jsx($,{...O,children:i.jsx(qp,{asChild:!0,trapped:s,onMountAutoFocus:ye(a,M=>{var L;M.preventDefault(),(L=C.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(K6,{asChild:!0,...j,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:ye(c,M=>{x.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(cw,{role:"menu","aria-orientation":"vertical","data-state":C8(y.open),"data-radix-menu-content":"",dir:x.dir,...b,...p,ref:_,style:{outline:"none",...p.style},onKeyDown:ye(p.onKeyDown,M=>{const z=M.target.closest("[data-radix-menu-content]")===M.currentTarget,W=M.ctrlKey||M.altKey||M.metaKey,q=M.key.length===1;z&&(M.key==="Tab"&&M.preventDefault(),!W&&q&&R(M.key));const V=C.current;if(M.target!==V||!ufe.includes(M.key))return;M.preventDefault();const ne=w().filter(X=>!X.disabled).map(X=>X.ref.current);s8.includes(M.key)&&ne.reverse(),Tfe(ne)}),onBlur:ye(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(k.current),A.current="")}),onPointerMove:ye(e.onPointerMove,Nm(M=>{const L=M.target,z=E.current!==M.clientX;if(M.currentTarget.contains(L)&&z){const W=M.clientX>E.current?"right":"left";F.current=W,E.current=M.clientX}}))})})})})})})});u8.displayName=Us;var jfe="MenuGroup",aA=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Me.div,{role:"group",...r,ref:t})});aA.displayName=jfe;var Sfe="MenuLabel",d8=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Me.div,{...r,ref:t})});d8.displayName=Sfe;var qy="MenuItem",nD="menu.itemSelect",xw=v.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=v.useRef(null),o=Yp(qy,e.__scopeMenu),l=rA(qy,e.__scopeMenu),c=ze(t,a),u=v.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const h=new CustomEvent(nD,{bubbles:!0,cancelable:!0});f.addEventListener(nD,m=>r==null?void 0:r(m),{once:!0}),B6(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(f8,{...s,ref:c,disabled:n,onClick:ye(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:ye(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ye(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||UN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});xw.displayName=qy;var f8=v.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,o=rA(qy,n),l=i8(n),c=v.useRef(null),u=ze(t,c),[d,f]=v.useState(!1),[h,m]=v.useState("");return v.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[a.children]),i.jsx(Sm.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:i.jsx(Y6,{asChild:!0,...l,focusable:!r,children:i.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:ye(e.onPointerMove,Nm(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(e.onPointerLeave,Nm(g=>o.onItemLeave(g))),onFocus:ye(e.onFocus,()=>f(!0)),onBlur:ye(e.onBlur,()=>f(!1))})})})}),Nfe="MenuCheckboxItem",h8=v.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return i.jsx(y8,{scope:e.__scopeMenu,checked:n,children:i.jsx(xw,{role:"menuitemcheckbox","aria-checked":Hy(n)?"mixed":n,...s,ref:t,"data-state":oA(n),onSelect:ye(s.onSelect,()=>r==null?void 0:r(Hy(n)?!0:!n),{checkForDefaultPrevented:!1})})})});h8.displayName=Nfe;var m8="MenuRadioGroup",[_fe,Cfe]=kc(m8,{value:void 0,onValueChange:()=>{}}),p8=v.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=hn(r);return i.jsx(_fe,{scope:e.__scopeMenu,value:n,onValueChange:a,children:i.jsx(aA,{...s,ref:t})})});p8.displayName=m8;var g8="MenuRadioItem",v8=v.forwardRef((e,t)=>{const{value:n,...r}=e,s=Cfe(g8,e.__scopeMenu),a=n===s.value;return i.jsx(y8,{scope:e.__scopeMenu,checked:a,children:i.jsx(xw,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":oA(a),onSelect:ye(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});v8.displayName=g8;var iA="MenuItemIndicator",[y8,Efe]=kc(iA,{checked:!1}),x8=v.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=Efe(iA,n);return i.jsx(Zn,{present:r||Hy(a.checked)||a.checked===!0,children:i.jsx(Me.span,{...s,ref:t,"data-state":oA(a.checked)})})});x8.displayName=iA;var kfe="MenuSeparator",w8=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});w8.displayName=kfe;var Afe="MenuArrow",b8=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=yw(n);return i.jsx(uw,{...s,...r,ref:t})});b8.displayName=Afe;var Pfe="MenuSub",[MKe,j8]=kc(Pfe),ah="MenuSubTrigger",S8=v.forwardRef((e,t)=>{const n=Ac(ah,e.__scopeMenu),r=Yp(ah,e.__scopeMenu),s=j8(ah,e.__scopeMenu),a=rA(ah,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(tA,{asChild:!0,...u,children:i.jsx(f8,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":C8(n.open),...e,ref:Z0(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ye(e.onPointerMove,Nm(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ye(e.onPointerLeave,Nm(f=>{var m,g;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=n.content)==null?void 0:g.dataset.side,y=p==="right",x=y?-5:5,b=h[y?"left":"right"],j=h[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:b,y:h.top},{x:j,y:h.top},{x:j,y:h.bottom},{x:b,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ye(e.onKeyDown,f=>{var m;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||dfe[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});S8.displayName=ah;var N8="MenuSubContent",_8=v.forwardRef((e,t)=>{const n=l8(Us,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Ac(Us,e.__scopeMenu),o=Yp(Us,e.__scopeMenu),l=j8(N8,e.__scopeMenu),c=v.useRef(null),u=ze(t,c);return i.jsx(Sm.Provider,{scope:e.__scopeMenu,children:i.jsx(Zn,{present:r||a.open,children:i.jsx(Sm.Slot,{scope:e.__scopeMenu,children:i.jsx(sA,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ye(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ye(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ye(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=ffe[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});_8.displayName=N8;function C8(e){return e?"open":"closed"}function Hy(e){return e==="indeterminate"}function oA(e){return Hy(e)?"indeterminate":e?"checked":"unchecked"}function Tfe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Ofe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Ife(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Ofe(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Dfe(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function Mfe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Dfe(n,t)}function Nm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Rfe=o8,$fe=tA,Lfe=c8,Ffe=u8,Bfe=aA,zfe=d8,Wfe=xw,Vfe=h8,Ufe=p8,qfe=v8,Hfe=x8,Gfe=w8,Kfe=b8,Yfe=S8,Xfe=_8,lA="DropdownMenu",[Jfe,RKe]=Ss(lA,[a8]),Tr=a8(),[Qfe,E8]=Jfe(lA),k8=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Tr(t),u=v.useRef(null),[d=!1,f]=Na({prop:s,defaultProp:a,onChange:o});return i.jsx(Qfe,{scope:t,triggerId:Vs(),triggerRef:u,contentId:Vs(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(Rfe,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};k8.displayName=lA;var A8="DropdownMenuTrigger",P8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=E8(A8,n),o=Tr(n);return i.jsx($fe,{asChild:!0,...o,children:i.jsx(Me.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Z0(t,a.triggerRef),onPointerDown:ye(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:ye(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});P8.displayName=A8;var Zfe="DropdownMenuPortal",T8=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Tr(t);return i.jsx(Lfe,{...r,...n})};T8.displayName=Zfe;var O8="DropdownMenuContent",I8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=E8(O8,n),a=Tr(n),o=v.useRef(!1);return i.jsx(Ffe,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:ye(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ye(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});I8.displayName=O8;var ehe="DropdownMenuGroup",the=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Bfe,{...s,...r,ref:t})});the.displayName=ehe;var nhe="DropdownMenuLabel",D8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(zfe,{...s,...r,ref:t})});D8.displayName=nhe;var rhe="DropdownMenuItem",M8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Wfe,{...s,...r,ref:t})});M8.displayName=rhe;var she="DropdownMenuCheckboxItem",R8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Vfe,{...s,...r,ref:t})});R8.displayName=she;var ahe="DropdownMenuRadioGroup",ihe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Ufe,{...s,...r,ref:t})});ihe.displayName=ahe;var ohe="DropdownMenuRadioItem",$8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(qfe,{...s,...r,ref:t})});$8.displayName=ohe;var lhe="DropdownMenuItemIndicator",L8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Hfe,{...s,...r,ref:t})});L8.displayName=lhe;var che="DropdownMenuSeparator",F8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Gfe,{...s,...r,ref:t})});F8.displayName=che;var uhe="DropdownMenuArrow",dhe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Kfe,{...s,...r,ref:t})});dhe.displayName=uhe;var fhe="DropdownMenuSubTrigger",B8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Yfe,{...s,...r,ref:t})});B8.displayName=fhe;var hhe="DropdownMenuSubContent",z8=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Tr(n);return i.jsx(Xfe,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});z8.displayName=hhe;var mhe=k8,phe=P8,ghe=T8,W8=I8,V8=D8,U8=M8,q8=R8,H8=$8,G8=L8,K8=F8,Y8=B8,X8=z8;function ww(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var vhe=["color"],J8=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=ww(e,vhe);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),v.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),yhe=["color"],xhe=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=ww(e,yhe);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),v.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),whe=["color"],bhe=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=ww(e,whe);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),v.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),jhe=["color"],She=v.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=ww(e,jhe);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),v.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))});const Qa=mhe,Za=phe,Nhe=v.forwardRef(({className:e,inset:t,children:n,...r},s)=>i.jsxs(Y8,{ref:s,className:ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,i.jsx(xhe,{className:"ml-auto h-4 w-4"})]}));Nhe.displayName=Y8.displayName;const _he=v.forwardRef(({className:e,...t},n)=>i.jsx(X8,{ref:n,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));_he.displayName=X8.displayName;const Ea=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(ghe,{children:i.jsx(W8,{ref:r,sideOffset:t,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Ea.displayName=W8.displayName;const at=v.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(U8,{ref:r,className:ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));at.displayName=U8.displayName;const Che=v.forwardRef(({className:e,children:t,checked:n,...r},s)=>i.jsxs(q8,{ref:s,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(G8,{children:i.jsx(J8,{className:"h-4 w-4"})})}),t]}));Che.displayName=q8.displayName;const Ehe=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(H8,{ref:r,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(G8,{children:i.jsx(She,{className:"h-4 w-4 fill-current"})})}),t]}));Ehe.displayName=H8.displayName;const Q8=v.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(V8,{ref:r,className:ve("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Q8.displayName=V8.displayName;const qN=v.forwardRef(({className:e,...t},n)=>i.jsx(K8,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));qN.displayName=K8.displayName;function khe(){var o,l,c;const[e,t]=v.useState(""),{user:n,signOut:r}=ri(),{currentWorkspace:s}=be(),a=async()=>{try{await r()}catch(u){console.error("Error signing out:",u)}};return i.jsxs("div",{className:"h-16 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 z-20 flex items-center justify-between px-6",children:[i.jsxs("div",{className:"relative w-full max-w-md hidden md:block",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(ie,{type:"search",placeholder:"Buscar clientes, pedidos, conversas...",className:"pl-10 bg-muted/40 border-none focus-visible:ring-1",value:e,onChange:u=>t(u.target.value)})]}),i.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[i.jsx(B,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(N6,{className:"h-5 w-5"})}),i.jsxs(B,{variant:"ghost",size:"icon",className:"text-muted-foreground relative",children:[i.jsx(Ok,{className:"h-5 w-5"}),i.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-primary rounded-full"})]}),i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsxs(B,{variant:"ghost",className:"gap-2",children:[i.jsx(Bi,{className:"h-8 w-8",children:i.jsx(zi,{className:"bg-primary/10 text-primary text-sm",children:((o=n==null?void 0:n.email)==null?void 0:o.charAt(0).toUpperCase())||"U"})}),i.jsxs("div",{className:"hidden md:block text-left",children:[i.jsx("p",{className:"text-sm font-medium",children:((l=n==null?void 0:n.email)==null?void 0:l.split("@")[0])||"User"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:((c=s==null?void 0:s.plan)==null?void 0:c.name)||"Free Plan"})]}),i.jsx(Ik,{className:"h-4 w-4 text-muted-foreground hidden md:block"})]})}),i.jsxs(Ea,{align:"end",className:"w-56",children:[i.jsx(Q8,{children:"Minha Conta"}),i.jsx(qN,{}),i.jsxs(at,{children:[i.jsx(Ga,{className:"mr-2 h-4 w-4"}),"Perfil"]}),i.jsxs(at,{children:[i.jsx(oc,{className:"mr-2 h-4 w-4"}),"Configuraes"]}),i.jsx(qN,{}),i.jsx(at,{onClick:a,children:"Sair"})]})]})]})]})}function kr({children:e}){return i.jsxs("div",{className:"min-h-screen bg-background flex",children:[i.jsx(bde,{}),i.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[i.jsx(khe,{}),i.jsx("main",{className:"flex-1 w-full p-0",children:i.jsx("div",{className:"p-6 w-full h-full max-w-[1600px] mx-auto",children:e})})]})]})}function Ahe({title:e,value:t,icon:n,trend:r,index:s,className:a,valueClassName:o,iconClassName:l}){return i.jsx(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1},children:i.jsx(re,{className:ve("hover:shadow-md transition-all duration-300",a),children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),i.jsx("p",{className:ve("text-2xl font-bold",o),children:t}),r&&i.jsxs("p",{className:ve("text-xs flex items-center gap-1",r.isPositive?"text-green-600":"text-red-600"),children:[i.jsx("span",{className:ve("inline-block",r.isPositive?"border-l border-b rotate-45":"border-l border-t -rotate-45"),style:{width:"6px",height:"6px"}}),r.isPositive?"+":"",r.value,"% desde o ms passado"]})]}),i.jsx("div",{className:ve("flex items-center justify-center w-12 h-12 rounded-full bg-primary/10",l),children:i.jsx(n,{className:"h-6 w-6 text-primary"})})]})})})})}var Phe=Array.isArray,Yr=Phe,The=typeof fr=="object"&&fr&&fr.Object===Object&&fr,Z8=The,Ohe=Z8,Ihe=typeof self=="object"&&self&&self.Object===Object&&self,Dhe=Ohe||Ihe||Function("return this")(),ai=Dhe,Mhe=ai,Rhe=Mhe.Symbol,Xp=Rhe,rD=Xp,eW=Object.prototype,$he=eW.hasOwnProperty,Lhe=eW.toString,If=rD?rD.toStringTag:void 0;function Fhe(e){var t=$he.call(e,If),n=e[If];try{e[If]=void 0;var r=!0}catch{}var s=Lhe.call(e);return r&&(t?e[If]=n:delete e[If]),s}var Bhe=Fhe,zhe=Object.prototype,Whe=zhe.toString;function Vhe(e){return Whe.call(e)}var Uhe=Vhe,sD=Xp,qhe=Bhe,Hhe=Uhe,Ghe="[object Null]",Khe="[object Undefined]",aD=sD?sD.toStringTag:void 0;function Yhe(e){return e==null?e===void 0?Khe:Ghe:aD&&aD in Object(e)?qhe(e):Hhe(e)}var Ji=Yhe;function Xhe(e){return e!=null&&typeof e=="object"}var Qi=Xhe,Jhe=Ji,Qhe=Qi,Zhe="[object Symbol]";function eme(e){return typeof e=="symbol"||Qhe(e)&&Jhe(e)==Zhe}var ef=eme,tme=Yr,nme=ef,rme=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sme=/^\w*$/;function ame(e,t){if(tme(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||nme(e)?!0:sme.test(e)||!rme.test(e)||t!=null&&e in Object(t)}var cA=ame;function ime(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var dl=ime;const tf=mt(dl);var ome=Ji,lme=dl,cme="[object AsyncFunction]",ume="[object Function]",dme="[object GeneratorFunction]",fme="[object Proxy]";function hme(e){if(!lme(e))return!1;var t=ome(e);return t==ume||t==dme||t==cme||t==fme}var uA=hme;const We=mt(uA);var mme=ai,pme=mme["__core-js_shared__"],gme=pme,r1=gme,iD=function(){var e=/[^.]+$/.exec(r1&&r1.keys&&r1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function vme(e){return!!iD&&iD in e}var yme=vme,xme=Function.prototype,wme=xme.toString;function bme(e){if(e!=null){try{return wme.call(e)}catch{}try{return e+""}catch{}}return""}var tW=bme,jme=uA,Sme=yme,Nme=dl,_me=tW,Cme=/[\\^$.*+?()[\]{}|]/g,Eme=/^\[object .+?Constructor\]$/,kme=Function.prototype,Ame=Object.prototype,Pme=kme.toString,Tme=Ame.hasOwnProperty,Ome=RegExp("^"+Pme.call(Tme).replace(Cme,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ime(e){if(!Nme(e)||Sme(e))return!1;var t=jme(e)?Ome:Eme;return t.test(_me(e))}var Dme=Ime;function Mme(e,t){return e==null?void 0:e[t]}var Rme=Mme,$me=Dme,Lme=Rme;function Fme(e,t){var n=Lme(e,t);return $me(n)?n:void 0}var Pc=Fme,Bme=Pc,zme=Bme(Object,"create"),bw=zme,oD=bw;function Wme(){this.__data__=oD?oD(null):{},this.size=0}var Vme=Wme;function Ume(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qme=Ume,Hme=bw,Gme="__lodash_hash_undefined__",Kme=Object.prototype,Yme=Kme.hasOwnProperty;function Xme(e){var t=this.__data__;if(Hme){var n=t[e];return n===Gme?void 0:n}return Yme.call(t,e)?t[e]:void 0}var Jme=Xme,Qme=bw,Zme=Object.prototype,epe=Zme.hasOwnProperty;function tpe(e){var t=this.__data__;return Qme?t[e]!==void 0:epe.call(t,e)}var npe=tpe,rpe=bw,spe="__lodash_hash_undefined__";function ape(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=rpe&&t===void 0?spe:t,this}var ipe=ape,ope=Vme,lpe=qme,cpe=Jme,upe=npe,dpe=ipe;function nf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}nf.prototype.clear=ope;nf.prototype.delete=lpe;nf.prototype.get=cpe;nf.prototype.has=upe;nf.prototype.set=dpe;var fpe=nf;function hpe(){this.__data__=[],this.size=0}var mpe=hpe;function ppe(e,t){return e===t||e!==e&&t!==t}var dA=ppe,gpe=dA;function vpe(e,t){for(var n=e.length;n--;)if(gpe(e[n][0],t))return n;return-1}var jw=vpe,ype=jw,xpe=Array.prototype,wpe=xpe.splice;function bpe(e){var t=this.__data__,n=ype(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():wpe.call(t,n,1),--this.size,!0}var jpe=bpe,Spe=jw;function Npe(e){var t=this.__data__,n=Spe(t,e);return n<0?void 0:t[n][1]}var _pe=Npe,Cpe=jw;function Epe(e){return Cpe(this.__data__,e)>-1}var kpe=Epe,Ape=jw;function Ppe(e,t){var n=this.__data__,r=Ape(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Tpe=Ppe,Ope=mpe,Ipe=jpe,Dpe=_pe,Mpe=kpe,Rpe=Tpe;function rf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}rf.prototype.clear=Ope;rf.prototype.delete=Ipe;rf.prototype.get=Dpe;rf.prototype.has=Mpe;rf.prototype.set=Rpe;var Sw=rf,$pe=Pc,Lpe=ai,Fpe=$pe(Lpe,"Map"),fA=Fpe,lD=fpe,Bpe=Sw,zpe=fA;function Wpe(){this.size=0,this.__data__={hash:new lD,map:new(zpe||Bpe),string:new lD}}var Vpe=Wpe;function Upe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var qpe=Upe,Hpe=qpe;function Gpe(e,t){var n=e.__data__;return Hpe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Nw=Gpe,Kpe=Nw;function Ype(e){var t=Kpe(this,e).delete(e);return this.size-=t?1:0,t}var Xpe=Ype,Jpe=Nw;function Qpe(e){return Jpe(this,e).get(e)}var Zpe=Qpe,ege=Nw;function tge(e){return ege(this,e).has(e)}var nge=tge,rge=Nw;function sge(e,t){var n=rge(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var age=sge,ige=Vpe,oge=Xpe,lge=Zpe,cge=nge,uge=age;function sf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sf.prototype.clear=ige;sf.prototype.delete=oge;sf.prototype.get=lge;sf.prototype.has=cge;sf.prototype.set=uge;var hA=sf,nW=hA,dge="Expected a function";function mA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(dge);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],a=n.cache;if(a.has(s))return a.get(s);var o=e.apply(this,r);return n.cache=a.set(s,o)||a,o};return n.cache=new(mA.Cache||nW),n}mA.Cache=nW;var rW=mA;const fge=mt(rW);var hge=rW,mge=500;function pge(e){var t=hge(e,function(r){return n.size===mge&&n.clear(),r}),n=t.cache;return t}var gge=pge,vge=gge,yge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xge=/\\(\\)?/g,wge=vge(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yge,function(n,r,s,a){t.push(s?a.replace(xge,"$1"):r||n)}),t}),bge=wge;function jge(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var pA=jge,cD=Xp,Sge=pA,Nge=Yr,_ge=ef,Cge=1/0,uD=cD?cD.prototype:void 0,dD=uD?uD.toString:void 0;function sW(e){if(typeof e=="string")return e;if(Nge(e))return Sge(e,sW)+"";if(_ge(e))return dD?dD.call(e):"";var t=e+"";return t=="0"&&1/e==-Cge?"-0":t}var Ege=sW,kge=Ege;function Age(e){return e==null?"":kge(e)}var aW=Age,Pge=Yr,Tge=cA,Oge=bge,Ige=aW;function Dge(e,t){return Pge(e)?e:Tge(e,t)?[e]:Oge(Ige(e))}var iW=Dge,Mge=ef,Rge=1/0;function $ge(e){if(typeof e=="string"||Mge(e))return e;var t=e+"";return t=="0"&&1/e==-Rge?"-0":t}var _w=$ge,Lge=iW,Fge=_w;function Bge(e,t){t=Lge(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Fge(t[n++])];return n&&n==r?e:void 0}var gA=Bge,zge=gA;function Wge(e,t,n){var r=e==null?void 0:zge(e,t);return r===void 0?n:r}var oW=Wge;const hs=mt(oW);function Vge(e){return e==null}var Uge=Vge;const qe=mt(Uge);var qge=Ji,Hge=Yr,Gge=Qi,Kge="[object String]";function Yge(e){return typeof e=="string"||!Hge(e)&&Gge(e)&&qge(e)==Kge}var Xge=Yge;const Jp=mt(Xge);var lW={exports:{}},bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bn=typeof Symbol=="function"&&Symbol.for,vA=Bn?Symbol.for("react.element"):60103,yA=Bn?Symbol.for("react.portal"):60106,Cw=Bn?Symbol.for("react.fragment"):60107,Ew=Bn?Symbol.for("react.strict_mode"):60108,kw=Bn?Symbol.for("react.profiler"):60114,Aw=Bn?Symbol.for("react.provider"):60109,Pw=Bn?Symbol.for("react.context"):60110,xA=Bn?Symbol.for("react.async_mode"):60111,Tw=Bn?Symbol.for("react.concurrent_mode"):60111,Ow=Bn?Symbol.for("react.forward_ref"):60112,Iw=Bn?Symbol.for("react.suspense"):60113,Jge=Bn?Symbol.for("react.suspense_list"):60120,Dw=Bn?Symbol.for("react.memo"):60115,Mw=Bn?Symbol.for("react.lazy"):60116,Qge=Bn?Symbol.for("react.block"):60121,Zge=Bn?Symbol.for("react.fundamental"):60117,eve=Bn?Symbol.for("react.responder"):60118,tve=Bn?Symbol.for("react.scope"):60119;function Ns(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case vA:switch(e=e.type,e){case xA:case Tw:case Cw:case kw:case Ew:case Iw:return e;default:switch(e=e&&e.$$typeof,e){case Pw:case Ow:case Mw:case Dw:case Aw:return e;default:return t}}case yA:return t}}}function cW(e){return Ns(e)===Tw}bt.AsyncMode=xA;bt.ConcurrentMode=Tw;bt.ContextConsumer=Pw;bt.ContextProvider=Aw;bt.Element=vA;bt.ForwardRef=Ow;bt.Fragment=Cw;bt.Lazy=Mw;bt.Memo=Dw;bt.Portal=yA;bt.Profiler=kw;bt.StrictMode=Ew;bt.Suspense=Iw;bt.isAsyncMode=function(e){return cW(e)||Ns(e)===xA};bt.isConcurrentMode=cW;bt.isContextConsumer=function(e){return Ns(e)===Pw};bt.isContextProvider=function(e){return Ns(e)===Aw};bt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===vA};bt.isForwardRef=function(e){return Ns(e)===Ow};bt.isFragment=function(e){return Ns(e)===Cw};bt.isLazy=function(e){return Ns(e)===Mw};bt.isMemo=function(e){return Ns(e)===Dw};bt.isPortal=function(e){return Ns(e)===yA};bt.isProfiler=function(e){return Ns(e)===kw};bt.isStrictMode=function(e){return Ns(e)===Ew};bt.isSuspense=function(e){return Ns(e)===Iw};bt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Cw||e===Tw||e===kw||e===Ew||e===Iw||e===Jge||typeof e=="object"&&e!==null&&(e.$$typeof===Mw||e.$$typeof===Dw||e.$$typeof===Aw||e.$$typeof===Pw||e.$$typeof===Ow||e.$$typeof===Zge||e.$$typeof===eve||e.$$typeof===tve||e.$$typeof===Qge)};bt.typeOf=Ns;lW.exports=bt;var Gy=lW.exports,nve=Ji,rve=Qi,sve="[object Number]";function ave(e){return typeof e=="number"||rve(e)&&nve(e)==sve}var uW=ave;const ive=mt(uW);var ove=uW;function lve(e){return ove(e)&&e!=+e}var cve=lve;const Qp=mt(cve);var Sr=function(t){return t===0?0:t>0?1:-1},Wl=function(t){return Jp(t)&&t.indexOf("%")===t.length-1},we=function(t){return ive(t)&&!Qp(t)},Nn=function(t){return we(t)||Jp(t)},uve=0,af=function(t){var n=++uve;return"".concat(t||"").concat(n)},Nr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(t)&&!Jp(t))return r;var a;if(Wl(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Qp(a)&&(a=r),s&&a>n&&(a=n),a},jo=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},dve=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},s=0;s<n;s++)if(!r[t[s]])r[t[s]]=!0;else return!0;return!1},as=function(t,n){return we(t)&&we(n)?function(r){return t+r*(n-t)}:function(){return n}};function Ky(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):hs(r,t))===n})}function Bu(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function HN(e){"@babel/helpers - typeof";return HN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HN(e)}var fve=["viewBox","children"],hve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fD=["points","pathLength"],s1={svg:fve,polygon:fD,polyline:fD},wA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Yy=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(v.isValidElement(t)&&(r=t.props),!tf(r))return null;var s={};return Object.keys(r).forEach(function(a){wA.includes(a)&&(s[a]=n||function(o){return r[a](r,o)})}),s},mve=function(t,n,r){return function(s){return t(n,r,s),null}},dc=function(t,n,r){if(!tf(t)||HN(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var o=t[a];wA.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=mve(o,n,r))}),s},pve=["children"],gve=["children"];function hD(e,t){if(e==null)return{};var n=vve(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vve(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function GN(e){"@babel/helpers - typeof";return GN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GN(e)}var mD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ai=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},pD=null,a1=null,bA=function e(t){if(t===pD&&Array.isArray(a1))return a1;var n=[];return v.Children.forEach(t,function(r){qe(r)||(Gy.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),a1=n,pD=t,n};function ms(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(s){return Ai(s)}):r=[Ai(t)],bA(e).forEach(function(s){var a=hs(s,"type.displayName")||hs(s,"type.name");r.indexOf(a)!==-1&&n.push(s)}),n}function ns(e,t){var n=ms(e,t);return n&&n[0]}var gD=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,s=n.height;return!(!we(r)||r<=0||!we(s)||s<=0)},yve=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],xve=function(t){return t&&t.type&&Jp(t.type)&&yve.indexOf(t.type)>=0},wve=function(t){return t&&GN(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},bve=function(t,n,r,s){var a,o=(a=s1==null?void 0:s1[s])!==null&&a!==void 0?a:[];return!We(t)&&(s&&o.includes(n)||hve.includes(n))||r&&wA.includes(n)},$e=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!tf(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;bve((l=s)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=s[o])}),a},KN=function e(t,n){if(t===n)return!0;var r=v.Children.count(t);if(r!==v.Children.count(n))return!1;if(r===0)return!0;if(r===1)return vD(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var a=t[s],o=n[s];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!vD(a,o))return!1}return!0},vD=function(t,n){if(qe(t)&&qe(n))return!0;if(!qe(t)&&!qe(n)){var r=t.props||{},s=r.children,a=hD(r,pve),o=n.props||{},l=o.children,c=hD(o,gve);return s&&l?Bu(a,c)&&KN(s,l):!s&&!l?Bu(a,c):!1}return!1},yD=function(t,n){var r=[],s={};return bA(t).forEach(function(a,o){if(xve(a))r.push(a);else if(a){var l=Ai(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(a,l,o);r.push(f),s[l]=!0}}}),r},jve=function(t){var n=t&&t.type;return n&&mD[n]?mD[n]:null},Sve=function(t,n){return bA(n).indexOf(t)},Nve=["children","width","height","viewBox","className","style","title","desc"];function YN(){return YN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YN.apply(this,arguments)}function _ve(e,t){if(e==null)return{};var n=Cve(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cve(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function XN(e){var t=e.children,n=e.width,r=e.height,s=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=_ve(e,Nve),d=s||{width:n,height:r,x:0,y:0},f=Ye("recharts-surface",a);return P.createElement("svg",YN({},$e(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),P.createElement("title",null,l),P.createElement("desc",null,c),t)}var Eve=["children","className"];function JN(){return JN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JN.apply(this,arguments)}function kve(e,t){if(e==null)return{};var n=Ave(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ave(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var dt=P.forwardRef(function(e,t){var n=e.children,r=e.className,s=kve(e,Eve),a=Ye("recharts-layer",r);return P.createElement("g",JN({className:a},$e(s,!0),{ref:t}),n)}),xa=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a]};function Pve(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(s);++r<s;)a[r]=e[r+t];return a}var Tve=Pve,Ove=Tve;function Ive(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Ove(e,t,n)}var Dve=Ive,Mve="\\ud800-\\udfff",Rve="\\u0300-\\u036f",$ve="\\ufe20-\\ufe2f",Lve="\\u20d0-\\u20ff",Fve=Rve+$ve+Lve,Bve="\\ufe0e\\ufe0f",zve="\\u200d",Wve=RegExp("["+zve+Mve+Fve+Bve+"]");function Vve(e){return Wve.test(e)}var dW=Vve;function Uve(e){return e.split("")}var qve=Uve,fW="\\ud800-\\udfff",Hve="\\u0300-\\u036f",Gve="\\ufe20-\\ufe2f",Kve="\\u20d0-\\u20ff",Yve=Hve+Gve+Kve,Xve="\\ufe0e\\ufe0f",Jve="["+fW+"]",QN="["+Yve+"]",ZN="\\ud83c[\\udffb-\\udfff]",Qve="(?:"+QN+"|"+ZN+")",hW="[^"+fW+"]",mW="(?:\\ud83c[\\udde6-\\uddff]){2}",pW="[\\ud800-\\udbff][\\udc00-\\udfff]",Zve="\\u200d",gW=Qve+"?",vW="["+Xve+"]?",eye="(?:"+Zve+"(?:"+[hW,mW,pW].join("|")+")"+vW+gW+")*",tye=vW+gW+eye,nye="(?:"+[hW+QN+"?",QN,mW,pW,Jve].join("|")+")",rye=RegExp(ZN+"(?="+ZN+")|"+nye+tye,"g");function sye(e){return e.match(rye)||[]}var aye=sye,iye=qve,oye=dW,lye=aye;function cye(e){return oye(e)?lye(e):iye(e)}var uye=cye,dye=Dve,fye=dW,hye=uye,mye=aW;function pye(e){return function(t){t=mye(t);var n=fye(t)?hye(t):void 0,r=n?n[0]:t.charAt(0),s=n?dye(n,1).join(""):t.slice(1);return r[e]()+s}}var gye=pye,vye=gye,yye=vye("toUpperCase"),xye=yye;const Rw=mt(xye);function At(e){return function(){return e}}const yW=Math.cos,Xy=Math.sin,Aa=Math.sqrt,Jy=Math.PI,$w=2*Jy,e_=Math.PI,t_=2*e_,Pl=1e-6,wye=t_-Pl;function xW(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function bye(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xW;const n=10**t;return function(r){this._+=r[0];for(let s=1,a=r.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class jye{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xW:bye(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,a,o){this._append`C${+t},${+n},${+r},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,s,a){if(t=+t,n=+n,r=+r,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-t,u=s-n,d=o-t,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Pl)if(!(Math.abs(f*c-u*d)>Pl)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,g=s-l,p=c*c+u*u,y=m*m+g*g,x=Math.sqrt(p),b=Math.sqrt(h),j=a*Math.tan((e_-Math.acos((p+h-y)/(2*x*b)))/2),w=j/b,S=j/x;Math.abs(w-1)>Pl&&this._append`L${t+w*d},${n+w*f}`,this._append`A${a},${a},0,0,${+(f*m>d*g)},${this._x1=t+S*c},${this._y1=n+S*u}`}}arc(t,n,r,s,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),u=t+l,d=n+c,f=1^o,h=o?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Pl||Math.abs(this._y1-d)>Pl)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%t_+t_),h>wye?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Pl&&this._append`A${r},${r},0,${+(h>=e_)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function jA(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new jye(t)}function SA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wW(e){this._context=e}wW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Lw(e){return new wW(e)}function bW(e){return e[0]}function jW(e){return e[1]}function SW(e,t){var n=At(!0),r=null,s=Lw,a=null,o=jA(l);e=typeof e=="function"?e:e===void 0?bW:At(e),t=typeof t=="function"?t:t===void 0?jW:At(t);function l(c){var u,d=(c=SA(c)).length,f,h=!1,m;for(r==null&&(a=s(m=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:At(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:At(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:At(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(a=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=a=null:a=s(r=c),l):r},l}function Yg(e,t,n){var r=null,s=At(!0),a=null,o=Lw,l=null,c=jA(u);e=typeof e=="function"?e:e===void 0?bW:At(+e),t=typeof t=="function"?t:At(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?jW:At(+n);function u(f){var h,m,g,p=(f=SA(f)).length,y,x=!1,b,j=new Array(p),w=new Array(p);for(a==null&&(l=o(b=c())),h=0;h<=p;++h){if(!(h<p&&s(y=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(j[g],w[g]);l.lineEnd(),l.areaEnd()}x&&(j[h]=+e(y,h,f),w[h]=+t(y,h,f),l.point(r?+r(y,h,f):j[h],n?+n(y,h,f):w[h]))}if(b)return l=null,b+""||null}function d(){return SW().defined(s).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:At(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:At(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:At(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:At(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:At(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:At(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:At(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class NW{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Sye(e){return new NW(e,!0)}function Nye(e){return new NW(e,!1)}const NA={draw(e,t){const n=Aa(t/Jy);e.moveTo(n,0),e.arc(0,0,n,0,$w)}},_ye={draw(e,t){const n=Aa(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},_W=Aa(1/3),Cye=_W*2,Eye={draw(e,t){const n=Aa(t/Cye),r=n*_W;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},kye={draw(e,t){const n=Aa(t),r=-n/2;e.rect(r,r,n,n)}},Aye=.8908130915292852,CW=Xy(Jy/10)/Xy(7*Jy/10),Pye=Xy($w/10)*CW,Tye=-yW($w/10)*CW,Oye={draw(e,t){const n=Aa(t*Aye),r=Pye*n,s=Tye*n;e.moveTo(0,-n),e.lineTo(r,s);for(let a=1;a<5;++a){const o=$w*a/5,l=yW(o),c=Xy(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*s,c*r+l*s)}e.closePath()}},i1=Aa(3),Iye={draw(e,t){const n=-Aa(t/(i1*3));e.moveTo(0,n*2),e.lineTo(-i1*n,-n),e.lineTo(i1*n,-n),e.closePath()}},Es=-.5,ks=Aa(3)/2,n_=1/Aa(12),Dye=(n_/2+1)*3,Mye={draw(e,t){const n=Aa(t/Dye),r=n/2,s=n*n_,a=r,o=n*n_+n,l=-a,c=o;e.moveTo(r,s),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Es*r-ks*s,ks*r+Es*s),e.lineTo(Es*a-ks*o,ks*a+Es*o),e.lineTo(Es*l-ks*c,ks*l+Es*c),e.lineTo(Es*r+ks*s,Es*s-ks*r),e.lineTo(Es*a+ks*o,Es*o-ks*a),e.lineTo(Es*l+ks*c,Es*c-ks*l),e.closePath()}};function Rye(e,t){let n=null,r=jA(s);e=typeof e=="function"?e:At(e||NA),t=typeof t=="function"?t:At(t===void 0?64:+t);function s(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:At(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:At(+a),s):t},s.context=function(a){return arguments.length?(n=a??null,s):n},s}function Qy(){}function Zy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function EW(e){this._context=e}EW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $ye(e){return new EW(e)}function kW(e){this._context=e}kW.prototype={areaStart:Qy,areaEnd:Qy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lye(e){return new kW(e)}function AW(e){this._context=e}AW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Zy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fye(e){return new AW(e)}function PW(e){this._context=e}PW.prototype={areaStart:Qy,areaEnd:Qy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Bye(e){return new PW(e)}function xD(e){return e<0?-1:1}function wD(e,t,n){var r=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(r||s<0&&-0),o=(n-e._y1)/(s||r<0&&-0),l=(a*s+o*r)/(r+s);return(xD(a)+xD(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function bD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function o1(e,t,n){var r=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,s+l*t,a-l,o-l*n,a,o)}function ex(e){this._context=e}ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o1(this,this._t0,bD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o1(this,bD(this,n=wD(this,e,t)),n);break;default:o1(this,this._t0,n=wD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function TW(e){this._context=new OW(e)}(TW.prototype=Object.create(ex.prototype)).point=function(e,t){ex.prototype.point.call(this,t,e)};function OW(e){this._context=e}OW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,a){this._context.bezierCurveTo(t,e,r,n,a,s)}};function zye(e){return new ex(e)}function Wye(e){return new TW(e)}function IW(e){this._context=e}IW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=jD(e),s=jD(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],s[0][a],r[1][a],s[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function jD(e){var t,n=e.length-1,r,s=new Array(n),a=new Array(n),o=new Array(n);for(s[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(s[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/a[t];for(a[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function Vye(e){return new IW(e)}function Fw(e,t){this._context=e,this._t=t}Fw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Uye(e){return new Fw(e,.5)}function qye(e){return new Fw(e,0)}function Hye(e){return new Fw(e,1)}function cd(e,t){if((o=e.length)>1)for(var n=1,r,s,a=e[t[0]],o,l=a.length;n<o;++n)for(s=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function r_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Gye(e,t){return e[t]}function Kye(e){const t=[];return t.key=e,t}function Yye(){var e=At([]),t=r_,n=cd,r=Gye;function s(a){var o=Array.from(e.apply(this,arguments),Kye),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,a)]).data=f;for(l=0,d=SA(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:At(Array.from(a)),s):e},s.value=function(a){return arguments.length?(r=typeof a=="function"?a:At(+a),s):r},s.order=function(a){return arguments.length?(t=a==null?r_:typeof a=="function"?a:At(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(n=a??cd,s):n},s}function Xye(e,t){if((r=e.length)>0){for(var n,r,s=0,a=e[0].length,o;s<a;++s){for(o=n=0;n<r;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<r;++n)e[n][s][1]/=o}cd(e,t)}}function Jye(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,a=r.length;n<a;++n){for(var o=0,l=0;o<s;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}cd(e,t)}}function Qye(e,t){if(!(!((o=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,a,o;r<a;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],y=p[r][1]||0,x=p[r-1][1]||0;m+=y-x}c+=f,u+=m*f}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,cd(e,t)}}function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}var Zye=["type","size","sizeType"];function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s_.apply(this,arguments)}function SD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ND(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SD(Object(n),!0).forEach(function(r){exe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function exe(e,t,n){return t=txe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function txe(e){var t=nxe(e,"string");return _m(t)=="symbol"?t:String(t)}function nxe(e,t){if(_m(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rxe(e,t){if(e==null)return{};var n=sxe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sxe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var DW={symbolCircle:NA,symbolCross:_ye,symbolDiamond:Eye,symbolSquare:kye,symbolStar:Oye,symbolTriangle:Iye,symbolWye:Mye},axe=Math.PI/180,ixe=function(t){var n="symbol".concat(Rw(t));return DW[n]||NA},oxe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*axe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},lxe=function(t,n){DW["symbol".concat(Rw(t))]=n},_A=function(t){var n=t.type,r=n===void 0?"circle":n,s=t.size,a=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=rxe(t,Zye),u=ND(ND({},c),{},{type:r,size:a,sizeType:l}),d=function(){var y=ixe(r),x=Rye().type(y).size(oxe(a,l,r));return x()},f=u.className,h=u.cx,m=u.cy,g=$e(u,!0);return h===+h&&m===+m&&a===+a?P.createElement("path",s_({},g,{className:Ye("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};_A.registerSymbol=lxe;function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a_.apply(this,arguments)}function _D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function cxe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_D(Object(n),!0).forEach(function(r){Cm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dxe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RW(r.key),r)}}function fxe(e,t,n){return t&&dxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hxe(e,t,n){return t=tx(t),mxe(e,MW()?Reflect.construct(t,n||[],tx(e).constructor):t.apply(e,n))}function mxe(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pxe(e)}function pxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MW=function(){return!!e})()}function tx(e){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tx(e)}function gxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i_(e,t)}function i_(e,t){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},i_(e,t)}function Cm(e,t,n){return t=RW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RW(e){var t=vxe(e,"string");return ud(t)=="symbol"?t:String(t)}function vxe(e,t){if(ud(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var As=32,CA=function(e){gxe(t,e);function t(){return uxe(this,t),hxe(this,t,arguments)}return fxe(t,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,a=As/2,o=As/6,l=As/3,c=r.inactive?s:r.color;if(r.type==="plainline")return P.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:As,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return P.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(As,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return P.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(As/8,"h").concat(As,"v").concat(As*3/4,"h").concat(-As,"z"),className:"recharts-legend-icon"});if(P.isValidElement(r.legendIcon)){var u=cxe({},r);return delete u.legendIcon,P.cloneElement(r.legendIcon,u)}return P.createElement(_A,{fill:c,cx:a,cy:a,size:As,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:As,height:As},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,g){var p=m.formatter||c,y=Ye(Cm(Cm({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=We(m.value)?null:m.value;xa(!We(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return P.createElement("li",a_({className:y,style:f,key:"legend-item-".concat(g)},dc(r.props,m,g)),P.createElement(XN,{width:o,height:o,viewBox:d,style:h},r.renderIcon(m)),P.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(x,m,g):x))})}},{key:"render",value:function(){var r=this.props,s=r.payload,a=r.layout,o=r.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return P.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}]),t}(v.PureComponent);Cm(CA,"displayName","Legend");Cm(CA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yxe=Sw;function xxe(){this.__data__=new yxe,this.size=0}var wxe=xxe;function bxe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var jxe=bxe;function Sxe(e){return this.__data__.get(e)}var Nxe=Sxe;function _xe(e){return this.__data__.has(e)}var Cxe=_xe,Exe=Sw,kxe=fA,Axe=hA,Pxe=200;function Txe(e,t){var n=this.__data__;if(n instanceof Exe){var r=n.__data__;if(!kxe||r.length<Pxe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Axe(r)}return n.set(e,t),this.size=n.size,this}var Oxe=Txe,Ixe=Sw,Dxe=wxe,Mxe=jxe,Rxe=Nxe,$xe=Cxe,Lxe=Oxe;function of(e){var t=this.__data__=new Ixe(e);this.size=t.size}of.prototype.clear=Dxe;of.prototype.delete=Mxe;of.prototype.get=Rxe;of.prototype.has=$xe;of.prototype.set=Lxe;var $W=of,Fxe="__lodash_hash_undefined__";function Bxe(e){return this.__data__.set(e,Fxe),this}var zxe=Bxe;function Wxe(e){return this.__data__.has(e)}var Vxe=Wxe,Uxe=hA,qxe=zxe,Hxe=Vxe;function nx(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Uxe;++t<n;)this.add(e[t])}nx.prototype.add=nx.prototype.push=qxe;nx.prototype.has=Hxe;var LW=nx;function Gxe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var FW=Gxe;function Kxe(e,t){return e.has(t)}var BW=Kxe,Yxe=LW,Xxe=FW,Jxe=BW,Qxe=1,Zxe=2;function e0e(e,t,n,r,s,a){var o=n&Qxe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=n&Zxe?new Yxe:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var g=e[f],p=t[f];if(r)var y=o?r(p,g,f,t,e,a):r(g,p,f,e,t,a);if(y!==void 0){if(y)continue;h=!1;break}if(m){if(!Xxe(t,function(x,b){if(!Jxe(m,b)&&(g===x||s(g,x,n,r,a)))return m.push(b)})){h=!1;break}}else if(!(g===p||s(g,p,n,r,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var zW=e0e,t0e=ai,n0e=t0e.Uint8Array,r0e=n0e;function s0e(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}var a0e=s0e;function i0e(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var EA=i0e,CD=Xp,ED=r0e,o0e=dA,l0e=zW,c0e=a0e,u0e=EA,d0e=1,f0e=2,h0e="[object Boolean]",m0e="[object Date]",p0e="[object Error]",g0e="[object Map]",v0e="[object Number]",y0e="[object RegExp]",x0e="[object Set]",w0e="[object String]",b0e="[object Symbol]",j0e="[object ArrayBuffer]",S0e="[object DataView]",kD=CD?CD.prototype:void 0,l1=kD?kD.valueOf:void 0;function N0e(e,t,n,r,s,a,o){switch(n){case S0e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case j0e:return!(e.byteLength!=t.byteLength||!a(new ED(e),new ED(t)));case h0e:case m0e:case v0e:return o0e(+e,+t);case p0e:return e.name==t.name&&e.message==t.message;case y0e:case w0e:return e==t+"";case g0e:var l=c0e;case x0e:var c=r&d0e;if(l||(l=u0e),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=f0e,o.set(e,t);var d=l0e(l(e),l(t),r,s,a,o);return o.delete(e),d;case b0e:if(l1)return l1.call(e)==l1.call(t)}return!1}var _0e=N0e;function C0e(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var WW=C0e,E0e=WW,k0e=Yr;function A0e(e,t,n){var r=t(e);return k0e(e)?r:E0e(r,n(e))}var P0e=A0e;function T0e(e,t){for(var n=-1,r=e==null?0:e.length,s=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[s++]=o)}return a}var O0e=T0e;function I0e(){return[]}var D0e=I0e,M0e=O0e,R0e=D0e,$0e=Object.prototype,L0e=$0e.propertyIsEnumerable,AD=Object.getOwnPropertySymbols,F0e=AD?function(e){return e==null?[]:(e=Object(e),M0e(AD(e),function(t){return L0e.call(e,t)}))}:R0e,B0e=F0e;function z0e(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var W0e=z0e,V0e=Ji,U0e=Qi,q0e="[object Arguments]";function H0e(e){return U0e(e)&&V0e(e)==q0e}var G0e=H0e,PD=G0e,K0e=Qi,VW=Object.prototype,Y0e=VW.hasOwnProperty,X0e=VW.propertyIsEnumerable,J0e=PD(function(){return arguments}())?PD:function(e){return K0e(e)&&Y0e.call(e,"callee")&&!X0e.call(e,"callee")},kA=J0e,rx={exports:{}};function Q0e(){return!1}var Z0e=Q0e;rx.exports;(function(e,t){var n=ai,r=Z0e,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(rx,rx.exports);var UW=rx.exports,ewe=9007199254740991,twe=/^(?:0|[1-9]\d*)$/;function nwe(e,t){var n=typeof e;return t=t??ewe,!!t&&(n=="number"||n!="symbol"&&twe.test(e))&&e>-1&&e%1==0&&e<t}var AA=nwe,rwe=9007199254740991;function swe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rwe}var PA=swe,awe=Ji,iwe=PA,owe=Qi,lwe="[object Arguments]",cwe="[object Array]",uwe="[object Boolean]",dwe="[object Date]",fwe="[object Error]",hwe="[object Function]",mwe="[object Map]",pwe="[object Number]",gwe="[object Object]",vwe="[object RegExp]",ywe="[object Set]",xwe="[object String]",wwe="[object WeakMap]",bwe="[object ArrayBuffer]",jwe="[object DataView]",Swe="[object Float32Array]",Nwe="[object Float64Array]",_we="[object Int8Array]",Cwe="[object Int16Array]",Ewe="[object Int32Array]",kwe="[object Uint8Array]",Awe="[object Uint8ClampedArray]",Pwe="[object Uint16Array]",Twe="[object Uint32Array]",Rt={};Rt[Swe]=Rt[Nwe]=Rt[_we]=Rt[Cwe]=Rt[Ewe]=Rt[kwe]=Rt[Awe]=Rt[Pwe]=Rt[Twe]=!0;Rt[lwe]=Rt[cwe]=Rt[bwe]=Rt[uwe]=Rt[jwe]=Rt[dwe]=Rt[fwe]=Rt[hwe]=Rt[mwe]=Rt[pwe]=Rt[gwe]=Rt[vwe]=Rt[ywe]=Rt[xwe]=Rt[wwe]=!1;function Owe(e){return owe(e)&&iwe(e.length)&&!!Rt[awe(e)]}var Iwe=Owe;function Dwe(e){return function(t){return e(t)}}var qW=Dwe,sx={exports:{}};sx.exports;(function(e,t){var n=Z8,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===r,o=a&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(sx,sx.exports);var Mwe=sx.exports,Rwe=Iwe,$we=qW,TD=Mwe,OD=TD&&TD.isTypedArray,Lwe=OD?$we(OD):Rwe,HW=Lwe,Fwe=W0e,Bwe=kA,zwe=Yr,Wwe=UW,Vwe=AA,Uwe=HW,qwe=Object.prototype,Hwe=qwe.hasOwnProperty;function Gwe(e,t){var n=zwe(e),r=!n&&Bwe(e),s=!n&&!r&&Wwe(e),a=!n&&!r&&!s&&Uwe(e),o=n||r||s||a,l=o?Fwe(e.length,String):[],c=l.length;for(var u in e)(t||Hwe.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vwe(u,c)))&&l.push(u);return l}var Kwe=Gwe,Ywe=Object.prototype;function Xwe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Ywe;return e===n}var Jwe=Xwe;function Qwe(e,t){return function(n){return e(t(n))}}var GW=Qwe,Zwe=GW,ebe=Zwe(Object.keys,Object),tbe=ebe,nbe=Jwe,rbe=tbe,sbe=Object.prototype,abe=sbe.hasOwnProperty;function ibe(e){if(!nbe(e))return rbe(e);var t=[];for(var n in Object(e))abe.call(e,n)&&n!="constructor"&&t.push(n);return t}var obe=ibe,lbe=uA,cbe=PA;function ube(e){return e!=null&&cbe(e.length)&&!lbe(e)}var Zp=ube,dbe=Kwe,fbe=obe,hbe=Zp;function mbe(e){return hbe(e)?dbe(e):fbe(e)}var Bw=mbe,pbe=P0e,gbe=B0e,vbe=Bw;function ybe(e){return pbe(e,vbe,gbe)}var xbe=ybe,ID=xbe,wbe=1,bbe=Object.prototype,jbe=bbe.hasOwnProperty;function Sbe(e,t,n,r,s,a){var o=n&wbe,l=ID(e),c=l.length,u=ID(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:jbe.call(t,h)))return!1}var m=a.get(e),g=a.get(t);if(m&&g)return m==t&&g==e;var p=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){h=l[f];var x=e[h],b=t[h];if(r)var j=o?r(b,x,h,t,e,a):r(x,b,h,e,t,a);if(!(j===void 0?x===b||s(x,b,n,r,a):j)){p=!1;break}y||(y=h=="constructor")}if(p&&!y){var w=e.constructor,S=t.constructor;w!=S&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(p=!1)}return a.delete(e),a.delete(t),p}var Nbe=Sbe,_be=Pc,Cbe=ai,Ebe=_be(Cbe,"DataView"),kbe=Ebe,Abe=Pc,Pbe=ai,Tbe=Abe(Pbe,"Promise"),Obe=Tbe,Ibe=Pc,Dbe=ai,Mbe=Ibe(Dbe,"Set"),KW=Mbe,Rbe=Pc,$be=ai,Lbe=Rbe($be,"WeakMap"),Fbe=Lbe,o_=kbe,l_=fA,c_=Obe,u_=KW,d_=Fbe,YW=Ji,lf=tW,DD="[object Map]",Bbe="[object Object]",MD="[object Promise]",RD="[object Set]",$D="[object WeakMap]",LD="[object DataView]",zbe=lf(o_),Wbe=lf(l_),Vbe=lf(c_),Ube=lf(u_),qbe=lf(d_),Tl=YW;(o_&&Tl(new o_(new ArrayBuffer(1)))!=LD||l_&&Tl(new l_)!=DD||c_&&Tl(c_.resolve())!=MD||u_&&Tl(new u_)!=RD||d_&&Tl(new d_)!=$D)&&(Tl=function(e){var t=YW(e),n=t==Bbe?e.constructor:void 0,r=n?lf(n):"";if(r)switch(r){case zbe:return LD;case Wbe:return DD;case Vbe:return MD;case Ube:return RD;case qbe:return $D}return t});var Hbe=Tl,c1=$W,Gbe=zW,Kbe=_0e,Ybe=Nbe,FD=Hbe,BD=Yr,zD=UW,Xbe=HW,Jbe=1,WD="[object Arguments]",VD="[object Array]",Xg="[object Object]",Qbe=Object.prototype,UD=Qbe.hasOwnProperty;function Zbe(e,t,n,r,s,a){var o=BD(e),l=BD(t),c=o?VD:FD(e),u=l?VD:FD(t);c=c==WD?Xg:c,u=u==WD?Xg:u;var d=c==Xg,f=u==Xg,h=c==u;if(h&&zD(e)){if(!zD(t))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new c1),o||Xbe(e)?Gbe(e,t,n,r,s,a):Kbe(e,t,c,n,r,s,a);if(!(n&Jbe)){var m=d&&UD.call(e,"__wrapped__"),g=f&&UD.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,y=g?t.value():t;return a||(a=new c1),s(p,y,n,r,a)}}return h?(a||(a=new c1),Ybe(e,t,n,r,s,a)):!1}var eje=Zbe,tje=eje,qD=Qi;function XW(e,t,n,r,s){return e===t?!0:e==null||t==null||!qD(e)&&!qD(t)?e!==e&&t!==t:tje(e,t,n,r,XW,s)}var TA=XW,nje=$W,rje=TA,sje=1,aje=2;function ije(e,t,n,r){var s=n.length,a=s,o=!r;if(e==null)return!a;for(e=Object(e);s--;){var l=n[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=n[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new nje;if(r)var h=r(u,d,c,e,t,f);if(!(h===void 0?rje(d,u,sje|aje,r,f):h))return!1}}return!0}var oje=ije,lje=dl;function cje(e){return e===e&&!lje(e)}var JW=cje,uje=JW,dje=Bw;function fje(e){for(var t=dje(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,uje(s)]}return t}var hje=fje;function mje(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var QW=mje,pje=oje,gje=hje,vje=QW;function yje(e){var t=gje(e);return t.length==1&&t[0][2]?vje(t[0][0],t[0][1]):function(n){return n===e||pje(n,e,t)}}var xje=yje;function wje(e,t){return e!=null&&t in Object(e)}var bje=wje,jje=iW,Sje=kA,Nje=Yr,_je=AA,Cje=PA,Eje=_w;function kje(e,t,n){t=jje(t,e);for(var r=-1,s=t.length,a=!1;++r<s;){var o=Eje(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=s?a:(s=e==null?0:e.length,!!s&&Cje(s)&&_je(o,s)&&(Nje(e)||Sje(e)))}var Aje=kje,Pje=bje,Tje=Aje;function Oje(e,t){return e!=null&&Tje(e,t,Pje)}var Ije=Oje,Dje=TA,Mje=oW,Rje=Ije,$je=cA,Lje=JW,Fje=QW,Bje=_w,zje=1,Wje=2;function Vje(e,t){return $je(e)&&Lje(t)?Fje(Bje(e),t):function(n){var r=Mje(n,e);return r===void 0&&r===t?Rje(n,e):Dje(t,r,zje|Wje)}}var Uje=Vje;function qje(e){return e}var cf=qje;function Hje(e){return function(t){return t==null?void 0:t[e]}}var Gje=Hje,Kje=gA;function Yje(e){return function(t){return Kje(t,e)}}var Xje=Yje,Jje=Gje,Qje=Xje,Zje=cA,e1e=_w;function t1e(e){return Zje(e)?Jje(e1e(e)):Qje(e)}var n1e=t1e,r1e=xje,s1e=Uje,a1e=cf,i1e=Yr,o1e=n1e;function l1e(e){return typeof e=="function"?e:e==null?a1e:typeof e=="object"?i1e(e)?s1e(e[0],e[1]):r1e(e):o1e(e)}var ii=l1e;function c1e(e,t,n,r){for(var s=e.length,a=n+(r?1:-1);r?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var ZW=c1e;function u1e(e){return e!==e}var d1e=u1e;function f1e(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var h1e=f1e,m1e=ZW,p1e=d1e,g1e=h1e;function v1e(e,t,n){return t===t?g1e(e,t,n):m1e(e,p1e,n)}var y1e=v1e,x1e=y1e;function w1e(e,t){var n=e==null?0:e.length;return!!n&&x1e(e,t,0)>-1}var b1e=w1e;function j1e(e,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}var S1e=j1e;function N1e(){}var _1e=N1e,u1=KW,C1e=_1e,E1e=EA,k1e=1/0,A1e=u1&&1/E1e(new u1([,-0]))[1]==k1e?function(e){return new u1(e)}:C1e,P1e=A1e,T1e=LW,O1e=b1e,I1e=S1e,D1e=BW,M1e=P1e,R1e=EA,$1e=200;function L1e(e,t,n){var r=-1,s=O1e,a=e.length,o=!0,l=[],c=l;if(n)o=!1,s=I1e;else if(a>=$1e){var u=t?null:M1e(e);if(u)return R1e(u);o=!1,s=D1e,c=new T1e}else c=t?[]:l;e:for(;++r<a;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var F1e=L1e,B1e=ii,z1e=F1e;function W1e(e,t){return e&&e.length?z1e(e,B1e(t)):[]}var V1e=W1e;const HD=mt(V1e);function eV(e,t,n){return t===!0?HD(e,n):We(t)?HD(e,t):e}function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}var U1e=["ref"];function GD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function wl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(n),!0).forEach(function(r){zw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rV(r.key),r)}}function H1e(e,t,n){return t&&KD(e.prototype,t),n&&KD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function G1e(e,t,n){return t=ax(t),K1e(e,tV()?Reflect.construct(t,n||[],ax(e).constructor):t.apply(e,n))}function K1e(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nV(e)}function tV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tV=function(){return!!e})()}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(e)}function nV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},f_(e,t)}function zw(e,t,n){return t=rV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rV(e){var t=X1e(e,"string");return dd(t)=="symbol"?t:String(t)}function X1e(e,t){if(dd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J1e(e,t){if(e==null)return{};var n=Q1e(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Q1e(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Z1e(e){return e.value}function eSe(e,t){if(P.isValidElement(e))return P.cloneElement(e,t);if(typeof e=="function")return P.createElement(e,t);t.ref;var n=J1e(t,U1e);return P.createElement(CA,n)}var YD=1,fd=function(e){Y1e(t,e);function t(){var n;q1e(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=G1e(this,t,[].concat(s)),zw(nV(n),"lastBoundingBox",{width:-1,height:-1}),n}return H1e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>YD||Math.abs(s.height-this.lastBoundingBox.height)>YD)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return wl(wl({},f),h)}},{key:"render",value:function(){var r=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=wl(wl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return P.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},eSe(a,wl(wl({},this.props),{},{payload:eV(d,u,Z1e)})))}}],[{key:"getWithHeight",value:function(r,s){var a=r.props.layout;return a==="vertical"&&we(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||s}:null}}]),t}(v.PureComponent);zw(fd,"displayName","Legend");zw(fd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var XD=Xp,tSe=kA,nSe=Yr,JD=XD?XD.isConcatSpreadable:void 0;function rSe(e){return nSe(e)||tSe(e)||!!(JD&&e&&e[JD])}var sSe=rSe,aSe=WW,iSe=sSe;function sV(e,t,n,r,s){var a=-1,o=e.length;for(n||(n=iSe),s||(s=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?sV(l,t-1,n,r,s):aSe(s,l):r||(s[s.length]=l)}return s}var aV=sV;function oSe(e){return function(t,n,r){for(var s=-1,a=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++s];if(n(a[c],c,a)===!1)break}return t}}var lSe=oSe,cSe=lSe,uSe=cSe(),dSe=uSe,fSe=dSe,hSe=Bw;function mSe(e,t){return e&&fSe(e,t,hSe)}var iV=mSe,pSe=Zp;function gSe(e,t){return function(n,r){if(n==null)return n;if(!pSe(n))return e(n,r);for(var s=n.length,a=t?s:-1,o=Object(n);(t?a--:++a<s)&&r(o[a],a,o)!==!1;);return n}}var vSe=gSe,ySe=iV,xSe=vSe,wSe=xSe(ySe),OA=wSe,bSe=OA,jSe=Zp;function SSe(e,t){var n=-1,r=jSe(e)?Array(e.length):[];return bSe(e,function(s,a,o){r[++n]=t(s,a,o)}),r}var oV=SSe;function NSe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var _Se=NSe,QD=ef;function CSe(e,t){if(e!==t){var n=e!==void 0,r=e===null,s=e===e,a=QD(e),o=t!==void 0,l=t===null,c=t===t,u=QD(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!s)return 1;if(!r&&!a&&!u&&e<t||u&&n&&s&&!r&&!a||l&&n&&s||!o&&s||!c)return-1}return 0}var ESe=CSe,kSe=ESe;function ASe(e,t,n){for(var r=-1,s=e.criteria,a=t.criteria,o=s.length,l=n.length;++r<o;){var c=kSe(s[r],a[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var PSe=ASe,d1=pA,TSe=gA,OSe=ii,ISe=oV,DSe=_Se,MSe=qW,RSe=PSe,$Se=cf,LSe=Yr;function FSe(e,t,n){t.length?t=d1(t,function(a){return LSe(a)?function(o){return TSe(o,a.length===1?a[0]:a)}:a}):t=[$Se];var r=-1;t=d1(t,MSe(OSe));var s=ISe(e,function(a,o,l){var c=d1(t,function(u){return u(a)});return{criteria:c,index:++r,value:a}});return DSe(s,function(a,o){return RSe(a,o,n)})}var BSe=FSe;function zSe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var WSe=zSe,VSe=WSe,ZD=Math.max;function USe(e,t,n){return t=ZD(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,a=ZD(r.length-t,0),o=Array(a);++s<a;)o[s]=r[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=r[s];return l[t]=n(o),VSe(e,this,l)}}var qSe=USe;function HSe(e){return function(){return e}}var GSe=HSe,KSe=Pc,YSe=function(){try{var e=KSe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),lV=YSe,XSe=GSe,eM=lV,JSe=cf,QSe=eM?function(e,t){return eM(e,"toString",{configurable:!0,enumerable:!1,value:XSe(t),writable:!0})}:JSe,ZSe=QSe,eNe=800,tNe=16,nNe=Date.now;function rNe(e){var t=0,n=0;return function(){var r=nNe(),s=tNe-(r-n);if(n=r,s>0){if(++t>=eNe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var sNe=rNe,aNe=ZSe,iNe=sNe,oNe=iNe(aNe),lNe=oNe,cNe=cf,uNe=qSe,dNe=lNe;function fNe(e,t){return dNe(uNe(e,t,cNe),e+"")}var hNe=fNe,mNe=dA,pNe=Zp,gNe=AA,vNe=dl;function yNe(e,t,n){if(!vNe(n))return!1;var r=typeof t;return(r=="number"?pNe(n)&&gNe(t,n.length):r=="string"&&t in n)?mNe(n[t],e):!1}var Ww=yNe,xNe=aV,wNe=BSe,bNe=hNe,tM=Ww,jNe=bNe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&tM(e,t[0],t[1])?t=[]:n>2&&tM(t[0],t[1],t[2])&&(t=[t[0]]),wNe(e,xNe(t,1),[])}),SNe=jNe;const IA=mt(SNe);function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h_.apply(this,arguments)}function NNe(e,t){return kNe(e)||ENe(e,t)||CNe(e,t)||_Ne()}function _Ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CNe(e,t){if(e){if(typeof e=="string")return nM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nM(e,t)}}function nM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ENe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function kNe(e){if(Array.isArray(e))return e}function rM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function f1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(n),!0).forEach(function(r){ANe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ANe(e,t,n){return t=PNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PNe(e){var t=TNe(e,"string");return Em(t)=="symbol"?t:String(t)}function TNe(e,t){if(Em(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ONe(e){return Array.isArray(e)&&Nn(e[0])&&Nn(e[1])?e.join(" ~ "):e}var INe=function(t){var n=t.separator,r=n===void 0?" : ":n,s=t.contentStyle,a=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,y=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,j=function(){if(d&&d.length){var D={padding:0,margin:0},F=(h?IA(d,h):d).map(function(E,$){if(E.type==="none")return null;var O=f1({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},l),R=E.formatter||f||ONe,I=E.value,M=E.name,L=I,z=M;if(R&&L!=null&&z!=null){var W=R(I,M,E,$,d);if(Array.isArray(W)){var q=NNe(W,2);L=q[0],z=q[1]}else L=W}return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:O},Nn(z)?P.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Nn(z)?P.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,P.createElement("span",{className:"recharts-tooltip-item-value"},L),P.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:D},F)}return null},w=f1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=f1({margin:0},u),N=!qe(p),C=N?p:"",_=Ye("recharts-default-tooltip",m),k=Ye("recharts-tooltip-label",g);N&&y&&d!==void 0&&d!==null&&(C=y(p,d));var A=b?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",h_({className:_,style:w},A),P.createElement("p",{className:k,style:S},P.isValidElement(C)?C:"".concat(C)),j())};function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function Jg(e,t,n){return t=DNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DNe(e){var t=MNe(e,"string");return km(t)=="symbol"?t:String(t)}function MNe(e,t){if(km(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Df="recharts-tooltip-wrapper",RNe={visibility:"hidden"};function $Ne(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Ye(Df,Jg(Jg(Jg(Jg({},"".concat(Df,"-right"),we(n)&&t&&we(t.x)&&n>=t.x),"".concat(Df,"-left"),we(n)&&t&&we(t.x)&&n<t.x),"".concat(Df,"-bottom"),we(r)&&t&&we(t.y)&&r>=t.y),"".concat(Df,"-top"),we(r)&&t&&we(t.y)&&r<t.y))}function sM(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,s=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&we(a[r]))return a[r];var d=n[r]-l-s,f=n[r]+s;if(t[r])return o[r]?d:f;if(o[r]){var h=d,m=c[r];return h<m?Math.max(f,c[r]):Math.max(d,c[r])}var g=f+l,p=c[r]+u;return g>p?Math.max(d,c[r]):Math.max(f,c[r])}function LNe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function FNe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=sM({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=sM({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=LNe({translateX:d,translateY:f,useTranslate3d:l})):u=RNe,{cssProperties:u,cssClasses:$Ne({translateX:d,translateY:f,coordinate:n})}}function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function aM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function iM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(n),!0).forEach(function(r){g_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uV(r.key),r)}}function WNe(e,t,n){return t&&zNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VNe(e,t,n){return t=ix(t),UNe(e,cV()?Reflect.construct(t,n||[],ix(e).constructor):t.apply(e,n))}function UNe(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m_(e)}function cV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cV=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ix(e)}function m_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p_(e,t)}function p_(e,t){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},p_(e,t)}function g_(e,t,n){return t=uV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uV(e){var t=HNe(e,"string");return hd(t)=="symbol"?t:String(t)}function HNe(e,t){if(hd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oM=1,GNe=function(e){qNe(t,e);function t(){var n;BNe(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=VNe(this,t,[].concat(s)),g_(m_(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),g_(m_(n),"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return WNe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>oM||Math.abs(r.height-this.state.lastBoundingBox.height)>oM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,m=s.offset,g=s.position,p=s.reverseDirection,y=s.useTranslate3d,x=s.viewBox,b=s.wrapperStyle,j=FNe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),w=j.cssClasses,S=j.cssProperties,N=iM(iM({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return P.createElement("div",{tabIndex:-1,className:w,style:N,ref:function(_){r.wrapperNode=_}},u)}}]),t}(v.PureComponent),KNe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ka={isSsr:KNe(),get:function(t){return Ka[t]},set:function(t,n){if(typeof t=="string")Ka[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(s){Ka[s]=t[s]})}}};function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function lM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function cM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(n),!0).forEach(function(r){DA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fV(r.key),r)}}function JNe(e,t,n){return t&&XNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QNe(e,t,n){return t=ox(t),ZNe(e,dV()?Reflect.construct(t,n||[],ox(e).constructor):t.apply(e,n))}function ZNe(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e_e(e)}function e_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dV=function(){return!!e})()}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ox(e)}function t_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v_(e,t)}function v_(e,t){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},v_(e,t)}function DA(e,t,n){return t=fV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fV(e){var t=n_e(e,"string");return md(t)=="symbol"?t:String(t)}function n_e(e,t){if(md(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r_e(e){return e.dataKey}function s_e(e,t){return P.isValidElement(e)?P.cloneElement(e,t):typeof e=="function"?P.createElement(e,t):P.createElement(INe,t)}var rs=function(e){t_e(t,e);function t(){return YNe(this,t),QNe(this,t,arguments)}return JNe(t,[{key:"render",value:function(){var r=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,m=s.offset,g=s.payload,p=s.payloadUniqBy,y=s.position,x=s.reverseDirection,b=s.useTranslate3d,j=s.viewBox,w=s.wrapperStyle,S=g??[];f&&S.length&&(S=eV(g.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),p,r_e));var N=S.length>0;return P.createElement(GNe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:N,offset:m,position:y,reverseDirection:x,useTranslate3d:b,viewBox:j,wrapperStyle:w},s_e(u,cM(cM({},this.props),{},{payload:S})))}}]),t}(v.PureComponent);DA(rs,"displayName","Tooltip");DA(rs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ka.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var a_e=ai,i_e=function(){return a_e.Date.now()},o_e=i_e,l_e=/\s/;function c_e(e){for(var t=e.length;t--&&l_e.test(e.charAt(t)););return t}var u_e=c_e,d_e=u_e,f_e=/^\s+/;function h_e(e){return e&&e.slice(0,d_e(e)+1).replace(f_e,"")}var m_e=h_e,p_e=m_e,uM=dl,g_e=ef,dM=NaN,v_e=/^[-+]0x[0-9a-f]+$/i,y_e=/^0b[01]+$/i,x_e=/^0o[0-7]+$/i,w_e=parseInt;function b_e(e){if(typeof e=="number")return e;if(g_e(e))return dM;if(uM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=uM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=p_e(e);var n=y_e.test(e);return n||x_e.test(e)?w_e(e.slice(2),n?2:8):v_e.test(e)?dM:+e}var hV=b_e,j_e=dl,h1=o_e,fM=hV,S_e="Expected a function",N_e=Math.max,__e=Math.min;function C_e(e,t,n){var r,s,a,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(S_e);t=fM(t)||0,j_e(n)&&(d=!!n.leading,f="maxWait"in n,a=f?N_e(fM(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h);function m(N){var C=r,_=s;return r=s=void 0,u=N,o=e.apply(_,C),o}function g(N){return u=N,l=setTimeout(x,t),d?m(N):o}function p(N){var C=N-c,_=N-u,k=t-C;return f?__e(k,a-_):k}function y(N){var C=N-c,_=N-u;return c===void 0||C>=t||C<0||f&&_>=a}function x(){var N=h1();if(y(N))return b(N);l=setTimeout(x,p(N))}function b(N){return l=void 0,h&&r?m(N):(r=s=void 0,o)}function j(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function w(){return l===void 0?o:b(h1())}function S(){var N=h1(),C=y(N);if(r=arguments,s=this,c=N,C){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(x,t),m(c)}return l===void 0&&(l=setTimeout(x,t)),o}return S.cancel=j,S.flush=w,S}var E_e=C_e,k_e=E_e,A_e=dl,P_e="Expected a function";function T_e(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(P_e);return A_e(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),k_e(e,t,{leading:r,maxWait:t,trailing:s})}var O_e=T_e;const mV=mt(O_e);function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function hM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Qg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(n),!0).forEach(function(r){I_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I_e(e,t,n){return t=D_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D_e(e){var t=M_e(e,"string");return Am(t)=="symbol"?t:String(t)}function M_e(e,t){if(Am(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R_e(e,t){return B_e(e)||F_e(e,t)||L_e(e,t)||$_e()}function $_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L_e(e,t){if(e){if(typeof e=="string")return mM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mM(e,t)}}function mM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function B_e(e){if(Array.isArray(e))return e}var Uv=v.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,s=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,y=e.id,x=e.className,b=e.onResize,j=e.style,w=j===void 0?{}:j,S=v.useRef(null),N=v.useRef();N.current=b,v.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var C=v.useState({containerWidth:s.width,containerHeight:s.height}),_=R_e(C,2),k=_[0],A=_[1],T=v.useCallback(function(F,E){A(function($){var O=Math.round(F),R=Math.round(E);return $.containerWidth===O&&$.containerHeight===R?$:{containerWidth:O,containerHeight:R}})},[]);v.useEffect(function(){var F=function(M){var L,z=M[0].contentRect,W=z.width,q=z.height;T(W,q),(L=N.current)===null||L===void 0||L.call(N,W,q)};p>0&&(F=mV(F,p,{trailing:!0,leading:!1}));var E=new ResizeObserver(F),$=S.current.getBoundingClientRect(),O=$.width,R=$.height;return T(O,R),E.observe(S.current),function(){E.disconnect()}},[T,p]);var D=v.useMemo(function(){var F=k.containerWidth,E=k.containerHeight;if(F<0||E<0)return null;xa(Wl(o)||Wl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),xa(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Wl(o)?F:o,O=Wl(c)?E:c;n&&n>0&&($?O=$/n:O&&($=O*n),h&&O>h&&(O=h)),xa($>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,O,o,c,d,f,n);var R=!Array.isArray(m)&&Gy.isElement(m)&&Ai(m.type).endsWith("Chart");return P.Children.map(m,function(I){return Gy.isElement(I)?v.cloneElement(I,Qg({width:$,height:O},R?{style:Qg({height:"100%",width:"100%",maxHeight:O,maxWidth:$},I.props.style)}:{})):I})},[n,m,c,h,f,d,k,o]);return P.createElement("div",{id:y?"".concat(y):void 0,className:Ye("recharts-responsive-container",x),style:Qg(Qg({},w),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},D)}),Vw=function(t){return null};Vw.displayName="Cell";function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function pM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function y_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(n),!0).forEach(function(r){z_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z_e(e,t,n){return t=W_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_e(e){var t=V_e(e,"string");return Pm(t)=="symbol"?t:String(t)}function V_e(e,t){if(Pm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uc={widthCache:{},cacheCount:0},U_e=2e3,q_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gM="recharts_measurement_span";function H_e(e){var t=y_({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Rh=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ka.isSsr)return{width:0,height:0};var r=H_e(n),s=JSON.stringify({text:t,copyStyle:r});if(Uc.widthCache[s])return Uc.widthCache[s];try{var a=document.getElementById(gM);a||(a=document.createElement("span"),a.setAttribute("id",gM),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=y_(y_({},q_e),r);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Uc.widthCache[s]=c,++Uc.cacheCount>U_e&&(Uc.cacheCount=0,Uc.widthCache={}),c}catch{return{width:0,height:0}}},G_e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function lx(e,t){return J_e(e)||X_e(e,t)||Y_e(e,t)||K_e()}function K_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y_e(e,t){if(e){if(typeof e=="string")return vM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vM(e,t)}}function vM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function J_e(e){if(Array.isArray(e))return e}function Q_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eCe(r.key),r)}}function Z_e(e,t,n){return t&&yM(e.prototype,t),n&&yM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function eCe(e){var t=tCe(e,"string");return Tm(t)=="symbol"?t:String(t)}function tCe(e,t){if(Tm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sCe=Object.keys(pV),ju="NaN";function aCe(e,t){return e*pV[t]}var Zg=function(){function e(t,n){Q_e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!nCe.test(n)&&(this.num=NaN,this.unit=""),sCe.includes(n)&&(this.num=aCe(t,n),this.unit="px")}return Z_e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=rCe.exec(n))!==null&&r!==void 0?r:[],a=lx(s,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}]),e}();function gV(e){if(e.includes(ju))return ju;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=xM.exec(t))!==null&&n!==void 0?n:[],s=lx(r,4),a=s[1],o=s[2],l=s[3],c=Zg.parse(a??""),u=Zg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return ju;t=t.replace(xM,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=wM.exec(t))!==null&&f!==void 0?f:[],m=lx(h,4),g=m[1],p=m[2],y=m[3],x=Zg.parse(g??""),b=Zg.parse(y??""),j=p==="+"?x.add(b):x.subtract(b);if(j.isNaN())return ju;t=t.replace(wM,j.toString())}return t}var bM=/\(([^()]*)\)/;function iCe(e){for(var t=e;t.includes("(");){var n=bM.exec(t),r=lx(n,2),s=r[1];t=t.replace(bM,gV(s))}return t}function oCe(e){var t=e.replace(/\s+/g,"");return t=iCe(t),t=gV(t),t}function lCe(e){try{return oCe(e)}catch{return ju}}function m1(e){var t=lCe(e.slice(5,-1));return t===ju?"":t}var cCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uCe=["dx","dy","angle","className","breakAll"];function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x_.apply(this,arguments)}function jM(e,t){if(e==null)return{};var n=dCe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dCe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function SM(e,t){return pCe(e)||mCe(e,t)||hCe(e,t)||fCe()}function fCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hCe(e,t){if(e){if(typeof e=="string")return NM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NM(e,t)}}function NM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mCe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function pCe(e){if(Array.isArray(e))return e}var vV=/[ \f\n\r\t\v\u2028\u2029]+/,yV=function(t){var n=t.children,r=t.breakAll,s=t.style;try{var a=[];qe(n)||(r?a=n.toString().split(""):a=n.toString().split(vV));var o=a.map(function(c){return{word:c,width:Rh(c,s).width}}),l=r?0:Rh("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},gCe=function(t,n,r,s,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=we(o),f=l,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(O,R){var I=R.word,M=R.width,L=O[O.length-1];if(L&&(s==null||a||L.width+M+r<Number(s)))L.words.push(I),L.width+=M+r;else{var z={words:[I],width:M};O.push(z)}return O},[])},m=h(n),g=function($){return $.reduce(function(O,R){return O.width>R.width?O:R})};if(!d)return m;for(var p="",y=function($){var O=f.slice(0,$),R=yV({breakAll:u,style:c,children:O+p}).wordsWithComputedWidth,I=h(R),M=I.length>o||g(I).width>Number(s);return[M,I]},x=0,b=f.length-1,j=0,w;x<=b&&j<=f.length-1;){var S=Math.floor((x+b)/2),N=S-1,C=y(N),_=SM(C,2),k=_[0],A=_[1],T=y(S),D=SM(T,1),F=D[0];if(!k&&!F&&(x=S+1),k&&F&&(b=S-1),!k&&F){w=A;break}j++}return w||m},_M=function(t){var n=qe(t)?[]:t.toString().split(vV);return[{words:n}]},vCe=function(t){var n=t.width,r=t.scaleToFit,s=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!Ka.isSsr){var c,u,d=yV({breakAll:o,children:s,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return _M(s);return gCe({breakAll:o,children:s,maxLines:l,style:a},c,u,n,r)}return _M(s)},CM="#808080",fc=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,y=t.fill,x=y===void 0?CM:y,b=jM(t,cCe),j=v.useMemo(function(){return vCe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),w=b.dx,S=b.dy,N=b.angle,C=b.className,_=b.breakAll,k=jM(b,uCe);if(!Nn(r)||!Nn(a))return null;var A=r+(we(w)?w:0),T=a+(we(S)?S:0),D;switch(p){case"start":D=m1("calc(".concat(u,")"));break;case"middle":D=m1("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:D=m1("calc(".concat(j.length-1," * -").concat(l,")"));break}var F=[];if(f){var E=j[0].width,$=b.width;F.push("scale(".concat((we($)?$/E:1)/E,")"))}return N&&F.push("rotate(".concat(N,", ").concat(A,", ").concat(T,")")),F.length&&(k.transform=F.join(" ")),P.createElement("text",x_({},$e(k,!0),{x:A,y:T,className:Ye("recharts-text",C),textAnchor:m,fill:x.includes("url")?CM:x}),j.map(function(O,R){var I=O.words.join(_?"":" ");return P.createElement("tspan",{x:A,dy:R===0?D:l,key:I},I)}))};function $o(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yCe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function MA(e){let t,n,r;e.length!==2?(t=$o,n=(l,c)=>$o(e(l),c),r=(l,c)=>e(l)-c):(t=e===$o||e===yCe?e:xCe,n=e,r=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:s,center:o,right:a}}function xCe(){return 0}function xV(e){return e===null?NaN:+e}function*wCe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const bCe=MA($o),eg=bCe.right;MA(xV).center;class EM extends Map{constructor(t,n=NCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(kM(this,t))}has(t){return super.has(kM(this,t))}set(t,n){return super.set(jCe(this,t),n)}delete(t){return super.delete(SCe(this,t))}}function kM({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function jCe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function SCe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function NCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _Ce(e=$o){if(e===$o)return wV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function wV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const CCe=Math.sqrt(50),ECe=Math.sqrt(10),kCe=Math.sqrt(2);function cx(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),a=r/Math.pow(10,s),o=a>=CCe?10:a>=ECe?5:a>=kCe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?cx(e,t,n*2):[l,c,u]}function w_(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,a,o]=r?cx(t,e,n):cx(e,t,n);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function b_(e,t,n){return t=+t,e=+e,n=+n,cx(e,t,n)[2]}function j_(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?b_(t,e,n):b_(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function AM(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function PM(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function bV(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?wV:_Ce(s);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/c+h)),g=Math.min(r,Math.floor(t+(c-u)*f/c+h));bV(e,t,m,g,s)}const a=e[t];let o=n,l=r;for(Mf(e,n,t),s(e[r],a)>0&&Mf(e,n,r);o<l;){for(Mf(e,o,l),++o,--l;s(e[o],a)<0;)++o;for(;s(e[l],a)>0;)--l}s(e[n],a)===0?Mf(e,n,l):(++l,Mf(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Mf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ACe(e,t,n){if(e=Float64Array.from(wCe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return PM(e);if(t>=1)return AM(e);var r,s=(r-1)*t,a=Math.floor(s),o=AM(bV(e,a).subarray(0,a+1)),l=PM(e.subarray(a+1));return o+(l-o)*(s-a)}}function PCe(e,t,n=xV){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,a=Math.floor(s),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(s-a)}}function TCe(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(s);++r<s;)a[r]=e+r*n;return a}function Ys(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const S_=Symbol("implicit");function RA(){var e=new EM,t=[],n=[],r=S_;function s(a){let o=e.get(a);if(o===void 0){if(r!==S_)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new EM;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return RA(t,n).unknown(r)},Ys.apply(s,arguments),s}function Om(){var e=RA().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<r,g=m?s:r,p=m?r:s;a=(p-g)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),g+=(p-g-a*(h-c))*d,o=a*(1-c),l&&(g=Math.round(g),o=Math.round(o));var y=TCe(h).map(function(x){return g+a*x});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,s]=h,r=+r,s=+s,f()):[r,s]},e.rangeRound=function(h){return[r,s]=h,r=+r,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Om(t(),[r,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ys.apply(f(),arguments)}function jV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jV(t())},e}function $h(){return jV(Om.apply(null,arguments).paddingInner(1))}function $A(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function SV(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function tg(){}var Im=.7,ux=1/Im,zu="\\s*([+-]?\\d+)\\s*",Dm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OCe=/^#([0-9a-f]{3,8})$/,ICe=new RegExp(`^rgb\\(${zu},${zu},${zu}\\)$`),DCe=new RegExp(`^rgb\\(${Ya},${Ya},${Ya}\\)$`),MCe=new RegExp(`^rgba\\(${zu},${zu},${zu},${Dm}\\)$`),RCe=new RegExp(`^rgba\\(${Ya},${Ya},${Ya},${Dm}\\)$`),$Ce=new RegExp(`^hsl\\(${Dm},${Ya},${Ya}\\)$`),LCe=new RegExp(`^hsla\\(${Dm},${Ya},${Ya},${Dm}\\)$`),TM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$A(tg,hc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:OM,formatHex:OM,formatHex8:FCe,formatHsl:BCe,formatRgb:IM,toString:IM});function OM(){return this.rgb().formatHex()}function FCe(){return this.rgb().formatHex8()}function BCe(){return NV(this).formatHsl()}function IM(){return this.rgb().formatRgb()}function hc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=OCe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?DM(t):n===3?new Wr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ev(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ev(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ICe.exec(e))?new Wr(t[1],t[2],t[3],1):(t=DCe.exec(e))?new Wr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=MCe.exec(e))?ev(t[1],t[2],t[3],t[4]):(t=RCe.exec(e))?ev(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$Ce.exec(e))?$M(t[1],t[2]/100,t[3]/100,1):(t=LCe.exec(e))?$M(t[1],t[2]/100,t[3]/100,t[4]):TM.hasOwnProperty(e)?DM(TM[e]):e==="transparent"?new Wr(NaN,NaN,NaN,0):null}function DM(e){return new Wr(e>>16&255,e>>8&255,e&255,1)}function ev(e,t,n,r){return r<=0&&(e=t=n=NaN),new Wr(e,t,n,r)}function zCe(e){return e instanceof tg||(e=hc(e)),e?(e=e.rgb(),new Wr(e.r,e.g,e.b,e.opacity)):new Wr}function N_(e,t,n,r){return arguments.length===1?zCe(e):new Wr(e,t,n,r??1)}function Wr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$A(Wr,N_,SV(tg,{brighter(e){return e=e==null?ux:Math.pow(ux,e),new Wr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Im:Math.pow(Im,e),new Wr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wr(Ql(this.r),Ql(this.g),Ql(this.b),dx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MM,formatHex:MM,formatHex8:WCe,formatRgb:RM,toString:RM}));function MM(){return`#${Vl(this.r)}${Vl(this.g)}${Vl(this.b)}`}function WCe(){return`#${Vl(this.r)}${Vl(this.g)}${Vl(this.b)}${Vl((isNaN(this.opacity)?1:this.opacity)*255)}`}function RM(){const e=dx(this.opacity);return`${e===1?"rgb(":"rgba("}${Ql(this.r)}, ${Ql(this.g)}, ${Ql(this.b)}${e===1?")":`, ${e})`}`}function dx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ql(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vl(e){return e=Ql(e),(e<16?"0":"")+e.toString(16)}function $M(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ha(e,t,n,r)}function NV(e){if(e instanceof ha)return new ha(e.h,e.s,e.l,e.opacity);if(e instanceof tg||(e=hc(e)),!e)return new ha;if(e instanceof ha)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new ha(o,l,c,e.opacity)}function VCe(e,t,n,r){return arguments.length===1?NV(e):new ha(e,t,n,r??1)}function ha(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$A(ha,VCe,SV(tg,{brighter(e){return e=e==null?ux:Math.pow(ux,e),new ha(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Im:Math.pow(Im,e),new ha(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Wr(p1(e>=240?e-240:e+120,s,r),p1(e,s,r),p1(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new ha(LM(this.h),tv(this.s),tv(this.l),dx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dx(this.opacity);return`${e===1?"hsl(":"hsla("}${LM(this.h)}, ${tv(this.s)*100}%, ${tv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function LM(e){return e=(e||0)%360,e<0?e+360:e}function tv(e){return Math.max(0,Math.min(1,e||0))}function p1(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const LA=e=>()=>e;function UCe(e,t){return function(n){return e+n*t}}function qCe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function HCe(e){return(e=+e)==1?_V:function(t,n){return n-t?qCe(t,n,e):LA(isNaN(t)?n:t)}}function _V(e,t){var n=t-e;return n?UCe(e,n):LA(isNaN(e)?t:e)}const fx=function e(t){var n=HCe(t);function r(s,a){var o=n((s=N_(s)).r,(a=N_(a)).r),l=n(s.g,a.g),c=n(s.b,a.b),u=_V(s.opacity,a.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function GCe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(a){for(s=0;s<n;++s)r[s]=e[s]*(1-a)+t[s]*a;return r}}function KCe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function YCe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)s[o]=uf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=s[o](l);return a}}function XCe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function fa(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function JCe(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=uf(e[s],t[s]):r[s]=t[s];return function(a){for(s in n)r[s]=n[s](a);return r}}var __=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,g1=new RegExp(__.source,"g");function QCe(e){return function(){return e}}function ZCe(e){return function(t){return e(t)+""}}function CV(e,t){var n=__.lastIndex=g1.lastIndex=0,r,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=__.exec(e))&&(s=g1.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:fa(r,s)})),n=g1.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?ZCe(c[0].x):QCe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function uf(e,t){var n=typeof t,r;return t==null||n==="boolean"?LA(t):(n==="number"?fa:n==="string"?(r=hc(t))?(t=r,fx):CV:t instanceof hc?fx:t instanceof Date?XCe:KCe(t)?GCe:Array.isArray(t)?YCe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?JCe:fa)(e,t)}function FA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var FM=180/Math.PI,C_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function EV(e,t,n,r,s,a){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:s,translateY:a,rotate:Math.atan2(t,e)*FM,skewX:Math.atan(c)*FM,scaleX:o,scaleY:l}}var nv;function eEe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?C_:EV(t.a,t.b,t.c,t.d,t.e,t.f)}function tEe(e){return e==null||(nv||(nv=document.createElementNS("http://www.w3.org/2000/svg","g")),nv.setAttribute("transform",e),!(e=nv.transform.baseVal.consolidate()))?C_:(e=e.matrix,EV(e.a,e.b,e.c,e.d,e.e,e.f))}function kV(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function a(u,d,f,h,m,g){if(u!==f||d!==h){var p=m.push("translate(",null,t,null,n);g.push({i:p-4,x:fa(u,f)},{i:p-2,x:fa(d,h)})}else(f||h)&&m.push("translate("+f+t+h+n)}function o(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(s(f)+"rotate(",null,r)-2,x:fa(u,d)})):d&&f.push(s(f)+"rotate("+d+r)}function l(u,d,f,h){u!==d?h.push({i:f.push(s(f)+"skewX(",null,r)-2,x:fa(u,d)}):d&&f.push(s(f)+"skewX("+d+r)}function c(u,d,f,h,m,g){if(u!==f||d!==h){var p=m.push(s(m)+"scale(",null,",",null,")");g.push({i:p-4,x:fa(u,f)},{i:p-2,x:fa(d,h)})}else(f!==1||h!==1)&&m.push(s(m)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),a(u.translateX,u.translateY,d.translateX,d.translateY,f,h),o(u.rotate,d.rotate,f,h),l(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(m){for(var g=-1,p=h.length,y;++g<p;)f[(y=h[g]).i]=y.x(m);return f.join("")}}}var nEe=kV(eEe,"px, ","px)","deg)"),rEe=kV(tEe,", ",")",")"),sEe=1e-12;function BM(e){return((e=Math.exp(e))+1/e)/2}function aEe(e){return((e=Math.exp(e))-1/e)/2}function iEe(e){return((e=Math.exp(2*e))-1)/(e+1)}const oEe=function e(t,n,r){function s(a,o){var l=a[0],c=a[1],u=a[2],d=o[0],f=o[1],h=o[2],m=d-l,g=f-c,p=m*m+g*g,y,x;if(p<sEe)x=Math.log(h/u)/t,y=function(C){return[l+C*m,c+C*g,u*Math.exp(t*C*x)]};else{var b=Math.sqrt(p),j=(h*h-u*u+r*p)/(2*u*n*b),w=(h*h-u*u-r*p)/(2*h*n*b),S=Math.log(Math.sqrt(j*j+1)-j),N=Math.log(Math.sqrt(w*w+1)-w);x=(N-S)/t,y=function(C){var _=C*x,k=BM(S),A=u/(n*b)*(k*iEe(t*_+S)-aEe(S));return[l+A*m,c+A*g,u*k/BM(t*_+S)]}}return y.duration=x*1e3*t/Math.SQRT2,y}return s.rho=function(a){var o=Math.max(.001,+a),l=o*o,c=l*l;return e(o,l,c)},s}(Math.SQRT2,2,4);function lEe(e,t){t===void 0&&(t=e,e=uf);for(var n=0,r=t.length-1,s=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(s,s=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function cEe(e){return function(){return e}}function hx(e){return+e}var zM=[0,1];function _r(e){return e}function E_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:cEe(isNaN(t)?NaN:.5)}function uEe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function dEe(e,t,n){var r=e[0],s=e[1],a=t[0],o=t[1];return s<r?(r=E_(s,r),a=n(o,a)):(r=E_(r,s),a=n(a,o)),function(l){return a(r(l))}}function fEe(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)s[o]=E_(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=eg(e,l,1,r)-1;return a[c](s[c](l))}}function ng(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Uw(){var e=zM,t=zM,n=uf,r,s,a,o=_r,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==_r&&(o=uEe(e[0],e[h-1])),l=h>2?fEe:dEe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(r),fa)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,hx),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=FA,d()},f.clamp=function(h){return arguments.length?(o=h?!0:_r,d()):o!==_r},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,s=m,d()}}function BA(){return Uw()(_r,_r)}function hEe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mx(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function pd(e){return e=mx(Math.abs(e)),e?e[1]:NaN}function mEe(e,t){return function(n,r){for(var s=n.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function pEe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var gEe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mm(e){if(!(t=gEe.exec(e)))throw new Error("invalid format: "+e);var t;return new zA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mm.prototype=zA.prototype;function zA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}zA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vEe(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var AV;function yEe(e,t){var n=mx(e,t);if(!n)return e+"";var r=n[0],s=n[1],a=s-(AV=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+mx(e,Math.max(0,t+a-1))[0]}function WM(e,t){var n=mx(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const VM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:hEe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>WM(e*100,t),r:WM,s:yEe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function UM(e){return e}var qM=Array.prototype.map,HM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xEe(e){var t=e.grouping===void 0||e.thousands===void 0?UM:mEe(qM.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?UM:pEe(qM.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Mm(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,y=f.zero,x=f.width,b=f.comma,j=f.precision,w=f.trim,S=f.type;S==="n"?(b=!0,S="g"):VM[S]||(j===void 0&&(j=12),w=!0,S="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var N=p==="$"?n:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",C=p==="$"?r:/[%p]/.test(S)?o:"",_=VM[S],k=/[defgprs%]/.test(S);j=j===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function A(T){var D=N,F=C,E,$,O;if(S==="c")F=_(T)+F,T="";else{T=+T;var R=T<0||1/T<0;if(T=isNaN(T)?c:_(Math.abs(T),j),w&&(T=vEe(T)),R&&+T==0&&g!=="+"&&(R=!1),D=(R?g==="("?g:l:g==="-"||g==="("?"":g)+D,F=(S==="s"?HM[8+AV/3]:"")+F+(R&&g==="("?")":""),k){for(E=-1,$=T.length;++E<$;)if(O=T.charCodeAt(E),48>O||O>57){F=(O===46?s+T.slice(E+1):T.slice(E))+F,T=T.slice(0,E);break}}}b&&!y&&(T=t(T,1/0));var I=D.length+T.length+F.length,M=I<x?new Array(x-I+1).join(h):"";switch(b&&y&&(T=t(M+T,M.length?x-F.length:1/0),M=""),m){case"<":T=D+T+F+M;break;case"=":T=D+M+T+F;break;case"^":T=M.slice(0,I=M.length>>1)+D+T+F+M.slice(I);break;default:T=M+D+T+F;break}return a(T)}return A.toString=function(){return f+""},A}function d(f,h){var m=u((f=Mm(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(pd(h)/3)))*3,p=Math.pow(10,-g),y=HM[8+g/3];return function(x){return m(p*x)+y}}return{format:u,formatPrefix:d}}var rv,WA,PV;wEe({thousands:",",grouping:[3],currency:["$",""]});function wEe(e){return rv=xEe(e),WA=rv.format,PV=rv.formatPrefix,rv}function bEe(e){return Math.max(0,-pd(Math.abs(e)))}function jEe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pd(t)/3)))*3-pd(Math.abs(e)))}function SEe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pd(t)-pd(e))+1}function TV(e,t,n,r){var s=j_(e,t,n),a;switch(r=Mm(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=jEe(s,o))&&(r.precision=a),PV(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=SEe(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=bEe(s))&&(r.precision=a-(r.type==="%")*2);break}}return WA(r)}function fl(e){var t=e.domain;return e.ticks=function(n){var r=t();return w_(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return TV(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,a=r.length-1,o=r[s],l=r[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=b_(o,l,n),u===c)return r[s]=o,r[a]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function px(){var e=BA();return e.copy=function(){return ng(e,px())},Ys.apply(e,arguments),fl(e)}function OV(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,hx),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return OV(e).unknown(t)},e=arguments.length?Array.from(e,hx):[0,1],fl(n)}function IV(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],a=e[r],o;return a<s&&(o=n,n=r,r=o,o=s,s=a,a=o),e[n]=t.floor(s),e[r]=t.ceil(a),e}function GM(e){return Math.log(e)}function KM(e){return Math.exp(e)}function NEe(e){return-Math.log(-e)}function _Ee(e){return-Math.exp(-e)}function CEe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function EEe(e){return e===10?CEe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function kEe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function YM(e){return(t,n)=>-e(-t,n)}function VA(e){const t=e(GM,KM),n=t.domain;let r=10,s,a;function o(){return s=kEe(r),a=EEe(r),n()[0]<0?(s=YM(s),a=YM(a),e(NEe,_Ee)):e(GM,KM),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),g,p;const y=l==null?10:+l;let x=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<r;++g)if(p=h<0?g/a(-h):g*a(h),!(p<u)){if(p>d)break;x.push(p)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(p=h>0?g/a(-h):g*a(h),!(p<u)){if(p>d)break;x.push(p)}x.length*2<y&&(x=w_(u,d,y))}else x=w_(h,m,Math.min(m-h,y)).map(a);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Mm(c)).precision==null&&(c.trim=!0),c=WA(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let f=d/a(Math.round(s(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},t.nice=()=>n(IV(n(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function DV(){const e=VA(Uw()).domain([1,10]);return e.copy=()=>ng(e,DV()).base(e.base()),Ys.apply(e,arguments),e}function XM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function JM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function UA(e){var t=1,n=e(XM(t),JM(t));return n.constant=function(r){return arguments.length?e(XM(t=+r),JM(t)):t},fl(n)}function MV(){var e=UA(Uw());return e.copy=function(){return ng(e,MV()).constant(e.constant())},Ys.apply(e,arguments)}function QM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function AEe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function PEe(e){return e<0?-e*e:e*e}function qA(e){var t=e(_r,_r),n=1;function r(){return n===1?e(_r,_r):n===.5?e(AEe,PEe):e(QM(n),QM(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},fl(t)}function HA(){var e=qA(Uw());return e.copy=function(){return ng(e,HA()).exponent(e.exponent())},Ys.apply(e,arguments),e}function TEe(){return HA.apply(null,arguments).exponent(.5)}function ZM(e){return Math.sign(e)*e*e}function OEe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function RV(){var e=BA(),t=[0,1],n=!1,r;function s(a){var o=OEe(e(a));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(a){return e.invert(ZM(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,hx)).map(ZM)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(n=!!a,s):n},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return RV(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ys.apply(s,arguments),fl(s)}function $V(){var e=[],t=[],n=[],r;function s(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=PCe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[eg(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort($o),s()},a.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return $V().domain(e).range(t).unknown(r)},Ys.apply(a,arguments)}function LV(){var e=0,t=1,n=1,r=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[eg(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return LV().domain([e,t]).range(s).unknown(a)},Ys.apply(fl(o),arguments)}function FV(){var e=[.5],t=[0,1],n,r=1;function s(a){return a!=null&&a<=a?t[eg(e,a,0,r)]:n}return s.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return FV().domain(e).range(t).unknown(n)},Ys.apply(s,arguments)}const v1=new Date,y1=new Date;function _n(e,t,n,r){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},s.filter=a=>_n(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(s.count=(a,o)=>(v1.setTime(+a),y1.setTime(+o),e(v1),e(y1),Math.floor(n(v1,y1))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(r?o=>r(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const gx=_n(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_n(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):gx);gx.range;const bi=1e3,Fs=bi*60,ji=Fs*60,Ui=ji*24,GA=Ui*7,eR=Ui*30,x1=Ui*365,Ul=_n(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bi)},(e,t)=>(t-e)/bi,e=>e.getUTCSeconds());Ul.range;const KA=_n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bi)},(e,t)=>{e.setTime(+e+t*Fs)},(e,t)=>(t-e)/Fs,e=>e.getMinutes());KA.range;const YA=_n(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fs)},(e,t)=>(t-e)/Fs,e=>e.getUTCMinutes());YA.range;const XA=_n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bi-e.getMinutes()*Fs)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getHours());XA.range;const JA=_n(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getUTCHours());JA.range;const rg=_n(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fs)/Ui,e=>e.getDate()-1);rg.range;const qw=_n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ui,e=>e.getUTCDate()-1);qw.range;const BV=_n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ui,e=>Math.floor(e/Ui));BV.range;function Tc(e){return _n(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Fs)/GA)}const Hw=Tc(0),vx=Tc(1),IEe=Tc(2),DEe=Tc(3),gd=Tc(4),MEe=Tc(5),REe=Tc(6);Hw.range;vx.range;IEe.range;DEe.range;gd.range;MEe.range;REe.range;function Oc(e){return _n(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/GA)}const Gw=Oc(0),yx=Oc(1),$Ee=Oc(2),LEe=Oc(3),vd=Oc(4),FEe=Oc(5),BEe=Oc(6);Gw.range;yx.range;$Ee.range;LEe.range;vd.range;FEe.range;BEe.range;const QA=_n(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());QA.range;const ZA=_n(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ZA.range;const qi=_n(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());qi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_n(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});qi.range;const Hi=_n(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_n(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Hi.range;function zV(e,t,n,r,s,a){const o=[[Ul,1,bi],[Ul,5,5*bi],[Ul,15,15*bi],[Ul,30,30*bi],[a,1,Fs],[a,5,5*Fs],[a,15,15*Fs],[a,30,30*Fs],[s,1,ji],[s,3,3*ji],[s,6,6*ji],[s,12,12*ji],[r,1,Ui],[r,2,2*Ui],[n,1,GA],[t,1,eR],[t,3,3*eR],[e,1,x1]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=MA(([,,y])=>y).right(o,h);if(m===o.length)return e.every(j_(u/x1,d/x1,f));if(m===0)return gx.every(Math.max(j_(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[zEe,WEe]=zV(Hi,ZA,Gw,BV,JA,YA),[VEe,UEe]=zV(qi,QA,Hw,rg,XA,KA);function w1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function b1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Rf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function qEe(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=$f(s),d=Lf(s),f=$f(a),h=Lf(a),m=$f(o),g=Lf(o),p=$f(l),y=Lf(l),x=$f(c),b=Lf(c),j={a:R,A:I,b:M,B:L,c:null,d:iR,e:iR,f:mke,g:Nke,G:Cke,H:dke,I:fke,j:hke,L:WV,m:pke,M:gke,p:z,q:W,Q:cR,s:uR,S:vke,u:yke,U:xke,V:wke,w:bke,W:jke,x:null,X:null,y:Ske,Y:_ke,Z:Eke,"%":lR},w={a:q,A:V,b:te,B:ne,c:null,d:oR,e:oR,f:Tke,g:zke,G:Vke,H:kke,I:Ake,j:Pke,L:UV,m:Oke,M:Ike,p:X,q:ee,Q:cR,s:uR,S:Dke,u:Mke,U:Rke,V:$ke,w:Lke,W:Fke,x:null,X:null,y:Bke,Y:Wke,Z:Uke,"%":lR},S={a:A,A:T,b:D,B:F,c:E,d:sR,e:sR,f:oke,g:rR,G:nR,H:aR,I:aR,j:rke,L:ike,m:nke,M:ske,p:k,q:tke,Q:cke,s:uke,S:ake,u:XEe,U:JEe,V:QEe,w:YEe,W:ZEe,x:$,X:O,y:rR,Y:nR,Z:eke,"%":lke};j.x=N(n,j),j.X=N(r,j),j.c=N(t,j),w.x=N(n,w),w.X=N(r,w),w.c=N(t,w);function N(Z,ae){return function(ce){var H=[],je=-1,Ne=0,Ae=Z.length,Q,me,J;for(ce instanceof Date||(ce=new Date(+ce));++je<Ae;)Z.charCodeAt(je)===37&&(H.push(Z.slice(Ne,je)),(me=tR[Q=Z.charAt(++je)])!=null?Q=Z.charAt(++je):me=Q==="e"?" ":"0",(J=ae[Q])&&(Q=J(ce,me)),H.push(Q),Ne=je+1);return H.push(Z.slice(Ne,je)),H.join("")}}function C(Z,ae){return function(ce){var H=Rf(1900,void 0,1),je=_(H,Z,ce+="",0),Ne,Ae;if(je!=ce.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(ae&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Ne=b1(Rf(H.y,0,1)),Ae=Ne.getUTCDay(),Ne=Ae>4||Ae===0?yx.ceil(Ne):yx(Ne),Ne=qw.offset(Ne,(H.V-1)*7),H.y=Ne.getUTCFullYear(),H.m=Ne.getUTCMonth(),H.d=Ne.getUTCDate()+(H.w+6)%7):(Ne=w1(Rf(H.y,0,1)),Ae=Ne.getDay(),Ne=Ae>4||Ae===0?vx.ceil(Ne):vx(Ne),Ne=rg.offset(Ne,(H.V-1)*7),H.y=Ne.getFullYear(),H.m=Ne.getMonth(),H.d=Ne.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Ae="Z"in H?b1(Rf(H.y,0,1)).getUTCDay():w1(Rf(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Ae+5)%7:H.w+H.U*7-(Ae+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,b1(H)):w1(H)}}function _(Z,ae,ce,H){for(var je=0,Ne=ae.length,Ae=ce.length,Q,me;je<Ne;){if(H>=Ae)return-1;if(Q=ae.charCodeAt(je++),Q===37){if(Q=ae.charAt(je++),me=S[Q in tR?ae.charAt(je++):Q],!me||(H=me(Z,ce,H))<0)return-1}else if(Q!=ce.charCodeAt(H++))return-1}return H}function k(Z,ae,ce){var H=u.exec(ae.slice(ce));return H?(Z.p=d.get(H[0].toLowerCase()),ce+H[0].length):-1}function A(Z,ae,ce){var H=m.exec(ae.slice(ce));return H?(Z.w=g.get(H[0].toLowerCase()),ce+H[0].length):-1}function T(Z,ae,ce){var H=f.exec(ae.slice(ce));return H?(Z.w=h.get(H[0].toLowerCase()),ce+H[0].length):-1}function D(Z,ae,ce){var H=x.exec(ae.slice(ce));return H?(Z.m=b.get(H[0].toLowerCase()),ce+H[0].length):-1}function F(Z,ae,ce){var H=p.exec(ae.slice(ce));return H?(Z.m=y.get(H[0].toLowerCase()),ce+H[0].length):-1}function E(Z,ae,ce){return _(Z,t,ae,ce)}function $(Z,ae,ce){return _(Z,n,ae,ce)}function O(Z,ae,ce){return _(Z,r,ae,ce)}function R(Z){return o[Z.getDay()]}function I(Z){return a[Z.getDay()]}function M(Z){return c[Z.getMonth()]}function L(Z){return l[Z.getMonth()]}function z(Z){return s[+(Z.getHours()>=12)]}function W(Z){return 1+~~(Z.getMonth()/3)}function q(Z){return o[Z.getUTCDay()]}function V(Z){return a[Z.getUTCDay()]}function te(Z){return c[Z.getUTCMonth()]}function ne(Z){return l[Z.getUTCMonth()]}function X(Z){return s[+(Z.getUTCHours()>=12)]}function ee(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ae=N(Z+="",j);return ae.toString=function(){return Z},ae},parse:function(Z){var ae=C(Z+="",!1);return ae.toString=function(){return Z},ae},utcFormat:function(Z){var ae=N(Z+="",w);return ae.toString=function(){return Z},ae},utcParse:function(Z){var ae=C(Z+="",!0);return ae.toString=function(){return Z},ae}}}var tR={"-":"",_:" ",0:"0"},zn=/^\s*\d+/,HEe=/^%/,GEe=/[\\^$*+?|[\]().{}]/g;function ht(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",a=s.length;return r+(a<n?new Array(n-a+1).join(t)+s:s)}function KEe(e){return e.replace(GEe,"\\$&")}function $f(e){return new RegExp("^(?:"+e.map(KEe).join("|")+")","i")}function Lf(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function YEe(e,t,n){var r=zn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function XEe(e,t,n){var r=zn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function JEe(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function QEe(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ZEe(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function nR(e,t,n){var r=zn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function rR(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eke(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tke(e,t,n){var r=zn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function nke(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function sR(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function rke(e,t,n){var r=zn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function aR(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ske(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ake(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ike(e,t,n){var r=zn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function oke(e,t,n){var r=zn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lke(e,t,n){var r=HEe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function cke(e,t,n){var r=zn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function uke(e,t,n){var r=zn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function iR(e,t){return ht(e.getDate(),t,2)}function dke(e,t){return ht(e.getHours(),t,2)}function fke(e,t){return ht(e.getHours()%12||12,t,2)}function hke(e,t){return ht(1+rg.count(qi(e),e),t,3)}function WV(e,t){return ht(e.getMilliseconds(),t,3)}function mke(e,t){return WV(e,t)+"000"}function pke(e,t){return ht(e.getMonth()+1,t,2)}function gke(e,t){return ht(e.getMinutes(),t,2)}function vke(e,t){return ht(e.getSeconds(),t,2)}function yke(e){var t=e.getDay();return t===0?7:t}function xke(e,t){return ht(Hw.count(qi(e)-1,e),t,2)}function VV(e){var t=e.getDay();return t>=4||t===0?gd(e):gd.ceil(e)}function wke(e,t){return e=VV(e),ht(gd.count(qi(e),e)+(qi(e).getDay()===4),t,2)}function bke(e){return e.getDay()}function jke(e,t){return ht(vx.count(qi(e)-1,e),t,2)}function Ske(e,t){return ht(e.getFullYear()%100,t,2)}function Nke(e,t){return e=VV(e),ht(e.getFullYear()%100,t,2)}function _ke(e,t){return ht(e.getFullYear()%1e4,t,4)}function Cke(e,t){var n=e.getDay();return e=n>=4||n===0?gd(e):gd.ceil(e),ht(e.getFullYear()%1e4,t,4)}function Eke(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function oR(e,t){return ht(e.getUTCDate(),t,2)}function kke(e,t){return ht(e.getUTCHours(),t,2)}function Ake(e,t){return ht(e.getUTCHours()%12||12,t,2)}function Pke(e,t){return ht(1+qw.count(Hi(e),e),t,3)}function UV(e,t){return ht(e.getUTCMilliseconds(),t,3)}function Tke(e,t){return UV(e,t)+"000"}function Oke(e,t){return ht(e.getUTCMonth()+1,t,2)}function Ike(e,t){return ht(e.getUTCMinutes(),t,2)}function Dke(e,t){return ht(e.getUTCSeconds(),t,2)}function Mke(e){var t=e.getUTCDay();return t===0?7:t}function Rke(e,t){return ht(Gw.count(Hi(e)-1,e),t,2)}function qV(e){var t=e.getUTCDay();return t>=4||t===0?vd(e):vd.ceil(e)}function $ke(e,t){return e=qV(e),ht(vd.count(Hi(e),e)+(Hi(e).getUTCDay()===4),t,2)}function Lke(e){return e.getUTCDay()}function Fke(e,t){return ht(yx.count(Hi(e)-1,e),t,2)}function Bke(e,t){return ht(e.getUTCFullYear()%100,t,2)}function zke(e,t){return e=qV(e),ht(e.getUTCFullYear()%100,t,2)}function Wke(e,t){return ht(e.getUTCFullYear()%1e4,t,4)}function Vke(e,t){var n=e.getUTCDay();return e=n>=4||n===0?vd(e):vd.ceil(e),ht(e.getUTCFullYear()%1e4,t,4)}function Uke(){return"+0000"}function lR(){return"%"}function cR(e){return+e}function uR(e){return Math.floor(+e/1e3)}var qc,HV,GV;qke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qke(e){return qc=qEe(e),HV=qc.format,qc.parse,GV=qc.utcFormat,qc.utcParse,qc}function Hke(e){return new Date(e)}function Gke(e){return e instanceof Date?+e:+new Date(+e)}function eP(e,t,n,r,s,a,o,l,c,u){var d=BA(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),b=u("%b %d"),j=u("%B"),w=u("%Y");function S(N){return(c(N)<N?m:l(N)<N?g:o(N)<N?p:a(N)<N?y:r(N)<N?s(N)<N?x:b:n(N)<N?j:w)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Gke)):h().map(Hke)},d.ticks=function(N){var C=h();return e(C[0],C[C.length-1],N??10)},d.tickFormat=function(N,C){return C==null?S:u(C)},d.nice=function(N){var C=h();return(!N||typeof N.range!="function")&&(N=t(C[0],C[C.length-1],N??10)),N?h(IV(C,N)):d},d.copy=function(){return ng(d,eP(e,t,n,r,s,a,o,l,c,u))},d}function Kke(){return Ys.apply(eP(VEe,UEe,qi,QA,Hw,rg,XA,KA,Ul,HV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yke(){return Ys.apply(eP(zEe,WEe,Hi,ZA,Gw,qw,JA,YA,Ul,GV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Kw(){var e=0,t=1,n,r,s,a,o=_r,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(a(f)-n)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),s=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(uf),u.rangeRound=d(FA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(e),r=f(t),s=n===r?0:1/(r-n),u}}function hl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KV(){var e=fl(Kw()(_r));return e.copy=function(){return hl(e,KV())},Zi.apply(e,arguments)}function YV(){var e=VA(Kw()).domain([1,10]);return e.copy=function(){return hl(e,YV()).base(e.base())},Zi.apply(e,arguments)}function XV(){var e=UA(Kw());return e.copy=function(){return hl(e,XV()).constant(e.constant())},Zi.apply(e,arguments)}function tP(){var e=qA(Kw());return e.copy=function(){return hl(e,tP()).exponent(e.exponent())},Zi.apply(e,arguments)}function Xke(){return tP.apply(null,arguments).exponent(.5)}function JV(){var e=[],t=_r;function n(r){if(r!=null&&!isNaN(r=+r))return t((eg(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort($o),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,a)=>ACe(e,a/r))},n.copy=function(){return JV(t).domain(e)},Zi.apply(n,arguments)}function Yw(){var e=0,t=.5,n=1,r=1,s,a,o,l,c,u=_r,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-a)*(r*p<r*a?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,n]=p,s=d(e=+e),a=d(t=+t),o=d(n=+n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),r=a<s?-1:1,m):[e,t,n]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(y){var x,b,j;return arguments.length?([x,b,j]=y,u=lEe(p,[x,b,j]),m):[u(0),u(.5),u(1)]}}return m.range=g(uf),m.rangeRound=g(FA),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,s=p(e),a=p(t),o=p(n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),r=a<s?-1:1,m}}function QV(){var e=fl(Yw()(_r));return e.copy=function(){return hl(e,QV())},Zi.apply(e,arguments)}function ZV(){var e=VA(Yw()).domain([.1,1,10]);return e.copy=function(){return hl(e,ZV()).base(e.base())},Zi.apply(e,arguments)}function eU(){var e=UA(Yw());return e.copy=function(){return hl(e,eU()).constant(e.constant())},Zi.apply(e,arguments)}function nP(){var e=qA(Yw());return e.copy=function(){return hl(e,nP()).exponent(e.exponent())},Zi.apply(e,arguments)}function Jke(){return nP.apply(null,arguments).exponent(.5)}const dR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Om,scaleDiverging:QV,scaleDivergingLog:ZV,scaleDivergingPow:nP,scaleDivergingSqrt:Jke,scaleDivergingSymlog:eU,scaleIdentity:OV,scaleImplicit:S_,scaleLinear:px,scaleLog:DV,scaleOrdinal:RA,scalePoint:$h,scalePow:HA,scaleQuantile:$V,scaleQuantize:LV,scaleRadial:RV,scaleSequential:KV,scaleSequentialLog:YV,scaleSequentialPow:tP,scaleSequentialQuantile:JV,scaleSequentialSqrt:Xke,scaleSequentialSymlog:XV,scaleSqrt:TEe,scaleSymlog:MV,scaleThreshold:FV,scaleTime:Kke,scaleUtc:Yke,tickFormat:TV},Symbol.toStringTag,{value:"Module"}));var Qke=ef;function Zke(e,t,n){for(var r=-1,s=e.length;++r<s;){var a=e[r],o=t(a);if(o!=null&&(l===void 0?o===o&&!Qke(o):n(o,l)))var l=o,c=a}return c}var Xw=Zke;function eAe(e,t){return e>t}var tU=eAe,tAe=Xw,nAe=tU,rAe=cf;function sAe(e){return e&&e.length?tAe(e,rAe,nAe):void 0}var aAe=sAe;const Jw=mt(aAe);function iAe(e,t){return e<t}var nU=iAe,oAe=Xw,lAe=nU,cAe=cf;function uAe(e){return e&&e.length?oAe(e,cAe,lAe):void 0}var dAe=uAe;const Qw=mt(dAe);var fAe=pA,hAe=ii,mAe=oV,pAe=Yr;function gAe(e,t){var n=pAe(e)?fAe:mAe;return n(e,hAe(t))}var vAe=gAe,yAe=aV,xAe=vAe;function wAe(e,t){return yAe(xAe(e,t),1)}var bAe=wAe;const jAe=mt(bAe);var SAe=TA;function NAe(e,t){return SAe(e,t)}var _Ae=NAe;const sg=mt(_Ae);var df=1e9,CAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sP,Ut=!0,Ks="[DecimalError] ",Zl=Ks+"Invalid argument: ",rP=Ks+"Exponent out of range: ",ff=Math.floor,Ol=Math.pow,EAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,is,Pn=1e7,$t=7,rU=9007199254740991,xx=ff(rU/$t),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,n,r,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===s?0:r>s^a.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*$t;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ke.dividedBy=ke.div=function(e){return Pi(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,n=t.constructor;return Ct(Pi(t,new n(e),0,1),n.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return mn(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,n=this,r=n.constructor,s=r.precision,a=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(is))throw Error(Ks+"NaN");if(n.s<1)throw Error(Ks+(n.s?"NaN":"-Infinity"));return n.eq(is)?new r(0):(Ut=!1,t=Pi(Rm(n,a),Rm(e,a),a),Ut=!0,Ct(t,s))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iU(t,e):sU(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(Ks+"NaN");return n.s?(Ut=!1,t=Pi(n,e,0,1).times(e),Ut=!0,n.minus(t)):Ct(new r(n),s)};ke.naturalExponential=ke.exp=function(){return aU(this)};ke.naturalLogarithm=ke.ln=function(){return Rm(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sU(t,e):iU(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Zl+e);if(t=mn(s)+1,r=s.d.length-1,n=r*$t+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ke.squareRoot=ke.sqrt=function(){var e,t,n,r,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ks+"NaN")}for(e=mn(l),Ut=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=za(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=ff((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(s.toString()),n=c.precision,s=o=n+3;;)if(a=r,r=a.plus(Pi(l,a,o+2)).times(.5),za(a.d).slice(0,o)===(t=za(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Ct(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return Ut=!0,Ct(r,n)};ke.times=ke.mul=function(e){var t,n,r,s,a,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,o=c,c=u,u=o),a=[],o=c+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,s=c+r;s>r;)l=a[s]+m[r]*h[s-r-1]+t,a[s--]=l%Pn|0,t=l/Pn|0;a[s]=(a[s]+t)%Pn|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Ut?Ct(e,f.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ei(e,0,df),t===void 0?t=r.rounding:ei(t,0,8),Ct(n,e+mn(n)+1,t))};ke.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=mc(r,!0):(ei(e,0,df),t===void 0?t=s.rounding:ei(t,0,8),r=Ct(new s(r),e+1,t),n=mc(r,!0,e+1)),n};ke.toFixed=function(e,t){var n,r,s=this,a=s.constructor;return e===void 0?mc(s):(ei(e,0,df),t===void 0?t=a.rounding:ei(t,0,8),r=Ct(new a(s),e+mn(s)+1,t),n=mc(r.abs(),!1,e+mn(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return Ct(new t(e),mn(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,n,r,s,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(is);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ks+"Infinity");return l}if(l.eq(is))return l;if(r=c.precision,e.eq(is))return Ct(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=d<0?-d:d)<=rU){for(s=new c(is),t=Math.ceil(r/$t+4),Ut=!1;n%2&&(s=s.times(l),hR(s.d,t)),n=ff(n/2),n!==0;)l=l.times(l),hR(l.d,t);return Ut=!0,e.s<0?new c(is).div(s):Ct(s,r)}}else if(a<0)throw Error(Ks+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Ut=!1,s=e.times(Rm(l,r+u)),Ut=!0,s=aU(s),s.s=a,s};ke.toPrecision=function(e,t){var n,r,s=this,a=s.constructor;return e===void 0?(n=mn(s),r=mc(s,n<=a.toExpNeg||n>=a.toExpPos)):(ei(e,1,df),t===void 0?t=a.rounding:ei(t,0,8),s=Ct(new a(s),e,t),n=mn(s),r=mc(s,e<=n||n<=a.toExpNeg,e)),r};ke.toSignificantDigits=ke.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ei(e,1,df),t===void 0?t=r.rounding:ei(t,0,8)),Ct(new r(n),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=mn(e),n=e.constructor;return mc(e,t<=n.toExpNeg||t>=n.toExpPos)};function sU(e,t){var n,r,s,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ut?Ct(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),a=o-s,a){for(a<0?(r=c,a=-a,l=u.length):(r=u,s=o,l=c.length),o=Math.ceil(f/$t),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/Pn|0,c[a]%=Pn;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Ut?Ct(t,f):t}function ei(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Zl+e)}function za(e){var t,n,r,s=e.length-1,a="",o=e[0];if(s>0){for(a+=o,t=1;t<s;t++)r=e[t]+"",n=$t-r.length,n&&(a+=vo(n)),a+=r;o=e[t],r=o+"",n=$t-r.length,n&&(a+=vo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Pi=function(){function e(r,s){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*s+o,r[l]=a%Pn|0,o=a/Pn|0;return o&&r.unshift(o),r}function t(r,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,a){for(var o=0;a--;)r[a]-=o,o=r[a]<s[a]?1:0,r[a]=o*Pn+r[a]-s[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,a,o){var l,c,u,d,f,h,m,g,p,y,x,b,j,w,S,N,C,_,k=r.constructor,A=r.s==s.s?1:-1,T=r.d,D=s.d;if(!r.s)return new k(r);if(!s.s)throw Error(Ks+"Division by zero");for(c=r.e-s.e,C=D.length,S=T.length,m=new k(A),g=m.d=[],u=0;D[u]==(T[u]||0);)++u;if(D[u]>(T[u]||0)&&--c,a==null?b=a=k.precision:o?b=a+(mn(r)-mn(s))+1:b=a,b<0)return new k(0);if(b=b/$t+2|0,u=0,C==1)for(d=0,D=D[0],b++;(u<S||d)&&b--;u++)j=d*Pn+(T[u]||0),g[u]=j/D|0,d=j%D|0;else{for(d=Pn/(D[0]+1)|0,d>1&&(D=e(D,d),T=e(T,d),C=D.length,S=T.length),w=C,p=T.slice(0,C),y=p.length;y<C;)p[y++]=0;_=D.slice(),_.unshift(0),N=D[0],D[1]>=Pn/2&&++N;do d=0,l=t(D,p,C,y),l<0?(x=p[0],C!=y&&(x=x*Pn+(p[1]||0)),d=x/N|0,d>1?(d>=Pn&&(d=Pn-1),f=e(D,d),h=f.length,y=p.length,l=t(f,p,h,y),l==1&&(d--,n(f,C<h?_:D,h))):(d==0&&(l=d=1),f=D.slice()),h=f.length,h<y&&f.unshift(0),n(p,f,y),l==-1&&(y=p.length,l=t(D,p,C,y),l<1&&(d++,n(p,C<y?_:D,y))),y=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[y++]=T[w]||0:(p=[T[w]],y=1);while((w++<S||p[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=c,Ct(m,o?a+mn(m)+1:a)}}();function aU(e,t){var n,r,s,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(mn(e)>16)throw Error(rP+mn(e));if(!e.s)return new d(is);for(t==null?(Ut=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Ol(2,u))/Math.LN10*2+5|0,l+=r,n=s=a=new d(is),d.precision=l;;){if(s=Ct(s.times(e),l),n=n.times(++c),o=a.plus(Pi(s,n,l)),za(o.d).slice(0,l)===za(a.d).slice(0,l)){for(;u--;)a=Ct(a.times(a),l);return d.precision=f,t==null?(Ut=!0,Ct(a,f)):a}a=o}}function mn(e){for(var t=e.e*$t,n=e.d[0];n>=10;n/=10)t++;return t}function j1(e,t,n){if(t>e.LN10.sd())throw Ut=!0,n&&(e.precision=n),Error(Ks+"LN10 precision limit exceeded");return Ct(new e(e.LN10),t)}function vo(e){for(var t="";e--;)t+="0";return t}function Rm(e,t){var n,r,s,a,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,y=p.precision;if(m.s<1)throw Error(Ks+(m.s?"NaN":"-Infinity"));if(m.eq(is))return new p(0);if(t==null?(Ut=!1,u=y):u=t,m.eq(10))return t==null&&(Ut=!0),j1(p,u);if(u+=h,p.precision=u,n=za(g),r=n.charAt(0),a=mn(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=za(m.d),r=n.charAt(0),f++;a=mn(m),r>1?(m=new p("0."+n),a++):m=new p(r+"."+n.slice(1))}else return c=j1(p,u+2,y).times(a+""),m=Rm(new p(r+"."+n.slice(1)),u-h).plus(c),p.precision=y,t==null?(Ut=!0,Ct(m,y)):m;for(l=o=m=Pi(m.minus(is),m.plus(is),u),d=Ct(m.times(m),u),s=3;;){if(o=Ct(o.times(d),u),c=l.plus(Pi(o,new p(s),u)),za(c.d).slice(0,u)===za(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(j1(p,u+2,y).times(a+""))),l=Pi(l,new p(f),u),p.precision=y,t==null?(Ut=!0,Ct(l,y)):l;l=c,s+=2}}function fR(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=ff(n/$t),e.d=[],r=(n+1)%$t,n<0&&(r+=$t),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=$t;r<s;)e.d.push(+t.slice(r,r+=$t));t=t.slice(r),r=$t-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),Ut&&(e.e>xx||e.e<-xx))throw Error(rP+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ct(e,t,n){var r,s,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=$t,s=t,u=f[d=0];else{if(d=Math.ceil((r+1)/$t),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;r%=$t,s=r-$t+o}if(n!==void 0&&(a=Ol(10,o-s-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?u/Ol(10,o-s):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=mn(e),f.length=1,t=t-a-1,f[0]=Ol(10,($t-t%$t)%$t),e.e=ff(-t/$t)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Ol(10,$t-r),f[d]=s>0?(u/Ol(10,o-s)%Ol(10,s)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Pn&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Pn)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Ut&&(e.e>xx||e.e<-xx))throw Error(rP+mn(e));return e}function iU(e,t){var n,r,s,a,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ut?Ct(t,m):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),s=Math.max(Math.ceil(m/$t),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=Pn-1;--c[a],c[s]+=Pn}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Ut?Ct(t,m):t):new h(0)}function mc(e,t,n){var r,s=mn(e),a=za(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+vo(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+vo(-s-1)+a,n&&(r=n-o)>0&&(a+=vo(r))):s>=o?(a+=vo(s+1-o),n&&(r=n-s-1)>0&&(a=a+"."+vo(r))):((r=s+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(a+="."),a+=vo(r))),e.s<0?"-"+a:a}function hR(e,t){if(e.length>t)return e.length=t,!0}function oU(e){var t,n,r;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Zl+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return fR(o,a.toString())}else if(typeof a!="string")throw Error(Zl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,EAe.test(a))fR(o,a);else throw Error(Zl+a)}if(s.prototype=ke,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=oU,s.config=s.set=kAe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function kAe(e){if(!e||typeof e!="object")throw Error(Ks+"Object expected");var t,n,r,s=["precision",1,df,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(ff(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(Zl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Zl+n+": "+r);return this}var sP=oU(CAe);is=new sP(1);const St=sP;function AAe(e){return IAe(e)||OAe(e)||TAe(e)||PAe()}function PAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TAe(e,t){if(e){if(typeof e=="string")return k_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k_(e,t)}}function OAe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function IAe(e){if(Array.isArray(e))return k_(e)}function k_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var DAe=function(t){return t},lU={"@@functional/placeholder":!0},cU=function(t){return t===lU},mR=function(t){return function n(){return arguments.length===0||arguments.length===1&&cU(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},MAe=function e(t,n){return t===1?n:mR(function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==lU}).length;return o>=t?n.apply(void 0,s):e(t-o,mR(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return cU(f)?c.shift():f});return n.apply(void 0,AAe(d).concat(c))}))})},Zw=function(t){return MAe(t.length,t)},A_=function(t,n){for(var r=[],s=t;s<n;++s)r[s-t]=s;return r},RAe=Zw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),$Ae=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return DAe;var s=n.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},P_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},uU=function(t){var n=null,r=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=t.apply(void 0,a)),r}};function LAe(e){var t;return e===0?t=1:t=Math.floor(new St(e).abs().log(10).toNumber())+1,t}function FAe(e,t,n){for(var r=new St(e),s=0,a=[];r.lt(t)&&s<1e5;)a.push(r.toNumber()),r=r.add(n),s++;return a}var BAe=Zw(function(e,t,n){var r=+e,s=+t;return r+n*(s-r)}),zAe=Zw(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),WAe=Zw(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const eb={rangeStep:FAe,getDigitCount:LAe,interpolateNumber:BAe,uninterpolateNumber:zAe,uninterpolateTruncation:WAe};function T_(e){return qAe(e)||UAe(e)||dU(e)||VAe()}function VAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UAe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qAe(e){if(Array.isArray(e))return O_(e)}function $m(e,t){return KAe(e)||GAe(e,t)||dU(e,t)||HAe()}function HAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dU(e,t){if(e){if(typeof e=="string")return O_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O_(e,t)}}function O_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GAe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,s=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){s=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(s)throw a}}return n}}function KAe(e){if(Array.isArray(e))return e}function fU(e){var t=$m(e,2),n=t[0],r=t[1],s=n,a=r;return n>r&&(s=r,a=n),[s,a]}function hU(e,t,n){if(e.lte(0))return new St(0);var r=eb.getDigitCount(e.toNumber()),s=new St(10).pow(r),a=e.div(s),o=r!==1?.05:.1,l=new St(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return t?c:new St(Math.ceil(c))}function YAe(e,t,n){var r=1,s=new St(e);if(!s.isint()&&n){var a=Math.abs(e);a<1?(r=new St(10).pow(eb.getDigitCount(e)-1),s=new St(Math.floor(s.div(r).toNumber())).mul(r)):a>1&&(s=new St(Math.floor(e)))}else e===0?s=new St(Math.floor((t-1)/2)):n||(s=new St(Math.floor(e)));var o=Math.floor((t-1)/2),l=$Ae(RAe(function(c){return s.add(new St(c-o).mul(r)).toNumber()}),A_);return l(0,t)}function mU(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new St(0),tickMin:new St(0),tickMax:new St(0)};var a=hU(new St(t).sub(e).div(n-1),r,s),o;e<=0&&t>=0?o=new St(0):(o=new St(e).add(t).div(2),o=o.sub(new St(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new St(t).sub(o).div(a).toNumber()),u=l+c+1;return u>n?mU(e,t,n,r,s+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:o.sub(new St(l).mul(a)),tickMax:o.add(new St(c).mul(a))})}function XAe(e){var t=$m(e,2),n=t[0],r=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=fU([n,r]),c=$m(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(T_(A_(0,s-1).map(function(){return 1/0}))):[].concat(T_(A_(0,s-1).map(function(){return-1/0})),[d]);return n>r?P_(f):f}if(u===d)return YAe(u,s,a);var h=mU(u,d,o,a),m=h.step,g=h.tickMin,p=h.tickMax,y=eb.rangeStep(g,p.add(new St(.1).mul(m)),m);return n>r?P_(y):y}function JAe(e,t){var n=$m(e,2),r=n[0],s=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=fU([r,s]),l=$m(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,s];if(c===u)return[c];var d=Math.max(t,2),f=hU(new St(u).sub(c).div(d-1),a,0),h=[].concat(T_(eb.rangeStep(new St(c),new St(u).sub(new St(.99).mul(f)),f)),[u]);return r>s?P_(h):h}var QAe=uU(XAe),ZAe=uU(JAe),ePe="Invariant failed";function Qo(e,t){throw new Error(ePe)}var tPe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wx.apply(this,arguments)}function nPe(e,t){return iPe(e)||aPe(e,t)||sPe(e,t)||rPe()}function rPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sPe(e,t){if(e){if(typeof e=="string")return pR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pR(e,t)}}function pR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function iPe(e){if(Array.isArray(e))return e}function oPe(e,t){if(e==null)return{};var n=lPe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lPe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function ag(e){var t=e.offset,n=e.layout,r=e.width,s=e.dataKey,a=e.data,o=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=oPe(e,tPe),d=$e(u,!1);e.direction==="x"&&l.type!=="number"&&Qo();var f=a.map(function(h){var m=o(h,s),g=m.x,p=m.y,y=m.value,x=m.errorVal;if(!x)return null;var b=[],j,w;if(Array.isArray(x)){var S=nPe(x,2);j=S[0],w=S[1]}else j=w=x;if(n==="vertical"){var N=l.scale,C=p+t,_=C+r,k=C-r,A=N(y-j),T=N(y+w);b.push({x1:T,y1:_,x2:T,y2:k}),b.push({x1:A,y1:C,x2:T,y2:C}),b.push({x1:A,y1:_,x2:A,y2:k})}else if(n==="horizontal"){var D=c.scale,F=g+t,E=F-r,$=F+r,O=D(y-j),R=D(y+w);b.push({x1:E,y1:R,x2:$,y2:R}),b.push({x1:F,y1:O,x2:F,y2:R}),b.push({x1:E,y1:O,x2:$,y2:O})}return P.createElement(dt,wx({className:"recharts-errorBar",key:"bar-".concat(b.map(function(I){return"".concat(I.x1,"-").concat(I.x2,"-").concat(I.y1,"-").concat(I.y2)}))},d),b.map(function(I){return P.createElement("line",wx({},I,{key:"line-".concat(I.x1,"-").concat(I.x2,"-").concat(I.y1,"-").concat(I.y2)}))}))});return P.createElement(dt,{className:"recharts-errorBars"},f)}ag.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};ag.displayName="ErrorBar";function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function gR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function S1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(n),!0).forEach(function(r){cPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cPe(e,t,n){return t=uPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uPe(e){var t=dPe(e,"string");return Lm(t)=="symbol"?t:String(t)}function dPe(e,t){if(Lm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pU=function(t){var n=t.children,r=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,o=ns(n,fd);if(!o)return null;var l;return o.props&&o.props.payload?l=o.props&&o.props.payload:a==="children"?l=(r||[]).reduce(function(c,u){var d=u.item,f=u.props,h=f.sectors||f.data||[];return c.concat(h.map(function(m){return{type:o.props.iconType||d.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):l=(r||[]).map(function(c){var u=c.item,d=u.props,f=d.dataKey,h=d.name,m=d.legendType,g=d.hide;return{inactive:g,dataKey:f,type:o.props.iconType||m||"square",color:aP(u),value:h||f,payload:u.props}}),S1(S1(S1({},o.props),fd.getWithHeight(o,s)),{},{payload:l,item:o})};function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function vR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(n),!0).forEach(function(r){Wu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wu(e,t,n){return t=fPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fPe(e){var t=hPe(e,"string");return Fm(t)=="symbol"?t:String(t)}function hPe(e,t){if(Fm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yR(e){return vPe(e)||gPe(e)||pPe(e)||mPe()}function mPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pPe(e,t){if(e){if(typeof e=="string")return I_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(e,t)}}function gPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vPe(e){if(Array.isArray(e))return I_(e)}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bn(e,t,n){return qe(e)||qe(t)?n:Nn(t)?hs(e,t,n):We(t)?t(e):n}function Lh(e,t,n,r){var s=jAe(e,function(l){return bn(l,t)});if(n==="number"){var a=s.filter(function(l){return we(l)||parseFloat(l)});return a.length?[Qw(a),Jw(a)]:[1/0,-1/0]}var o=r?s.filter(function(l){return!qe(l)}):s;return o.map(function(l){return Nn(l)||l instanceof Date?l:""})}var yPe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(Sr(f-d)!==Sr(h-f)){var g=[];if(Sr(h-f)===Sr(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var y=h+c[1]-c[0];g[0]=Math.min(f,(y+f)/2),g[1]=Math.max(f,(y+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var b=Math.min(d,h),j=Math.max(d,h);if(t>(b+f)/2&&t<=(j+f)/2){o=s[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(r[w].coordinate+r[w+1].coordinate)/2||w>0&&w<l-1&&t>(r[w].coordinate+r[w-1].coordinate)/2&&t<=(r[w].coordinate+r[w+1].coordinate)/2||w===l-1&&t>(r[w].coordinate+r[w-1].coordinate)/2){o=r[w].index;break}return o},aP=function(t){var n=t,r=n.type.displayName,s=t.props,a=s.stroke,o=s.fill,l;switch(r){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},xPe=function(t){var n=t.barSize,r=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,y=g.cateAxisId,x=p.filter(function(S){return Ai(S.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].props.barSize,j=x[0].props[y];o[j]||(o[j]=[]);var w=qe(b)?n:b;o[j].push({item:x[0],stackList:x.slice(1),barSize:qe(w)?void 0:Nr(w,r,0)})}}return o},wPe=function(t){var n=t.barGap,r=t.barCategoryGap,s=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Nr(n,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=s/c,g=o.reduce(function(w,S){return w+S.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&m>0&&(h=!0,m*=.9,g=c*m);var p=(s-g)/2>>0,y={offset:p-u,size:0};d=o.reduce(function(w,S){var N={item:S.item,position:{offset:y.offset+y.size+u,size:h?m:S.barSize}},C=[].concat(yR(w),[N]);return y=C[C.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(_){C.push({item:_,position:y})}),C},f)}else{var x=Nr(r,s,0,!0);s-2*x-(c-1)*u<=0&&(u=0);var b=(s-2*x-(c-1)*u)/c;b>1&&(b>>=0);var j=l===+l?Math.min(b,l):b;d=o.reduce(function(w,S,N){var C=[].concat(yR(w),[{item:S.item,position:{offset:x+(b+u)*N+(b-j)/2,size:j}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(_){C.push({item:_,position:C[C.length-1].position})}),C},f)}return d},bPe=function(t,n,r,s){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=pU({children:a,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&we(t[m]))return Ds(Ds({},t),{},Wu({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&we(t[g]))return Ds(Ds({},t),{},Wu({},g,t[g]+(h||0)))}return t},jPe=function(t,n,r){return qe(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},gU=function(t,n,r,s,a){var o=n.props.children,l=ms(o,ag).filter(function(u){return jPe(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=bn(d,r);if(qe(f))return u;var h=Array.isArray(f)?[Qw(f),Jw(f)]:[f,f],m=c.reduce(function(g,p){var y=bn(d,p,0),x=h[0]-Math.abs(Array.isArray(y)?y[0]:y),b=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},SPe=function(t,n,r,s,a){var o=n.map(function(l){return gU(t,l,r,a,s)}).filter(function(l){return!qe(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},vU=function(t,n,r,s,a){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&gU(t,c,u,s)||Lh(t,u,r,a)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},yU=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},xU=function(t,n,r,s){if(s)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(r),l},Si=function(t,n,r){if(!t)return null;var s=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(n||r)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Sr(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Qp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!r?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:a?a[f]:f,index:h,offset:u}})},N1=new WeakMap,sv=function(t,n){if(typeof n!="function")return t;N1.has(t)||N1.set(t,new WeakMap);var r=N1.get(t);if(r.has(n))return r.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},wU=function(t,n,r){var s=t.scale,a=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Om(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:px(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:$h(),realScaleType:"point"}:a==="category"?{scale:Om(),realScaleType:"band"}:{scale:px(),realScaleType:"linear"};if(Jp(s)){var c="scale".concat(Rw(s));return{scale:(dR[c]||$h)(),realScaleType:dR[c]?c:"point"}}return We(s)?{scale:s}:{scale:$h(),realScaleType:"point"}},xR=1e-4,bU=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,s=t.range(),a=Math.min(s[0],s[1])-xR,o=Math.max(s[0],s[1])+xR,l=t(n[0]),c=t(n[r-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[r-1]])}},NPe=function(t,n){if(!t)return null;for(var r=0,s=t.length;r<s;r++)if(t[r].item===n)return t[r].position;return null},_Pe=function(t,n){if(!n||n.length!==2||!we(n[0])||!we(n[1]))return t;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!we(t[0])||t[0]<r)&&(a[0]=r),(!we(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<r&&(a[1]=r),a},CPe=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var a=0,o=0,l=0;l<n;++l){var c=Qp(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=a,t[l][r][1]=a+c,a=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},EPe=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var a=0,o=0;o<n;++o){var l=Qp(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=a,t[o][r][1]=a+l,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},kPe={sign:CPe,expand:Xye,none:cd,silhouette:Jye,wiggle:Qye,positive:EPe},APe=function(t,n,r){var s=n.map(function(l){return l.props.dataKey}),a=kPe[r],o=Yye().keys(s).value(function(l,c){return+bn(l,c,0)}).order(r_).offset(a);return o(t)},PPe=function(t,n,r,s,a,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var m=h.props,g=m.stackId,p=m.hide;if(p)return f;var y=h.props[r],x=f[y]||{hasStack:!1,stackGroups:{}};if(Nn(g)){var b=x.stackGroups[g]||{numericAxisId:r,cateAxisId:s,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[g]=b}else x.stackGroups[af("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[h]};return Ds(Ds({},f),{},Wu({},y,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,y){var x=m.stackGroups[y];return Ds(Ds({},p),{},Wu({},y,{numericAxisId:r,cateAxisId:s,items:x.items,stackedData:APe(t,x.items,a)}))},g)}return Ds(Ds({},f),{},Wu({},h,m))},d)},jU=function(t,n){var r=n.realScaleType,s=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=QAe(u,a,l);return t.domain([Qw(d),Jw(d)]),{niceTicks:d}}if(a&&s==="number"){var f=t.domain(),h=ZAe(f,a,l);return{niceTicks:h}}return null};function wR(e){var t=e.axis,n=e.ticks,r=e.bandSize,s=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!qe(s[t.dataKey])){var l=Ky(n,"value",s[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=bn(s,qe(o)?t.dataKey:o);return qe(c)?null:t.scale(c)}var bR=function(t){var n=t.axis,r=t.ticks,s=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+s:null;var c=bn(o,n.dataKey,n.domain[l]);return qe(c)?null:n.scale(c)-a/2+s},TPe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return s<=0&&a>=0?0:a<0?a:s}return r[0]},OPe=function(t,n){var r=t.props.stackId;if(Nn(r)){var s=n[r];if(s){var a=s.items.indexOf(t);return a>=0?s.stackedData[a]:null}}return null},IPe=function(t){return t.reduce(function(n,r){return[Qw(r.concat([n[0]]).filter(we)),Jw(r.concat([n[1]]).filter(we))]},[1/0,-1/0])},SU=function(t,n,r){return Object.keys(t).reduce(function(s,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=IPe(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},jR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,D_=function(t,n,r){if(We(t))return t(n,r);if(!Array.isArray(t))return n;var s=[];if(we(t[0]))s[0]=r?t[0]:Math.min(t[0],n[0]);else if(jR.test(t[0])){var a=+jR.exec(t[0])[1];s[0]=n[0]-a}else We(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(we(t[1]))s[1]=r?t[1]:Math.max(t[1],n[1]);else if(SR.test(t[1])){var o=+SR.exec(t[1])[1];s[1]=n[1]+o}else We(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},bx=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!r||s>0)return s}if(t&&n&&n.length>=2){for(var a=IA(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},NR=function(t,n,r){return!t||!t.length||sg(t,hs(r,"type.defaultProps.domain"))?n:t},NU=function(t,n){var r=t.props,s=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Ds(Ds({},$e(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:aP(t),value:bn(n,s),type:c,payload:n,chartType:u,hide:d})};function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function _R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function pi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(n),!0).forEach(function(r){_U(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _U(e,t,n){return t=DPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DPe(e){var t=MPe(e,"string");return Bm(t)=="symbol"?t:String(t)}function MPe(e,t){if(Bm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RPe(e,t){return BPe(e)||FPe(e,t)||LPe(e,t)||$Pe()}function $Pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LPe(e,t){if(e){if(typeof e=="string")return CR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CR(e,t)}}function CR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function BPe(e){if(Array.isArray(e))return e}var jx=Math.PI/180,zPe=function(t){return t*180/Math.PI},Ot=function(t,n,r,s){return{x:t+Math.cos(-jx*s)*r,y:n+Math.sin(-jx*s)*r}},CU=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},WPe=function(t,n,r,s,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Nr(t.cx,o,o/2),f=Nr(t.cy,l,l/2),h=CU(o,l,r),m=Nr(t.innerRadius,h,0),g=Nr(t.outerRadius,h,h*.8),p=Object.keys(n);return p.reduce(function(y,x){var b=n[x],j=b.domain,w=b.reversed,S;if(qe(b.range))s==="angleAxis"?S=[c,u]:s==="radiusAxis"&&(S=[m,g]),w&&(S=[S[1],S[0]]);else{S=b.range;var N=S,C=RPe(N,2);c=C[0],u=C[1]}var _=wU(b,a),k=_.realScaleType,A=_.scale;A.domain(j).range(S),bU(A);var T=jU(A,pi(pi({},b),{},{realScaleType:k})),D=pi(pi(pi({},b),T),{},{range:S,radius:g,realScaleType:k,scale:A,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return pi(pi({},y),{},_U({},x,D))},{})},VPe=function(t,n){var r=t.x,s=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(s-o,2))},UPe=function(t,n){var r=t.x,s=t.y,a=n.cx,o=n.cy,l=VPe({x:r,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:zPe(u),angleInRadian:u}},qPe=function(t){var n=t.startAngle,r=t.endAngle,s=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(s,a);return{startAngle:n-o*360,endAngle:r-o*360}},HPe=function(t,n){var r=n.startAngle,s=n.endAngle,a=Math.floor(r/360),o=Math.floor(s/360),l=Math.min(a,o);return t+l*360},ER=function(t,n){var r=t.x,s=t.y,a=UPe({x:r,y:s},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=qPe(n),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?pi(pi({},n),{},{radius:o,angle:HPe(m,n)}):null},EU=function(t){return!v.isValidElement(t)&&!We(t)&&typeof t!="boolean"?t.className:""};function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}var GPe=["offset"];function KPe(e){return QPe(e)||JPe(e)||XPe(e)||YPe()}function YPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XPe(e,t){if(e){if(typeof e=="string")return M_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M_(e,t)}}function JPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QPe(e){if(Array.isArray(e))return M_(e)}function M_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZPe(e,t){if(e==null)return{};var n=e2e(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function e2e(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function kR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(n),!0).forEach(function(r){t2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t2e(e,t,n){return t=n2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n2e(e){var t=r2e(e,"string");return zm(t)=="symbol"?t:String(t)}function r2e(e,t){if(zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wm.apply(this,arguments)}var s2e=function(t){var n=t.value,r=t.formatter,s=qe(t.children)?n:t.children;return We(r)?r(s):s},a2e=function(t,n){var r=Sr(n-t),s=Math.min(Math.abs(n-t),360);return r*s},i2e=function(t,n,r){var s=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,y=(f+h)/2,x=a2e(m,g),b=x>=0?1:-1,j,w;s==="insideStart"?(j=m+b*o,w=p):s==="insideEnd"?(j=g-b*o,w=!p):s==="end"&&(j=g+b*o,w=p),w=x<=0?w:!w;var S=Ot(u,d,y,j),N=Ot(u,d,y,j+(w?1:-1)*359),C="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),_=qe(t.id)?af("recharts-radial-line-"):t.id;return P.createElement("text",Wm({},r,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",l)}),P.createElement("defs",null,P.createElement("path",{id:_,d:C})),P.createElement("textPath",{xlinkHref:"#".concat(_)},n))},o2e=function(t){var n=t.viewBox,r=t.offset,s=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(s==="outside"){var m=Ot(o,l,u+r,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,x=Ot(o,l,y,h),b=x.x,j=x.y;return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},l2e=function(t){var n=t.viewBox,r=t.parentViewBox,s=t.offset,a=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,y=p*s,x=p>0?"end":"start",b=p>0?"start":"end";if(a==="top"){var j={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:m};return yn(yn({},j),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var w={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return yn(yn({},w),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(a==="left"){var S={x:l-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return yn(yn({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(a==="right"){var N={x:l+u+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return yn(yn({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var C=r?{width:u,height:d}:{};return a==="insideLeft"?yn({x:l+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},C):a==="insideRight"?yn({x:l+u-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):a==="insideTop"?yn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},C):a==="insideBottom"?yn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},C):a==="insideTopLeft"?yn({x:l+y,y:c+h,textAnchor:b,verticalAnchor:g},C):a==="insideTopRight"?yn({x:l+u-y,y:c+h,textAnchor:x,verticalAnchor:g},C):a==="insideBottomLeft"?yn({x:l+y,y:c+d-h,textAnchor:b,verticalAnchor:m},C):a==="insideBottomRight"?yn({x:l+u-y,y:c+d-h,textAnchor:x,verticalAnchor:m},C):tf(a)&&(we(a.x)||Wl(a.x))&&(we(a.y)||Wl(a.y))?yn({x:l+Nr(a.x,u),y:c+Nr(a.y,d),textAnchor:"end",verticalAnchor:"end"},C):yn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},c2e=function(t){return"cx"in t&&we(t.cx)};function On(e){var t=e.offset,n=t===void 0?5:t,r=ZPe(e,GPe),s=yn({offset:n},r),a=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!a||qe(l)&&qe(c)&&!v.isValidElement(u)&&!We(u))return null;if(v.isValidElement(u))return v.cloneElement(u,s);var m;if(We(u)){if(m=v.createElement(u,s),v.isValidElement(m))return m}else m=s2e(s);var g=c2e(a),p=$e(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return i2e(s,m,p);var y=g?o2e(s):l2e(s);return P.createElement(fc,Wm({className:Ye("recharts-label",f)},p,y,{breakAll:h}),m)}On.displayName="Label";var kU=function(t){var n=t.cx,r=t.cy,s=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,y=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(we(p)&&we(y)){if(we(f)&&we(h))return{x:f,y:h,width:p,height:y};if(we(m)&&we(g))return{x:m,y:g,width:p,height:y}}return we(f)&&we(h)?{x:f,y:h,width:0,height:0}:we(n)&&we(r)?{cx:n,cy:r,startAngle:a||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},u2e=function(t,n){return t?t===!0?P.createElement(On,{key:"label-implicit",viewBox:n}):Nn(t)?P.createElement(On,{key:"label-implicit",viewBox:n,value:t}):v.isValidElement(t)?t.type===On?v.cloneElement(t,{key:"label-implicit",viewBox:n}):P.createElement(On,{key:"label-implicit",content:t,viewBox:n}):We(t)?P.createElement(On,{key:"label-implicit",content:t,viewBox:n}):tf(t)?P.createElement(On,Wm({viewBox:n},t,{key:"label-implicit"})):null:null},d2e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var s=t.children,a=kU(t),o=ms(s,On).map(function(c,u){return v.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var l=u2e(t.label,n||a);return[l].concat(KPe(o))};On.parseViewBox=kU;On.renderCallByParent=d2e;function f2e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var h2e=f2e;const m2e=mt(h2e);function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}var p2e=["valueAccessor"],g2e=["data","dataKey","clockWise","id","textBreakAll"];function v2e(e){return b2e(e)||w2e(e)||x2e(e)||y2e()}function y2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x2e(e,t){if(e){if(typeof e=="string")return R_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R_(e,t)}}function w2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b2e(e){if(Array.isArray(e))return R_(e)}function R_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sx.apply(this,arguments)}function AR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function PR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(n),!0).forEach(function(r){j2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j2e(e,t,n){return t=S2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S2e(e){var t=N2e(e,"string");return Vm(t)=="symbol"?t:String(t)}function N2e(e,t){if(Vm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TR(e,t){if(e==null)return{};var n=_2e(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _2e(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var C2e=function(t){return Array.isArray(t.value)?m2e(t.value):t.value};function Ti(e){var t=e.valueAccessor,n=t===void 0?C2e:t,r=TR(e,p2e),s=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=TR(r,g2e);return!s||!s.length?null:P.createElement(dt,{className:"recharts-label-list"},s.map(function(d,f){var h=qe(a)?n(d,f):bn(d&&d.payload,a),m=qe(l)?{}:{id:"".concat(l,"-").concat(f)};return P.createElement(On,Sx({},$e(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:On.parseViewBox(qe(o)?d:PR(PR({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ti.displayName="LabelList";function E2e(e,t){return e?e===!0?P.createElement(Ti,{key:"labelList-implicit",data:t}):P.isValidElement(e)||We(e)?P.createElement(Ti,{key:"labelList-implicit",data:t,content:e}):tf(e)?P.createElement(Ti,Sx({data:t},e,{key:"labelList-implicit"})):null:null}function k2e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,s=ms(r,Ti).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return s;var a=E2e(e.label,t);return[a].concat(v2e(s))}Ti.renderCallByParent=k2e;function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$_.apply(this,arguments)}function OR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function IR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(n),!0).forEach(function(r){A2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A2e(e,t,n){return t=P2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P2e(e){var t=T2e(e,"string");return Um(t)=="symbol"?t:String(t)}function T2e(e,t){if(Um(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O2e=function(t,n){var r=Sr(n-t),s=Math.min(Math.abs(n-t),359.999);return r*s},av=function(t){var n=t.cx,r=t.cy,s=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/jx,h=u?a:a+o*f,m=Ot(n,r,d,h),g=Ot(n,r,s,h),p=u?a-o*f:a,y=Ot(n,r,d*Math.cos(f*jx),p);return{center:m,circleTangency:g,lineTangency:y,theta:f}},AU=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=O2e(o,l),u=o+c,d=Ot(n,r,a,o),f=Ot(n,r,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var m=Ot(n,r,s,o),g=Ot(n,r,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},I2e=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Sr(d-u),h=av({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,y=av({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=y.circleTangency,b=y.lineTangency,j=y.theta,w=c?Math.abs(u-d):Math.abs(u-d)-p-j;if(w<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):AU({cx:n,cy:r,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var N=av({cx:n,cy:r,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=N.circleTangency,_=N.lineTangency,k=N.theta,A=av({cx:n,cy:r,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=A.circleTangency,D=A.lineTangency,F=A.theta,E=c?Math.abs(u-d):Math.abs(u-d)-k-F;if(E<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},D2e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PU=function(t){var n=IR(IR({},D2e),t),r=n.cx,s=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<a||d===f)return null;var m=Ye("recharts-sector",h),g=o-a,p=Nr(l,g,0,!0),y;return p>0&&Math.abs(d-f)<360?y=I2e({cx:r,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=AU({cx:r,cy:s,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),P.createElement("path",$_({},$e(n,!0),{className:m,d:y,role:"img"}))};function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L_.apply(this,arguments)}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function MR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(r){M2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M2e(e,t,n){return t=R2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R2e(e){var t=$2e(e,"string");return qm(t)=="symbol"?t:String(t)}function $2e(e,t){if(qm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RR={curveBasisClosed:Lye,curveBasisOpen:Fye,curveBasis:$ye,curveBumpX:Sye,curveBumpY:Nye,curveLinearClosed:Bye,curveLinear:Lw,curveMonotoneX:zye,curveMonotoneY:Wye,curveNatural:Vye,curveStep:Uye,curveStepAfter:Hye,curveStepBefore:qye},iv=function(t){return t.x===+t.x&&t.y===+t.y},Ff=function(t){return t.x},Bf=function(t){return t.y},L2e=function(t,n){if(We(t))return t;var r="curve".concat(Rw(t));return(r==="curveMonotone"||r==="curveBump")&&n?RR["".concat(r).concat(n==="vertical"?"Y":"X")]:RR[r]||Lw},F2e=function(t){var n=t.type,r=n===void 0?"linear":n,s=t.points,a=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=L2e(r,l),f=u?a.filter(function(p){return iv(p)}):a,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return iv(p)}):o,g=f.map(function(p,y){return MR(MR({},p),{},{base:m[y]})});return l==="vertical"?h=Yg().y(Bf).x1(Ff).x0(function(p){return p.base.x}):h=Yg().x(Ff).y1(Bf).y0(function(p){return p.base.y}),h.defined(iv).curve(d),h(g)}return l==="vertical"&&we(o)?h=Yg().y(Bf).x1(Ff).x0(o):we(o)?h=Yg().x(Ff).y1(Bf).y0(o):h=SW().x(Ff).y(Bf),h.defined(iv).curve(d),h(f)},Nx=function(t){var n=t.className,r=t.points,s=t.path,a=t.pathRef;if((!r||!r.length)&&!s)return null;var o=r&&r.length?F2e(t):s;return P.createElement("path",L_({},$e(t,!1),Yy(t),{className:Ye("recharts-curve",n),d:o,ref:a}))},TU={exports:{}},B2e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",z2e=B2e,W2e=z2e;function OU(){}function IU(){}IU.resetWarningCache=OU;var V2e=function(){function e(r,s,a,o,l,c){if(c!==W2e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:IU,resetWarningCache:OU};return n.PropTypes=n,n};TU.exports=V2e();var U2e=TU.exports;const Ke=mt(U2e);var q2e=Object.getOwnPropertyNames,H2e=Object.getOwnPropertySymbols,G2e=Object.prototype.hasOwnProperty;function $R(e,t){return function(r,s,a){return e(r,s,a)&&t(r,s,a)}}function ov(e){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,s);var a=s.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var c=e(n,r,s);return a.delete(n),a.delete(r),c}}function LR(e){return q2e(e).concat(H2e(e))}var DU=Object.hasOwn||function(e,t){return G2e.call(e,t)};function hf(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var MU="_owner",FR=Object.getOwnPropertyDescriptor,BR=Object.keys;function K2e(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Y2e(e,t){return hf(e.getTime(),t.getTime())}function zR(e,t,n){if(e.size!==t.size)return!1;for(var r={},s=e.entries(),a=0,o,l;(o=s.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var f=o.value,h=f[0],m=f[1],g=l.value,p=g[0],y=g[1];!u&&!r[d]&&(u=n.equals(h,p,a,d,e,t,n)&&n.equals(m,y,h,p,e,t,n))&&(r[d]=!0),d++}if(!u)return!1;a++}return!0}function X2e(e,t,n){var r=BR(e),s=r.length;if(BR(t).length!==s)return!1;for(var a;s-- >0;)if(a=r[s],a===MU&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!DU(t,a)||!n.equals(e[a],t[a],a,a,e,t,n))return!1;return!0}function zf(e,t,n){var r=LR(e),s=r.length;if(LR(t).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=r[s],a===MU&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!DU(t,a)||!n.equals(e[a],t[a],a,a,e,t,n)||(o=FR(e,a),l=FR(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function J2e(e,t){return hf(e.valueOf(),t.valueOf())}function Q2e(e,t){return e.source===t.source&&e.flags===t.flags}function WR(e,t,n){if(e.size!==t.size)return!1;for(var r={},s=e.values(),a,o;(a=s.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!r[u]&&(c=n.equals(a.value,o.value,a.value,o.value,e,t,n))&&(r[u]=!0),u++;if(!c)return!1}return!0}function Z2e(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var eTe="[object Arguments]",tTe="[object Boolean]",nTe="[object Date]",rTe="[object Map]",sTe="[object Number]",aTe="[object Object]",iTe="[object RegExp]",oTe="[object Set]",lTe="[object String]",cTe=Array.isArray,VR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,UR=Object.assign,uTe=Object.prototype.toString.call.bind(Object.prototype.toString);function dTe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,s=e.areObjectsEqual,a=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(d,f,h){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var m=d.constructor;if(m!==f.constructor)return!1;if(m===Object)return s(d,f,h);if(cTe(d))return t(d,f,h);if(VR!=null&&VR(d))return c(d,f,h);if(m===Date)return n(d,f,h);if(m===RegExp)return o(d,f,h);if(m===Map)return r(d,f,h);if(m===Set)return l(d,f,h);var g=uTe(d);return g===nTe?n(d,f,h):g===iTe?o(d,f,h):g===rTe?r(d,f,h):g===oTe?l(d,f,h):g===aTe?typeof d.then!="function"&&typeof f.then!="function"&&s(d,f,h):g===eTe?s(d,f,h):g===tTe||g===sTe||g===lTe?a(d,f,h):!1}}function fTe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,s={areArraysEqual:r?zf:K2e,areDatesEqual:Y2e,areMapsEqual:r?$R(zR,zf):zR,areObjectsEqual:r?zf:X2e,arePrimitiveWrappersEqual:J2e,areRegExpsEqual:Q2e,areSetsEqual:r?$R(WR,zf):WR,areTypedArraysEqual:r?zf:Z2e};if(n&&(s=UR({},s,n(s))),t){var a=ov(s.areArraysEqual),o=ov(s.areMapsEqual),l=ov(s.areObjectsEqual),c=ov(s.areSetsEqual);s=UR({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function hTe(e){return function(t,n,r,s,a,o,l){return e(t,n,l)}}function mTe(e){var t=e.circular,n=e.comparator,r=e.createState,s=e.equals,a=e.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return n(c,u,{cache:h,equals:s,meta:m,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var pTe=ml();ml({strict:!0});ml({circular:!0});ml({circular:!0,strict:!0});ml({createInternalComparator:function(){return hf}});ml({strict:!0,createInternalComparator:function(){return hf}});ml({circular:!0,createInternalComparator:function(){return hf}});ml({circular:!0,createInternalComparator:function(){return hf},strict:!0});function ml(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,s=e.createState,a=e.strict,o=a===void 0?!1:a,l=fTe(e),c=dTe(l),u=r?r(c):hTe(c);return mTe({circular:n,comparator:c,createState:s,equals:u,strict:o})}function gTe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function qR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(a){n<0&&(n=a),a-n>t?(e(a),n=-1):gTe(s)};requestAnimationFrame(r)}function F_(e){"@babel/helpers - typeof";return F_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F_(e)}function vTe(e){return bTe(e)||wTe(e)||xTe(e)||yTe()}function yTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xTe(e,t){if(e){if(typeof e=="string")return HR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HR(e,t)}}function HR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bTe(e){if(Array.isArray(e))return e}function jTe(){var e={},t=function(){return null},n=!1,r=function s(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=vTe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){qR(s.bind(null,u),c);return}s(c),qR(s.bind(null,u));return}F_(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function GR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function KR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(n),!0).forEach(function(r){RU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RU(e,t,n){return t=STe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function STe(e){var t=NTe(e,"string");return Hm(t)==="symbol"?t:String(t)}function NTe(e,t){if(Hm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Te=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,s){return r.filter(function(a){return s.includes(a)})})},CTe=function(t){return t},ETe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Fh=function(t,n){return Object.keys(n).reduce(function(r,s){return KR(KR({},r),{},RU({},s,t(s,n[s])))},{})},YR=function(t,n,r){return t.map(function(s){return"".concat(ETe(s)," ").concat(n,"ms ").concat(r)}).join(",")};function kTe(e,t){return TTe(e)||PTe(e,t)||$U(e,t)||ATe()}function ATe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function TTe(e){if(Array.isArray(e))return e}function OTe(e){return MTe(e)||DTe(e)||$U(e)||ITe()}function ITe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $U(e,t){if(e){if(typeof e=="string")return B_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(e,t)}}function DTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MTe(e){if(Array.isArray(e))return B_(e)}function B_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _x=1e-4,LU=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},FU=function(t,n){return t.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},XR=function(t,n){return function(r){var s=LU(t,n);return FU(s,r)}},RTe=function(t,n){return function(r){var s=LU(t,n),a=[].concat(OTe(s.map(function(o,l){return o*l}).slice(1)),[0]);return FU(a,r)}},JR=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=kTe(u,4);s=d[0],a=d[1],o=d[2],l=d[3]}}}var f=XR(s,o),h=XR(a,l),m=RTe(s,o),g=function(x){return x>1?1:x<0?0:x},p=function(x){for(var b=x>1?1:x,j=b,w=0;w<8;++w){var S=f(j)-b,N=m(j);if(Math.abs(S-b)<_x||N<_x)return h(j);j=g(j-S/N)}return h(j)};return p.isStepper=!1,p},$Te=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,s=t.damping,a=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*r,g=h*a,p=h+(m-g)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<_x&&Math.abs(p)<_x?[f,0]:[y,p]};return c.isStepper=!0,c.dt=l,c},LTe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JR(s);case"spring":return $Te();default:if(s.split("(")[0]==="cubic-bezier")return JR(s)}return typeof s=="function"?s:null};function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function QR(e){return zTe(e)||BTe(e)||BU(e)||FTe()}function FTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zTe(e){if(Array.isArray(e))return W_(e)}function ZR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(n),!0).forEach(function(r){z_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z_(e,t,n){return t=WTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WTe(e){var t=VTe(e,"string");return Gm(t)==="symbol"?t:String(t)}function VTe(e,t){if(Gm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UTe(e,t){return GTe(e)||HTe(e,t)||BU(e,t)||qTe()}function qTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BU(e,t){if(e){if(typeof e=="string")return W_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W_(e,t)}}function W_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function GTe(e){if(Array.isArray(e))return e}var Cx=function(t,n,r){return t+(n-t)*r},V_=function(t){var n=t.from,r=t.to;return n!==r},KTe=function e(t,n,r){var s=Fh(function(a,o){if(V_(o)){var l=t(o.from,o.to,o.velocity),c=UTe(l,2),u=c[0],d=c[1];return Un(Un({},o),{},{from:u,velocity:d})}return o},n);return r<1?Fh(function(a,o){return V_(o)?Un(Un({},o),{},{velocity:Cx(o.velocity,s[a].velocity,r),from:Cx(o.from,s[a].from,r)}):o},n):e(t,s,r-1)};const YTe=function(e,t,n,r,s){var a=_Te(e,t),o=a.reduce(function(y,x){return Un(Un({},y),{},z_({},x,[e[x],t[x]]))},{}),l=a.reduce(function(y,x){return Un(Un({},y),{},z_({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Fh(function(x,b){return b.from},l)},m=function(){return!Object.values(l).filter(V_).length},g=function(x){u||(u=x);var b=x-u,j=b/n.dt;l=KTe(n,l,j),s(Un(Un(Un({},e),t),h())),u=x,m()||(c=requestAnimationFrame(f))},p=function(x){d||(d=x);var b=(x-d)/r,j=Fh(function(S,N){return Cx.apply(void 0,QR(N).concat([n(b)]))},o);if(s(Un(Un(Un({},e),t),j)),b<1)c=requestAnimationFrame(f);else{var w=Fh(function(S,N){return Cx.apply(void 0,QR(N).concat([n(1)]))},o);s(Un(Un(Un({},e),t),w))}};return f=n.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}var XTe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function JTe(e,t){if(e==null)return{};var n=QTe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QTe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function _1(e){return nOe(e)||tOe(e)||eOe(e)||ZTe()}function ZTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eOe(e,t){if(e){if(typeof e=="string")return U_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(e,t)}}function tOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nOe(e){if(Array.isArray(e))return U_(e)}function U_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function e$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e$(Object(n),!0).forEach(function(r){ih(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ih(e,t,n){return t=zU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sOe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zU(r.key),r)}}function aOe(e,t,n){return t&&sOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zU(e){var t=iOe(e,"string");return yd(t)==="symbol"?t:String(t)}function iOe(e,t){if(yd(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q_(e,t)}function q_(e,t){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},q_(e,t)}function lOe(e){var t=cOe();return function(){var r=Ex(e),s;if(t){var a=Ex(this).constructor;s=Reflect.construct(r,arguments,a)}else s=r.apply(this,arguments);return H_(this,s)}}function H_(e,t){if(t&&(yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G_(e)}function G_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cOe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ex(e){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ex(e)}var ti=function(e){oOe(n,e);var t=lOe(n);function n(r,s){var a;rOe(this,n),a=t.call(this,r,s);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(G_(a)),a.changeStyle=a.changeStyle.bind(G_(a)),!l||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),H_(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},H_(a);a.state={style:c?ih({},c,u):u}}else a.state={style:{}};return a}return aOe(n,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!o){var m={style:c?ih({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(pTe(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:s.to;if(this.state&&h){var y={style:c?ih({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(y)}this.runAnimation(ta(ta({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,m=YTe(o,l,LTe(u),c,this.changeStyle),g=function(){a.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,y,x){if(x===0)return p;var b=y.duration,j=y.easing,w=j===void 0?"ease":j,S=y.style,N=y.properties,C=y.onAnimationEnd,_=x>0?o[x-1]:y,k=N||Object.keys(S);if(typeof w=="function"||w==="spring")return[].concat(_1(p),[a.runJSAnimation.bind(a,{from:_.style,to:S,duration:b,easing:w}),b]);var A=YR(k,b,w),T=ta(ta(ta({},_.style),S),{},{transition:A});return[].concat(_1(p),[T,b,C]).filter(CTe)};return this.manager.start([c].concat(_1(o.reduce(m,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=jTe());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,m=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?ih({},l,c):c,y=YR(Object.keys(p),o,u);g.start([d,a,ta(ta({},p),{},{transition:y}),o,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=JTe(s,XTe),u=v.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(m){var g=m.props,p=g.style,y=p===void 0?{}:p,x=g.className,b=v.cloneElement(m,ta(ta({},c),{},{style:ta(ta({},y),d),className:x}));return b};return u===1?f(v.Children.only(a)):P.createElement("div",null,v.Children.map(a,function(h){return f(h)}))}}]),n}(v.PureComponent);ti.displayName="Animate";ti.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ti.propTypes={from:Ke.oneOfType([Ke.object,Ke.string]),to:Ke.oneOfType([Ke.object,Ke.string]),attributeName:Ke.string,duration:Ke.number,begin:Ke.number,easing:Ke.oneOfType([Ke.string,Ke.func]),steps:Ke.arrayOf(Ke.shape({duration:Ke.number.isRequired,style:Ke.object.isRequired,easing:Ke.oneOfType([Ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ke.func]),properties:Ke.arrayOf("string"),onAnimationEnd:Ke.func})),children:Ke.oneOfType([Ke.node,Ke.func]),isActive:Ke.bool,canBegin:Ke.bool,onAnimationEnd:Ke.func,shouldReAnimate:Ke.bool,onAnimationStart:Ke.func,onAnimationReStart:Ke.func};function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lo.apply(null,arguments)}function WU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}Ke.object,Ke.object,Ke.object,Ke.element;Ke.object,Ke.object,Ke.object,Ke.oneOfType([Ke.array,Ke.element]),Ke.any;function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kx.apply(this,arguments)}function uOe(e,t){return mOe(e)||hOe(e,t)||fOe(e,t)||dOe()}function dOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fOe(e,t){if(e){if(typeof e=="string")return t$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t$(e,t)}}function t$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hOe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function mOe(e){if(Array.isArray(e))return e}function n$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function r$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(n),!0).forEach(function(r){pOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pOe(e,t,n){return t=gOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gOe(e){var t=vOe(e,"string");return Km(t)=="symbol"?t:String(t)}function vOe(e,t){if(Km(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s$=function(t,n,r,s,a){var o=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,c=r>=0?1:-1,u=s>=0&&r>=0||s<0&&r<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>o?o:a[h];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*f[1])),d+="L ".concat(t+r,",").concat(n+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-c*f[2],",").concat(n+s)),d+="L ".concat(t+c*f[3],",").concat(n+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+s-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);d="M ".concat(t,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(n,`
            L `).concat(t+r-c*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*g,`
            L `).concat(t+r,",").concat(n+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r-c*g,",").concat(n+s,`
            L `).concat(t+c*g,",").concat(n+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(n+s-l*g," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return d},yOe=function(t,n){if(!t||!n)return!1;var r=t.x,s=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&s>=f&&s<=h}return!1},xOe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iP=function(t){var n=r$(r$({},xOe),t),r=v.useRef(),s=v.useState(-1),a=uOe(s,2),o=a[0],l=a[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&l(w)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,g=n.animationEasing,p=n.animationDuration,y=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=Ye("recharts-rectangle",m);return b?P.createElement(ti,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var S=w.width,N=w.height,C=w.x,_=w.y;return P.createElement(ti,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,isActive:x,easing:g},P.createElement("path",kx({},$e(n,!0),{className:j,d:s$(C,_,S,N,h),ref:r})))}):P.createElement("path",kx({},$e(n,!0),{className:j,d:s$(c,u,d,f,h)}))},wOe=["points","className","baseLinePoints","connectNulls"];function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Su.apply(this,arguments)}function bOe(e,t){if(e==null)return{};var n=jOe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jOe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function a$(e){return COe(e)||_Oe(e)||NOe(e)||SOe()}function SOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NOe(e,t){if(e){if(typeof e=="string")return K_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(e,t)}}function _Oe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function COe(e){if(Array.isArray(e))return K_(e)}function K_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i$=function(t){return t&&t.x===+t.x&&t.y===+t.y},EOe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){i$(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),i$(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Bh=function(t,n){var r=EOe(t);n&&(r=[r.reduce(function(a,o){return[].concat(a$(a),a$(o))},[])]);var s=r.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(s,"Z"):s},kOe=function(t,n,r){var s=Bh(t,r);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Bh(n.reverse(),r).slice(1))},AOe=function(t){var n=t.points,r=t.className,s=t.baseLinePoints,a=t.connectNulls,o=bOe(t,wOe);if(!n||!n.length)return null;var l=Ye("recharts-polygon",r);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=kOe(n,s,a);return P.createElement("g",{className:l},P.createElement("path",Su({},$e(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?P.createElement("path",Su({},$e(o,!0),{fill:"none",d:Bh(n,a)})):null,c?P.createElement("path",Su({},$e(o,!0),{fill:"none",d:Bh(s,a)})):null)}var d=Bh(n,a);return P.createElement("path",Su({},$e(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y_.apply(this,arguments)}var tb=function(t){var n=t.cx,r=t.cy,s=t.r,a=t.className,o=Ye("recharts-dot",a);return n===+n&&r===+r&&s===+s?P.createElement("circle",Y_({},$e(t,!1),Yy(t),{className:o,cx:n,cy:r,r:s})):null};function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}var POe=["x","y","top","left","width","height","className"];function X_(){return X_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X_.apply(this,arguments)}function o$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function TOe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(n),!0).forEach(function(r){OOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OOe(e,t,n){return t=IOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IOe(e){var t=DOe(e,"string");return Ym(t)=="symbol"?t:String(t)}function DOe(e,t){if(Ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MOe(e,t){if(e==null)return{};var n=ROe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ROe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var $Oe=function(t,n,r,s,a,o){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(r)},LOe=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=MOe(t,POe),y=TOe({x:r,y:a,top:l,left:u,width:f,height:m},p);return!we(r)||!we(a)||!we(f)||!we(m)||!we(l)||!we(u)?null:P.createElement("path",X_({},$e(y,!0),{className:Ye("recharts-cross",g),d:$Oe(r,a,f,m,l,u)}))},FOe=Xw,BOe=tU,zOe=ii;function WOe(e,t){return e&&e.length?FOe(e,zOe(t),BOe):void 0}var VOe=WOe;const UOe=mt(VOe);var qOe=Xw,HOe=ii,GOe=nU;function KOe(e,t){return e&&e.length?qOe(e,HOe(t),GOe):void 0}var YOe=KOe;const XOe=mt(YOe);var JOe=["cx","cy","angle","ticks","axisLine"],QOe=["ticks","tick","angle","tickFormatter","stroke"];function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zh.apply(this,arguments)}function l$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l$(Object(n),!0).forEach(function(r){nb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c$(e,t){if(e==null)return{};var n=ZOe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZOe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function eIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UU(r.key),r)}}function tIe(e,t,n){return t&&u$(e.prototype,t),n&&u$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nIe(e,t,n){return t=Ax(t),rIe(e,VU()?Reflect.construct(t,n||[],Ax(e).constructor):t.apply(e,n))}function rIe(e,t){if(t&&(xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sIe(e)}function sIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VU=function(){return!!e})()}function Ax(e){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ax(e)}function aIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J_(e,t)}function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},J_(e,t)}function nb(e,t,n){return t=UU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UU(e){var t=iIe(e,"string");return xd(t)=="symbol"?t:String(t)}function iIe(e,t){if(xd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rb=function(e){aIe(t,e);function t(){return eIe(this,t),nIe(this,t,arguments)}return tIe(t,[{key:"getTickValueCoord",value:function(r){var s=r.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Ot(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,s;switch(r){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var r=this.props,s=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=UOe(l,function(d){return d.coordinate||0}),u=XOe(l,function(d){return d.coordinate||0});return{cx:s,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=c$(r,JOe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=Ot(s,a,d[0],o),h=Ot(s,a,d[1],o),m=bl(bl(bl({},$e(u,!1)),{},{fill:"none"},$e(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return P.createElement("line",zh({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,s=this.props,a=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=c$(s,QOe),f=this.getTickTextAnchor(),h=$e(d,!1),m=$e(o,!1),g=a.map(function(p,y){var x=r.getTickValueCoord(p),b=bl(bl(bl(bl({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:y},x),{},{payload:p});return P.createElement(dt,zh({className:Ye("recharts-polar-radius-axis-tick",EU(o)),key:"tick-".concat(p.coordinate)},dc(r.props,p,y)),t.renderTickItem(o,b,c?c(p.value,y):p.value))});return P.createElement(dt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,s=r.ticks,a=r.axisLine,o=r.tick;return!s||!s.length?null:P.createElement(dt,{className:Ye("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),On.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,s,a){var o;return P.isValidElement(r)?o=P.cloneElement(r,s):We(r)?o=r(s):o=P.createElement(fc,zh({},s,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}]),t}(v.PureComponent);nb(rb,"displayName","PolarRadiusAxis");nb(rb,"axisType","radiusAxis");nb(rb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$l.apply(this,arguments)}function d$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d$(Object(n),!0).forEach(function(r){sb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HU(r.key),r)}}function lIe(e,t,n){return t&&f$(e.prototype,t),n&&f$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cIe(e,t,n){return t=Px(t),uIe(e,qU()?Reflect.construct(t,n||[],Px(e).constructor):t.apply(e,n))}function uIe(e,t){if(t&&(wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dIe(e)}function dIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qU=function(){return!!e})()}function Px(e){return Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Px(e)}function fIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q_(e,t)}function Q_(e,t){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Q_(e,t)}function sb(e,t,n){return t=HU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HU(e){var t=hIe(e,"string");return wd(t)=="symbol"?t:String(t)}function hIe(e,t){if(wd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mIe=Math.PI/180,h$=1e-5,ab=function(e){fIe(t,e);function t(){return oIe(this,t),cIe(this,t,arguments)}return lIe(t,[{key:"getTickLineCoord",value:function(r){var s=this.props,a=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=Ot(a,o,l,r.coordinate),h=Ot(a,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var s=this.props.orientation,a=Math.cos(-r.coordinate*mIe),o;return a>h$?o=s==="outer"?"start":"end":a<-h$?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,a=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=jl(jl({},$e(this.props,!1)),{},{fill:"none"},$e(l,!1));if(c==="circle")return P.createElement(tb,$l({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return Ot(s,a,o,h.coordinate)});return P.createElement(AOe,$l({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,s=this.props,a=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=$e(this.props,!1),f=$e(o,!1),h=jl(jl({},d),{},{fill:"none"},$e(l,!1)),m=a.map(function(g,p){var y=r.getTickLineCoord(g),x=r.getTickTextAnchor(g),b=jl(jl(jl({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:y.x2,y:y.y2});return P.createElement(dt,$l({className:Ye("recharts-polar-angle-axis-tick",EU(o)),key:"tick-".concat(g.coordinate)},dc(r.props,g,p)),l&&P.createElement("line",$l({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&t.renderTickItem(o,b,c?c(g.value,p):g.value))});return P.createElement(dt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,s=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!s||!s.length?null:P.createElement(dt,{className:Ye("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,s,a){var o;return P.isValidElement(r)?o=P.cloneElement(r,s):We(r)?o=r(s):o=P.createElement(fc,$l({},s,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}]),t}(v.PureComponent);sb(ab,"displayName","PolarAngleAxis");sb(ab,"axisType","angleAxis");sb(ab,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var pIe=GW,gIe=pIe(Object.getPrototypeOf,Object),vIe=gIe,yIe=Ji,xIe=vIe,wIe=Qi,bIe="[object Object]",jIe=Function.prototype,SIe=Object.prototype,GU=jIe.toString,NIe=SIe.hasOwnProperty,_Ie=GU.call(Object);function CIe(e){if(!wIe(e)||yIe(e)!=bIe)return!1;var t=xIe(e);if(t===null)return!0;var n=NIe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&GU.call(n)==_Ie}var EIe=CIe;const kIe=mt(EIe);var AIe=Ji,PIe=Qi,TIe="[object Boolean]";function OIe(e){return e===!0||e===!1||PIe(e)&&AIe(e)==TIe}var IIe=OIe;const DIe=mt(IIe);function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tx.apply(this,arguments)}function MIe(e,t){return FIe(e)||LIe(e,t)||$Ie(e,t)||RIe()}function RIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ie(e,t){if(e){if(typeof e=="string")return m$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m$(e,t)}}function m$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function FIe(e){if(Array.isArray(e))return e}function p$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function g$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p$(Object(n),!0).forEach(function(r){BIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BIe(e,t,n){return t=zIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zIe(e){var t=WIe(e,"string");return Xm(t)=="symbol"?t:String(t)}function WIe(e,t){if(Xm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v$=function(t,n,r,s,a){var o=r-s,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+a),l+="L ".concat(t+r-o/2-s,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},VIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UIe=function(t){var n=g$(g$({},VIe),t),r=v.useRef(),s=v.useState(-1),a=MIe(s,2),o=a[0],l=a[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,g=n.animationEasing,p=n.animationDuration,y=n.animationBegin,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Ye("recharts-trapezoid",m);return x?P.createElement(ti,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(j){var w=j.upperWidth,S=j.lowerWidth,N=j.height,C=j.x,_=j.y;return P.createElement(ti,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,easing:g},P.createElement("path",Tx({},$e(n,!0),{className:b,d:v$(C,_,w,S,N),ref:r})))}):P.createElement("g",null,P.createElement("path",Tx({},$e(n,!0),{className:b,d:v$(c,u,d,f,h)})))},qIe=["option","shapeType","propTransformer","activeClassName","isActive"];function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function HIe(e,t){if(e==null)return{};var n=GIe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GIe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function y$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ox(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y$(Object(n),!0).forEach(function(r){KIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KIe(e,t,n){return t=YIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YIe(e){var t=XIe(e,"string");return Jm(t)=="symbol"?t:String(t)}function XIe(e,t){if(Jm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JIe(e,t){return Ox(Ox({},t),e)}function QIe(e,t){return e==="symbols"}function x$(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return P.createElement(iP,n);case"trapezoid":return P.createElement(UIe,n);case"sector":return P.createElement(PU,n);case"symbols":if(QIe(t))return P.createElement(_A,n);break;default:return null}}function ZIe(e){return v.isValidElement(e)?e.props:e}function KU(e){var t=e.option,n=e.shapeType,r=e.propTransformer,s=r===void 0?JIe:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=HIe(e,qIe),u;if(v.isValidElement(t))u=v.cloneElement(t,Ox(Ox({},c),ZIe(t)));else if(We(t))u=t(c);else if(kIe(t)&&!DIe(t)){var d=s(t,c);u=P.createElement(x$,{shapeType:n,elementProps:d})}else{var f=c;u=P.createElement(x$,{shapeType:n,elementProps:f})}return l?P.createElement(dt,{className:o},u):u}function ib(e,t){return t!=null&&"trapezoids"in e.props}function ob(e,t){return t!=null&&"sectors"in e.props}function Qm(e,t){return t!=null&&"points"in e.props}function eDe(e,t){var n,r,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return s&&a}function tDe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function nDe(e,t){var n=e.x===t.x,r=e.y===t.y,s=e.z===t.z;return n&&r&&s}function rDe(e,t){var n;return ib(e,t)?n=eDe:ob(e,t)?n=tDe:Qm(e,t)&&(n=nDe),n}function sDe(e,t){var n;return ib(e,t)?n="trapezoids":ob(e,t)?n="sectors":Qm(e,t)&&(n="points"),n}function aDe(e,t){if(ib(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ob(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Qm(e,t)?t.payload:{}}function iDe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,s=sDe(n,t),a=aDe(n,t),o=r.filter(function(c,u){var d=sg(a,c),f=n.props[s].filter(function(g){var p=rDe(n,t);return p(g,t)}),h=n.props[s].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=r.indexOf(o[o.length-1]);return l}var qv;function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nu.apply(this,arguments)}function w$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w$(Object(n),!0).forEach(function(r){Ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XU(r.key),r)}}function lDe(e,t,n){return t&&b$(e.prototype,t),n&&b$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cDe(e,t,n){return t=Ix(t),uDe(e,YU()?Reflect.construct(t,n||[],Ix(e).constructor):t.apply(e,n))}function uDe(e,t){if(t&&(bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return su(e)}function YU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YU=function(){return!!e})()}function Ix(e){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ix(e)}function su(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z_(e,t)}function Z_(e,t){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Z_(e,t)}function Ms(e,t,n){return t=XU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XU(e){var t=fDe(e,"string");return bd(t)=="symbol"?t:String(t)}function fDe(e,t){if(bd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eo=function(e){dDe(t,e);function t(n){var r;return oDe(this,t),r=cDe(this,t,[n]),Ms(su(r),"pieRef",null),Ms(su(r),"sectorRefs",[]),Ms(su(r),"id",af("recharts-pie-")),Ms(su(r),"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(s)&&s()}),Ms(su(r),"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(s)&&s()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return lDe(t,[{key:"isActiveIndex",value:function(r){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(r)!==-1:r===s}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=$e(this.props,!1),f=$e(o,!1),h=$e(l,!1),m=o&&o.offsetRadius||20,g=r.map(function(p,y){var x=(p.startAngle+p.endAngle)/2,b=Ot(p.cx,p.cy,p.outerRadius+m,x),j=Wt(Wt(Wt(Wt({},d),p),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(b.x,p.cx)},b),w=Wt(Wt(Wt(Wt({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:y,points:[Ot(p.cx,p.cy,p.outerRadius,x),b],key:"line"}),S=c;return qe(c)&&qe(u)?S="value":qe(c)&&(S=u),P.createElement(dt,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,w),t.renderLabelItem(o,j,bn(p,S)))});return P.createElement(dt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var s=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,m=f?o:h,g=Wt(Wt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return P.createElement(dt,Nu({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},dc(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),P.createElement(KU,Nu({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,s=this.props,a=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return P.createElement(ti,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,y=[],x=a&&a[0],b=x.startAngle;return a.forEach(function(j,w){var S=h&&h[w],N=w>0?hs(j,"paddingAngle",0):0;if(S){var C=as(S.endAngle-S.startAngle,j.endAngle-j.startAngle),_=Wt(Wt({},j),{},{startAngle:b+N,endAngle:b+C(p)+N});y.push(_),b=_.endAngle}else{var k=j.endAngle,A=j.startAngle,T=as(0,k-A),D=T(p),F=Wt(Wt({},j),{},{startAngle:b+N,endAngle:b+D+N});y.push(F),b=F.endAngle}}),P.createElement(dt,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var s=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,s=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&s&&s.length&&(!o||!sg(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,s=this.props,a=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,m=s.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!we(u)||!we(d)||!we(f)||!we(h))return null;var p=Ye("recharts-pie",l);return P.createElement(dt,{tabIndex:this.props.rootTabIndex,className:p,ref:function(x){r.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),On.renderCallByParent(this.props,null,!1),(!m||g)&&Ti.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return s.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:r.sectors!==s.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,s){return r>s?"start":r<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,s){if(P.isValidElement(r))return P.cloneElement(r,s);if(We(r))return r(s);var a=Ye("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return P.createElement(Nx,Nu({},s,{type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,s,a){if(P.isValidElement(r))return P.cloneElement(r,s);var o=a;if(We(r)&&(o=r(s),P.isValidElement(o)))return o;var l=Ye("recharts-pie-label-text",typeof r!="boolean"&&!We(r)?r.className:"");return P.createElement(fc,Nu({},s,{alignmentBaseline:"middle",className:l}),o)}}]),t}(v.PureComponent);qv=eo;Ms(eo,"displayName","Pie");Ms(eo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ka.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ms(eo,"parseDeltaAngle",function(e,t){var n=Sr(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Ms(eo,"getRealPieData",function(e){var t=e.props,n=t.data,r=t.children,s=$e(e.props,!1),a=ms(r,Vw);return n&&n.length?n.map(function(o,l){return Wt(Wt(Wt({payload:o},s),o),a&&a[l]&&a[l].props)}):a&&a.length?a.map(function(o){return Wt(Wt({},s),o.props)}):[]});Ms(eo,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,s=t.width,a=t.height,o=CU(s,a),l=r+Nr(e.props.cx,s,s/2),c=n+Nr(e.props.cy,a,a/2),u=Nr(e.props.innerRadius,o,0),d=Nr(e.props.outerRadius,o,o*.8),f=e.props.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ms(eo,"getComposedData",function(e){var t=e.item,n=e.offset,r=qv.getRealPieData(t);if(!r||!r.length)return null;var s=t.props,a=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,u=s.dataKey,d=s.nameKey,f=s.valueKey,h=s.tooltipType,m=Math.abs(t.props.minAngle),g=qv.parseCoordinateOfPie(t,n),p=qv.parseDeltaAngle(o,l),y=Math.abs(p),x=u;qe(u)&&qe(f)?(xa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):qe(u)&&(xa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var b=r.filter(function(_){return bn(_,x,0)!==0}).length,j=(y>=360?b:b-1)*c,w=y-b*m-j,S=r.reduce(function(_,k){var A=bn(k,x,0);return _+(we(A)?A:0)},0),N;if(S>0){var C;N=r.map(function(_,k){var A=bn(_,x,0),T=bn(_,d,k),D=(we(A)?A:0)/S,F;k?F=C.endAngle+Sr(p)*c*(A!==0?1:0):F=o;var E=F+Sr(p)*((A!==0?m:0)+D*w),$=(F+E)/2,O=(g.innerRadius+g.outerRadius)/2,R=[{name:T,value:A,payload:_,dataKey:x,type:h}],I=Ot(g.cx,g.cy,O,$);return C=Wt(Wt(Wt({percent:D,cornerRadius:a,name:T,tooltipPayload:R,midAngle:$,middleRadius:O,tooltipPosition:I},_),g),{},{value:bn(_,x),startAngle:F,endAngle:E,payload:_,paddingAngle:Sr(p)*c}),C})}return Wt(Wt({},g),{},{sectors:N,data:r})});var hDe=Math.ceil,mDe=Math.max;function pDe(e,t,n,r){for(var s=-1,a=mDe(hDe((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++s]=e,e+=n;return o}var gDe=pDe,vDe=hV,j$=1/0,yDe=17976931348623157e292;function xDe(e){if(!e)return e===0?e:0;if(e=vDe(e),e===j$||e===-j$){var t=e<0?-1:1;return t*yDe}return e===e?e:0}var JU=xDe,wDe=gDe,bDe=Ww,C1=JU;function jDe(e){return function(t,n,r){return r&&typeof r!="number"&&bDe(t,n,r)&&(n=r=void 0),t=C1(t),n===void 0?(n=t,t=0):n=C1(n),r=r===void 0?t<n?1:-1:C1(r),wDe(t,n,r,e)}}var SDe=jDe,NDe=SDe,_De=NDe(),CDe=_De;const Dx=mt(CDe);function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function S$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function N$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S$(Object(n),!0).forEach(function(r){QU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QU(e,t,n){return t=EDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EDe(e){var t=kDe(e,"string");return Zm(t)=="symbol"?t:String(t)}function kDe(e,t){if(Zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ADe=["Webkit","Moz","O","ms"],PDe=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=ADe.reduce(function(a,o){return N$(N$({},a),{},QU({},o+r,n))},{});return s[t]=n,s};function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mx.apply(this,arguments)}function _$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function E1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_$(Object(n),!0).forEach(function(r){Zr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eq(r.key),r)}}function ODe(e,t,n){return t&&C$(e.prototype,t),n&&C$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function IDe(e,t,n){return t=Rx(t),DDe(e,ZU()?Reflect.construct(t,n||[],Rx(e).constructor):t.apply(e,n))}function DDe(e,t){if(t&&(jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ma(e)}function ZU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZU=function(){return!!e})()}function Rx(e){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rx(e)}function Ma(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eC(e,t)}function eC(e,t){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},eC(e,t)}function Zr(e,t,n){return t=eq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eq(e){var t=RDe(e,"string");return jd(t)=="symbol"?t:String(t)}function RDe(e,t){if(jd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $De=function(t){var n=t.data,r=t.startIndex,s=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=$h().domain(Dx(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(s),scale:u,scaleValues:d}},E$=function(t){return t.changedTouches&&!!t.changedTouches.length},Sd=function(e){MDe(t,e);function t(n){var r;return TDe(this,t),r=IDe(this,t,[n]),Zr(Ma(r),"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),Zr(Ma(r),"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),Zr(Ma(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),Zr(Ma(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Zr(Ma(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Zr(Ma(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Zr(Ma(r),"handleSlideDragStart",function(s){var a=E$(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(Ma(r),"startX"),endX:r.handleTravellerDragStart.bind(Ma(r),"endX")},r.state={},r}return ODe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,a),h=Math.max(s,a),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=bn(a[r],l,r);return We(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=r.pageX-a;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var y=this.getIndex({startX:o+p,endX:l+p});(y.startIndex!==h||y.endIndex!==m)&&g&&g(y),this.setState({startX:o+p,endX:l+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var a=E$(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,y=d.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),x[o]=u+b;var j=this.getIndex(x),w=j.startIndex,S=j.endIndex,N=function(){var _=y.length-1;return o==="startX"&&(l>c?w%p===0:S%p===0)||l<c&&S===_||o==="endX"&&(l>c?S%p===0:w%p===0)||l>c&&S===_};this.setState(Zr(Zr({},o,u+b),"brushMoveStartX",r.pageX),function(){g&&N()&&g(j)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var m=l[h];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(Zr({},s,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return P.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=v.Children.only(u);return f?P.cloneElement(f,{x:s,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,y=c.endIndex,x=Math.max(r,this.props.x),b=E1(E1({},$e(this.props,!1)),{},{x,y:u,width:d,height:f}),j=m||"Min value: ".concat((a=g[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[y])===null||o===void 0?void 0:o.name);return P.createElement(dt,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(r,s)+u,f=Math.max(Math.abs(s-r)-u,0);return P.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,a=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return P.createElement(dt,{className:"recharts-brush-texts"},P.createElement(fc,Mx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(s)),P.createElement(fc,Mx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,s=r.data,a=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,y=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!s||!s.length||!we(l)||!we(c)||!we(u)||!we(d)||u<=0||d<=0)return null;var j=Ye("recharts-brush",a),w=P.Children.count(o)===1,S=PDe("userSelect","none");return P.createElement(dt,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||y||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,a=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(a+l/2)-1;return P.createElement(P.Fragment,null,P.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),P.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),P.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var a;return P.isValidElement(r)?a=P.cloneElement(r,s):We(r)?a=r(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(r,s){var a=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return E1({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?$De({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,s){for(var a=r.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>s?l=c:o=c}return s>=r[l]?l:o}}]),t}(v.PureComponent);Zr(Sd,"displayName","Brush");Zr(Sd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var LDe=OA;function FDe(e,t){var n;return LDe(e,function(r,s,a){return n=t(r,s,a),!n}),!!n}var BDe=FDe,zDe=FW,WDe=ii,VDe=BDe,UDe=Yr,qDe=Ww;function HDe(e,t,n){var r=UDe(e)?zDe:VDe;return n&&qDe(e,t,n)&&(t=void 0),r(e,WDe(t))}var GDe=HDe;const KDe=mt(GDe);var Xa=function(t,n){var r=t.alwaysShow,s=t.ifOverflow;return r&&(s="extendDomain"),s===n},k$=lV;function YDe(e,t,n){t=="__proto__"&&k$?k$(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var XDe=YDe,JDe=XDe,QDe=iV,ZDe=ii;function eMe(e,t){var n={};return t=ZDe(t),QDe(e,function(r,s,a){JDe(n,s,t(r,s,a))}),n}var tMe=eMe;const nMe=mt(tMe);function rMe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var sMe=rMe,aMe=OA;function iMe(e,t){var n=!0;return aMe(e,function(r,s,a){return n=!!t(r,s,a),n}),n}var oMe=iMe,lMe=sMe,cMe=oMe,uMe=ii,dMe=Yr,fMe=Ww;function hMe(e,t,n){var r=dMe(e)?lMe:cMe;return n&&fMe(e,t,n)&&(t=void 0),r(e,uMe(t))}var mMe=hMe;const tq=mt(mMe);var pMe=["x","y"];function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function tC(){return tC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tC.apply(this,arguments)}function A$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A$(Object(n),!0).forEach(function(r){gMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gMe(e,t,n){return t=vMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vMe(e){var t=yMe(e,"string");return ep(t)=="symbol"?t:String(t)}function yMe(e,t){if(ep(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xMe(e,t){if(e==null)return{};var n=wMe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wMe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function bMe(e,t){var n=e.x,r=e.y,s=xMe(e,pMe),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Wf(Wf(Wf(Wf(Wf({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function P$(e){return P.createElement(KU,tC({shapeType:"rectangle",propTransformer:bMe,activeClassName:"recharts-active-bar"},e))}var jMe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof t=="number")return t;var a=typeof r=="number";return a?t(r,s):(a||Qo(),n)}},SMe=["value","background"],nq;function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function NMe(e,t){if(e==null)return{};var n=_Me(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _Me(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$x.apply(this,arguments)}function T$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T$(Object(n),!0).forEach(function(r){Eo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sq(r.key),r)}}function EMe(e,t,n){return t&&O$(e.prototype,t),n&&O$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kMe(e,t,n){return t=Lx(t),AMe(e,rq()?Reflect.construct(t,n||[],Lx(e).constructor):t.apply(e,n))}function AMe(e,t){if(t&&(Nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oh(e)}function rq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rq=function(){return!!e})()}function Lx(e){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lx(e)}function oh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nC(e,t)}function nC(e,t){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},nC(e,t)}function Eo(e,t,n){return t=sq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sq(e){var t=TMe(e,"string");return Nd(t)=="symbol"?t:String(t)}function TMe(e,t){if(Nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ic=function(e){PMe(t,e);function t(){var n;CMe(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=kMe(this,t,[].concat(s)),Eo(oh(n),"state",{isAnimationFinished:!1}),Eo(oh(n),"id",af("recharts-bar-")),Eo(oh(n),"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Eo(oh(n),"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return EMe(t,[{key:"renderRectanglesStatically",value:function(r){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=$e(this.props,!1);return r&&r.map(function(f,h){var m=h===c,g=m?u:o,p=kn(kn(kn({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return P.createElement(dt,$x({className:"recharts-bar-rectangle"},dc(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),P.createElement(P$,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return P.createElement(ti,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=a.map(function(y,x){var b=h&&h[x];if(b){var j=as(b.x,y.x),w=as(b.y,y.y),S=as(b.width,y.width),N=as(b.height,y.height);return kn(kn({},y),{},{x:j(g),y:w(g),width:S(g),height:N(g)})}if(o==="horizontal"){var C=as(0,y.height),_=C(g);return kn(kn({},y),{},{y:y.y+y.height-_,height:_})}var k=as(0,y.width),A=k(g);return kn(kn({},y),{},{width:A})});return P.createElement(dt,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!sg(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=$e(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=NMe(u,SMe);if(!f)return null;var m=kn(kn(kn(kn(kn({},h),{},{fill:"#eee"},f),c),dc(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,key:"background-bar-".concat(d),className:"recharts-bar-background-rectangle"});return P.createElement(P$,$x({option:r.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=ms(d,ag);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,x){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:bn(y,x)}},g={clipPath:r?"url(#clipPath-".concat(s,")"):null};return P.createElement(dt,g,f.map(function(p){return P.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,a=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,g=r.background,p=r.id;if(s||!a||!a.length)return null;var y=this.state.isAnimationFinished,x=Ye("recharts-bar",o),b=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,w=b||j,S=qe(p)?this.id:p;return P.createElement(dt,{className:x},b||j?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(S)},P.createElement("rect",{x:b?u:u-f/2,y:j?d:d-h/2,width:b?f:f*2,height:j?h:h*2}))):null,P.createElement(dt,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,S),(!m||y)&&Ti.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}]),t}(v.PureComponent);nq=Ic;Eo(Ic,"displayName","Bar");Eo(Ic,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ka.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Eo(Ic,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,s=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=NPe(r,n);if(!m)return null;var g=t.layout,p=n.props,y=p.dataKey,x=p.children,b=p.minPointSize,j=g==="horizontal"?o:a,w=u?j.scale.domain():null,S=TPe({numericAxis:j}),N=ms(x,Vw),C=f.map(function(_,k){var A,T,D,F,E,$;u?A=_Pe(u[d+k],w):(A=bn(_,y),Array.isArray(A)||(A=[S,A]));var O=jMe(b,nq.defaultProps.minPointSize)(A[1],k);if(g==="horizontal"){var R,I=[o.scale(A[0]),o.scale(A[1])],M=I[0],L=I[1];T=bR({axis:a,ticks:l,bandSize:s,offset:m.offset,entry:_,index:k}),D=(R=L??M)!==null&&R!==void 0?R:void 0,F=m.size;var z=M-L;if(E=Number.isNaN(z)?0:z,$={x:T,y:o.y,width:F,height:o.height},Math.abs(O)>0&&Math.abs(E)<Math.abs(O)){var W=Sr(E||O)*(Math.abs(O)-Math.abs(E));D-=W,E+=W}}else{var q=[a.scale(A[0]),a.scale(A[1])],V=q[0],te=q[1];if(T=V,D=bR({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:_,index:k}),F=te-V,E=m.size,$={x:a.x,y:D,width:a.width,height:E},Math.abs(O)>0&&Math.abs(F)<Math.abs(O)){var ne=Sr(F||O)*(Math.abs(O)-Math.abs(F));F+=ne}}return kn(kn(kn({},_),{},{x:T,y:D,width:F,height:E,value:u?A:A[1],payload:_,background:$},N&&N[k]&&N[k].props),{},{tooltipPayload:[NU(n,_)],tooltipPosition:{x:T+F/2,y:D+E/2}})});return kn({data:C,layout:g},h)});function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function OMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aq(r.key),r)}}function IMe(e,t,n){return t&&I$(e.prototype,t),n&&I$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function D$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D$(Object(n),!0).forEach(function(r){lb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lb(e,t,n){return t=aq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aq(e){var t=DMe(e,"string");return tp(t)=="symbol"?t:String(t)}function DMe(e,t){if(tp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iq=function(t,n,r,s,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!ns(u,Ic);return d.reduce(function(m,g){var p=n[g],y=p.orientation,x=p.domain,b=p.padding,j=b===void 0?{}:b,w=p.mirror,S=p.reversed,N="".concat(y).concat(w?"Mirror":""),C,_,k,A,T;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var D=x[1]-x[0],F=1/0,E=p.categoricalDomain.sort();if(E.forEach(function(V,te){te>0&&(F=Math.min((V||0)-(E[te-1]||0),F))}),Number.isFinite(F)){var $=F/D,O=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(C=$*O/2),p.padding==="no-gap"){var R=Nr(t.barCategoryGap,$*O),I=$*O/2;C=I-R-(I-R)/O*R}}}s==="xAxis"?_=[r.left+(j.left||0)+(C||0),r.left+r.width-(j.right||0)-(C||0)]:s==="yAxis"?_=c==="horizontal"?[r.top+r.height-(j.bottom||0),r.top+(j.top||0)]:[r.top+(j.top||0)+(C||0),r.top+r.height-(j.bottom||0)-(C||0)]:_=p.range,S&&(_=[_[1],_[0]]);var M=wU(p,a,h),L=M.scale,z=M.realScaleType;L.domain(x).range(_),bU(L);var W=jU(L,la(la({},p),{},{realScaleType:z}));s==="xAxis"?(T=y==="top"&&!w||y==="bottom"&&w,k=r.left,A=f[N]-T*p.height):s==="yAxis"&&(T=y==="left"&&!w||y==="right"&&w,k=f[N]-T*p.width,A=r.top);var q=la(la(la({},p),W),{},{realScaleType:z,x:k,y:A,scale:L,width:s==="xAxis"?r.width:p.width,height:s==="yAxis"?r.height:p.height});return q.bandSize=bx(q,W),!p.hide&&s==="xAxis"?f[N]+=(T?-1:1)*q.height:p.hide||(f[N]+=(T?-1:1)*q.width),la(la({},m),{},lb({},g,q))},{})},oq=function(t,n){var r=t.x,s=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(s,o),width:Math.abs(a-r),height:Math.abs(o-s)}},MMe=function(t){var n=t.x1,r=t.y1,s=t.x2,a=t.y2;return oq({x:n,y:r},{x:s,y:a})},lq=function(){function e(t){OMe(this,e),this.scale=t}return IMe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],a=r[r.length-1];return s<=a?n>=s&&n<=a:n>=a&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}]),e}();lb(lq,"EPS",1e-4);var oP=function(t){var n=Object.keys(t).reduce(function(r,s){return la(la({},r),{},lb({},s,lq.create(t[s])))},{});return la(la({},n),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return nMe(s,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return tq(s,function(a,o){return n[o].isInRange(a)})}})};function RMe(e){return(e%180+180)%180}var $Me=function(t){var n=t.width,r=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=RMe(s),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},LMe=ii,FMe=Zp,BMe=Bw;function zMe(e){return function(t,n,r){var s=Object(t);if(!FMe(t)){var a=LMe(n);t=BMe(t),n=function(l){return a(s[l],l,s)}}var o=e(t,n,r);return o>-1?s[a?t[o]:o]:void 0}}var WMe=zMe,VMe=JU;function UMe(e){var t=VMe(e),n=t%1;return t===t?n?t-n:t:0}var qMe=UMe,HMe=ZW,GMe=ii,KMe=qMe,YMe=Math.max;function XMe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:KMe(n);return s<0&&(s=YMe(r+s,0)),HMe(e,GMe(t),s)}var JMe=XMe,QMe=WMe,ZMe=JMe,eRe=QMe(ZMe),tRe=eRe;const nRe=mt(tRe);var rRe=fge(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),lP=v.createContext(void 0),cP=v.createContext(void 0),cq=v.createContext(void 0),uq=v.createContext({}),dq=v.createContext(void 0),fq=v.createContext(0),hq=v.createContext(0),M$=function(t){var n=t.state,r=n.xAxisMap,s=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=rRe(a);return P.createElement(lP.Provider,{value:r},P.createElement(cP.Provider,{value:s},P.createElement(uq.Provider,{value:a},P.createElement(cq.Provider,{value:d},P.createElement(dq.Provider,{value:o},P.createElement(fq.Provider,{value:u},P.createElement(hq.Provider,{value:c},l)))))))},sRe=function(){return v.useContext(dq)},mq=function(t){var n=v.useContext(lP);n==null&&Qo();var r=n[t];return r==null&&Qo(),r},aRe=function(){var t=v.useContext(lP);return jo(t)},iRe=function(){var t=v.useContext(cP),n=nRe(t,function(r){return tq(r.domain,Number.isFinite)});return n||jo(t)},pq=function(t){var n=v.useContext(cP);n==null&&Qo();var r=n[t];return r==null&&Qo(),r},oRe=function(){var t=v.useContext(cq);return t},lRe=function(){return v.useContext(uq)},uP=function(){return v.useContext(hq)},dP=function(){return v.useContext(fq)};function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function R$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function $$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R$(Object(n),!0).forEach(function(r){cRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cRe(e,t,n){return t=uRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uRe(e){var t=dRe(e,"string");return np(t)=="symbol"?t:String(t)}function dRe(e,t){if(np(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fRe(e,t){return gRe(e)||pRe(e,t)||mRe(e,t)||hRe()}function hRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mRe(e,t){if(e){if(typeof e=="string")return L$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L$(e,t)}}function L$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pRe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function gRe(e){if(Array.isArray(e))return e}function rC(){return rC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rC.apply(this,arguments)}var vRe=function(t,n){var r;return P.isValidElement(t)?r=P.cloneElement(t,n):We(t)?r=t(n):r=P.createElement("line",rC({},n,{className:"recharts-reference-line-line"})),r},yRe=function(t,n,r,s,a,o,l,c,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(r){var g=u.y,p=t.y.apply(g,{position:o});if(Xa(u,"discard")&&!t.y.isInRange(p))return null;var y=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?y.reverse():y}if(n){var x=u.x,b=t.x.apply(x,{position:o});if(Xa(u,"discard")&&!t.x.isInRange(b))return null;var j=[{x:b,y:f+m},{x:b,y:f}];return l==="top"?j.reverse():j}if(s){var w=u.segment,S=w.map(function(N){return t.apply(N,{position:o})});return Xa(u,"discard")&&KDe(S,function(N){return!t.isInRange(N)})?null:S}return null};function fP(e){var t=e.x,n=e.y,r=e.segment,s=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=sRe(),d=mq(s),f=pq(a),h=oRe();if(!u||!h)return null;xa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=oP({x:d.scale,y:f.scale}),g=Nn(t),p=Nn(n),y=r&&r.length===2,x=yRe(m,g,p,y,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var b=fRe(x,2),j=b[0],w=j.x,S=j.y,N=b[1],C=N.x,_=N.y,k=Xa(e,"hidden")?"url(#".concat(u,")"):void 0,A=$$($$({clipPath:k},$e(e,!0)),{},{x1:w,y1:S,x2:C,y2:_});return P.createElement(dt,{className:Ye("recharts-reference-line",l)},vRe(o,A),On.renderCallByParent(e,MMe({x1:w,y1:S,x2:C,y2:_})))}fP.displayName="ReferenceLine";fP.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function sC(){return sC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sC.apply(this,arguments)}function F$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function B$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F$(Object(n),!0).forEach(function(r){xRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xRe(e,t,n){return t=wRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wRe(e){var t=bRe(e,"string");return rp(t)=="symbol"?t:String(t)}function bRe(e,t){if(rp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jRe=function(t){var n=t.x,r=t.y,s=t.xAxis,a=t.yAxis,o=oP({x:s.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Xa(t,"discard")&&!o.isInRange(l)?null:l};function ig(e){var t=e.x,n=e.y,r=e.r,s=e.alwaysShow,a=e.clipPathId,o=Nn(t),l=Nn(n);if(xa(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!l)return null;var c=jRe(e);if(!c)return null;var u=c.x,d=c.y,f=e.shape,h=e.className,m=Xa(e,"hidden")?"url(#".concat(a,")"):void 0,g=B$(B$({clipPath:m},$e(e,!0)),{},{cx:u,cy:d});return P.createElement(dt,{className:Ye("recharts-reference-dot",h)},ig.renderDot(f,g),On.renderCallByParent(e,{x:u-r,y:d-r,width:2*r,height:2*r}))}ig.displayName="ReferenceDot";ig.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};ig.renderDot=function(e,t){var n;return P.isValidElement(e)?n=P.cloneElement(e,t):We(e)?n=e(t):n=P.createElement(tb,sC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n};function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function aC(){return aC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aC.apply(this,arguments)}function z$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function W$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z$(Object(n),!0).forEach(function(r){SRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SRe(e,t,n){return t=NRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NRe(e){var t=_Re(e,"string");return sp(t)=="symbol"?t:String(t)}function _Re(e,t){if(sp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CRe=function(t,n,r,s,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=oP({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Xa(a,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:oq(m,g)};function og(e){var t=e.x1,n=e.x2,r=e.y1,s=e.y2,a=e.className,o=e.alwaysShow,l=e.clipPathId;xa(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Nn(t),u=Nn(n),d=Nn(r),f=Nn(s),h=e.shape;if(!c&&!u&&!d&&!f&&!h)return null;var m=CRe(c,u,d,f,e);if(!m&&!h)return null;var g=Xa(e,"hidden")?"url(#".concat(l,")"):void 0;return P.createElement(dt,{className:Ye("recharts-reference-area",a)},og.renderRect(h,W$(W$({clipPath:g},$e(e,!0)),m)),On.renderCallByParent(e,m))}og.displayName="ReferenceArea";og.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};og.renderRect=function(e,t){var n;return P.isValidElement(e)?n=P.cloneElement(e,t):We(e)?n=e(t):n=P.createElement(iP,aC({},t,{className:"recharts-reference-area-rect"})),n};function gq(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function ERe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return $Me(r,n)}function kRe(e,t,n){var r=n==="width",s=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:r?s:a,end:r?s+o:a+l}:{start:r?s+o:a+l,end:r?s:a}}function Fx(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-s)<=0}function ARe(e,t){return gq(e,t+1)}function PRe(e,t,n,r,s){for(var a=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:gq(r,u)};var p=c,y,x=function(){return y===void 0&&(y=n(g,p)),y},b=g.coordinate,j=c===0||Fx(e,b,x,d,l);j||(c=0,d=o,u+=1),j&&(d=b+e*(x()/2+s),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function V$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V$(Object(n),!0).forEach(function(r){TRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TRe(e,t,n){return t=ORe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ORe(e){var t=IRe(e,"string");return ap(t)=="symbol"?t:String(t)}function IRe(e,t){if(ap(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DRe(e,t,n,r,s){for(var a=(r||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(h){var m=a[h],g,p=function(){return g===void 0&&(g=n(m,h)),g};if(h===o-1){var y=e*(m.coordinate+e*p()/2-c);a[h]=m=lr(lr({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=lr(lr({},m),{},{tickCoord:m.coordinate});var x=Fx(e,m.tickCoord,p,l,c);x&&(c=m.tickCoord-e*(p()/2+s),a[h]=lr(lr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function MRe(e,t,n,r,s,a){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=r[l-1],f=n(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=lr(lr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Fx(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+s),o[l-1]=lr(lr({},d),{},{isShow:!0}))}for(var g=a?l-1:l,p=function(b){var j=o[b],w,S=function(){return w===void 0&&(w=n(j,b)),w};if(b===0){var N=e*(j.coordinate-e*S()/2-c);o[b]=j=lr(lr({},j),{},{tickCoord:N<0?j.coordinate-N*e:j.coordinate})}else o[b]=j=lr(lr({},j),{},{tickCoord:j.coordinate});var C=Fx(e,j.tickCoord,S,c,u);C&&(c=j.tickCoord+e*(S()/2+s),o[b]=lr(lr({},j),{},{isShow:!0}))},y=0;y<g;y++)p(y);return o}function hP(e,t,n){var r=e.tick,s=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!r)return[];if(we(c)||Ka.isSsr)return ARe(s,typeof c=="number"&&we(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?Rh(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(j,w){var S=We(u)?u(j.value,w):j.value;return m==="width"?ERe(Rh(S,{fontSize:t,letterSpacing:n}),g,f):Rh(S,{fontSize:t,letterSpacing:n})[m]},y=s.length>=2?Sr(s[1].coordinate-s[0].coordinate):1,x=kRe(a,y,m);return c==="equidistantPreserveStart"?PRe(y,x,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=MRe(y,x,p,s,o,c==="preserveStartEnd"):h=DRe(y,x,p,s,o),h.filter(function(b){return b.isShow}))}var RRe=["viewBox"],$Re=["viewBox"],LRe=["ticks"];function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_u.apply(this,arguments)}function U$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U$(Object(n),!0).forEach(function(r){mP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k1(e,t){if(e==null)return{};var n=FRe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function FRe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function BRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yq(r.key),r)}}function zRe(e,t,n){return t&&q$(e.prototype,t),n&&q$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WRe(e,t,n){return t=Bx(t),VRe(e,vq()?Reflect.construct(t,n||[],Bx(e).constructor):t.apply(e,n))}function VRe(e,t){if(t&&(_d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return URe(e)}function URe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vq=function(){return!!e})()}function Bx(e){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bx(e)}function qRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iC(e,t)}function iC(e,t){return iC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},iC(e,t)}function mP(e,t,n){return t=yq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yq(e){var t=HRe(e,"string");return _d(t)=="symbol"?t:String(t)}function HRe(e,t){if(_d(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mf=function(e){qRe(t,e);function t(n){var r;return BRe(this,t),r=WRe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return zRe(t,[{key:"shouldComponentUpdate",value:function(r,s){var a=r.viewBox,o=k1(r,RRe),l=this.props,c=l.viewBox,u=k1(l,$Re);return!Bu(a,c)||!Bu(o,u)||!Bu(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,m,g,p,y,x,b,j=f?-1:1,w=r.tickSize||d,S=we(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,y=o+ +!f*c,p=y-j*w,b=p-j*h,x=S;break;case"left":p=y=r.coordinate,g=a+ +!f*l,m=g-j*w,x=m-j*h,b=S;break;case"right":p=y=r.coordinate,g=a+ +f*l,m=g+j*w,x=m+j*h,b=S;break;default:m=g=r.coordinate,y=o+ +f*c,p=y+j*w,b=p+j*h,x=S;break}return{line:{x1:m,y1:p,x2:g,y2:y},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,a=r.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,a=r.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=yr(yr(yr({},$e(this.props,!1)),$e(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=yr(yr({},f),{},{x1:s,y1:a+h*l,x2:s+o,y2:a+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=yr(yr({},f),{},{x1:s+m*o,y1:a,x2:s+m*o,y2:a+l})}return P.createElement("line",_u({},f,{className:Ye("recharts-cartesian-axis-line",hs(d,"className"))}))}},{key:"renderTicks",value:function(r,s,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=hP(yr(yr({},this.props),{},{ticks:r}),s,a),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),y=$e(this.props,!1),x=$e(d,!1),b=yr(yr({},y),{},{fill:"none"},$e(c,!1)),j=m.map(function(w,S){var N=o.getTickLineCoord(w),C=N.line,_=N.tick,k=yr(yr(yr(yr({textAnchor:g,verticalAnchor:p},y),{},{stroke:"none",fill:u},x),_),{},{index:S,payload:w,visibleTicksCount:m.length,tickFormatter:f});return P.createElement(dt,_u({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},dc(o.props,w,S)),c&&P.createElement("line",_u({},b,C,{className:Ye("recharts-cartesian-axis-tick-line",hs(c,"className"))})),d&&t.renderTickItem(d,k,"".concat(We(f)?f(w.value,S):w.value).concat(h||"")))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var r=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,m=k1(f,LRe),g=h;return We(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:P.createElement(dt,{className:Ye("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),On.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,a){var o;return P.isValidElement(r)?o=P.cloneElement(r,s):We(r)?o=r(s):o=P.createElement(fc,_u({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}]),t}(v.Component);mP(mf,"displayName","CartesianAxis");mP(mf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var GRe=["x1","y1","x2","y2","key"],KRe=["offset"];function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function H$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H$(Object(n),!0).forEach(function(r){YRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YRe(e,t,n){return t=XRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XRe(e){var t=JRe(e,"string");return pc(t)=="symbol"?t:String(t)}function JRe(e,t){if(pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ql.apply(this,arguments)}function G$(e,t){if(e==null)return{};var n=QRe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QRe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var ZRe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height;return P.createElement("rect",{x:s,y:a,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function xq(e,t){var n;if(P.isValidElement(e))n=P.cloneElement(e,t);else if(We(e))n=e(t);else{var r=t.x1,s=t.y1,a=t.x2,o=t.y2,l=t.key,c=G$(t,GRe),u=$e(c,!1);u.offset;var d=G$(u,KRe);n=P.createElement("line",ql({},d,{x1:r,y1:s,x2:a,y2:o,fill:"none",key:l}))}return n}function e$e(e){var t=e.x,n=e.width,r=e.horizontal,s=r===void 0?!0:r,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=ur(ur({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return xq(s,u)});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function t$e(e){var t=e.y,n=e.height,r=e.vertical,s=r===void 0?!0:r,a=e.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=ur(ur({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return xq(s,u)});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function n$e(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,s=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+o-h:d[m+1]-h;if(p<=0)return null;var y=m%t.length;return P.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:p,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function r$e(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,s=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+l-h:d[m+1]-h;if(p<=0)return null;var y=m%r.length;return P.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:r[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var s$e=function(t,n){var r=t.xAxis,s=t.width,a=t.height,o=t.offset;return xU(hP(ur(ur(ur({},mf.defaultProps),r),{},{ticks:Si(r,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,n)},a$e=function(t,n){var r=t.yAxis,s=t.width,a=t.height,o=t.offset;return xU(hP(ur(ur(ur({},mf.defaultProps),r),{},{ticks:Si(r,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,n)},Hc={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zx(e){var t,n,r,s,a,o,l=uP(),c=dP(),u=lRe(),d=ur(ur({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Hc.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Hc.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Hc.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Hc.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Hc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Hc.verticalFill,x:we(e.x)?e.x:u.left,y:we(e.y)?e.y:u.top,width:we(e.width)?e.width:u.width,height:we(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,y=d.horizontalValues,x=d.verticalValues,b=aRe(),j=iRe();if(!we(m)||m<=0||!we(g)||g<=0||!we(f)||f!==+f||!we(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||s$e,S=d.horizontalCoordinatesGenerator||a$e,N=d.horizontalPoints,C=d.verticalPoints;if((!N||!N.length)&&We(S)){var _=y&&y.length,k=S({yAxis:j?ur(ur({},j),{},{ticks:_?y:j.ticks}):void 0,width:l,height:c,offset:u},_?!0:p);xa(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pc(k),"]")),Array.isArray(k)&&(N=k)}if((!C||!C.length)&&We(w)){var A=x&&x.length,T=w({xAxis:b?ur(ur({},b),{},{ticks:A?x:b.ticks}):void 0,width:l,height:c,offset:u},A?!0:p);xa(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pc(T),"]")),Array.isArray(T)&&(C=T)}return P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(ZRe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height}),P.createElement(e$e,ql({},d,{offset:u,horizontalPoints:N,xAxis:b,yAxis:j})),P.createElement(t$e,ql({},d,{offset:u,verticalPoints:C,xAxis:b,yAxis:j})),P.createElement(n$e,ql({},d,{horizontalPoints:N})),P.createElement(r$e,ql({},d,{verticalPoints:C})))}zx.displayName="CartesianGrid";var i$e=["type","layout","connectNulls","ref"];function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function o$e(e,t){if(e==null)return{};var n=l$e(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l$e(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wh.apply(this,arguments)}function K$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K$(Object(n),!0).forEach(function(r){ca(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gc(e){return f$e(e)||d$e(e)||u$e(e)||c$e()}function c$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u$e(e,t){if(e){if(typeof e=="string")return oC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oC(e,t)}}function d$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f$e(e){if(Array.isArray(e))return oC(e)}function oC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bq(r.key),r)}}function m$e(e,t,n){return t&&Y$(e.prototype,t),n&&Y$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p$e(e,t,n){return t=Wx(t),g$e(e,wq()?Reflect.construct(t,n||[],Wx(e).constructor):t.apply(e,n))}function g$e(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fo(e)}function wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wq=function(){return!!e})()}function Wx(e){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wx(e)}function fo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lC(e,t)}function lC(e,t){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},lC(e,t)}function ca(e,t,n){return t=bq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bq(e){var t=y$e(e,"string");return Cd(t)=="symbol"?t:String(t)}function y$e(e,t){if(Cd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zo=function(e){v$e(t,e);function t(){var n;h$e(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=p$e(this,t,[].concat(s)),ca(fo(n),"state",{isAnimationFinished:!0,totalLength:0}),ca(fo(n),"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ca(fo(n),"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,b){return x+b});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(Gc(c.slice(0,g)),[f-p]);break}var y=m.length%2===0?[0,h]:[h];return[].concat(Gc(t.repeat(c,d)),Gc(m),y).map(function(x){return"".concat(x,"px")}).join(", ")}),ca(fo(n),"id",af("recharts-line-")),ca(fo(n),"pathRef",function(o){n.mainCurve=o}),ca(fo(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ca(fo(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return m$e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=ms(d,ag);if(!f)return null;var h=function(p,y){return{x:p.x,y:p.y,value:p.value,errorVal:bn(p.payload,y)}},m={clipPath:r?"url(#clipPath-".concat(s,")"):null};return P.createElement(dt,m,f.map(function(g){return P.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,s,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=$e(this.props,!1),h=$e(c,!0),m=u.map(function(p,y){var x=Qr(Qr(Qr({key:"dot-".concat(y),r:3},f),h),{},{value:p.value,dataKey:d,cx:p.x,cy:p.y,index:y,payload:p.payload});return t.renderDotItem(c,x)}),g={clipPath:r?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return P.createElement(dt,Wh({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,s,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=o$e(l,i$e),h=Qr(Qr(Qr({},$e(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return P.createElement(Nx,Wh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,s){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,y=o.height,x=this.state,b=x.prevPoints,j=x.totalLength;return P.createElement(ti,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var S=w.t;if(b){var N=b.length/l.length,C=l.map(function(D,F){var E=Math.floor(F*N);if(b[E]){var $=b[E],O=as($.x,D.x),R=as($.y,D.y);return Qr(Qr({},D),{},{x:O(S),y:R(S)})}if(g){var I=as(p*2,D.x),M=as(y/2,D.y);return Qr(Qr({},D),{},{x:I(S),y:M(S)})}return Qr(Qr({},D),{},{x:D.x,y:D.y})});return a.renderCurveStatically(C,r,s)}var _=as(0,j),k=_(S),A;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});A=a.getStrokeDasharray(k,j,T)}else A=a.generateSimpleStrokeDasharray(j,k);return a.renderCurveStatically(l,r,s,{strokeDasharray:A})})}},{key:"renderCurve",value:function(r,s){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!sg(u,o))?this.renderCurveWithAnimation(r,s):this.renderCurveStatically(o,r,s)}},{key:"render",value:function(){var r,s=this.props,a=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,h=s.left,m=s.width,g=s.height,p=s.isAnimationActive,y=s.id;if(a||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,j=Ye("recharts-line",c),w=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,N=w||S,C=qe(y)?this.id:y,_=(r=$e(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=_.r,A=k===void 0?3:k,T=_.strokeWidth,D=T===void 0?2:T,F=wve(o)?o:{},E=F.clipDot,$=E===void 0?!0:E,O=A*2+D;return P.createElement(dt,{className:j},w||S?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(C)},P.createElement("rect",{x:w?h:h-m/2,y:S?f:f-g/2,width:w?m:m*2,height:S?g:g*2})),!$&&P.createElement("clipPath",{id:"clipPath-dots-".concat(C)},P.createElement("rect",{x:h-O/2,y:f-O/2,width:m+O,height:g+O}))):null,!b&&this.renderCurve(N,C),this.renderErrorBar(N,C),(b||o)&&this.renderDots(N,$,C),(!p||x)&&Ti.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:s.curPoints}:r.points!==s.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,s){for(var a=r.length%2!==0?[].concat(Gc(r),[0]):r,o=[],l=0;l<s;++l)o=[].concat(Gc(o),Gc(a));return o}},{key:"renderDotItem",value:function(r,s){var a;if(P.isValidElement(r))a=P.cloneElement(r,s);else if(We(r))a=r(s);else{var o=Ye("recharts-line-dot",typeof r!="boolean"?r.className:"");a=P.createElement(tb,Wh({},s,{className:o}))}return a}}]),t}(v.PureComponent);ca(Zo,"displayName","Line");ca(Zo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ka.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ca(Zo,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,s=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=bn(h,o);return d==="horizontal"?{x:wR({axis:n,ticks:s,bandSize:l,entry:h,index:m}),y:qe(g)?null:r.scale(g),value:g,payload:h}:{x:qe(g)?null:n.scale(g),y:wR({axis:r,ticks:a,bandSize:l,entry:h,index:m}),value:g,payload:h}});return Qr({points:f,layout:d},u)});function cC(){return cC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cC.apply(this,arguments)}var gc=function(t){var n=t.xAxisId,r=uP(),s=dP(),a=mq(n);return a==null?null:P.createElement(mf,cC({},a,{className:Ye("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return Si(l,!0)}}))};gc.displayName="XAxis";gc.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function uC(){return uC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uC.apply(this,arguments)}var el=function(t){var n=t.yAxisId,r=uP(),s=dP(),a=pq(n);return a==null?null:P.createElement(mf,uC({},a,{className:Ye("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return Si(l,!0)}}))};el.displayName="YAxis";el.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function X$(e){return j$e(e)||b$e(e)||w$e(e)||x$e()}function x$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w$e(e,t){if(e){if(typeof e=="string")return dC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dC(e,t)}}function b$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j$e(e){if(Array.isArray(e))return dC(e)}function dC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fC=function(t,n,r,s,a){var o=ms(t,fP),l=ms(t,ig),c=[].concat(X$(o),X$(l)),u=ms(t,og),d="".concat(s,"Id"),f=s[0],h=n;if(c.length&&(h=c.reduce(function(p,y){if(y.props[d]===r&&Xa(y.props,"extendDomain")&&we(y.props[f])){var x=y.props[f];return[Math.min(p[0],x),Math.max(p[1],x)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,y){if(y.props[d]===r&&Xa(y.props,"extendDomain")&&we(y.props[m])&&we(y.props[g])){var x=y.props[m],b=y.props[g];return[Math.min(p[0],x,b),Math.max(p[1],x,b)]}return p},h)}return a&&a.length&&(h=a.reduce(function(p,y){return we(y)?[Math.min(p[0],y),Math.max(p[1],y)]:p},h)),h},jq={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=n?n+u:u;if(!this._events[p])return!1;var y=this._events[p],x=arguments.length,b,j;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,g),!0}for(j=1,b=new Array(x-1);j<x;j++)b[j-1]=arguments[j];y.fn.apply(y.context,b)}else{var w=y.length,S;for(j=0;j<w;j++)switch(y[j].once&&this.removeListener(u,y[j].fn,void 0,!0),x){case 1:y[j].fn.call(y[j].context);break;case 2:y[j].fn.call(y[j].context,d);break;case 3:y[j].fn.call(y[j].context,d,f);break;case 4:y[j].fn.call(y[j].context,d,f,h);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];y[j].fn.apply(y[j].context,b)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,y=[],x=g.length;p<x;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&y.push(g[p]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(jq);var S$e=jq.exports;const N$e=mt(S$e);var A1=new N$e,P1="recharts.syncMouseEvents";function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function _$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C$e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sq(r.key),r)}}function E$e(e,t,n){return t&&C$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T1(e,t,n){return t=Sq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sq(e){var t=k$e(e,"string");return ip(t)=="symbol"?t:String(t)}function k$e(e,t){if(ip(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A$e=function(){function e(){_$e(this,e),T1(this,"activeIndex",0),T1(this,"coordinateList",[]),T1(this,"layout","horizontal")}return E$e(e,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,a=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}]),e}();function P$e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],s=e==null?void 0:e[1];if(r&&s&&we(r)&&we(s))return!0}return!1}function T$e(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Nq(e){var t=e.cx,n=e.cy,r=e.radius,s=e.startAngle,a=e.endAngle,o=Ot(t,n,r,s),l=Ot(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:s,endAngle:a}}function O$e(e,t,n){var r,s,a,o;if(e==="horizontal")r=t.x,a=r,s=n.top,o=n.top+n.height;else if(e==="vertical")s=t.y,o=s,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ot(l,c,u,f),m=Ot(l,c,d,f);r=h.x,s=h.y,a=m.x,o=m.y}else return Nq(t);return[{x:r,y:s},{x:a,y:o}]}function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function J$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function lv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J$(Object(n),!0).forEach(function(r){I$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I$e(e,t,n){return t=D$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D$e(e){var t=M$e(e,"string");return op(t)=="symbol"?t:String(t)}function M$e(e,t){if(op(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R$e(e){var t=e.element,n=e.tooltipEventType,r=e.isActive,s=e.activeCoordinate,a=e.activePayload,o=e.offset,l=e.activeTooltipIndex,c=e.tooltipAxisBandSize,u=e.layout,d=e.chartName;if(!t||!t.props.cursor||!r||!s||d!=="ScatterChart"&&n!=="axis")return null;var f,h=Nx;if(d==="ScatterChart")f=s,h=LOe;else if(d==="BarChart")f=T$e(u,s,o,c),h=iP;else if(u==="radial"){var m=Nq(s),g=m.cx,p=m.cy,y=m.radius,x=m.startAngle,b=m.endAngle;f={cx:g,cy:p,startAngle:x,endAngle:b,innerRadius:y,outerRadius:y},h=PU}else f={points:O$e(u,s,o)},h=Nx;var j=lv(lv(lv(lv({stroke:"#ccc",pointerEvents:"none"},o),f),$e(t.props.cursor,!1)),{},{payload:a,payloadIndex:l,className:Ye("recharts-tooltip-cursor",t.props.cursor.className)});return v.isValidElement(t.props.cursor)?v.cloneElement(t.props.cursor,j):v.createElement(h,j)}var $$e=["item"],L$e=["children","className","width","height","style","compact","title","desc"];function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vh.apply(this,arguments)}function Q$(e,t){return z$e(e)||B$e(e,t)||Cq(e,t)||F$e()}function F$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function z$e(e){if(Array.isArray(e))return e}function Z$(e,t){if(e==null)return{};var n=W$e(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function W$e(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function V$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U$e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Eq(r.key),r)}}function q$e(e,t,n){return t&&U$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H$e(e,t,n){return t=Vx(t),G$e(e,_q()?Reflect.construct(t,n||[],Vx(e).constructor):t.apply(e,n))}function G$e(e,t){if(t&&(Ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ct(e)}function _q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_q=function(){return!!e})()}function Vx(e){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vx(e)}function ct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hC(e,t)}function hC(e,t){return hC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},hC(e,t)}function kd(e){return J$e(e)||X$e(e)||Cq(e)||Y$e()}function Y$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cq(e,t){if(e){if(typeof e=="string")return mC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mC(e,t)}}function X$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J$e(e){if(Array.isArray(e))return mC(e)}function mC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function e4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(n),!0).forEach(function(r){Be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Be(e,t,n){return t=Eq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eq(e){var t=Q$e(e,"string");return Ed(t)=="symbol"?t:String(t)}function Q$e(e,t){if(Ed(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z$e={xAxis:["bottom","top"],yAxis:["left","right"]},e4e={width:"100%",height:"100%"},kq={x:0,y:0};function cv(e){return e}var t4e=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},n4e=function(t,n,r,s){var a=n.find(function(d){return d&&d.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=s.radius;return le(le(le({},s),Ot(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=s.angle;return le(le(le({},s),Ot(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return kq},cb=function(t,n){var r=n.graphicalItems,s=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(kd(l),kd(u)):l},[]);return o.length>0?o:t&&t.length&&we(s)&&we(a)?t.slice(s,a+1):[]};function Aq(e){return e==="number"?[0,"auto"]:void 0}var pC=function(t,n,r,s){var a=t.graphicalItems,o=t.tooltipAxis,l=cb(n,t);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Ky(m,o.dataKey,s)}else h=f&&f[r]||l[r];return h?[].concat(kd(c),[NU(u,h)]):c},[])},t4=function(t,n,r,s){var a=s||{x:t.chartX,y:t.chartY},o=t4e(a,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=yPe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=pC(t,n,d,f),m=n4e(r,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},r4e=function(t,n){var r=n.axes,s=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=yU(d,a);return r.reduce(function(g,p){var y,x=p.props,b=x.type,j=x.dataKey,w=x.allowDataOverflow,S=x.allowDuplicatedCategory,N=x.scale,C=x.ticks,_=x.includeHidden,k=p.props[o];if(g[k])return g;var A=cb(t.data,{graphicalItems:s.filter(function(W){return W.props[o]===k}),dataStartIndex:c,dataEndIndex:u}),T=A.length,D,F,E;P$e(p.props.domain,w,b)&&(D=D_(p.props.domain,null,w),m&&(b==="number"||N!=="auto")&&(E=Lh(A,j,"category")));var $=Aq(b);if(!D||D.length===0){var O,R=(O=p.props.domain)!==null&&O!==void 0?O:$;if(j){if(D=Lh(A,j,b),b==="category"&&m){var I=dve(D);S&&I?(F=D,D=Dx(0,T)):S||(D=NR(R,D,p).reduce(function(W,q){return W.indexOf(q)>=0?W:[].concat(kd(W),[q])},[]))}else if(b==="category")S?D=D.filter(function(W){return W!==""&&!qe(W)}):D=NR(R,D,p).reduce(function(W,q){return W.indexOf(q)>=0||q===""||qe(q)?W:[].concat(kd(W),[q])},[]);else if(b==="number"){var M=SPe(A,s.filter(function(W){return W.props[o]===k&&(_||!W.props.hide)}),j,a,d);M&&(D=M)}m&&(b==="number"||N!=="auto")&&(E=Lh(A,j,"category"))}else m?D=Dx(0,T):l&&l[k]&&l[k].hasStack&&b==="number"?D=h==="expand"?[0,1]:SU(l[k].stackGroups,c,u):D=vU(A,s.filter(function(W){return W.props[o]===k&&(_||!W.props.hide)}),b,d,!0);if(b==="number")D=fC(f,D,k,a,C),R&&(D=D_(R,D,w));else if(b==="category"&&R){var L=R,z=D.every(function(W){return L.indexOf(W)>=0});z&&(D=L)}}return le(le({},g),{},Be({},k,le(le({},p.props),{},{axisType:a,domain:D,categoricalDomain:E,duplicateDomain:F,originalDomain:(y=p.props.domain)!==null&&y!==void 0?y:$,isCategorical:m,layout:d})))},{})},s4e=function(t,n){var r=n.graphicalItems,s=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=cb(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=yU(d,a),p=-1;return r.reduce(function(y,x){var b=x.props[o],j=Aq("number");if(!y[b]){p++;var w;return g?w=Dx(0,m):l&&l[b]&&l[b].hasStack?(w=SU(l[b].stackGroups,c,u),w=fC(f,w,b,a)):(w=D_(j,vU(h,r.filter(function(S){return S.props[o]===b&&!S.props.hide}),"number",d),s.defaultProps.allowDataOverflow),w=fC(f,w,b,a)),le(le({},y),{},Be({},b,le(le({axisType:a},s.defaultProps),{},{hide:!0,orientation:hs(Z$e,"".concat(a,".").concat(p%2),null),domain:w,originalDomain:j,isCategorical:g,layout:d})))}return y},{})},a4e=function(t,n){var r=n.axisType,s=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=ms(d,a),m={};return h&&h.length?m=r4e(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=s4e(t,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},i4e=function(t){var n=jo(t),r=Si(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:IA(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:bx(n,r)}},n4=function(t){var n=t.children,r=t.defaultShowTooltip,s=ns(n,Sd),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},o4e=function(t){return!t||!t.length?!1:t.some(function(n){var r=Ai(n&&n.type);return r&&r.indexOf("Bar")>=0})},r4=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},l4e=function(t,n){var r=t.props,s=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},m=ns(f,Sd),g=ns(f,fd),p=Object.keys(c).reduce(function(S,N){var C=c[N],_=C.orientation;return!C.mirror&&!C.hide?le(le({},S),{},Be({},_,S[_]+C.width)):S},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(S,N){var C=o[N],_=C.orientation;return!C.mirror&&!C.hide?le(le({},S),{},Be({},_,hs(S,"".concat(_))+C.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=le(le({},y),p),b=x.bottom;m&&(x.bottom+=m.props.height||Sd.defaultProps.height),g&&n&&(x=bPe(x,s,r,n));var j=u-x.left-x.right,w=d-x.top-x.bottom;return le(le({brushBottom:b},x),{},{width:Math.max(j,0),height:Math.max(w,0)})},c4e=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},pP=function(t){var n,r=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,l=t.validateTooltipEventTypes,c=l===void 0?["axis"]:l,u=t.axisComponents,d=t.legendContent,f=t.formatAxisMap,h=t.defaultProps,m=function(y,x){var b=x.graphicalItems,j=x.stackGroups,w=x.offset,S=x.updateId,N=x.dataStartIndex,C=x.dataEndIndex,_=y.barSize,k=y.layout,A=y.barGap,T=y.barCategoryGap,D=y.maxBarSize,F=r4(k),E=F.numericAxisName,$=F.cateAxisName,O=o4e(b),R=[];return b.forEach(function(I,M){var L=cb(y.data,{graphicalItems:[I],dataStartIndex:N,dataEndIndex:C}),z=I.props,W=z.dataKey,q=z.maxBarSize,V=I.props["".concat(E,"Id")],te=I.props["".concat($,"Id")],ne={},X=u.reduce(function(rt,_t){var Wn=x["".concat(_t.axisType,"Map")],gn=I.props["".concat(_t.axisType,"Id")];Wn&&Wn[gn]||_t.axisType==="zAxis"||Qo();var tr=Wn[gn];return le(le({},rt),{},Be(Be({},_t.axisType,tr),"".concat(_t.axisType,"Ticks"),Si(tr)))},ne),ee=X[$],Z=X["".concat($,"Ticks")],ae=j&&j[V]&&j[V].hasStack&&OPe(I,j[V].stackGroups),ce=Ai(I.type).indexOf("Bar")>=0,H=bx(ee,Z),je=[],Ne=O&&xPe({barSize:_,stackGroups:j,totalSize:c4e(X,$)});if(ce){var Ae,Q,me=qe(q)?D:q,J=(Ae=(Q=bx(ee,Z,!0))!==null&&Q!==void 0?Q:me)!==null&&Ae!==void 0?Ae:0;je=wPe({barGap:A,barCategoryGap:T,bandSize:J!==H?J:H,sizeList:Ne[te],maxBarSize:me}),J!==H&&(je=je.map(function(rt){return le(le({},rt),{},{position:le(le({},rt.position),{},{offset:rt.position.offset-J/2})})}))}var _e=I&&I.type&&I.type.getComposedData;_e&&R.push({props:le(le({},_e(le(le({},X),{},{displayedData:L,props:y,dataKey:W,item:I,bandSize:H,barPosition:je,offset:w,stackedData:ae,layout:k,dataStartIndex:N,dataEndIndex:C}))),{},Be(Be(Be({key:I.key||"item-".concat(M)},E,X[E]),$,X[$]),"animationId",S)),childIndex:Sve(I,y.children),item:I})}),R},g=function(y,x){var b=y.props,j=y.dataStartIndex,w=y.dataEndIndex,S=y.updateId;if(!gD({props:b}))return null;var N=b.children,C=b.layout,_=b.stackOffset,k=b.data,A=b.reverseStackOrder,T=r4(C),D=T.numericAxisName,F=T.cateAxisName,E=ms(N,s),$=PPe(k,E,"".concat(D,"Id"),"".concat(F,"Id"),_,A),O=u.reduce(function(z,W){var q="".concat(W.axisType,"Map");return le(le({},z),{},Be({},q,a4e(b,le(le({},W),{},{graphicalItems:E,stackGroups:W.axisType===D&&$,dataStartIndex:j,dataEndIndex:w}))))},{}),R=l4e(le(le({},O),{},{props:b,graphicalItems:E}),x==null?void 0:x.legendBBox);Object.keys(O).forEach(function(z){O[z]=f(b,O[z],R,z.replace("Map",""),r)});var I=O["".concat(F,"Map")],M=i4e(I),L=m(b,le(le({},O),{},{dataStartIndex:j,dataEndIndex:w,updateId:S,graphicalItems:E,stackGroups:$,offset:R}));return le(le({formattedGraphicalItems:L,graphicalItems:E,offset:R,stackGroups:$},M),O)};return n=function(p){K$e(y,p);function y(x){var b,j,w;return V$e(this,y),w=H$e(this,y,[x]),Be(ct(w),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(ct(w),"accessibilityManager",new A$e),Be(ct(w),"handleLegendBBoxUpdate",function(S){if(S){var N=w.state,C=N.dataStartIndex,_=N.dataEndIndex,k=N.updateId;w.setState(le({legendBBox:S},g({props:w.props,dataStartIndex:C,dataEndIndex:_,updateId:k},le(le({},w.state),{},{legendBBox:S}))))}}),Be(ct(w),"handleReceiveSyncEvent",function(S,N,C){if(w.props.syncId===S){if(C===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(N)}}),Be(ct(w),"handleBrushChange",function(S){var N=S.startIndex,C=S.endIndex;if(N!==w.state.dataStartIndex||C!==w.state.dataEndIndex){var _=w.state.updateId;w.setState(function(){return le({dataStartIndex:N,dataEndIndex:C},g({props:w.props,dataStartIndex:N,dataEndIndex:C,updateId:_},w.state))}),w.triggerSyncEvent({dataStartIndex:N,dataEndIndex:C})}}),Be(ct(w),"handleMouseEnter",function(S){var N=w.getMouseInfo(S);if(N){var C=le(le({},N),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var _=w.props.onMouseEnter;We(_)&&_(C,S)}}),Be(ct(w),"triggeredAfterMouseMove",function(S){var N=w.getMouseInfo(S),C=N?le(le({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(C),w.triggerSyncEvent(C);var _=w.props.onMouseMove;We(_)&&_(C,S)}),Be(ct(w),"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Be(ct(w),"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Be(ct(w),"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Be(ct(w),"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};w.setState(N),w.triggerSyncEvent(N);var C=w.props.onMouseLeave;We(C)&&C(N,S)}),Be(ct(w),"handleOuterEvent",function(S){var N=jve(S),C=hs(w.props,"".concat(N));if(N&&We(C)){var _,k;/.*touch.*/i.test(N)?k=w.getMouseInfo(S.changedTouches[0]):k=w.getMouseInfo(S),C((_=k)!==null&&_!==void 0?_:{},S)}}),Be(ct(w),"handleClick",function(S){var N=w.getMouseInfo(S);if(N){var C=le(le({},N),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var _=w.props.onClick;We(_)&&_(C,S)}}),Be(ct(w),"handleMouseDown",function(S){var N=w.props.onMouseDown;if(We(N)){var C=w.getMouseInfo(S);N(C,S)}}),Be(ct(w),"handleMouseUp",function(S){var N=w.props.onMouseUp;if(We(N)){var C=w.getMouseInfo(S);N(C,S)}}),Be(ct(w),"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Be(ct(w),"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Be(ct(w),"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Be(ct(w),"triggerSyncEvent",function(S){w.props.syncId!==void 0&&A1.emit(P1,w.props.syncId,S,w.eventEmitterSymbol)}),Be(ct(w),"applySyncEvent",function(S){var N=w.props,C=N.layout,_=N.syncMethod,k=w.state.updateId,A=S.dataStartIndex,T=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(le({dataStartIndex:A,dataEndIndex:T},g({props:w.props,dataStartIndex:A,dataEndIndex:T,updateId:k},w.state)));else if(S.activeTooltipIndex!==void 0){var D=S.chartX,F=S.chartY,E=S.activeTooltipIndex,$=w.state,O=$.offset,R=$.tooltipTicks;if(!O)return;if(typeof _=="function")E=_(R,S);else if(_==="value"){E=-1;for(var I=0;I<R.length;I++)if(R[I].value===S.activeLabel){E=I;break}}var M=le(le({},O),{},{x:O.left,y:O.top}),L=Math.min(D,M.x+M.width),z=Math.min(F,M.y+M.height),W=R[E]&&R[E].value,q=pC(w.state,w.props.data,E),V=R[E]?{x:C==="horizontal"?R[E].coordinate:L,y:C==="horizontal"?z:R[E].coordinate}:kq;w.setState(le(le({},S),{},{activeLabel:W,activeCoordinate:V,activePayload:q,activeTooltipIndex:E}))}else w.setState(S)}),Be(ct(w),"renderCursor",function(S){var N,C=w.state,_=C.isTooltipActive,k=C.activeCoordinate,A=C.activePayload,T=C.offset,D=C.activeTooltipIndex,F=C.tooltipAxisBandSize,E=w.getTooltipEventType(),$=(N=S.props.active)!==null&&N!==void 0?N:_,O=w.props.layout,R=S.key||"_recharts-cursor";return P.createElement(R$e,{key:R,activeCoordinate:k,activePayload:A,activeTooltipIndex:D,chartName:r,element:S,isActive:$,layout:O,offset:T,tooltipAxisBandSize:F,tooltipEventType:E})}),Be(ct(w),"renderPolarAxis",function(S,N,C){var _=hs(S,"type.axisType"),k=hs(w.state,"".concat(_,"Map")),A=k&&k[S.props["".concat(_,"Id")]];return v.cloneElement(S,le(le({},A),{},{className:Ye(_,A.className),key:S.key||"".concat(N,"-").concat(C),ticks:Si(A,!0)}))}),Be(ct(w),"renderPolarGrid",function(S){var N=S.props,C=N.radialLines,_=N.polarAngles,k=N.polarRadius,A=w.state,T=A.radiusAxisMap,D=A.angleAxisMap,F=jo(T),E=jo(D),$=E.cx,O=E.cy,R=E.innerRadius,I=E.outerRadius;return v.cloneElement(S,{polarAngles:Array.isArray(_)?_:Si(E,!0).map(function(M){return M.coordinate}),polarRadius:Array.isArray(k)?k:Si(F,!0).map(function(M){return M.coordinate}),cx:$,cy:O,innerRadius:R,outerRadius:I,key:S.key||"polar-grid",radialLines:C})}),Be(ct(w),"renderLegend",function(){var S=w.state.formattedGraphicalItems,N=w.props,C=N.children,_=N.width,k=N.height,A=w.props.margin||{},T=_-(A.left||0)-(A.right||0),D=pU({children:C,formattedGraphicalItems:S,legendWidth:T,legendContent:d});if(!D)return null;var F=D.item,E=Z$(D,$$e);return v.cloneElement(F,le(le({},E),{},{chartWidth:_,chartHeight:k,margin:A,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Be(ct(w),"renderTooltip",function(){var S,N=w.props,C=N.children,_=N.accessibilityLayer,k=ns(C,rs);if(!k)return null;var A=w.state,T=A.isTooltipActive,D=A.activeCoordinate,F=A.activePayload,E=A.activeLabel,$=A.offset,O=(S=k.props.active)!==null&&S!==void 0?S:T;return v.cloneElement(k,{viewBox:le(le({},$),{},{x:$.left,y:$.top}),active:O,label:E,payload:O?F:[],coordinate:D,accessibilityLayer:_})}),Be(ct(w),"renderBrush",function(S){var N=w.props,C=N.margin,_=N.data,k=w.state,A=k.offset,T=k.dataStartIndex,D=k.dataEndIndex,F=k.updateId;return v.cloneElement(S,{key:S.key||"_recharts-brush",onChange:sv(w.handleBrushChange,S.props.onChange),data:_,x:we(S.props.x)?S.props.x:A.left,y:we(S.props.y)?S.props.y:A.top+A.height+A.brushBottom-(C.bottom||0),width:we(S.props.width)?S.props.width:A.width,startIndex:T,endIndex:D,updateId:"brush-".concat(F)})}),Be(ct(w),"renderReferenceElement",function(S,N,C){if(!S)return null;var _=ct(w),k=_.clipPathId,A=w.state,T=A.xAxisMap,D=A.yAxisMap,F=A.offset,E=S.props,$=E.xAxisId,O=E.yAxisId;return v.cloneElement(S,{key:S.key||"".concat(N,"-").concat(C),xAxis:T[$],yAxis:D[O],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:k})}),Be(ct(w),"renderActivePoints",function(S){var N=S.item,C=S.activePoint,_=S.basePoint,k=S.childIndex,A=S.isRange,T=[],D=N.props.key,F=N.item.props,E=F.activeDot,$=F.dataKey,O=le(le({index:k,dataKey:$,cx:C.x,cy:C.y,r:4,fill:aP(N.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value,key:"".concat(D,"-activePoint-").concat(k)},$e(E,!1)),Yy(E));return T.push(y.renderActiveDot(E,O)),_?T.push(y.renderActiveDot(E,le(le({},O),{},{cx:_.x,cy:_.y,key:"".concat(D,"-basePoint-").concat(k)}))):A&&T.push(null),T}),Be(ct(w),"renderGraphicChild",function(S,N,C){var _=w.filterFormatItem(S,N,C);if(!_)return null;var k=w.getTooltipEventType(),A=w.state,T=A.isTooltipActive,D=A.tooltipAxis,F=A.activeTooltipIndex,E=A.activeLabel,$=w.props.children,O=ns($,rs),R=_.props,I=R.points,M=R.isRange,L=R.baseLine,z=_.item.props,W=z.activeDot,q=z.hide,V=z.activeBar,te=z.activeShape,ne=!!(!q&&T&&O&&(W||V||te)),X={};k!=="axis"&&O&&O.props.trigger==="click"?X={onClick:sv(w.handleItemMouseEnter,S.props.onClick)}:k!=="axis"&&(X={onMouseLeave:sv(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:sv(w.handleItemMouseEnter,S.props.onMouseEnter)});var ee=v.cloneElement(S,le(le({},_.props),X));function Z(_t){return typeof D.dataKey=="function"?D.dataKey(_t.payload):null}if(ne)if(F>=0){var ae,ce;if(D.dataKey&&!D.allowDuplicatedCategory){var H=typeof D.dataKey=="function"?Z:"payload.".concat(D.dataKey.toString());ae=Ky(I,H,E),ce=M&&L&&Ky(L,H,E)}else ae=I==null?void 0:I[F],ce=M&&L&&L[F];if(te||V){var je=S.props.activeIndex!==void 0?S.props.activeIndex:F;return[v.cloneElement(S,le(le(le({},_.props),X),{},{activeIndex:je})),null,null]}if(!qe(ae))return[ee].concat(kd(w.renderActivePoints({item:_,activePoint:ae,basePoint:ce,childIndex:F,isRange:M})))}else{var Ne,Ae=(Ne=w.getItemByXY(w.state.activeCoordinate))!==null&&Ne!==void 0?Ne:{graphicalItem:ee},Q=Ae.graphicalItem,me=Q.item,J=me===void 0?S:me,_e=Q.childIndex,rt=le(le(le({},_.props),X),{},{activeIndex:_e});return[v.cloneElement(J,rt),null,null]}return M?[ee,null,null]:[ee,null]}),Be(ct(w),"renderCustomized",function(S,N,C){return v.cloneElement(S,le(le({key:"recharts-customized-".concat(C)},w.props),w.state))}),Be(ct(w),"renderMap",{CartesianGrid:{handler:cv,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:cv},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:cv},YAxis:{handler:cv},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:af("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=mV(w.triggeredAfterMouseMove,(j=x.throttleDelay)!==null&&j!==void 0?j:1e3/60),w.state={},w}return q$e(y,[{key:"componentDidMount",value:function(){var b,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,j=b.children,w=b.data,S=b.height,N=b.layout,C=ns(j,rs);if(C){var _=C.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length)){var k=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,A=pC(this.state,w,_,k),T=this.state.tooltipTicks[_].coordinate,D=(this.state.offset.top+S)/2,F=N==="horizontal",E=F?{x:T,y:D}:{y:T,x:D},$=this.state.formattedGraphicalItems.find(function(R){var I=R.item;return I.type.name==="Scatter"});$&&(E=le(le({},E),$.props.points[_].tooltipPosition),A=$.props.points[_].tooltipPayload);var O={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:k,activePayload:A,activeCoordinate:E};this.setState(O),this.renderCursor(C),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){KN([ns(b.children,rs)],[ns(this.props.children,rs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ns(this.props.children,rs);if(b&&typeof b.props.shared=="boolean"){var j=b.props.shared?"axis":"item";return c.indexOf(j)>=0?j:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var j=this.container,w=j.getBoundingClientRect(),S=G_e(w),N={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},C=w.width/j.offsetWidth||1,_=this.inRange(N.chartX,N.chartY,C);if(!_)return null;var k=this.state,A=k.xAxisMap,T=k.yAxisMap,D=this.getTooltipEventType();if(D!=="axis"&&A&&T){var F=jo(A).scale,E=jo(T).scale,$=F&&F.invert?F.invert(N.chartX):null,O=E&&E.invert?E.invert(N.chartY):null;return le(le({},N),{},{xValue:$,yValue:O})}var R=t4(this.state,this.props.data,this.props.layout,_);return R?le(le({},N),R):null}},{key:"inRange",value:function(b,j){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=b/w,C=j/w;if(S==="horizontal"||S==="vertical"){var _=this.state.offset,k=N>=_.left&&N<=_.left+_.width&&C>=_.top&&C<=_.top+_.height;return k?{x:N,y:C}:null}var A=this.state,T=A.angleAxisMap,D=A.radiusAxisMap;if(T&&D){var F=jo(T);return ER({x:N,y:C},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,j=this.getTooltipEventType(),w=ns(b,rs),S={};w&&j==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var N=Yy(this.props,this.handleOuterEvent);return le(le({},N),S)}},{key:"addListener",value:function(){A1.on(P1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){A1.removeListener(P1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,j,w){for(var S=this.state.formattedGraphicalItems,N=0,C=S.length;N<C;N++){var _=S[N];if(_.item===b||_.props.key===b.key||j===Ai(_.item.type)&&w===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,j=this.state.offset,w=j.left,S=j.top,N=j.height,C=j.width;return P.createElement("defs",null,P.createElement("clipPath",{id:b},P.createElement("rect",{x:w,y:S,height:N,width:C})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(j,w){var S=Q$(w,2),N=S[0],C=S[1];return le(le({},j),{},Be({},N,C.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(j,w){var S=Q$(w,2),N=S[0],C=S[1];return le(le({},j),{},Be({},N,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(b){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(b){var j=this.state,w=j.formattedGraphicalItems,S=j.activeItem;if(w&&w.length)for(var N=0,C=w.length;N<C;N++){var _=w[N],k=_.props,A=_.item,T=Ai(A.type);if(T==="Bar"){var D=(k.data||[]).find(function(O){return yOe(b,O)});if(D)return{graphicalItem:_,payload:D}}else if(T==="RadialBar"){var F=(k.data||[]).find(function(O){return ER(b,O)});if(F)return{graphicalItem:_,payload:F}}else if(ib(_,S)||ob(_,S)||Qm(_,S)){var E=iDe({graphicalItem:_,activeTooltipItem:S,itemData:A.props.data}),$=A.props.activeIndex===void 0?E:A.props.activeIndex;return{graphicalItem:le(le({},_),{},{childIndex:$}),payload:Qm(_,S)?A.props.data[E]:_.props.data[E]}}}return null}},{key:"render",value:function(){var b=this;if(!gD(this))return null;var j=this.props,w=j.children,S=j.className,N=j.width,C=j.height,_=j.style,k=j.compact,A=j.title,T=j.desc,D=Z$(j,L$e),F=$e(D,!1);if(k)return P.createElement(M$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement(XN,Vh({},F,{width:N,height:C,title:A,desc:T}),this.renderClipPath(),yD(w,this.renderMap)));if(this.props.accessibilityLayer){var E,$;F.tabIndex=(E=this.props.tabIndex)!==null&&E!==void 0?E:0,F.role=($=this.props.role)!==null&&$!==void 0?$:"application",F.onKeyDown=function(R){b.accessibilityManager.keyboardEvent(R)},F.onFocus=function(){b.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return P.createElement(M$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement("div",Vh({className:Ye("recharts-wrapper",S),style:le({position:"relative",cursor:"default",width:N,height:C},_)},O,{ref:function(I){b.container=I}}),P.createElement(XN,Vh({},F,{width:N,height:C,title:A,desc:T,style:e4e}),this.renderClipPath(),yD(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),y}(v.Component),Be(n,"displayName",r),Be(n,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Be(n,"getDerivedStateFromProps",function(p,y){var x=p.dataKey,b=p.data,j=p.children,w=p.width,S=p.height,N=p.layout,C=p.stackOffset,_=p.margin,k=y.dataStartIndex,A=y.dataEndIndex;if(y.updateId===void 0){var T=n4(p);return le(le(le({},T),{},{updateId:0},g(le(le({props:p},T),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:S,prevLayout:N,prevStackOffset:C,prevMargin:_,prevChildren:j})}if(x!==y.prevDataKey||b!==y.prevData||w!==y.prevWidth||S!==y.prevHeight||N!==y.prevLayout||C!==y.prevStackOffset||!Bu(_,y.prevMargin)){var D=n4(p),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},E=le(le({},t4(y,b,N)),{},{updateId:y.updateId+1}),$=le(le(le({},D),F),E);return le(le(le({},$),g(le({props:p},$),y)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:S,prevLayout:N,prevStackOffset:C,prevMargin:_,prevChildren:j})}if(!KN(j,y.prevChildren)){var O,R,I,M,L=ns(j,Sd),z=L&&(O=(R=L.props)===null||R===void 0?void 0:R.startIndex)!==null&&O!==void 0?O:k,W=L&&(I=(M=L.props)===null||M===void 0?void 0:M.endIndex)!==null&&I!==void 0?I:A,q=z!==k||W!==A,V=!qe(b),te=V&&!q?y.updateId:y.updateId+1;return le(le({updateId:te},g(le(le({props:p},y),{},{updateId:te,dataStartIndex:z,dataEndIndex:W}),y)),{},{prevChildren:j,dataStartIndex:z,dataEndIndex:W})}return null}),Be(n,"renderActiveDot",function(p,y){var x;return v.isValidElement(p)?x=v.cloneElement(p,y):We(p)?x=p(y):x=P.createElement(tb,y),P.createElement(dt,{className:"recharts-active-dot",key:y.key},x)}),n},Pq=pP({chartName:"LineChart",GraphicalChild:Zo,axisComponents:[{axisType:"xAxis",AxisComp:gc},{axisType:"yAxis",AxisComp:el}],formatAxisMap:iq}),u4e=pP({chartName:"BarChart",GraphicalChild:Ic,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gc},{axisType:"yAxis",AxisComp:el}],formatAxisMap:iq}),d4e=pP({chartName:"PieChart",GraphicalChild:eo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ab},{axisType:"radiusAxis",AxisComp:rb}],formatAxisMap:WPe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const f4e=[{name:"Jan",revenue:4e3,orders:24},{name:"Fev",revenue:3e3,orders:18},{name:"Mar",revenue:5e3,orders:32},{name:"Abr",revenue:4500,orders:28},{name:"Mai",revenue:6e3,orders:38},{name:"Jun",revenue:5500,orders:35}],h4e=({active:e,payload:t,label:n})=>e&&t&&t.length?i.jsxs("div",{className:"bg-background p-3 border rounded-lg shadow-sm",children:[i.jsx("p",{className:"font-medium text-sm",children:n}),i.jsxs("p",{className:"text-sm text-blue-600",children:["Receita: ",i.jsxs("span",{className:"font-medium",children:["R$ ",t[0].value.toLocaleString()]})]}),i.jsxs("p",{className:"text-sm text-emerald-600",children:["Pedidos: ",i.jsx("span",{className:"font-medium",children:t[1].value})]})]}):null;function m4e(){return i.jsx("div",{className:"w-full h-[300px]",children:i.jsx(Uv,{width:"100%",height:"100%",children:i.jsxs(Pq,{data:f4e,margin:{top:5,right:20,left:10,bottom:5},children:[i.jsx(zx,{strokeDasharray:"3 3",className:"stroke-muted"}),i.jsx(gc,{dataKey:"name",tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"hsl(var(--border))"},className:"text-xs text-muted-foreground"}),i.jsx(el,{yAxisId:"left",tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"hsl(var(--border))"},tickFormatter:e=>`R$ ${e}`,className:"text-xs text-muted-foreground"}),i.jsx(el,{yAxisId:"right",orientation:"right",tick:{fontSize:12},tickLine:!1,axisLine:{stroke:"hsl(var(--border))"},className:"text-xs text-muted-foreground"}),i.jsx(rs,{content:i.jsx(h4e,{})}),i.jsx(fd,{wrapperStyle:{paddingTop:10},formatter:e=>i.jsx("span",{className:"text-sm",children:e==="revenue"?"Receita":"Pedidos"})}),i.jsx(Zo,{yAxisId:"left",type:"monotone",dataKey:"revenue",stroke:"hsl(var(--chart-1))",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6,strokeWidth:2}}),i.jsx(Zo,{yAxisId:"right",type:"monotone",dataKey:"orders",stroke:"hsl(var(--chart-2))",strokeWidth:2,dot:{r:3,strokeWidth:2},activeDot:{r:5,strokeWidth:2}})]})})})}function Et(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function tl(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Tq=6048e5,p4e=864e5,uv=43200,s4=1440;let g4e={};function lg(){return g4e}function lp(e,t){var l,c,u,d;const n=lg(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Et(e),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ux(e){return lp(e,{weekStartsOn:1})}function Oq(e){const t=Et(e),n=t.getFullYear(),r=tl(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Ux(r),a=tl(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Ux(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function a4(e){const t=Et(e);return t.setHours(0,0,0,0),t}function qx(e){const t=Et(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function v4e(e,t){const n=a4(e),r=a4(t),s=+n-qx(n),a=+r-qx(r);return Math.round((s-a)/p4e)}function y4e(e){const t=Oq(e),n=tl(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ux(n)}function Hv(e,t){const n=Et(e),r=Et(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function x4e(e){return tl(e,Date.now())}function w4e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function b4e(e){if(!w4e(e)&&typeof e!="number")return!1;const t=Et(e);return!isNaN(Number(t))}function j4e(e,t){const n=Et(e),r=Et(t),s=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return s*12+a}function S4e(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function N4e(e,t){return+Et(e)-+Et(t)}function _4e(e){const t=Et(e);return t.setHours(23,59,59,999),t}function C4e(e){const t=Et(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function E4e(e){const t=Et(e);return+_4e(t)==+C4e(t)}function k4e(e,t){const n=Et(e),r=Et(t),s=Hv(n,r),a=Math.abs(j4e(n,r));let o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*a);let l=Hv(n,r)===-s;E4e(Et(e))&&a===1&&Hv(e,r)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function A4e(e,t,n){const r=N4e(e,t)/1e3;return S4e(n==null?void 0:n.roundingMethod)(r)}function P4e(e){const t=Et(e),n=tl(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const T4e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},O4e=(e,t,n)=>{let r;const s=T4e[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Vu(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const I4e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},D4e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M4e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R4e={date:Vu({formats:I4e,defaultWidth:"full"}),time:Vu({formats:D4e,defaultWidth:"full"}),dateTime:Vu({formats:M4e,defaultWidth:"full"})},$4e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},L4e=(e,t,n,r)=>$4e[e];function Fa(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const F4e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},B4e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},z4e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},W4e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q4e=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},H4e={ordinalNumber:q4e,era:Fa({values:F4e,defaultWidth:"wide"}),quarter:Fa({values:B4e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fa({values:z4e,defaultWidth:"wide"}),day:Fa({values:W4e,defaultWidth:"wide"}),dayPeriod:Fa({values:V4e,defaultWidth:"wide",formattingValues:U4e,defaultFormattingWidth:"wide"})};function Ba(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?K4e(l,f=>f.test(o)):G4e(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function G4e(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function K4e(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Iq(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Y4e=/^(\d+)(th|st|nd|rd)?/i,X4e=/\d+/i,J4e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Q4e={any:[/^b/i,/^(a|c)/i]},Z4e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eLe={any:[/1/i,/2/i,/3/i,/4/i]},tLe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nLe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rLe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sLe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aLe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iLe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oLe={ordinalNumber:Iq({matchPattern:Y4e,parsePattern:X4e,valueCallback:e=>parseInt(e,10)}),era:Ba({matchPatterns:J4e,defaultMatchWidth:"wide",parsePatterns:Q4e,defaultParseWidth:"any"}),quarter:Ba({matchPatterns:Z4e,defaultMatchWidth:"wide",parsePatterns:eLe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ba({matchPatterns:tLe,defaultMatchWidth:"wide",parsePatterns:nLe,defaultParseWidth:"any"}),day:Ba({matchPatterns:rLe,defaultMatchWidth:"wide",parsePatterns:sLe,defaultParseWidth:"any"}),dayPeriod:Ba({matchPatterns:aLe,defaultMatchWidth:"any",parsePatterns:iLe,defaultParseWidth:"any"})},Dq={code:"en-US",formatDistance:O4e,formatLong:R4e,formatRelative:L4e,localize:H4e,match:oLe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lLe(e){const t=Et(e);return v4e(t,P4e(t))+1}function cLe(e){const t=Et(e),n=+Ux(t)-+y4e(t);return Math.round(n/Tq)+1}function Mq(e,t){var d,f,h,m;const n=Et(e),r=n.getFullYear(),s=lg(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=tl(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=lp(o,t),c=tl(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=lp(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function uLe(e,t){var l,c,u,d;const n=lg(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Mq(e,t),a=tl(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),lp(a,t)}function dLe(e,t){const n=Et(e),r=+lp(n,t)-+uLe(n,t);return Math.round(r/Tq)+1}function xt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const io={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return xt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):xt(n+1,2)},d(e,t){return xt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return xt(e.getHours()%12||12,t.length)},H(e,t){return xt(e.getHours(),t.length)},m(e,t){return xt(e.getMinutes(),t.length)},s(e,t){return xt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return xt(s,t.length)}},Kc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},i4={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return io.y(e,t)},Y:function(e,t,n,r){const s=Mq(e,r),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return xt(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):xt(a,t.length)},R:function(e,t){const n=Oq(e);return xt(n,t.length)},u:function(e,t){const n=e.getFullYear();return xt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return xt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return xt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return io.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return xt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=dLe(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):xt(s,t.length)},I:function(e,t,n){const r=cLe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):xt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):io.d(e,t)},D:function(e,t,n){const r=lLe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):xt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return xt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return xt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return xt(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Kc.noon:r===0?s=Kc.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Kc.evening:r>=12?s=Kc.afternoon:r>=4?s=Kc.morning:s=Kc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return io.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):io.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):xt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):xt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):io.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):io.s(e,t)},S:function(e,t){return io.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return l4(r);case"XXXX":case"XX":return Il(r);case"XXXXX":case"XXX":default:return Il(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return l4(r);case"xxxx":case"xx":return Il(r);case"xxxxx":case"xxx":default:return Il(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+o4(r,":");case"OOOO":default:return"GMT"+Il(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+o4(r,":");case"zzzz":default:return"GMT"+Il(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return xt(r,t.length)},T:function(e,t,n){const r=e.getTime();return xt(r,t.length)}};function o4(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+xt(a,2)}function l4(e,t){return e%60===0?(e>0?"-":"+")+xt(Math.abs(e)/60,2):Il(e,t)}function Il(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=xt(Math.trunc(r/60),2),a=xt(r%60,2);return n+s+t+a}const c4=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Rq=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},fLe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return c4(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",c4(r,t)).replace("{{time}}",Rq(s,t))},hLe={p:Rq,P:fLe},mLe=/^D+$/,pLe=/^Y+$/,gLe=["D","DD","YY","YYYY"];function vLe(e){return mLe.test(e)}function yLe(e){return pLe.test(e)}function xLe(e,t,n){const r=wLe(e,t,n);if(console.warn(r),gLe.includes(e))throw new RangeError(r)}function wLe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bLe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jLe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,SLe=/^'([^]*?)'?$/,NLe=/''/g,_Le=/[a-zA-Z]/;function O1(e,t,n){var d,f,h,m,g,p,y,x;const r=lg(),s=(n==null?void 0:n.locale)??r.locale??Dq,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((x=(y=r.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,l=Et(e);if(!b4e(l))throw new RangeError("Invalid time value");let c=t.match(jLe).map(b=>{const j=b[0];if(j==="p"||j==="P"){const w=hLe[j];return w(b,s.formatLong)}return b}).join("").match(bLe).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const j=b[0];if(j==="'")return{isToken:!1,value:CLe(b)};if(i4[j])return{isToken:!0,value:b};if(j.match(_Le))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const j=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&yLe(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&vLe(j))&&xLe(j,t,String(e));const w=i4[j[0]];return w(l,j,s.localize,u)}).join("")}function CLe(e){const t=e.match(SLe);return t?t[1].replace(NLe,"'"):e}function ELe(e,t,n){const r=lg(),s=(n==null?void 0:n.locale)??r.locale??Dq,a=2520,o=Hv(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=Et(t),u=Et(e)):(c=Et(e),u=Et(t));const d=A4e(u,c),f=(qx(u)-qx(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<s4){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<uv){const g=Math.round(h/s4);return s.formatDistance("xDays",g,l)}else if(h<uv*2)return m=Math.round(h/uv),s.formatDistance("aboutXMonths",m,l)}if(m=k4e(u,c),m<12){const g=Math.round(h/uv);return s.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",p,l):g<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function I1(e,t){return ELe(e,x4e(e),t)}const kLe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},ALe=(e,t,n)=>{let r;const s=kLe[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},PLe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},TLe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},OLe={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ILe={date:Vu({formats:PLe,defaultWidth:"full"}),time:Vu({formats:TLe,defaultWidth:"full"}),dateTime:Vu({formats:OLe,defaultWidth:"full"})},DLe={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},MLe=(e,t,n,r)=>{const s=DLe[e];return typeof s=="function"?s(t):s},RLe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},$Le={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},LLe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},FLe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},BLe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},zLe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},WLe=(e,t)=>{const n=Number(e);return(t==null?void 0:t.unit)==="week"?n+"":n+""},VLe={ordinalNumber:WLe,era:Fa({values:RLe,defaultWidth:"wide"}),quarter:Fa({values:$Le,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fa({values:LLe,defaultWidth:"wide"}),day:Fa({values:FLe,defaultWidth:"wide"}),dayPeriod:Fa({values:BLe,defaultWidth:"wide",formattingValues:zLe,defaultFormattingWidth:"wide"})},ULe=/^(\d+)[o]?/i,qLe=/\d+/i,HLe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},GLe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},KLe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},YLe={any:[/1/i,/2/i,/3/i,/4/i]},XLe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},JLe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},QLe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},ZLe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},e3e={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},t3e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},n3e={ordinalNumber:Iq({matchPattern:ULe,parsePattern:qLe,valueCallback:e=>parseInt(e,10)}),era:Ba({matchPatterns:HLe,defaultMatchWidth:"wide",parsePatterns:GLe,defaultParseWidth:"any"}),quarter:Ba({matchPatterns:KLe,defaultMatchWidth:"wide",parsePatterns:YLe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ba({matchPatterns:XLe,defaultMatchWidth:"wide",parsePatterns:JLe,defaultParseWidth:"any"}),day:Ba({matchPatterns:QLe,defaultMatchWidth:"wide",parsePatterns:ZLe,defaultParseWidth:"any"}),dayPeriod:Ba({matchPatterns:e3e,defaultMatchWidth:"any",parsePatterns:t3e,defaultParseWidth:"any"})},Uu={code:"pt-BR",formatDistance:ALe,formatLong:ILe,formatRelative:MLe,localize:VLe,match:n3e,options:{weekStartsOn:0,firstWeekContainsDate:1}},r3e=e=>e?e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"?",s3e=e=>{switch(e){case"pedido":return"bg-amber-100 text-amber-800 border-amber-200";case"estoque":return"bg-blue-100 text-blue-800 border-blue-200";case"transferencia":return"bg-purple-100 text-purple-800 border-purple-200";case"compra":return"bg-green-100 text-green-800 border-green-200";case"evento":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"mensagem":return"bg-pink-100 text-pink-800 border-pink-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};function a3e(){const{currentWorkspace:e}=be(),[t,n]=v.useState([]),[r,s]=v.useState(!0);v.useEffect(()=>{e!=null&&e.id&&a()},[e==null?void 0:e.id]);const a=async()=>{try{s(!0);const o=[],{data:l}=await U.from("orders").select("*, clients!inner(name, workspace_id)").eq("clients.workspace_id",e.id).order("order_date",{ascending:!1}).limit(10);l&&l.forEach(d=>{var h,m;const f={pending:"Pedido pendente",paid:"Pedido pago",processing:"Pedido em processamento",shipped:"Pedido enviado",delivered:"Pedido entregue",cancelled:"Pedido cancelado"};o.push({id:`order-${d.id}`,type:"pedido",user:((h=d.clients)==null?void 0:h.name)||"Cliente",action:f[d.status]||"Novo pedido",target:`R$ ${((m=d.total_amount)==null?void 0:m.toFixed(2))||"0,00"}`,time:I1(new Date(d.order_date),{addSuffix:!0,locale:Uu}),icon:zp,metadata:d})});const{data:c}=await U.from("log_lanamento_estoque").select("*").eq("workspace_id",e.id).eq("status","success").order("dia_lancado",{ascending:!1}).limit(20);if(c){const d=new Map;c.forEach(f=>{const h=`${f.dia_lancado}-${f.estoque_origem}`;d.has(h)||d.set(h,[]),d.get(h).push(f)}),d.forEach((f,h)=>{const m=f[0],g=f.map(p=>`${p.sku} (${p.quantidade})`).join(", ");o.push({id:`purchase-${h}`,type:"compra",user:"Sistema",action:"Compra recebida",target:g,time:I1(new Date(m.dia_lancado),{addSuffix:!0,locale:Uu}),icon:Tt,warehouse:m.estoque_origem,metadata:{group:f,count:f.length}})})}const{data:u}=await U.from("log_lanamento_transferencia").select("*").eq("workspace_id",e.id).eq("status","success").order("dia_lancado",{ascending:!1}).limit(20);if(u){const d=new Map;u.forEach(f=>{const h=`${f.dia_lancado}-${f.estoque_origem}-${f.estoque_destino}`;d.has(h)||d.set(h,[]),d.get(h).push(f)}),d.forEach((f,h)=>{const m=f[0],g=f.map(p=>`${p.sku} (${p.quantidade})`).join(", ");o.push({id:`transfer-${h}`,type:"transferencia",user:"Sistema",action:"Transferncia",target:g,time:I1(new Date(m.dia_lancado),{addSuffix:!0,locale:Uu}),icon:AN,warehouse:m.estoque_destino,warehouseOrigin:m.estoque_origem,metadata:{group:f,count:f.length}})})}o.sort((d,f)=>{const h=m=>{var g,p,y,x,b,j,w;return(g=m.metadata)!=null&&g.order_date?new Date(m.metadata.order_date).getTime():(p=m.metadata)!=null&&p.created_at?new Date(m.metadata.created_at).getTime():(y=m.metadata)!=null&&y.dia_lancado?new Date(m.metadata.dia_lancado).getTime():(j=(b=(x=m.metadata)==null?void 0:x.group)==null?void 0:b[0])!=null&&j.dia_lancado?new Date(m.metadata.group[0].dia_lancado).getTime():(w=m.metadata)!=null&&w.processed_at?new Date(m.metadata.processed_at).getTime():0};return h(f)-h(d)}),n(o.slice(0,15))}catch(o){console.error("Error loading activities:",o)}finally{s(!1)}};return r?i.jsxs(re,{children:[i.jsxs(pe,{className:"pb-2",children:[i.jsx(ge,{children:"Atividade Recente"}),i.jsx(Ve,{children:"ltimas aes no sistema"})]}),i.jsx(se,{className:"flex items-center justify-center py-8",children:i.jsx(mr,{className:"h-6 w-6 animate-spin text-muted-foreground"})})]}):t.length===0?i.jsxs(re,{children:[i.jsxs(pe,{className:"pb-2",children:[i.jsx(ge,{children:"Atividade Recente"}),i.jsx(Ve,{children:"ltimas aes no sistema"})]}),i.jsx(se,{className:"flex items-center justify-center py-8 text-muted-foreground",children:i.jsx("p",{children:"Nenhuma atividade recente"})})]}):i.jsxs(re,{children:[i.jsxs(pe,{className:"pb-2",children:[i.jsx(ge,{children:"Atividade Recente"}),i.jsx(Ve,{children:"ltimas aes no sistema"})]}),i.jsx(se,{className:"space-y-5",children:t.map(o=>{const l=o.icon;return i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx(Bi,{className:"h-9 w-9",children:i.jsx(zi,{className:"bg-primary/10 text-primary",children:r3e(o.user||"S")})}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[i.jsx("p",{className:"text-sm font-medium leading-none",children:o.user||"Sistema"}),i.jsxs(fe,{className:`${s3e(o.type)}`,children:[i.jsx(l,{className:"h-3 w-3 mr-1"}),i.jsx("span",{className:"text-xs capitalize",children:o.type})]}),o.warehouse&&i.jsxs(fe,{variant:"outline",className:"text-xs",children:[o.warehouseOrigin&&`${o.warehouseOrigin}  `,o.warehouse]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.action," ",i.jsx("span",{className:"font-medium",children:o.target})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:o.time})]})]},o.id)})})]})}const i3e=(e,t,n)=>{const r=e<=30?5:e<=60?4:e<=90?3:e<=180?2:1,s=t>=10?5:t>=5?4:t>=3?3:t>=2?2:1,a=n>=1e3?5:n>=500?4:n>=200?3:n>=100?2:1;return`${r}${s}${a}`},o3e=e=>{const[t,n,r]=e.split("").map(Number);return t>=4&&n>=4&&r>=4?"Champions":t>=3&&n>=3&&r>=3?"Loyal Customers":t>=4&&n<=2?"New Customers":t>=3&&n>=3&&r<=2?"Potential Loyalists":t>=3&&n<=2&&r>=3?"Promising":t<=2&&n>=3&&r>=3?"Need Attention":t<=2&&n<=2&&r>=3?"Cannot Lose Them":t<=2&&n>=3&&r<=2?"At Risk":t>=3&&n<=2&&r<=2?"About to Sleep":t<=2&&n<=2&&r<=2?"Hibernating":"Lost"},Or=ka((e,t)=>({leads:[],clients:[],products:[],orders:[],messages:[],campaigns:[],stats:{totalLeads:0,totalClients:0,totalOrders:0,totalRevenue:0,totalConversations:0,activeChannels:0},loading:!1,fetchStats:async()=>{await G.handleAsync(async()=>{var g;const n=be.getState().currentWorkspace;if(!n)return;const{data:{user:r}}=await U.auth.getUser();if(!r)return;const[{count:s},{count:a},{count:o},{count:l},{count:c},{data:u},{data:d}]=await Promise.all([U.from("leads").select("*",{count:"exact",head:!0}).eq("workspace_id",n.id),U.from("clients").select("*",{count:"exact",head:!0}).eq("workspace_id",n.id),U.from("orders").select("*, clients!inner(workspace_id)",{count:"exact",head:!0}).eq("clients.workspace_id",n.id),U.from("conversations").select("*",{count:"exact",head:!0}).eq("workspace_id",n.id),U.from("channels").select("*",{count:"exact",head:!0}).eq("workspace_id",n.id).eq("status","connected"),U.from("orders").select("total_amount, status, clients!inner(workspace_id)").eq("clients.workspace_id",n.id),U.from("messages").select("timestamp").order("timestamp",{ascending:!1}).limit(1)]),f=(u==null?void 0:u.filter(p=>p.status==="completed"))||[],h=f.reduce((p,y)=>p+parseFloat(y.total_amount),0),m=f.length>0?h/f.length:0;e({stats:{totalLeads:s||0,totalClients:a||0,totalOrders:o||0,totalRevenue:h,totalConversations:l||0,activeChannels:c||0,lastMessageSent:(g=d==null?void 0:d[0])==null?void 0:g.timestamp,avgOrderValue:m,conversionRate:s?(a||0)/s*100:0,activeClients:a||0}})})},fetchLeads:async()=>{await G.handleAsync(async()=>{const n=be.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("leads").select("*").eq("workspace_id",n.id).order("created_at",{ascending:!1});if(s)throw s;e({leads:r||[]})})},fetchClients:async()=>{await G.handleAsync(async()=>{const n=be.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("clients").select(`
          *,
          orders(total_amount, order_date, status)
        `).eq("workspace_id",n.id).order("created_at",{ascending:!1});if(s)throw s;const a=(r||[]).map(o=>{const l=o.orders||[],c=l.filter(u=>u.status==="completed");return{...o,total_orders:l.length,total_spent:c.reduce((u,d)=>u+parseFloat(d.total_amount),0),last_order_date:l.length>0?l.sort((u,d)=>new Date(d.order_date).getTime()-new Date(u.order_date).getTime())[0].order_date:null}});e({clients:a})})},fetchProducts:async()=>{await G.handleAsync(async()=>{const n=be.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("products").select("*").eq("workspace_id",n.id).order("name",{ascending:!0});if(s)throw s;e({products:r||[]})})},fetchOrders:async()=>{await G.handleAsync(async()=>{const n=be.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("orders").select(`
          *,
          client:clients!inner(*, workspace_id)
        `).eq("client.workspace_id",n.id).order("order_date",{ascending:!1});if(s)throw s;e({orders:r||[]})})},fetchMessages:async()=>{await G.handleAsync(async()=>{const n=be.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("messages").select(`
          *,
          client:clients!inner(*, workspace_id)
        `).eq("client.workspace_id",n.id).order("timestamp",{ascending:!1});if(s)throw s;e({messages:r||[]})})},fetchCampaigns:async()=>{await G.handleAsync(async()=>{const n=be.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("campaigns").select("*").eq("workspace_id",n.id).order("created_at",{ascending:!1});if(s)throw s;e({campaigns:r||[]})})},createLead:async n=>{await G.handleAsync(async()=>{const{data:{user:r}}=await U.auth.getUser(),s=be.getState().currentWorkspace;if(!r||!s)throw G.createError("Erro de Autenticao","Voc precisa estar logado e ter um workspace selecionado.");const{error:a}=await U.from("leads").insert({...n,user_id:r.id,workspace_id:s.id});if(a)throw a;t().fetchLeads(),t().fetchStats(),G.showSuccess("Lead criado com sucesso!")})},updateLead:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("leads").update(r).eq("id",n);if(s)throw s;t().fetchLeads(),G.showSuccess("Lead atualizado com sucesso!")})},deleteLead:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("leads").delete().eq("id",n);if(r)throw r;t().fetchLeads(),t().fetchStats(),G.showSuccess("Lead excludo com sucesso!")})},convertLeadToClient:async n=>{await G.handleAsync(async()=>{const{data:{user:r}}=await U.auth.getUser(),s=be.getState().currentWorkspace;if(!r||!s)throw G.createError("Erro de Autenticao","Voc precisa estar logado e ter um workspace selecionado.");const a=t().leads.find(c=>c.id===n);if(!a)throw G.createError("Lead No Encontrado","O lead selecionado no foi encontrado.");const{error:o}=await U.from("clients").insert({name:a.name,phone:a.phone,email:a.email,user_id:r.id,workspace_id:s.id});if(o)throw o;const{error:l}=await U.from("leads").update({status:"converted"}).eq("id",n);if(l)throw l;t().fetchLeads(),t().fetchClients(),t().fetchStats(),G.showSuccess("Lead convertido para cliente com sucesso!")})},createClient:async n=>{await G.handleAsync(async()=>{const{data:{user:r}}=await U.auth.getUser(),s=be.getState().currentWorkspace;if(!r||!s)throw G.createError("Erro de Autenticao","Voc precisa estar logado e ter um workspace selecionado.");const{error:a}=await U.from("clients").insert({...n,user_id:r.id,workspace_id:s.id});if(a)throw a;t().fetchClients(),t().fetchStats(),G.showSuccess("Cliente criado com sucesso!")})},updateClient:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("clients").update(r).eq("id",n);if(s)throw s;t().fetchClients(),G.showSuccess("Cliente atualizado com sucesso!")})},deleteClient:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("clients").delete().eq("id",n);if(r)throw r;t().fetchClients(),t().fetchStats(),G.showSuccess("Cliente excludo com sucesso!")})},createOrder:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("orders").insert(n);if(r)throw r;t().fetchOrders(),t().fetchClients(),t().fetchStats(),G.showSuccess("Pedido criado com sucesso!")})},updateOrder:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("orders").update(r).eq("id",n);if(s)throw s;t().fetchOrders(),t().fetchStats(),G.showSuccess("Pedido atualizado com sucesso!")})},deleteOrder:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("orders").delete().eq("id",n);if(r)throw r;t().fetchOrders(),t().fetchStats(),G.showSuccess("Pedido excludo com sucesso!")})},deleteOrders:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("orders").delete().in("id",n);if(r)throw r;t().fetchOrders(),t().fetchStats(),G.showSuccess(`${n.length} pedido(s) excludo(s) com sucesso!`)})},sendMessage:async(n,r,s="manual")=>{await G.handleAsync(async()=>{const{error:a}=await U.from("messages").insert({client_id:n,content:r,send_type:s,sender_type:"user",channel_type:"whatsapp",status:"pending"});if(a)throw a;t().fetchMessages(),t().fetchStats(),G.showSuccess("Mensagem enviada com sucesso!")})},createCampaign:async n=>{await G.handleAsync(async()=>{const{data:{user:r}}=await U.auth.getUser(),s=be.getState().currentWorkspace;if(!r||!s)throw G.createError("Erro de Autenticao","Voc precisa estar logado e ter um workspace selecionado.");const{error:a}=await U.from("campaigns").insert({...n,user_id:r.id,workspace_id:s.id});if(a)throw a;t().fetchCampaigns(),G.showSuccess("Campanha criada com sucesso!")})},fetchClientRFMAnalysis:async n=>await G.handleAsync(async()=>{const{data:r,error:s}=await U.from("orders").select("total_amount, order_date, status").eq("client_id",n).eq("status","completed");if(s)throw s;if(!r||r.length===0)return{client_id:n,recency:999,frequency:0,monetary:0,rfm_score:"111",category:"New Customers"};const a=new Date,o=new Date(Math.max(...r.map(h=>new Date(h.order_date).getTime()))),l=Math.floor((a.getTime()-o.getTime())/(1e3*60*60*24)),c=r.length,u=r.reduce((h,m)=>h+parseFloat(m.total_amount),0),d=i3e(l,c,u),f=o3e(d);return{client_id:n,recency:l,frequency:c,monetary:u,rfm_score:d,category:f}})||{client_id:n,recency:999,frequency:0,monetary:0,rfm_score:"111",category:"New Customers"},calculateRFMScores:async()=>{await G.handleAsync(async()=>{const n=t().clients,r=await Promise.all(n.map(a=>t().fetchClientRFMAnalysis(a.id))),s=n.map(a=>{const o=r.find(l=>(l==null?void 0:l.client_id)===a.id);return{...a,rfm_analysis:o}});e({clients:s})})},fetchClientOrders:async n=>await G.handleAsync(async()=>{const{data:r,error:s}=await U.from("orders").select("*").eq("client_id",n).order("order_date",{ascending:!1});if(s)throw s;return r||[]})||[]}));function l3e(){const{stats:e,fetchStats:t}=Or(),{currentWorkspace:n}=be(),r=_c(),[s,a]=v.useState({totalClients:0,totalOrders:0,totalRevenue:0,totalEvents:0,totalStockChanges:0,activeWarehouses:0,revenueGrowth:0,ordersGrowth:0}),[o,l]=v.useState(!0);v.useEffect(()=>{n&&(t(),c())},[t,n]);const c=async()=>{try{l(!0);const{count:d}=await U.from("clients").select("*",{count:"exact",head:!0}).eq("workspace_id",n.id),{count:f}=await U.from("orders").select("*, clients!inner(workspace_id)",{count:"exact",head:!0}).eq("clients.workspace_id",n.id),{data:h}=await U.from("orders").select("total_amount, clients!inner(workspace_id)").eq("clients.workspace_id",n.id),m=(h==null?void 0:h.reduce((k,A)=>k+(A.total_amount||0),0))||0,g=new Date;g.setDate(g.getDate()-30);const{count:p}=await U.from("event_queue").select("*",{count:"exact",head:!0}).eq("status","completed").gte("created_at",g.toISOString()),{count:y}=await U.from("stock_change_log").select("*",{count:"exact",head:!0}).eq("workspace_id",n.id).gte("created_at",g.toISOString()),{count:x}=await U.from("baselinker_warehouses").select("*",{count:"exact",head:!0}).eq("workspace_id",n.id),b=new Date;b.setDate(b.getDate()-60);const{data:j}=await U.from("orders").select("total_amount, order_date, clients!inner(workspace_id)").eq("clients.workspace_id",n.id).gte("order_date",g.toISOString()),{data:w}=await U.from("orders").select("total_amount, order_date, clients!inner(workspace_id)").eq("clients.workspace_id",n.id).gte("order_date",b.toISOString()).lt("order_date",g.toISOString()),S=(j==null?void 0:j.reduce((k,A)=>k+(A.total_amount||0),0))||0,N=(w==null?void 0:w.reduce((k,A)=>k+(A.total_amount||0),0))||0,C=N>0?(S-N)/N*100:0,_=((w==null?void 0:w.length)||0)>0?(((j==null?void 0:j.length)||0)-((w==null?void 0:w.length)||0))/((w==null?void 0:w.length)||0)*100:0;a({totalClients:d||0,totalOrders:f||0,totalRevenue:m,totalEvents:p||0,totalStockChanges:y||0,activeWarehouses:x||0,revenueGrowth:Math.round(C),ordersGrowth:Math.round(_)})}catch(d){console.error("Error loading dashboard stats:",d)}finally{l(!1)}},u=[{title:"Total de Clientes",value:o?"...":s.totalClients,icon:Fr,trend:null,valueClassName:"text-indigo-600",iconClassName:"bg-indigo-50"},{title:"Total de Pedidos",value:o?"...":s.totalOrders,icon:zp,trend:s.ordersGrowth!==0?{value:Math.abs(s.ordersGrowth),isPositive:s.ordersGrowth>0}:null,valueClassName:"text-purple-600",iconClassName:"bg-purple-50"},{title:"Receita Total",value:o?"...":`R$ ${s.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:ic,trend:s.revenueGrowth!==0?{value:Math.abs(s.revenueGrowth),isPositive:s.revenueGrowth>0}:null,valueClassName:"text-emerald-600",iconClassName:"bg-emerald-50"},{title:"Eventos (30 dias)",value:o?"...":s.totalEvents,icon:S6,trend:null,valueClassName:"text-blue-600",iconClassName:"bg-blue-50"},{title:"Alteraes Estoque (30d)",value:o?"...":s.totalStockChanges,icon:Tt,trend:null,valueClassName:"text-amber-600",iconClassName:"bg-amber-50"},{title:"Warehouses Ativos",value:o?"...":s.activeWarehouses,icon:ds,trend:null,valueClassName:"text-rose-600",iconClassName:"bg-rose-50"}];return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),i.jsxs("p",{className:"text-muted-foreground mt-1",children:["Bem-vindo de volta ao ",(n==null?void 0:n.name)||"seu workspace","! Aqui est o resumo do seu negcio."]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(B,{variant:"outline",onClick:()=>r("/analytics"),children:[i.jsx(Loe,{className:"mr-2 h-4 w-4"}),"Relatrios"]}),i.jsxs(B,{onClick:()=>r("/clients"),children:[i.jsx($y,{className:"mr-2 h-4 w-4"}),"Novo Lead"]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-5",children:u.map((d,f)=>i.jsx(Ahe,{...d,index:f},d.title))}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[i.jsxs(re,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-none",children:[i.jsxs(pe,{children:[i.jsx(ge,{className:"text-blue-800",children:"Inbox"}),i.jsx(Ve,{className:"text-blue-700/70",children:"Gerencie suas conversas"})]}),i.jsx(se,{children:i.jsxs("p",{className:"text-blue-700",children:[e.totalConversations||0," conversas ativas"]})}),i.jsx($u,{children:i.jsxs(B,{variant:"ghost",className:"text-blue-700 hover:text-blue-800 hover:bg-blue-100 w-full justify-between",onClick:()=>r("/inbox"),children:[i.jsx("span",{children:"Ir para Inbox"}),i.jsx(Xl,{className:"h-4 w-4"})]})})]}),i.jsxs(re,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-none",children:[i.jsxs(pe,{children:[i.jsx(ge,{className:"text-purple-800",children:"Kanban"}),i.jsx(Ve,{className:"text-purple-700/70",children:"Visualize seu pipeline"})]}),i.jsx(se,{children:i.jsxs("p",{className:"text-purple-700",children:[e.totalLeads||0," leads em processamento"]})}),i.jsx($u,{children:i.jsxs(B,{variant:"ghost",className:"text-purple-700 hover:text-purple-800 hover:bg-purple-100 w-full justify-between",onClick:()=>r("/kanban"),children:[i.jsx("span",{children:"Ir para Kanban"}),i.jsx(Xl,{className:"h-4 w-4"})]})})]}),i.jsxs(re,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-none",children:[i.jsxs(pe,{children:[i.jsx(ge,{className:"text-emerald-800",children:"Automao"}),i.jsx(Ve,{className:"text-emerald-700/70",children:"Configure fluxos automticos"})]}),i.jsx(se,{children:i.jsx("p",{className:"text-emerald-700",children:"Otimize seus processos"})}),i.jsx($u,{children:i.jsxs(B,{variant:"ghost",className:"text-emerald-700 hover:text-emerald-800 hover:bg-emerald-100 w-full justify-between",onClick:()=>r("/automation"),children:[i.jsx("span",{children:"Ir para Automao"}),i.jsx(Xl,{className:"h-4 w-4"})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-5",children:[i.jsxs(re,{children:[i.jsxs(pe,{className:"pb-2",children:[i.jsx(ge,{children:"Receita ao Longo do Tempo"}),i.jsx(Ve,{children:"Tendncias mensais de receita"})]}),i.jsx(se,{children:i.jsx(m4e,{})})]}),i.jsx(a3e,{})]})]})})})}const vt=v.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:ve("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));vt.displayName="Textarea";function c3e({client:e,onClose:t}){const[n,r]=v.useState({contact:!1,tags:!1,details:!1,notes:!1}),[s,a]=v.useState({name:(e==null?void 0:e.name)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||""}),[o,l]=v.useState(""),[c,u]=v.useState((e==null?void 0:e.tags)||[]),[d,f]=v.useState({company:"",position:"",address:""}),[h,m]=v.useState(""),{updateClient:g}=Or();if(!e)return null;const p=async()=>{try{await g(e.id,{name:s.name,phone:s.phone,email:s.email}),r({...n,contact:!1})}catch(w){console.error("Error updating contact:",w)}},y=async()=>{try{await g(e.id,{tags:c}),r({...n,tags:!1})}catch(w){console.error("Error updating tags:",w)}},x=()=>{o.trim()&&!c.includes(o.trim())&&(u([...c,o.trim()]),l(""))},b=w=>{u(c.filter(S=>S!==w))},j=(w,S)=>{w.key==="Enter"&&(w.preventDefault(),S())};return i.jsxs(Nt.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:300,opacity:0},className:"w-80 border-l border-gray-200 bg-white flex flex-col",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Informaes do Contato"}),i.jsx(B,{variant:"ghost",size:"sm",onClick:t,children:i.jsx($a,{className:"h-4 w-4"})})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsx(Ga,{className:"h-10 w-10 text-blue-600"})}),i.jsx("h4",{className:"text-lg font-semibold",children:e.name})]}),i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ge,{className:"text-sm",children:"Contato"}),n.contact?i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:p,children:i.jsx(Ls,{className:"h-4 w-4 text-green-600"})}),i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,contact:!1}),children:i.jsx($a,{className:"h-4 w-4 text-red-600"})})]}):i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,contact:!0}),children:i.jsx(wi,{className:"h-4 w-4"})})]})}),i.jsxs(se,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ga,{className:"h-4 w-4 text-gray-500"}),n.contact?i.jsx(ie,{value:s.name,onChange:w=>a({...s,name:w.target.value}),placeholder:"Nome",className:"text-sm"}):i.jsx("span",{className:"text-sm",children:e.name})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ha,{className:"h-4 w-4 text-gray-500"}),n.contact?i.jsx(ie,{value:s.phone,onChange:w=>a({...s,phone:w.target.value}),placeholder:"Telefone",className:"text-sm"}):i.jsx("span",{className:"text-sm",children:e.phone||"No informado"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ja,{className:"h-4 w-4 text-gray-500"}),n.contact?i.jsx(ie,{value:s.email,onChange:w=>a({...s,email:w.target.value}),placeholder:"Email",className:"text-sm"}):i.jsx("span",{className:"text-sm",children:e.email||"No informado"})]})]})]}),i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ge,{className:"text-sm",children:"Tags"}),n.tags?i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:y,children:i.jsx(Ls,{className:"h-4 w-4 text-green-600"})}),i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,tags:!1}),children:i.jsx($a,{className:"h-4 w-4 text-red-600"})})]}):i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,tags:!0}),children:i.jsx(wi,{className:"h-4 w-4"})})]})}),i.jsxs(se,{children:[i.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:c.map(w=>i.jsxs(fe,{variant:"secondary",className:"text-xs",children:[w,n.tags&&i.jsx("button",{onClick:()=>b(w),className:"ml-1 hover:text-red-600",children:i.jsx($a,{className:"h-3 w-3"})})]},w))}),n.tags&&i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ie,{value:o,onChange:w=>l(w.target.value),placeholder:"Nova tag",className:"text-sm",onKeyPress:w=>j(w,x)}),i.jsx(B,{size:"sm",onClick:x,children:i.jsx(nn,{className:"h-4 w-4"})})]})]})]}),i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ge,{className:"text-sm",children:"Detalhes"}),n.details?i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,details:!1}),children:i.jsx(Ls,{className:"h-4 w-4 text-green-600"})}),i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,details:!1}),children:i.jsx($a,{className:"h-4 w-4 text-red-600"})})]}):i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,details:!0}),children:i.jsx(wi,{className:"h-4 w-4"})})]})}),i.jsxs(se,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($oe,{className:"h-4 w-4 text-gray-500"}),n.details?i.jsx(ie,{value:d.company,onChange:w=>f({...d,company:w.target.value}),placeholder:"Empresa",className:"text-sm"}):i.jsx("span",{className:"text-sm",children:d.company||"No informado"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ga,{className:"h-4 w-4 text-gray-500"}),n.details?i.jsx(ie,{value:d.position,onChange:w=>f({...d,position:w.target.value}),placeholder:"Cargo",className:"text-sm"}):i.jsx("span",{className:"text-sm",children:d.position||"No informado"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Mk,{className:"h-4 w-4 text-gray-500"}),n.details?i.jsx(ie,{value:d.address,onChange:w=>f({...d,address:w.target.value}),placeholder:"Endereo",className:"text-sm"}):i.jsx("span",{className:"text-sm",children:d.address||"No informado"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Li,{className:"h-4 w-4 text-gray-500"}),i.jsxs("span",{className:"text-sm",children:["Cliente desde: ",new Date(e.created_at).toLocaleDateString("pt-BR")]})]})]})]}),i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsx(ge,{className:"text-sm",children:"Estatsticas"})}),i.jsxs(se,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Total de Pedidos:"}),i.jsx("span",{className:"font-medium",children:e.total_orders||0})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Total Gasto:"}),i.jsxs("span",{className:"font-medium",children:["R$ ",(e.total_spent||0).toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"ltimo Pedido:"}),i.jsx("span",{className:"font-medium",children:e.last_order_date?new Date(e.last_order_date).toLocaleDateString("pt-BR"):"Nunca"})]})]})]}),i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ge,{className:"text-sm",children:"Notas"}),n.notes?i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,notes:!1}),children:i.jsx(Ls,{className:"h-4 w-4 text-green-600"})}),i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,notes:!1}),children:i.jsx($a,{className:"h-4 w-4 text-red-600"})})]}):i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r({...n,notes:!0}),children:i.jsx(wi,{className:"h-4 w-4"})})]})}),i.jsx(se,{children:n.notes?i.jsx(vt,{value:h,onChange:w=>m(w.target.value),placeholder:"Adicione notas sobre este contato...",rows:3,className:"text-sm"}):i.jsx("p",{className:"text-sm text-gray-600",children:h||"Nenhuma nota adicionada"})})]})]})]})}var gP="Popover",[$q,$Ke]=Ss(gP,[ul]),cg=ul(),[u3e,pl]=$q(gP),Lq=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!1}=e,l=cg(t),c=v.useRef(null),[u,d]=v.useState(!1),[f=!1,h]=Na({prop:r,defaultProp:s,onChange:a});return i.jsx(lw,{...l,children:i.jsx(u3e,{scope:t,contentId:Vs(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o,children:n})})};Lq.displayName=gP;var Fq="PopoverAnchor",d3e=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=pl(Fq,n),a=cg(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return v.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(Up,{...a,...r,ref:t})});d3e.displayName=Fq;var Bq="PopoverTrigger",zq=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=pl(Bq,n),a=cg(n),o=ze(t,s.triggerRef),l=i.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Hq(s.open),...r,ref:o,onClick:ye(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(Up,{asChild:!0,...a,children:l})});zq.displayName=Bq;var vP="PopoverPortal",[f3e,h3e]=$q(vP,{forceMount:void 0}),Wq=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,a=pl(vP,t);return i.jsx(f3e,{scope:t,forceMount:n,children:i.jsx(Zn,{present:n||a.open,children:i.jsx(dw,{asChild:!0,container:s,children:r})})})};Wq.displayName=vP;var Ad="PopoverContent",Vq=v.forwardRef((e,t)=>{const n=h3e(Ad,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,a=pl(Ad,e.__scopePopover);return i.jsx(Zn,{present:r||a.open,children:a.modal?i.jsx(m3e,{...s,ref:t}):i.jsx(p3e,{...s,ref:t})})});Vq.displayName=Ad;var m3e=v.forwardRef((e,t)=>{const n=pl(Ad,e.__scopePopover),r=v.useRef(null),s=ze(t,r),a=v.useRef(!1);return v.useEffect(()=>{const o=r.current;if(o)return Hp(o)},[]),i.jsx(Gp,{as:Fi,allowPinchZoom:!0,children:i.jsx(Uq,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ye(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),p3e=v.forwardRef((e,t)=>{const n=pl(Ad,e.__scopePopover),r=v.useRef(!1),s=v.useRef(!1);return i.jsx(Uq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Uq=v.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=pl(Ad,n),m=cg(n);return gw(),i.jsx(qp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(cw,{"data-state":Hq(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),qq="PopoverClose",g3e=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=pl(qq,n);return i.jsx(Me.button,{type:"button",...r,ref:t,onClick:ye(e.onClick,()=>s.onOpenChange(!1))})});g3e.displayName=qq;var v3e="PopoverArrow",y3e=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=cg(n);return i.jsx(uw,{...s,...r,ref:t})});y3e.displayName=v3e;function Hq(e){return e?"open":"closed"}var x3e=Lq,w3e=zq,b3e=Wq,Gq=Vq;const cp=x3e,up=w3e,Pd=v.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>i.jsx(b3e,{children:i.jsx(Gq,{ref:s,align:t,sideOffset:n,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Pd.displayName=Gq.displayName;function Fo(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function u4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Kq(...e){return t=>{let n=!1;const r=e.map(s=>{const a=u4(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():u4(e[s],null)}}}}function Dc(...e){return v.useCallback(Kq(...e),e)}function j3e(e,t){const n=v.createContext(t),r=a=>{const{children:o,...l}=a,c=v.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(a){const o=v.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function S3e(e,t=[]){let n=[];function r(a,o){const l=v.createContext(o),c=n.length;n=[...n,o];const u=f=>{var x;const{scope:h,children:m,...g}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=v.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:y,children:m})};u.displayName=a+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,N3e(s,...t)]}function N3e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var dp=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},_3e=m0[" useId ".trim().toString()]||(()=>{}),C3e=0;function D1(e){const[t,n]=v.useState(_3e());return dp(()=>{e||n(r=>r??String(C3e++))},[e]),e||(t?`radix-${t}`:"")}var E3e=m0[" useInsertionEffect ".trim().toString()]||dp;function k3e({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,o]=A3e({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=v.useCallback(d=>{var f;if(l){const h=P3e(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else a(d)},[l,e,a,o]);return[c,u]}function A3e({defaultProp:e,onChange:t}){const[n,r]=v.useState(e),s=v.useRef(n),a=v.useRef(t);return E3e(()=>{a.current=t},[t]),v.useEffect(()=>{var o;s.current!==n&&((o=a.current)==null||o.call(a,n),s.current=n)},[n,s]),[n,r,a]}function P3e(e){return typeof e=="function"}function Yq(e){const t=T3e(e),n=v.forwardRef((r,s)=>{const{children:a,...o}=r,l=v.Children.toArray(a),c=l.find(I3e);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function T3e(e){const t=v.forwardRef((n,r)=>{const{children:s,...a}=n;if(v.isValidElement(s)){const o=M3e(s),l=D3e(a,s.props);return s.type!==v.Fragment&&(l.ref=r?Kq(r,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var O3e=Symbol("radix.slottable");function I3e(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===O3e}function D3e(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function M3e(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var R3e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],to=R3e.reduce((e,t)=>{const n=Yq(`Primitive.${t}`),r=v.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function $3e(e,t){e&&ni.flushSync(()=>e.dispatchEvent(t))}function fp(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function L3e(e,t=globalThis==null?void 0:globalThis.document){const n=fp(e);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var F3e="DismissableLayer",gC="dismissableLayer.update",B3e="dismissableLayer.pointerDownOutside",z3e="dismissableLayer.focusOutside",d4,Xq=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jq=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(Xq),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),g=Dc(t,C=>f(C)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),b=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=x,S=U3e(C=>{const _=C.target,k=[...u.branches].some(A=>A.contains(_));!w||k||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},h),N=q3e(C=>{const _=C.target;[...u.branches].some(A=>A.contains(_))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},h);return L3e(C=>{b===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(d4=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),f4(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=d4)}},[d,h,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),f4())},[d,u]),v.useEffect(()=>{const C=()=>m({});return document.addEventListener(gC,C),()=>document.removeEventListener(gC,C)},[]),i.jsx(to.div,{...c,ref:g,style:{pointerEvents:j?w?"auto":"none":void 0,...e.style},onFocusCapture:Fo(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Fo(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Fo(e.onPointerDownCapture,S.onPointerDownCapture)})});Jq.displayName=F3e;var W3e="DismissableLayerBranch",V3e=v.forwardRef((e,t)=>{const n=v.useContext(Xq),r=v.useRef(null),s=Dc(t,r);return v.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(to.div,{...e,ref:s})});V3e.displayName=W3e;function U3e(e,t=globalThis==null?void 0:globalThis.document){const n=fp(e),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){Qq(B3e,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function q3e(e,t=globalThis==null?void 0:globalThis.document){const n=fp(e),r=v.useRef(!1);return v.useEffect(()=>{const s=a=>{a.target&&!r.current&&Qq(z3e,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function f4(){const e=new CustomEvent(gC);document.dispatchEvent(e)}function Qq(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?$3e(s,a):s.dispatchEvent(a)}var M1="focusScope.autoFocusOnMount",R1="focusScope.autoFocusOnUnmount",h4={bubbles:!1,cancelable:!0},H3e="FocusScope",Zq=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=v.useState(null),u=fp(s),d=fp(a),f=v.useRef(null),h=Dc(t,p=>c(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let p=function(j){if(m.paused||!l)return;const w=j.target;l.contains(w)?f.current=w:ho(f.current,{select:!0})},y=function(j){if(m.paused||!l)return;const w=j.relatedTarget;w!==null&&(l.contains(w)||ho(f.current,{select:!0}))},x=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&ho(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),b.disconnect()}}},[r,l,m.paused]),v.useEffect(()=>{if(l){p4.add(m);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(M1,h4);l.addEventListener(M1,u),l.dispatchEvent(x),x.defaultPrevented||(G3e(Q3e(e9(l)),{select:!0}),document.activeElement===p&&ho(l))}return()=>{l.removeEventListener(M1,u),setTimeout(()=>{const x=new CustomEvent(R1,h4);l.addEventListener(R1,d),l.dispatchEvent(x),x.defaultPrevented||ho(p??document.body,{select:!0}),l.removeEventListener(R1,d),p4.remove(m)},0)}}},[l,u,d,m]);const g=v.useCallback(p=>{if(!n&&!r||m.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const b=p.currentTarget,[j,w]=K3e(b);j&&w?!p.shiftKey&&x===w?(p.preventDefault(),n&&ho(j,{select:!0})):p.shiftKey&&x===j&&(p.preventDefault(),n&&ho(w,{select:!0})):x===b&&p.preventDefault()}},[n,r,m.paused]);return i.jsx(to.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Zq.displayName=H3e;function G3e(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ho(r,{select:t}),document.activeElement!==n)return}function K3e(e){const t=e9(e),n=m4(t,e),r=m4(t.reverse(),e);return[n,r]}function e9(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function m4(e,t){for(const n of e)if(!Y3e(n,{upTo:t}))return n}function Y3e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function X3e(e){return e instanceof HTMLInputElement&&"select"in e}function ho(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&X3e(e)&&t&&e.select()}}var p4=J3e();function J3e(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=g4(e,t),e.unshift(t)},remove(t){var n;e=g4(e,t),(n=e[0])==null||n.resume()}}}function g4(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Q3e(e){return e.filter(t=>t.tagName!=="A")}var Z3e="Portal",t9=v.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=v.useState(!1);dp(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?P0.createPortal(i.jsx(to.div,{...r,ref:t}),o):null});t9.displayName=Z3e;function e5e(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var ub=e=>{const{present:t,children:n}=e,r=t5e(t),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),a=Dc(r.ref,n5e(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:a}):null};ub.displayName="Presence";function t5e(e){const[t,n]=v.useState(),r=v.useRef(null),s=v.useRef(e),a=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=e5e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=dv(r.current);a.current=l==="mounted"?u:"none"},[l]),dp(()=>{const u=r.current,d=s.current;if(d!==e){const h=a.current,m=dv(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),dp(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=dv(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(a.current=dv(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function dv(e){return(e==null?void 0:e.animationName)||"none"}function n5e(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $1=0;function r5e(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??v4()),document.body.insertAdjacentElement("beforeend",e[1]??v4()),$1++,()=>{$1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$1--}},[])}function v4(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var n9=Xz(),L1=function(){},db=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:L1,onWheelCapture:L1,onTouchMoveCapture:L1}),s=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,y=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,j=e.gapMode,w=Zk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=Yz([n,t]),C=dr(dr({},w),s);return v.createElement(v.Fragment,null,d&&v.createElement(S,{sideCar:n9,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:j}),o?v.cloneElement(v.Children.only(l),dr(dr({},C),{ref:N})):v.createElement(b,dr({},C,{className:c,ref:N}),l))});db.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};db.classNames={fullWidth:Mh,zeroRight:Dh};var vC=!1;if(typeof window<"u")try{var fv=Object.defineProperty({},"passive",{get:function(){return vC=!0,!0}});window.addEventListener("test",fv,fv),window.removeEventListener("test",fv,fv)}catch{vC=!1}var Yc=vC?{passive:!1}:!1,s5e=function(e){return e.tagName==="TEXTAREA"},r9=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!s5e(e)&&n[t]==="visible")},a5e=function(e){return r9(e,"overflowY")},i5e=function(e){return r9(e,"overflowX")},y4=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=s9(e,r);if(s){var a=a9(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},o5e=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},l5e=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},s9=function(e,t){return e==="v"?a5e(t):i5e(t)},a9=function(e,t){return e==="v"?o5e(t):l5e(t)},c5e=function(e,t){return e==="h"&&t==="rtl"?-1:1},u5e=function(e,t,n,r,s){var a=c5e(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=a9(e,l),g=m[0],p=m[1],y=m[2],x=p-y-a*g;(g||x)&&s9(e,l)&&(f+=x,h+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},hv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},x4=function(e){return[e.deltaX,e.deltaY]},w4=function(e){return e&&"current"in e?e.current:e},d5e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},f5e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},h5e=0,Xc=[];function m5e(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(h5e++)[0],a=v.useState(eA)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=Kz([e.lockRef.current],(e.shards||[]).map(w4),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=hv(p),b=n.current,j="deltaX"in p?p.deltaX:b[0]-x[0],w="deltaY"in p?p.deltaY:b[1]-x[1],S,N=p.target,C=Math.abs(j)>Math.abs(w)?"h":"v";if("touches"in p&&C==="h"&&N.type==="range")return!1;var _=y4(C,N);if(!_)return!0;if(_?S=C:(S=C==="v"?"h":"v",_=y4(C,N)),!_)return!1;if(!r.current&&"changedTouches"in p&&(j||w)&&(r.current=S),!S)return!0;var k=r.current||S;return u5e(k,y,p,k==="h"?j:w,!0)},[]),c=v.useCallback(function(p){var y=p;if(!(!Xc.length||Xc[Xc.length-1]!==a)){var x="deltaY"in y?x4(y):hv(y),b=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&d5e(S.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var j=(o.current.shards||[]).map(w4).filter(Boolean).filter(function(S){return S.contains(y.target)}),w=j.length>0?l(y,j[0]):!o.current.noIsolation;w&&y.cancelable&&y.preventDefault()}}},[]),u=v.useCallback(function(p,y,x,b){var j={name:p,delta:y,target:x,should:b,shadowParent:p5e(x)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(w){return w!==j})},1)},[]),d=v.useCallback(function(p){n.current=hv(p),r.current=void 0},[]),f=v.useCallback(function(p){u(p.type,x4(p),p.target,l(p,e.lockRef.current))},[]),h=v.useCallback(function(p){u(p.type,hv(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Xc.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Yc),document.addEventListener("touchmove",c,Yc),document.addEventListener("touchstart",d,Yc),function(){Xc=Xc.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Yc),document.removeEventListener("touchmove",c,Yc),document.removeEventListener("touchstart",d,Yc)}},[]);var m=e.removeScrollBar,g=e.inert;return v.createElement(v.Fragment,null,g?v.createElement(a,{styles:f5e(s)}):null,m?v.createElement(e8,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function p5e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const g5e=Qz(n9,m5e);var i9=v.forwardRef(function(e,t){return v.createElement(db,dr({},e,{ref:t,sideCar:g5e}))});i9.classNames=db.classNames;var fb="Dialog",[o9,LKe]=S3e(fb),[v5e,Pa]=o9(fb),l9=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u,d]=k3e({prop:r,defaultProp:s??!1,onChange:a,caller:fb});return i.jsx(v5e,{scope:t,triggerRef:l,contentRef:c,contentId:D1(),titleId:D1(),descriptionId:D1(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};l9.displayName=fb;var c9="DialogTrigger",u9=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pa(c9,n),a=Dc(t,s.triggerRef);return i.jsx(to.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":wP(s.open),...r,ref:a,onClick:Fo(e.onClick,s.onOpenToggle)})});u9.displayName=c9;var yP="DialogPortal",[y5e,d9]=o9(yP,{forceMount:void 0}),f9=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Pa(yP,t);return i.jsx(y5e,{scope:t,forceMount:n,children:v.Children.map(r,o=>i.jsx(ub,{present:n||a.open,children:i.jsx(t9,{asChild:!0,container:s,children:o})}))})};f9.displayName=yP;var Hx="DialogOverlay",h9=v.forwardRef((e,t)=>{const n=d9(Hx,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Pa(Hx,e.__scopeDialog);return a.modal?i.jsx(ub,{present:r||a.open,children:i.jsx(w5e,{...s,ref:t})}):null});h9.displayName=Hx;var x5e=Yq("DialogOverlay.RemoveScroll"),w5e=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pa(Hx,n);return i.jsx(i9,{as:x5e,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(to.div,{"data-state":wP(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),vc="DialogContent",m9=v.forwardRef((e,t)=>{const n=d9(vc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Pa(vc,e.__scopeDialog);return i.jsx(ub,{present:r||a.open,children:a.modal?i.jsx(b5e,{...s,ref:t}):i.jsx(j5e,{...s,ref:t})})});m9.displayName=vc;var b5e=v.forwardRef((e,t)=>{const n=Pa(vc,e.__scopeDialog),r=v.useRef(null),s=Dc(t,n.contentRef,r);return v.useEffect(()=>{const a=r.current;if(a)return Hp(a)},[]),i.jsx(p9,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fo(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Fo(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Fo(e.onFocusOutside,a=>a.preventDefault())})}),j5e=v.forwardRef((e,t)=>{const n=Pa(vc,e.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return i.jsx(p9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),p9=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Pa(vc,n),c=v.useRef(null),u=Dc(t,c);return r5e(),i.jsxs(i.Fragment,{children:[i.jsx(Zq,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Jq,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":wP(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(S5e,{titleId:l.titleId}),i.jsx(_5e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),xP="DialogTitle",g9=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pa(xP,n);return i.jsx(to.h2,{id:s.titleId,...r,ref:t})});g9.displayName=xP;var v9="DialogDescription",y9=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pa(v9,n);return i.jsx(to.p,{id:s.descriptionId,...r,ref:t})});y9.displayName=v9;var x9="DialogClose",w9=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pa(x9,n);return i.jsx(to.button,{type:"button",...r,ref:t,onClick:Fo(e.onClick,()=>s.onOpenChange(!1))})});w9.displayName=x9;function wP(e){return e?"open":"closed"}var b9="DialogTitleWarning",[FKe,j9]=j3e(b9,{contentName:vc,titleName:xP,docsSlug:"dialog"}),S5e=({titleId:e})=>{const t=j9(b9),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},N5e="DialogDescriptionWarning",_5e=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${j9(N5e).contentName}}.`;return v.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},C5e=l9,E5e=u9,k5e=f9,S9=h9,N9=m9,_9=g9,C9=y9,A5e=w9;const ot=C5e,Bt=E5e,P5e=k5e,E9=v.forwardRef(({className:e,...t},n)=>i.jsx(S9,{ref:n,className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));E9.displayName=S9.displayName;const et=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(P5e,{children:[i.jsx(E9,{}),i.jsxs(N9,{ref:r,className:ve("fixed left-[50%] top-[50%] z-[9998] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","pointer-events-auto",e),onOpenAutoFocus:s=>{var o,l;s.preventDefault();const a=(o=r==null?void 0:r.current)==null?void 0:o.querySelector('input:not([disabled]), button:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])');a?a.focus():(l=r==null?void 0:r.current)==null||l.focus()},...n,children:[t,i.jsxs(A5e,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(bhe,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));et.displayName=N9.displayName;const tt=({className:e,...t})=>i.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});tt.displayName="DialogHeader";const yt=({className:e,...t})=>i.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});yt.displayName="DialogFooter";const nt=v.forwardRef(({className:e,...t},n)=>i.jsx(_9,{ref:n,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));nt.displayName=_9.displayName;const ft=v.forwardRef(({className:e,...t},n)=>i.jsx(C9,{ref:n,className:ve("text-sm text-muted-foreground",e),...t}));ft.displayName=C9.displayName;function hp(e,[t,n]){return Math.min(n,Math.max(t,e))}function hb(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var T5e=[" ","Enter","ArrowUp","ArrowDown"],O5e=[" ","Enter"],ug="Select",[mb,pb,I5e]=tw(ug),[pf,BKe]=Ss(ug,[I5e,ul]),gb=ul(),[D5e,gl]=pf(ug),[M5e,R5e]=pf(ug),k9=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=gb(t),[y,x]=v.useState(null),[b,j]=v.useState(null),[w,S]=v.useState(!1),N=Xd(u),[C=!1,_]=Na({prop:r,defaultProp:s,onChange:a}),[k,A]=Na({prop:o,defaultProp:l,onChange:c}),T=v.useRef(null),D=y?g||!!y.closest("form"):!0,[F,E]=v.useState(new Set),$=Array.from(F).map(O=>O.props.value).join(";");return i.jsx(lw,{...p,children:i.jsxs(D5e,{required:m,scope:t,trigger:y,onTriggerChange:x,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:w,onValueNodeHasChildrenChange:S,contentId:Vs(),value:k,onValueChange:A,open:C,onOpenChange:_,dir:N,triggerPointerDownPosRef:T,disabled:h,children:[i.jsx(mb.Provider,{scope:t,children:i.jsx(M5e,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(O=>{E(R=>new Set(R).add(O))},[]),onNativeOptionRemove:v.useCallback(O=>{E(R=>{const I=new Set(R);return I.delete(O),I})},[]),children:n})}),D?i.jsxs(Q9,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:O=>A(O.target.value),disabled:h,form:g,children:[k===void 0?i.jsx("option",{value:""}):null,Array.from(F)]},$):null]})})};k9.displayName=ug;var A9="SelectTrigger",P9=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=gb(n),o=gl(A9,n),l=o.disabled||r,c=ze(t,o.onTriggerChange),u=pb(n),d=v.useRef("touch"),[f,h,m]=Z9(p=>{const y=u().filter(j=>!j.disabled),x=y.find(j=>j.value===o.value),b=eH(y,p,x);b!==void 0&&o.onValueChange(b.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(Up,{asChild:!0,...a,children:i.jsx(Me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":J9(o.value)?"":void 0,...s,ref:c,onClick:ye(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:ye(s.onPointerDown,p=>{d.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:ye(s.onKeyDown,p=>{const y=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(y&&p.key===" ")&&T5e.includes(p.key)&&(g(),p.preventDefault())})})})});P9.displayName=A9;var T9="SelectValue",O9=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:o="",...l}=e,c=gl(T9,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=ze(t,c.onValueNodeChange);return Mn(()=>{u(d)},[u,d]),i.jsx(Me.span,{...l,ref:f,style:{pointerEvents:"none"},children:J9(c.value)?i.jsx(i.Fragment,{children:o}):a})});O9.displayName=T9;var $5e="SelectIcon",I9=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return i.jsx(Me.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});I9.displayName=$5e;var yc="SelectContent",D9=v.forwardRef((e,t)=>{const n=gl(yc,e.__scopeSelect),[r,s]=v.useState();if(Mn(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?ni.createPortal(i.jsx(M9,{scope:e.__scopeSelect,children:i.jsx(mb.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(R9,{...e,ref:t})});D9.displayName=yc;var sa=10,[M9,vl]=pf(yc),L5e="SelectContentImpl",R9=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y,...x}=e,b=gl(yc,n),[j,w]=v.useState(null),[S,N]=v.useState(null),C=ze(t,X=>w(X)),[_,k]=v.useState(null),[A,T]=v.useState(null),D=pb(n),[F,E]=v.useState(!1),$=v.useRef(!1);v.useEffect(()=>{if(j)return Hp(j)},[j]),gw();const O=v.useCallback(X=>{const[ee,...Z]=D().map(H=>H.ref.current),[ae]=Z.slice(-1),ce=document.activeElement;for(const H of X)if(H===ce||(H==null||H.scrollIntoView({block:"nearest"}),H===ee&&S&&(S.scrollTop=0),H===ae&&S&&(S.scrollTop=S.scrollHeight),H==null||H.focus(),document.activeElement!==ce))return},[D,S]),R=v.useCallback(()=>O([_,j]),[O,_,j]);v.useEffect(()=>{F&&R()},[F,R]);const{onOpenChange:I,triggerPointerDownPosRef:M}=b;v.useEffect(()=>{if(j){let X={x:0,y:0};const ee=ae=>{var ce,H;X={x:Math.abs(Math.round(ae.pageX)-(((ce=M.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((H=M.current)==null?void 0:H.y)??0))}},Z=ae=>{X.x<=10&&X.y<=10?ae.preventDefault():j.contains(ae.target)||I(!1),document.removeEventListener("pointermove",ee),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",Z,{capture:!0})}}},[j,I,M]),v.useEffect(()=>{const X=()=>I(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[I]);const[L,z]=Z9(X=>{const ee=D().filter(ce=>!ce.disabled),Z=ee.find(ce=>ce.ref.current===document.activeElement),ae=eH(ee,X,Z);ae&&setTimeout(()=>ae.ref.current.focus())}),W=v.useCallback((X,ee,Z)=>{const ae=!$.current&&!Z;(b.value!==void 0&&b.value===ee||ae)&&(k(X),ae&&($.current=!0))},[b.value]),q=v.useCallback(()=>j==null?void 0:j.focus(),[j]),V=v.useCallback((X,ee,Z)=>{const ae=!$.current&&!Z;(b.value!==void 0&&b.value===ee||ae)&&T(X)},[b.value]),te=r==="popper"?yC:$9,ne=te===yC?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y}:{};return i.jsx(M9,{scope:n,content:j,viewport:S,onViewportChange:N,itemRefCallback:W,selectedItem:_,onItemLeave:q,itemTextRefCallback:V,focusSelectedItem:R,selectedItemText:A,position:r,isPositioned:F,searchRef:L,children:i.jsx(Gp,{as:Fi,allowPinchZoom:!0,children:i.jsx(qp,{asChild:!0,trapped:b.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:ye(s,X=>{var ee;(ee=b.trigger)==null||ee.focus({preventScroll:!0}),X.preventDefault()}),children:i.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(te,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:X=>X.preventDefault(),...x,...ne,onPlaced:()=>E(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ye(x.onKeyDown,X=>{const ee=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!ee&&X.key.length===1&&z(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let ae=D().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(X.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const ce=X.target,H=ae.indexOf(ce);ae=ae.slice(H+1)}setTimeout(()=>O(ae)),X.preventDefault()}})})})})})})});R9.displayName=L5e;var F5e="SelectItemAlignedPosition",$9=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=gl(yc,n),o=vl(yc,n),[l,c]=v.useState(null),[u,d]=v.useState(null),f=ze(t,C=>d(C)),h=pb(n),m=v.useRef(!1),g=v.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:x,focusSelectedItem:b}=o,j=v.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&p&&y&&x){const C=a.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(a.dir!=="rtl"){const ce=A.left-_.left,H=k.left-ce,je=C.left-H,Ne=C.width+je,Ae=Math.max(Ne,_.width),Q=window.innerWidth-sa,me=hp(H,[sa,Math.max(sa,Q-Ae)]);l.style.minWidth=Ne+"px",l.style.left=me+"px"}else{const ce=_.right-A.right,H=window.innerWidth-k.right-ce,je=window.innerWidth-C.right-H,Ne=C.width+je,Ae=Math.max(Ne,_.width),Q=window.innerWidth-sa,me=hp(H,[sa,Math.max(sa,Q-Ae)]);l.style.minWidth=Ne+"px",l.style.right=me+"px"}const T=h(),D=window.innerHeight-sa*2,F=p.scrollHeight,E=window.getComputedStyle(u),$=parseInt(E.borderTopWidth,10),O=parseInt(E.paddingTop,10),R=parseInt(E.borderBottomWidth,10),I=parseInt(E.paddingBottom,10),M=$+O+F+I+R,L=Math.min(y.offsetHeight*5,M),z=window.getComputedStyle(p),W=parseInt(z.paddingTop,10),q=parseInt(z.paddingBottom,10),V=C.top+C.height/2-sa,te=D-V,ne=y.offsetHeight/2,X=y.offsetTop+ne,ee=$+O+X,Z=M-ee;if(ee<=V){const ce=T.length>0&&y===T[T.length-1].ref.current;l.style.bottom="0px";const H=u.clientHeight-p.offsetTop-p.offsetHeight,je=Math.max(te,ne+(ce?q:0)+H+R),Ne=ee+je;l.style.height=Ne+"px"}else{const ce=T.length>0&&y===T[0].ref.current;l.style.top="0px";const je=Math.max(V,$+p.offsetTop+(ce?W:0)+ne)+Z;l.style.height=je+"px",p.scrollTop=ee-V+p.offsetTop}l.style.margin=`${sa}px 0`,l.style.minHeight=L+"px",l.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,l,u,p,y,x,a.dir,r]);Mn(()=>j(),[j]);const[w,S]=v.useState();Mn(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=v.useCallback(C=>{C&&g.current===!0&&(j(),b==null||b(),g.current=!1)},[j,b]);return i.jsx(z5e,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:i.jsx(Me.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});$9.displayName=F5e;var B5e="SelectPopperPosition",yC=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=sa,...a}=e,o=gb(n);return i.jsx(cw,{...o,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yC.displayName=B5e;var[z5e,bP]=pf(yc,{}),xC="SelectViewport",L9=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=vl(xC,n),o=bP(xC,n),l=ze(t,a.onViewportChange),c=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(mb.Slot,{scope:n,children:i.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ye(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-sa*2,p=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),x=Math.max(p,y);if(x<g){const b=x+m,j=Math.min(g,b),w=b-j;f.style.height=j+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});L9.displayName=xC;var F9="SelectGroup",[W5e,V5e]=pf(F9),U5e=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Vs();return i.jsx(W5e,{scope:n,id:s,children:i.jsx(Me.div,{role:"group","aria-labelledby":s,...r,ref:t})})});U5e.displayName=F9;var B9="SelectLabel",z9=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=V5e(B9,n);return i.jsx(Me.div,{id:s.id,...r,ref:t})});z9.displayName=B9;var Gx="SelectItem",[q5e,W9]=pf(Gx),V9=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...o}=e,l=gl(Gx,n),c=vl(Gx,n),u=l.value===r,[d,f]=v.useState(a??""),[h,m]=v.useState(!1),g=ze(t,b=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,b,r,s)}),p=Vs(),y=v.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(q5e,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:v.useCallback(b=>{f(j=>j||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(mb.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:i.jsx(Me.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:ye(o.onFocus,()=>m(!0)),onBlur:ye(o.onBlur,()=>m(!1)),onClick:ye(o.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:ye(o.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:ye(o.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:ye(o.onPointerMove,b=>{var j;y.current=b.pointerType,s?(j=c.onItemLeave)==null||j.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(o.onPointerLeave,b=>{var j;b.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:ye(o.onKeyDown,b=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&b.key===" "||(O5e.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});V9.displayName=Gx;var lh="SelectItemText",U9=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,o=gl(lh,n),l=vl(lh,n),c=W9(lh,n),u=R5e(lh,n),[d,f]=v.useState(null),h=ze(t,x=>f(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=v.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=u;return Mn(()=>(p(g),()=>y(g)),[p,y,g]),i.jsxs(i.Fragment,{children:[i.jsx(Me.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ni.createPortal(a.children,o.valueNode):null]})});U9.displayName=lh;var q9="SelectItemIndicator",H9=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return W9(q9,n).isSelected?i.jsx(Me.span,{"aria-hidden":!0,...r,ref:t}):null});H9.displayName=q9;var wC="SelectScrollUpButton",G9=v.forwardRef((e,t)=>{const n=vl(wC,e.__scopeSelect),r=bP(wC,e.__scopeSelect),[s,a]=v.useState(!1),o=ze(t,r.onScrollButtonChange);return Mn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(Y9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});G9.displayName=wC;var bC="SelectScrollDownButton",K9=v.forwardRef((e,t)=>{const n=vl(bC,e.__scopeSelect),r=bP(bC,e.__scopeSelect),[s,a]=v.useState(!1),o=ze(t,r.onScrollButtonChange);return Mn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(Y9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});K9.displayName=bC;var Y9=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=vl("SelectScrollButton",n),o=v.useRef(null),l=pb(n),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Mn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Me.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ye(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ye(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ye(s.onPointerLeave,()=>{c()})})}),H5e="SelectSeparator",X9=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(Me.div,{"aria-hidden":!0,...r,ref:t})});X9.displayName=H5e;var jC="SelectArrow",G5e=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=gb(n),a=gl(jC,n),o=vl(jC,n);return a.open&&o.position==="popper"?i.jsx(uw,{...s,...r,ref:t}):null});G5e.displayName=jC;function J9(e){return e===""||e===void 0}var Q9=v.forwardRef((e,t)=>{const{value:n,...r}=e,s=v.useRef(null),a=ze(t,s),o=hb(n);return v.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(f)}},[o,n]),i.jsx(Jk,{asChild:!0,children:i.jsx("select",{...r,ref:a,defaultValue:n})})});Q9.displayName="BubbleSelect";function Z9(e){const t=hn(e),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function eH(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=K5e(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function K5e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Y5e=k9,tH=P9,X5e=O9,J5e=I9,nH=D9,Q5e=L9,rH=z9,sH=V9,Z5e=U9,eFe=H9,aH=G9,iH=K9,oH=X9;const Oe=Y5e,Ie=X5e,Pe=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(tH,{ref:r,className:ve("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(J5e,{asChild:!0,children:i.jsx(Ik,{className:"h-4 w-4 opacity-50"})})]}));Pe.displayName=tH.displayName;const lH=v.forwardRef(({className:e,...t},n)=>i.jsx(aH,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Boe,{className:"h-4 w-4"})}));lH.displayName=aH.displayName;const cH=v.forwardRef(({className:e,...t},n)=>i.jsx(iH,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Ik,{className:"h-4 w-4"})}));cH.displayName=iH.displayName;const Te=v.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>i.jsxs(nH,{ref:s,className:ve("relative z-[999] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(lH,{}),i.jsx(Q5e,{className:ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(cH,{})]}));Te.displayName=nH.displayName;const tFe=v.forwardRef(({className:e,...t},n)=>i.jsx(rH,{ref:n,className:ve("px-2 py-1.5 text-sm font-semibold",e),...t}));tFe.displayName=rH.displayName;const K=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(sH,{ref:r,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(eFe,{children:i.jsx(Ls,{className:"h-4 w-4"})})}),i.jsx(Z5e,{children:t})]}));K.displayName=sH.displayName;const nFe=v.forwardRef(({className:e,...t},n)=>i.jsx(oH,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));nFe.displayName=oH.displayName;function rFe({value:e,onChange:t,onSend:n,onSendMedia:r,disabled:s=!1,placeholder:a="Digite sua mensagem..."}){const[o,l]=v.useState(!1),[c,u]=v.useState(""),[d,f]=v.useState("image"),[h,m]=v.useState(""),[g,p]=v.useState(!1),y=v.useRef(null),x=["","","","","","","","","","","","","","","","","",""],b=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),e.trim()&&n())},j=()=>{c.trim()&&(r(c,d,h),u(""),m(""),l(!1))},w=()=>{p(!0)},S=()=>{e||p(!1)},N=C=>{switch(C){case"image":return i.jsx(Ph,{className:"h-4 w-4"});case"video":return i.jsx(Oh,{className:"h-4 w-4"});case"audio":return i.jsx(Th,{className:"h-4 w-4"});case"document":return i.jsx(ma,{className:"h-4 w-4"});default:return i.jsx(ma,{className:"h-4 w-4"})}};return i.jsxs("div",{className:"p-4 border-t bg-background",children:[i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsx(vt,{ref:y,value:e,onChange:C=>t(C.target.value),onKeyPress:b,onFocus:w,onBlur:S,placeholder:a,className:ve("min-h-[40px] max-h-32 resize-none transition-all duration-200 focus:outline-none focus:ring-1 focus:ring-primary",g?"min-h-[80px]":"min-h-[40px]"),disabled:s}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsxs(cp,{children:[i.jsx(up,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",disabled:s,className:"text-muted-foreground hover:text-foreground",children:i.jsx(ele,{className:"h-4 w-4"})})}),i.jsx(Pd,{className:"w-56 p-2",children:i.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[i.jsxs(ot,{open:o,onOpenChange:l,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"ghost",size:"sm",className:"justify-start",children:[i.jsx(Ph,{className:"h-4 w-4 mr-2"}),"Imagem"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Enviar Mdia"}),i.jsx(ft,{children:"Envie uma imagem, vdeo, udio ou documento"})]}),i.jsxs("div",{className:"space-y-4 py-2",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"mediaType",children:"Tipo de Mdia"}),i.jsxs(Oe,{value:d,onValueChange:C=>f(C),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"image",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ph,{className:"h-4 w-4 mr-2"}),"Imagem"]})}),i.jsx(K,{value:"video",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Oh,{className:"h-4 w-4 mr-2"}),"Vdeo"]})}),i.jsx(K,{value:"audio",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Th,{className:"h-4 w-4 mr-2"}),"udio"]})}),i.jsx(K,{value:"document",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ma,{className:"h-4 w-4 mr-2"}),"Documento"]})})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"mediaUrl",children:"URL da Mdia"}),i.jsx(ie,{id:"mediaUrl",value:c,onChange:C=>u(C.target.value),placeholder:"https://exemplo.com/arquivo.jpg"})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"mediaCaption",children:"Legenda (Opcional)"}),i.jsx(vt,{id:"mediaCaption",value:h,onChange:C=>m(C.target.value),placeholder:"Digite uma legenda para a mdia...",rows:2})]})]}),i.jsxs(yt,{children:[i.jsx(B,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),i.jsxs(B,{onClick:j,disabled:!c.trim(),children:[N(d),i.jsxs("span",{className:"ml-2",children:["Enviar ",d==="image"?"Imagem":d==="video"?"Vdeo":d==="audio"?"udio":"Documento"]})]})]})]})]}),i.jsxs(B,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>{f("video"),l(!0)},children:[i.jsx(Oh,{className:"h-4 w-4 mr-2"}),"Vdeo"]}),i.jsxs(B,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>{f("audio"),l(!0)},children:[i.jsx(Th,{className:"h-4 w-4 mr-2"}),"udio"]}),i.jsxs(B,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>{f("document"),l(!0)},children:[i.jsx(ma,{className:"h-4 w-4 mr-2"}),"Documento"]})]})})]}),i.jsxs(cp,{children:[i.jsx(up,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",disabled:s,className:"text-muted-foreground hover:text-foreground",children:i.jsx(rle,{className:"h-4 w-4"})})}),i.jsx(Pd,{className:"w-64 p-2",children:i.jsx("div",{className:"grid grid-cols-6 gap-1",children:x.map(C=>i.jsx(B,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>t(e+C),children:C},C))})})]})]}),i.jsxs(B,{onClick:n,disabled:!e.trim()||s,size:"sm",className:ve("transition-all",e.trim()?"opacity-100":"opacity-70"),children:[i.jsx(J0,{className:"h-4 w-4 mr-2"}),"Enviar"]})]})]}),s&&i.jsx("div",{className:"mt-2 text-center",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Conecte uma instncia WhatsApp nas Integraes para enviar mensagens"})})]})}function sFe({message:e,isOwn:t}){const[n,r]=v.useState(!1),s=d=>new Date(d).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),a=d=>{switch(d){case"sent":return i.jsx(Ls,{className:"h-3 w-3"});case"delivered":return i.jsx(Ls,{className:"h-3 w-3"});case"read":return i.jsx(Ls,{className:"h-3 w-3 text-blue-500"});case"failed":return i.jsx(Dk,{className:"h-3 w-3 text-red-500"});default:return i.jsx(Er,{className:"h-3 w-3"})}},o=d=>{switch(d){case"sent":return"Enviado";case"delivered":return"Entregue";case"read":return"Lido";case"failed":return"Falhou";case"pending":return"Pendente";default:return d}},l=()=>{var f;const d=e.metadata||{};if(e.content.includes("[Imagem]")||d.mediaType==="image")return i.jsx("div",{className:"mb-2",children:d.mediaUrl?i.jsx("img",{src:d.mediaUrl,alt:"Imagem",className:"max-w-xs rounded-lg",onError:h=>{h.currentTarget.style.display="none"}}):i.jsx("div",{className:"w-48 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-gray-500 text-sm",children:"Imagem"})})});if(e.content.includes("[Vdeo]")||d.mediaType==="video")return i.jsx("div",{className:"mb-2",children:d.mediaUrl?i.jsx("video",{src:d.mediaUrl,controls:!0,className:"max-w-xs rounded-lg",onError:h=>{h.currentTarget.style.display="none"}}):i.jsx("div",{className:"w-48 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:i.jsx(Jl,{className:"h-8 w-8 text-gray-500"})})});if(e.content.includes("[udio]")||d.mediaType==="audio")return i.jsxs("div",{className:"mb-2 flex items-center space-x-2 p-2 bg-gray-100 rounded-lg",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r(!n),children:n?i.jsx(TN,{className:"h-4 w-4"}):i.jsx(Jl,{className:"h-4 w-4"})}),i.jsx(cle,{className:"h-4 w-4 text-gray-500"}),i.jsx("div",{className:"flex-1 h-1 bg-gray-300 rounded",children:i.jsx("div",{className:"h-1 bg-primary rounded w-1/3"})}),i.jsx("span",{className:"text-xs text-gray-500",children:"0:30"})]});if(e.content.includes("[Documento]")||d.mediaType==="document"){const h=((f=e.content.match(/\[Documento: (.+)\]/))==null?void 0:f[1])||"documento";return i.jsxs("div",{className:"mb-2 flex items-center space-x-2 p-2 bg-gray-100 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-bold text-blue-600",children:"DOC"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:h}),i.jsx("p",{className:"text-xs text-gray-500",children:"Documento"})]}),i.jsx(B,{variant:"ghost",size:"sm",children:i.jsx(xm,{className:"h-4 w-4"})})]})}return null},u=e.content.includes("[")&&e.content.includes("]")?e.content.replace(/\[.*?\]/g,"").trim():e.content;return i.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} mb-4`,children:i.jsxs("div",{className:ve("max-w-xs lg:max-w-md px-4 py-2 rounded-lg shadow-sm",t?"bg-primary text-primary-foreground":"bg-muted text-foreground"),children:[l(),u&&i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:u}),i.jsxs("div",{className:"flex items-center justify-between mt-1",children:[i.jsx("p",{className:ve("text-xs",t?"text-primary-foreground/70":"text-muted-foreground"),children:s(e.timestamp)}),t&&i.jsxs("div",{className:"flex items-center space-x-1",children:[e.send_type==="automated"&&i.jsx(fe,{variant:"outline",className:"text-xs bg-primary/20 text-primary-foreground border-primary/30",children:"Auto"}),i.jsx("div",{className:"flex items-center",title:o(e.status),children:a(e.status)})]})]})]})})}var jP="Dialog",[uH,dH]=Ss(jP),[aFe,Ta]=uH(jP),fH=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u=!1,d]=Na({prop:r,defaultProp:s,onChange:a});return i.jsx(aFe,{scope:t,triggerRef:l,contentRef:c,contentId:Vs(),titleId:Vs(),descriptionId:Vs(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};fH.displayName=jP;var hH="DialogTrigger",mH=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ta(hH,n),a=ze(t,s.triggerRef);return i.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_P(s.open),...r,ref:a,onClick:ye(e.onClick,s.onOpenToggle)})});mH.displayName=hH;var SP="DialogPortal",[iFe,pH]=uH(SP,{forceMount:void 0}),gH=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Ta(SP,t);return i.jsx(iFe,{scope:t,forceMount:n,children:v.Children.map(r,o=>i.jsx(Zn,{present:n||a.open,children:i.jsx(dw,{asChild:!0,container:s,children:o})}))})};gH.displayName=SP;var Kx="DialogOverlay",vH=v.forwardRef((e,t)=>{const n=pH(Kx,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Ta(Kx,e.__scopeDialog);return a.modal?i.jsx(Zn,{present:r||a.open,children:i.jsx(oFe,{...s,ref:t})}):null});vH.displayName=Kx;var oFe=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ta(Kx,n);return i.jsx(Gp,{as:Fi,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Me.div,{"data-state":_P(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),xc="DialogContent",yH=v.forwardRef((e,t)=>{const n=pH(xc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Ta(xc,e.__scopeDialog);return i.jsx(Zn,{present:r||a.open,children:a.modal?i.jsx(lFe,{...s,ref:t}):i.jsx(cFe,{...s,ref:t})})});yH.displayName=xc;var lFe=v.forwardRef((e,t)=>{const n=Ta(xc,e.__scopeDialog),r=v.useRef(null),s=ze(t,n.contentRef,r);return v.useEffect(()=>{const a=r.current;if(a)return Hp(a)},[]),i.jsx(xH,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:ye(e.onFocusOutside,a=>a.preventDefault())})}),cFe=v.forwardRef((e,t)=>{const n=Ta(xc,e.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return i.jsx(xH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),xH=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Ta(xc,n),c=v.useRef(null),u=ze(t,c);return gw(),i.jsxs(i.Fragment,{children:[i.jsx(qp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Jd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_P(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(dFe,{titleId:l.titleId}),i.jsx(hFe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),NP="DialogTitle",wH=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ta(NP,n);return i.jsx(Me.h2,{id:s.titleId,...r,ref:t})});wH.displayName=NP;var bH="DialogDescription",jH=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ta(bH,n);return i.jsx(Me.p,{id:s.descriptionId,...r,ref:t})});jH.displayName=bH;var SH="DialogClose",NH=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ta(SH,n);return i.jsx(Me.button,{type:"button",...r,ref:t,onClick:ye(e.onClick,()=>s.onOpenChange(!1))})});NH.displayName=SH;function _P(e){return e?"open":"closed"}var _H="DialogTitleWarning",[uFe,CH]=Qle(_H,{contentName:xc,titleName:NP,docsSlug:"dialog"}),dFe=({titleId:e})=>{const t=CH(_H),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},fFe="DialogDescriptionWarning",hFe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CH(fFe).contentName}}.`;return v.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},mFe=fH,pFe=mH,gFe=gH,vFe=vH,yFe=yH,xFe=wH,wFe=jH,EH=NH,kH="AlertDialog",[bFe,zKe]=Ss(kH,[dH]),no=dH(),AH=e=>{const{__scopeAlertDialog:t,...n}=e,r=no(t);return i.jsx(mFe,{...r,...n,modal:!0})};AH.displayName=kH;var jFe="AlertDialogTrigger",PH=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=no(n);return i.jsx(pFe,{...s,...r,ref:t})});PH.displayName=jFe;var SFe="AlertDialogPortal",TH=e=>{const{__scopeAlertDialog:t,...n}=e,r=no(t);return i.jsx(gFe,{...r,...n})};TH.displayName=SFe;var NFe="AlertDialogOverlay",OH=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=no(n);return i.jsx(vFe,{...s,...r,ref:t})});OH.displayName=NFe;var qu="AlertDialogContent",[_Fe,CFe]=bFe(qu),IH=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=no(n),o=v.useRef(null),l=ze(t,o),c=v.useRef(null);return i.jsx(uFe,{contentName:qu,titleName:DH,docsSlug:"alert-dialog",children:i.jsx(_Fe,{scope:n,cancelRef:c,children:i.jsxs(yFe,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:ye(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx($k,{children:r}),i.jsx(kFe,{contentRef:o})]})})})});IH.displayName=qu;var DH="AlertDialogTitle",MH=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=no(n);return i.jsx(xFe,{...s,...r,ref:t})});MH.displayName=DH;var RH="AlertDialogDescription",$H=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=no(n);return i.jsx(wFe,{...s,...r,ref:t})});$H.displayName=RH;var EFe="AlertDialogAction",LH=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=no(n);return i.jsx(EH,{...s,...r,ref:t})});LH.displayName=EFe;var FH="AlertDialogCancel",BH=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=CFe(FH,n),a=no(n),o=ze(t,s);return i.jsx(EH,{...a,...r,ref:o})});BH.displayName=FH;var kFe=({contentRef:e})=>{const t=`\`${qu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qu}\` by passing a \`${RH}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},AFe=AH,PFe=PH,TFe=TH,zH=OH,WH=IH,VH=LH,UH=BH,qH=MH,HH=$H;const wn=AFe,Kn=PFe,OFe=TFe,GH=v.forwardRef(({className:e,...t},n)=>i.jsx(zH,{className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));GH.displayName=zH.displayName;const sn=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(OFe,{children:[i.jsx(GH,{}),i.jsx(WH,{ref:r,className:ve("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","pointer-events-auto",e),onOpenAutoFocus:s=>{var o,l;s.preventDefault();const a=(o=r==null?void 0:r.current)==null?void 0:o.querySelector('input:not([disabled]), button:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])');a?a.focus():(l=r==null?void 0:r.current)==null||l.focus()},...n,children:t})]}));sn.displayName=WH.displayName;const an=({className:e,...t})=>i.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});an.displayName="AlertDialogHeader";const on=({className:e,...t})=>i.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});on.displayName="AlertDialogFooter";const ln=v.forwardRef(({className:e,...t},n)=>i.jsx(qH,{ref:n,className:ve("text-lg font-semibold",e),...t}));ln.displayName=qH.displayName;const cn=v.forwardRef(({className:e,...t},n)=>i.jsx(HH,{ref:n,className:ve("text-sm text-muted-foreground",e),...t}));cn.displayName=HH.displayName;const un=v.forwardRef(({className:e,...t},n)=>i.jsx(VH,{ref:n,className:ve(Fk(),e),...t}));un.displayName=VH.displayName;const dn=v.forwardRef(({className:e,...t},n)=>i.jsx(UH,{ref:n,className:ve(Fk({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));dn.displayName=UH.displayName;const vb=ka((e,t)=>({sectors:[],loading:!1,fetchSectors:async()=>{await G.handleAsync(async()=>{e({loading:!0});const n=be.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("sectors").select("*").eq("workspace_id",n.id).order("is_default",{ascending:!1}).order("name",{ascending:!0});if(s)throw s;e({sectors:r||[],loading:!1})})},createSector:async n=>await G.handleAsync(async()=>{const r=be.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");n.is_default&&await U.from("sectors").update({is_default:!1}).eq("workspace_id",r.id).eq("is_default",!0);const{data:s,error:a}=await U.from("sectors").insert({...n,workspace_id:r.id,color:n.color||"#3b82f6"}).select().single();if(a)throw a;return t().fetchSectors(),G.showSuccess("Setor criado com sucesso!"),s})||null,updateSector:async(n,r)=>{await G.handleAsync(async()=>{const s=be.getState().currentWorkspace;if(!s)return;r.is_default&&await U.from("sectors").update({is_default:!1}).eq("workspace_id",s.id).eq("is_default",!0);const{error:a}=await U.from("sectors").update({...r,updated_at:new Date().toISOString()}).eq("id",n);if(a)throw a;t().fetchSectors(),G.showSuccess("Setor atualizado com sucesso!")})},deleteSector:async n=>{await G.handleAsync(async()=>{const s=t().sectors.find(o=>o.id===n);if(s!=null&&s.is_default)throw new Error("No  possvel excluir o setor padro");const{error:a}=await U.from("sectors").delete().eq("id",n);if(a)throw a;t().fetchSectors(),G.showSuccess("Setor excludo com sucesso!")})},getDefaultSector:()=>t().sectors.find(n=>n.is_default)})),KH=ka((e,t)=>({conversations:[],activeConversation:null,messages:[],loading:!1,fetchConversations:async()=>{await G.handleAsync(async()=>{const n=be.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("conversations").select(`
          *,
          client:clients(*),
          channel:channels(*),
          sector:sectors(*)
        `).eq("workspace_id",n.id).order("last_message_at",{ascending:!1});if(s)throw s;const a=await Promise.all((r||[]).map(async o=>{const{count:l}=await U.from("messages").select("*",{count:"exact",head:!0}).eq("conversation_id",o.id).eq("sender_type","client").is("read_at",null);return{...o,unread_count:l||0}}));e({conversations:a})})},fetchMessages:async n=>{await G.handleAsync(async()=>{e({loading:!0});const{data:r,error:s}=await U.from("messages").select(`
          *,
          client:clients(*)
        `).eq("conversation_id",n).order("timestamp",{ascending:!0});if(s)throw s;e({messages:r||[],loading:!1})})},setActiveConversation:n=>{e({activeConversation:n}),t().fetchMessages(n.id),t().markAsRead(n.id)},sendMessage:async(n,r)=>{await G.handleAsync(async()=>{var c,u,d;const{data:{user:s}}=await U.auth.getUser();if(!s)throw new Error("Usurio no autenticado");const a=t().conversations.find(f=>f.id===n);if(!a)throw new Error("Conversa no encontrada");const{data:o,error:l}=await U.from("messages").insert({conversation_id:n,client_id:a.client_id,content:r,sender_type:"user",channel_type:a.channel_type,send_type:"manual",status:"pending"}).select(`
          *,
          client:clients(*)
        `).single();if(l)throw l;if(((c=t().activeConversation)==null?void 0:c.id)===n&&e({messages:[...t().messages,o]}),a.channel_type==="whatsapp"&&((u=a.client)!=null&&u.phone))try{const{whatsappInstances:f,sendWhatsAppMessage:h}=be.getState(),m=f.find(g=>g.status==="connected");if(m){if(await h(m.id,a.client.phone,r),await U.from("messages").update({status:"sent"}).eq("id",o.id),((d=t().activeConversation)==null?void 0:d.id)===n){const g=t().messages.map(p=>p.id===o.id?{...p,status:"sent"}:p);e({messages:g})}}else throw new Error("Nenhuma instncia WhatsApp conectada")}catch(f){throw await U.from("messages").update({status:"failed"}).eq("id",o.id),new Error(`Falha ao enviar WhatsApp: ${f.message}`)}await U.from("conversations").update({last_message_at:new Date().toISOString(),status:"open"}).eq("id",n),t().fetchConversations(),G.showSuccess("Mensagem enviada com sucesso!")})},markAsRead:async n=>{await G.handleAsync(async()=>{await U.from("messages").update({read_at:new Date().toISOString()}).eq("conversation_id",n).eq("sender_type","client").is("read_at",null),t().fetchConversations()})},createConversation:async(n,r)=>await G.handleAsync(async()=>{const s=be.getState().currentWorkspace;if(!s)throw new Error("Nenhum workspace selecionado");const a=vb.getState().getDefaultSector(),{data:o,error:l}=await U.from("conversations").select("*").eq("workspace_id",s.id).eq("client_id",n).eq("channel_type",r).maybeSingle();if(l)throw l;if(o)return o;const{data:c,error:u}=await U.from("conversations").insert({workspace_id:s.id,client_id:n,channel_type:r,status:"open",sector_id:a==null?void 0:a.id}).select(`
          *,
          client:clients(*),
          channel:channels(*),
          sector:sectors(*)
        `).single();if(u)throw u;return t().fetchConversations(),c})||null,updateConversationStatus:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("conversations").update({status:r}).eq("id",n);if(s)throw s;const a=t().conversations.map(l=>l.id===n?{...l,status:r}:l);e({conversations:a});const o=t().activeConversation;(o==null?void 0:o.id)===n&&e({activeConversation:{...o,status:r}}),G.showSuccess(`Conversa marcada como ${r}`)})},updateConversationSector:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("conversations").update({sector_id:r}).eq("id",n);if(s)throw s;const{data:a}=await U.from("sectors").select("*").eq("id",r).single(),o=t().conversations.map(c=>c.id===n?{...c,sector_id:r,sector:a}:c);e({conversations:o});const l=t().activeConversation;(l==null?void 0:l.id)===n&&e({activeConversation:{...l,sector_id:r,sector:a}}),G.showSuccess(`Conversa movida para o setor ${a==null?void 0:a.name}`)})},addIncomingMessage:n=>{var a;const r=t().conversations,s=r.findIndex(o=>o.id===n.conversation_id);if(s!==-1){const o=[...r];o[s]={...o[s],last_message_at:n.timestamp,unread_count:(o[s].unread_count||0)+1},e({conversations:o})}((a=t().activeConversation)==null?void 0:a.id)===n.conversation_id&&(e({messages:[...t().messages,n]}),t().markAsRead(n.conversation_id))}})),b4=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316","#6366f1"];function IFe({conversationId:e}){const{sectors:t,fetchSectors:n,createSector:r,updateSector:s,deleteSector:a}=vb(),{activeConversation:o,updateConversationSector:l}=KH(),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState(null),[g,p]=v.useState({name:"",description:"",color:"#3b82f6",is_default:!1}),[y,x]=v.useState(!1);v.useEffect(()=>{n()},[n]),v.useEffect(()=>{h&&p({name:h.name,description:h.description||"",color:h.color,is_default:h.is_default})},[h]);const b=async()=>{if(g.name.trim()){x(!0);try{await r(g),p({name:"",description:"",color:"#3b82f6",is_default:!1}),u(!1)}catch(_){console.error("Error creating sector:",_)}finally{x(!1)}}},j=async()=>{if(!(!h||!g.name.trim())){x(!0);try{await s(h.id,g),f(!1)}catch(_){console.error("Error updating sector:",_)}finally{x(!1)}}},w=async()=>{if(h){x(!0);try{await a(h.id),f(!1)}catch(_){console.error("Error deleting sector:",_)}finally{x(!1)}}},S=async _=>{if(!e&&!o)return;const k=e||(o==null?void 0:o.id);if(k)try{await l(k,_)}catch(A){console.error("Error updating conversation sector:",A)}},N=o==null?void 0:o.sector_id,C=t.find(_=>_.id===N);return i.jsx("div",{children:i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsxs(B,{variant:"outline",size:"sm",className:"h-8",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:(C==null?void 0:C.color)||"#3b82f6"}}),(C==null?void 0:C.name)||"Sem setor"]})}),i.jsxs(Ea,{align:"end",children:[t.map(_=>i.jsx(at,{onClick:()=>S(_.id),children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:_.color}}),i.jsx("span",{children:_.name}),_.id===N&&i.jsx(Ls,{className:"h-4 w-4 ml-2"})]})},_.id)),i.jsxs(ot,{open:c,onOpenChange:u,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(at,{onSelect:_=>_.preventDefault(),children:[i.jsx(nn,{className:"h-4 w-4 mr-2"}),"Criar Novo Setor"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Criar Novo Setor"}),i.jsx(ft,{children:"Crie um novo setor para organizar seus atendimentos"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"sectorName",children:"Nome do Setor *"}),i.jsx(ie,{id:"sectorName",value:g.name,onChange:_=>p({...g,name:_.target.value}),placeholder:"Ex: Suporte Tcnico"})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"sectorDescription",children:"Descrio (Opcional)"}),i.jsx(vt,{id:"sectorDescription",value:g.description,onChange:_=>p({...g,description:_.target.value}),placeholder:"Descreva a funo deste setor...",rows:3})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Cor do Setor"}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:b4.map(_=>i.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 ${g.color===_?"border-gray-900":"border-gray-300"}`,style:{backgroundColor:_},onClick:()=>p({...g,color:_})},_))})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"isDefault",checked:g.is_default,onChange:_=>p({...g,is_default:_.target.checked})}),i.jsx(Y,{htmlFor:"isDefault",children:"Definir como setor padro"})]})]}),i.jsx(yt,{children:i.jsx(B,{onClick:b,disabled:y||!g.name.trim(),children:y?"Criando...":"Criar Setor"})})]})]}),i.jsx(at,{onSelect:_=>_.preventDefault(),children:i.jsxs(ot,{open:d,onOpenChange:f,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"ghost",className:"w-full justify-start",children:[i.jsx(wi,{className:"h-4 w-4 mr-2"}),"Gerenciar Setores"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Gerenciar Setores"}),i.jsx(ft,{children:"Edite ou remova setores existentes"})]}),i.jsx("div",{className:"space-y-4",children:t.map(_=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:_.color}}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:_.name}),_.is_default&&i.jsx(fe,{variant:"outline",className:"text-xs",children:"Padro"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>{m(_),f(!1),setTimeout(()=>f(!0),100)},children:i.jsx(wi,{className:"h-4 w-4"})}),!_.is_default&&i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",children:i.jsx(js,{className:"h-4 w-4"})})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Excluir Setor"}),i.jsxs(cn,{children:['Tem certeza que deseja excluir o setor "',_.name,'"? As conversas deste setor sero movidas para o setor padro.']})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{onClick:()=>{m(_),w()},className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})]})]})]},_.id))}),h&&i.jsxs("div",{className:"border-t pt-4 mt-4",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Editar Setor"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"editSectorName",children:"Nome do Setor *"}),i.jsx(ie,{id:"editSectorName",value:g.name,onChange:_=>p({...g,name:_.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"editSectorDescription",children:"Descrio"}),i.jsx(vt,{id:"editSectorDescription",value:g.description,onChange:_=>p({...g,description:_.target.value}),rows:2})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Cor do Setor"}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:b4.map(_=>i.jsx("button",{type:"button",className:`w-6 h-6 rounded-full border-2 ${g.color===_?"border-gray-900":"border-gray-300"}`,style:{backgroundColor:_},onClick:()=>p({...g,color:_})},_))})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"editIsDefault",checked:g.is_default,onChange:_=>p({...g,is_default:_.target.checked})}),i.jsx(Y,{htmlFor:"editIsDefault",children:"Definir como setor padro"})]}),i.jsx(B,{onClick:j,disabled:y||!g.name.trim(),className:"w-full",children:y?"Salvando...":"Salvar Alteraes"})]})]})]})]})})]})]})})}function DFe(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var CP="ScrollArea",[YH,WKe]=Ss(CP),[MFe,Xs]=YH(CP),XH=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(null),[m,g]=v.useState(null),[p,y]=v.useState(null),[x,b]=v.useState(0),[j,w]=v.useState(0),[S,N]=v.useState(!1),[C,_]=v.useState(!1),k=ze(t,T=>c(T)),A=Xd(s);return i.jsx(MFe,{scope:n,type:r,dir:A,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:p,onScrollbarYChange:y,scrollbarYEnabled:C,onScrollbarYEnabledChange:_,onCornerWidthChange:b,onCornerHeightChange:w,children:i.jsx(Me.div,{dir:A,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});XH.displayName=CP;var JH="ScrollAreaViewport",QH=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:a,...o}=e,l=Xs(JH,n),c=v.useRef(null),u=ze(t,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),i.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:qFe({asChild:s,children:r},d=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});QH.displayName=JH;var oi="ScrollAreaScrollbar",EP=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Xs(oi,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return v.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(RFe,{...r,ref:t,forceMount:n}):s.type==="scroll"?i.jsx($Fe,{...r,ref:t,forceMount:n}):s.type==="auto"?i.jsx(ZH,{...r,ref:t,forceMount:n}):s.type==="always"?i.jsx(kP,{...r,ref:t}):null});EP.displayName=oi;var RFe=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Xs(oi,e.__scopeScrollArea),[a,o]=v.useState(!1);return v.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Zn,{present:n||a,children:i.jsx(ZH,{"data-state":a?"visible":"hidden",...r,ref:t})})}),$Fe=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Xs(oi,e.__scopeScrollArea),a=e.orientation==="horizontal",o=xb(()=>c("SCROLL_END"),100),[l,c]=DFe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),v.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,o]),i.jsx(Zn,{present:n||l!=="hidden",children:i.jsx(kP,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ye(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ye(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),ZH=v.forwardRef((e,t)=>{const n=Xs(oi,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,o]=v.useState(!1),l=e.orientation==="horizontal",c=xb(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return Td(n.viewport,c),Td(n.content,c),i.jsx(Zn,{present:r||a,children:i.jsx(kP,{"data-state":a?"visible":"hidden",...s,ref:t})})}),kP=v.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Xs(oi,e.__scopeScrollArea),a=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=s7(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return VFe(h,o.current,l,m)}return n==="horizontal"?i.jsx(LFe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,m=j4(h,l,s.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):n==="vertical"?i.jsx(FFe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,m=j4(h,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),LFe=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Xs(oi,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=ze(t,c,a.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(t7,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yb(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),i7(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Xx(o.paddingLeft),paddingEnd:Xx(o.paddingRight)}})}})}),FFe=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Xs(oi,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=ze(t,c,a.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(t7,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yb(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),i7(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Xx(o.paddingTop),paddingEnd:Xx(o.paddingBottom)}})}})}),[BFe,e7]=YH(oi),t7=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Xs(oi,n),[g,p]=v.useState(null),y=ze(t,k=>p(k)),x=v.useRef(null),b=v.useRef(""),j=m.viewport,w=r.content-r.viewport,S=hn(d),N=hn(c),C=xb(f,10);function _(k){if(x.current){const A=k.clientX-x.current.left,T=k.clientY-x.current.top;u({x:A,y:T})}}return v.useEffect(()=>{const k=A=>{const T=A.target;(g==null?void 0:g.contains(T))&&S(A,w)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[j,g,w,S]),v.useEffect(N,[r,N]),Td(g,C),Td(m.content,C),i.jsx(BFe,{scope:n,scrollbar:g,hasThumb:s,onThumbChange:hn(a),onThumbPointerUp:hn(o),onThumbPositionChange:N,onThumbPointerDown:hn(l),children:i.jsx(Me.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:ye(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),x.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),_(k))}),onPointerMove:ye(e.onPointerMove,_),onPointerUp:ye(e.onPointerUp,k=>{const A=k.target;A.hasPointerCapture(k.pointerId)&&A.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Yx="ScrollAreaThumb",n7=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=e7(Yx,e.__scopeScrollArea);return i.jsx(Zn,{present:n||s.hasThumb,children:i.jsx(zFe,{ref:t,...r})})}),zFe=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=Xs(Yx,n),o=e7(Yx,n),{onThumbPositionChange:l}=o,c=ze(t,f=>o.onThumbChange(f)),u=v.useRef(),d=xb(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const m=UFe(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),i.jsx(Me.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ye(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:ye(e.onPointerUp,o.onThumbPointerUp)})});n7.displayName=Yx;var AP="ScrollAreaCorner",r7=v.forwardRef((e,t)=>{const n=Xs(AP,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(WFe,{...e,ref:t}):null});r7.displayName=AP;var WFe=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Xs(AP,n),[a,o]=v.useState(0),[l,c]=v.useState(0),u=!!(a&&l);return Td(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Td(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(Me.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Xx(e){return e?parseInt(e,10):0}function s7(e,t){const n=e/t;return isNaN(n)?0:n}function yb(e){const t=s7(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function VFe(e,t,n,r="ltr"){const s=yb(n),a=s/2,o=t||a,l=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return a7([c,u],f)(e)}function j4(e,t,n="ltr"){const r=yb(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],u=hp(e,c);return a7([0,o],[0,l])(u)}function a7(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function i7(e,t){return e>0&&e<t}var UFe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function xb(e,t){const n=hn(e),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Td(e,t){const n=hn(t);Mn(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function qFe(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=v.Children.only(r);return v.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var o7=XH,HFe=QH,GFe=r7;const mp=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(o7,{ref:r,className:ve("relative overflow-hidden",e),...n,children:[i.jsx(HFe,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(l7,{}),i.jsx(GFe,{})]}));mp.displayName=o7.displayName;const l7=v.forwardRef(({className:e,orientation:t="vertical",...n},r)=>i.jsx(EP,{ref:r,orientation:t,className:ve("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:i.jsx(n7,{className:"relative flex-1 rounded-full bg-border"})}));l7.displayName=EP.displayName;function KFe(){var X,ee,Z,ae,ce;const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,a]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState("whatsapp"),[d,f]=v.useState(!1),[h,m]=v.useState("all"),[g,p]=v.useState("all"),{conversations:y,activeConversation:x,messages:b,loading:j,fetchConversations:w,setActiveConversation:S,sendMessage:N,createConversation:C,updateConversationStatus:_}=KH(),{whatsappInstances:k,sendWhatsAppMedia:A}=be(),{clients:T,fetchClients:D}=Or(),{sectors:F,fetchSectors:E}=vb();v.useEffect(()=>{w(),D(),E();const H=setInterval(()=>{w()},3e4);return()=>clearInterval(H)},[w,D,E]);const $=y.filter(H=>{var Q;const je=((Q=H.client)==null?void 0:Q.name.toLowerCase().includes(e.toLowerCase()))||H.channel_type.toLowerCase().includes(e.toLowerCase()),Ne=h==="all"||H.status===h,Ae=g==="all"||H.sector_id===g;return je&&Ne&&Ae}),O=async()=>{if(!(!x||!n.trim()))try{await N(x.id,n),r("")}catch(H){console.error("Error sending message:",H)}},R=async(H,je,Ne)=>{var Ae;if(x)try{if(x.channel_type==="whatsapp"&&((Ae=x.client)!=null&&Ae.phone)){const me=k.find(J=>J.status==="connected");me&&await A(me.id,x.client.phone,H,je,Ne)}const Q=Ne?`[${je.charAt(0).toUpperCase()+je.slice(1)}] ${Ne}`:`[${je.charAt(0).toUpperCase()+je.slice(1)}]`;await N(x.id,Q)}catch(Q){console.error("Error sending media:",Q)}},I=async()=>{if(!(!o||!c))try{const H=await C(o,c);H&&(S(H),a(!1),l(""),u("whatsapp"))}catch(H){console.error("Error creating conversation:",H)}},M=()=>{w()},L=async H=>{x&&await _(x.id,H)},z=H=>{switch(H){case"whatsapp":return Gn;case"email":return ja;case"phone":return Ha;default:return Gn}},W=H=>{switch(H){case"whatsapp":return"bg-green-100 text-green-800";case"email":return"bg-blue-100 text-blue-800";case"phone":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},q=H=>{switch(H){case"open":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},V=H=>{switch(H){case"open":return i.jsx(Ht,{className:"h-4 w-4"});case"pending":return i.jsx(Er,{className:"h-4 w-4"});case"closed":return i.jsx(Sn,{className:"h-4 w-4"});default:return i.jsx(Ht,{className:"h-4 w-4"})}},te=H=>{const je=new Date(H);return(new Date().getTime()-je.getTime())/(1e3*60*60)<24?je.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):je.toLocaleDateString("pt-BR")},ne=k.filter(H=>H.status==="connected");return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full flex",children:[i.jsxs("div",{className:"w-80 border-r border-gray-200 flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Inbox"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:M,className:"h-8 w-8 p-0",children:i.jsx(ya,{className:"h-4 w-4"})}),i.jsxs(ot,{open:s,onOpenChange:a,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{size:"sm",children:[i.jsx(nn,{className:"h-4 w-4 mr-1"}),"Nova"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Nova Conversa"}),i.jsx(ft,{children:"Inicie uma nova conversa com um cliente"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"client",children:"Cliente"}),i.jsxs(Oe,{value:o,onValueChange:l,children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um cliente"})}),i.jsx(Te,{children:T.map(H=>i.jsxs(K,{value:H.id,children:[H.name," ",H.phone&&`(${H.phone})`]},H.id))})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"channel",children:"Canal"}),i.jsxs(Oe,{value:c,onValueChange:u,children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"whatsapp",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Gn,{className:"h-4 w-4 mr-2"}),"WhatsApp"]})}),i.jsx(K,{value:"email",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ja,{className:"h-4 w-4 mr-2"}),"Email"]})})]})]})]})]}),i.jsx(yt,{children:i.jsx(B,{onClick:I,disabled:!o||!c,children:"Criar Conversa"})})]})]})]})]}),ne.length===0&&i.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-yellow-800",children:"Conecte uma instncia WhatsApp nas Integraes para enviar mensagens"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ie,{placeholder:"Buscar conversas...",value:e,onChange:H=>t(H.target.value),className:"pl-10"})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs(cp,{children:[i.jsx(up,{asChild:!0,children:i.jsxs(B,{variant:"outline",size:"sm",children:[i.jsx(X0,{className:"h-4 w-4 mr-2"}),"Filtros"]})}),i.jsx(Pd,{className:"w-64",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{children:"Status"}),i.jsxs(Oe,{value:h,onValueChange:m,children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"all",children:"Todos"}),i.jsx(K,{value:"open",children:"Aberto"}),i.jsx(K,{value:"pending",children:"Pendente"}),i.jsx(K,{value:"closed",children:"Fechado"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{children:"Setor"}),i.jsxs(Oe,{value:g,onValueChange:p,children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"all",children:"Todos os Setores"}),F.map(H=>i.jsx(K,{value:H.id,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:H.color}}),H.name]})},H.id))]})]})]})]})})]})})]})]}),i.jsx(mp,{className:"flex-1",children:i.jsxs("div",{className:"p-2",children:[$.map(H=>{var Ae,Q,me,J;const je=z(H.channel_type),Ne=(x==null?void 0:x.id)===H.id;return i.jsx(re,{className:`mb-2 cursor-pointer transition-colors ${Ne?"bg-blue-50 border-blue-200":"hover:bg-gray-50"}`,onClick:()=>S(H),children:i.jsx(se,{className:"p-3",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Bi,{children:i.jsx(zi,{children:((Q=(Ae=H.client)==null?void 0:Ae.name)==null?void 0:Q.charAt(0))||"U"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:((me=H.client)==null?void 0:me.name)||"Contato Desconhecido"}),i.jsxs("div",{className:"flex items-center space-x-1",children:[H.unread_count>0&&i.jsx(fe,{variant:"destructive",className:"text-xs",children:H.unread_count}),i.jsx("span",{className:"text-xs text-gray-500",children:te(H.last_message_at)})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsxs(fe,{className:`text-xs ${W(H.channel_type)}`,children:[i.jsx(je,{className:"h-3 w-3 mr-1"}),H.channel_type]}),i.jsx(fe,{variant:"outline",className:`text-xs ${q(H.status)}`,children:H.status}),H.sector&&i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:H.sector.color},title:H.sector.name})]}),((J=H.client)==null?void 0:J.phone)&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:H.client.phone})]})]})})},H.id)}),$.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Gn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Nenhuma conversa encontrada"})]})]})})]}),i.jsx("div",{className:`flex-1 flex flex-col ${d?"":"mr-0"}`,children:x?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Bi,{children:i.jsx(zi,{children:((ee=(X=x.client)==null?void 0:X.name)==null?void 0:ee.charAt(0))||"U"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:((Z=x.client)==null?void 0:Z.name)||"Contato Desconhecido"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fe,{className:`text-xs ${W(x.channel_type)}`,children:x.channel_type}),i.jsxs(fe,{variant:"outline",className:`text-xs ${q(x.status)}`,children:[V(x.status),i.jsx("span",{className:"ml-1",children:x.status})]}),i.jsx("span",{className:"text-sm text-gray-500",children:((ae=x.client)==null?void 0:ae.phone)||((ce=x.client)==null?void 0:ce.email)})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(IFe,{}),i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>f(!d),children:i.jsx(A6,{className:"h-4 w-4"})}),i.jsxs(cp,{children:[i.jsx(up,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",children:i.jsx(Bp,{className:"h-4 w-4"})})}),i.jsx(Pd,{className:"w-48",children:i.jsxs("div",{className:"space-y-1",children:[x.status==="open"&&i.jsxs(B,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>L("pending"),children:[i.jsx(Er,{className:"h-4 w-4 mr-2 text-yellow-500"}),"Marcar Pendente"]}),x.status==="pending"&&i.jsxs(B,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>L("open"),children:[i.jsx(Ht,{className:"h-4 w-4 mr-2 text-green-500"}),"Marcar Aberto"]}),x.status!=="closed"&&i.jsxs(B,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>L("closed"),children:[i.jsx(Sn,{className:"h-4 w-4 mr-2 text-red-500"}),"Fechar Conversa"]}),x.status==="closed"&&i.jsxs(B,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>L("open"),children:[i.jsx(Ht,{className:"h-4 w-4 mr-2 text-green-500"}),"Reabrir Conversa"]}),i.jsxs(B,{variant:"ghost",size:"sm",className:"w-full justify-start",children:[i.jsx(kN,{className:"h-4 w-4 mr-2"}),"Arquivar"]})]})})]})]})]})}),i.jsx(mp,{className:"flex-1 p-4",children:i.jsxs("div",{className:"space-y-2",children:[b.map(H=>i.jsx(sFe,{message:H,isOwn:H.sender_type==="user"},H.id)),j&&i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})]})}),ne.length===0&&x.channel_type==="whatsapp"?i.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:i.jsxs("div",{className:"text-center py-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Conecte uma instncia WhatsApp para enviar mensagens"}),i.jsx(B,{variant:"outline",size:"sm",onClick:()=>window.location.href="/integrations",children:"Ir para Integraes"})]})}):i.jsx(rFe,{value:n,onChange:r,onSend:O,onSendMedia:R,disabled:ne.length===0&&x.channel_type==="whatsapp"})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Gn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecione uma conversa"}),i.jsx("p",{className:"text-gray-500",children:"Escolha uma conversa da barra lateral para comear a conversar"})]})})}),i.jsx(El,{children:d&&(x==null?void 0:x.client)&&i.jsx(c3e,{client:x.client,onClose:()=>f(!1)})})]})})})}const mv=[{code:"BR",name:"Brasil",flag:"",dialCode:"+55",mask:"(##) #####-####",validation:/^\(\d{2}\) \d{5}-\d{4}$/},{code:"US",name:"Estados Unidos",flag:"",dialCode:"+1",mask:"(###) ###-####",validation:/^\(\d{3}\) \d{3}-\d{4}$/},{code:"AR",name:"Argentina",flag:"",dialCode:"+54",mask:"## ####-####",validation:/^\d{2} \d{4}-\d{4}$/},{code:"PT",name:"Portugal",flag:"",dialCode:"+351",mask:"### ### ###",validation:/^\d{3} \d{3} \d{3}$/},{code:"ES",name:"Espanha",flag:"",dialCode:"+34",mask:"### ### ###",validation:/^\d{3} \d{3} \d{3}$/}];function c7({value:e="",onChange:t,placeholder:n="Digite o nmero",className:r,label:s="Telefone",required:a=!1,error:o}){const[l,c]=v.useState(mv[0]),[u,d]=v.useState(""),[f,h]=v.useState(!1);v.useEffect(()=>{if(e){const y=mv.find(x=>e.startsWith(x.dialCode));if(y){c(y);const x=e.replace(y.dialCode,"").trim();d(m(x,y.mask))}else d(e)}},[e]);const m=(y,x)=>{const b=y.replace(/\D/g,"");let j="",w=0;for(let S=0;S<x.length&&w<b.length;S++)x[S]==="#"?(j+=b[w],w++):j+=x[S];return j},g=y=>{const x=m(y,l.mask);d(x);const b=l.validation.test(x);h(b);const j=b?`${l.dialCode} ${x}`:"";t==null||t(j,b)},p=y=>{const x=mv.find(b=>b.code===y);x&&(c(x),d(""),h(!1),t==null||t("",!1))};return i.jsxs("div",{className:ve("space-y-2",r),children:[s&&i.jsxs(Y,{htmlFor:"phone-input",children:[s," ",a&&i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(Oe,{value:l.code,onValueChange:p,children:[i.jsx(Pe,{className:"w-32",children:i.jsx(Ie,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{children:l.flag}),i.jsx("span",{className:"text-sm",children:l.dialCode})]})})}),i.jsx(Te,{children:mv.map(y=>i.jsx(K,{value:y.code,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{children:y.flag}),i.jsx("span",{children:y.dialCode}),i.jsx("span",{className:"text-sm text-gray-600",children:y.name})]})},y.code))})]}),i.jsx("div",{className:"flex-1",children:i.jsx(ie,{id:"phone-input",type:"tel",value:u,onChange:y=>g(y.target.value),placeholder:l.mask.replace(/#/g,"0"),className:ve("transition-colors",u&&!f&&"border-red-500 focus:border-red-500",u&&f&&"border-green-500 focus:border-green-500")})})]}),o&&i.jsx("p",{className:"text-sm text-red-600",children:o}),u&&!f&&!o&&i.jsxs("p",{className:"text-sm text-red-600",children:["Formato invlido. Use: ",l.mask.replace(/#/g,"0")]}),u&&f&&i.jsxs("p",{className:"text-sm text-green-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),"Nmero vlido: ",l.dialCode," ",u]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Formato esperado: ",l.dialCode," ",l.mask.replace(/#/g,"0")]})]})}function YFe(){const[e,t]=v.useState(!1),[n,r]=v.useState({name:"",phone:"",email:""}),[s,a]=v.useState(!1),[o,l]=v.useState(!0),[c,u]=v.useState(!1),{createClient:d}=Or(),f=y=>y?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y):!0,h=y=>{r({...n,email:y}),l(f(y))},m=(y,x)=>{r({...n,phone:y}),a(x)},g=async y=>{if(y.preventDefault(),!n.name.trim()){G.showError(G.createError("Campo Obrigatrio","O nome  obrigatrio para criar um cliente."));return}if(n.phone&&!s){G.showError(G.createError("Telefone Invlido","O nmero de telefone informado no  vlido."));return}if(n.email&&!o){G.showError(G.createError("Email Invlido","O email informado no  vlido."));return}u(!0);try{await d(n),t(!1),r({name:"",phone:"",email:""}),a(!1),l(!0)}catch{}finally{u(!1)}},p=n.name.trim()&&(!n.phone||s)&&(!n.email||o);return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{className:"gap-2",children:[i.jsx(nn,{className:"h-4 w-4"}),"Adicionar Cliente"]})}),i.jsxs(et,{className:"sm:max-w-[500px]",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Adicionar Novo Cliente"}),i.jsx(ft,{children:"Crie um novo registro de cliente para seu CRM."})]}),i.jsxs("form",{onSubmit:g,children:[i.jsxs("div",{className:"grid gap-5 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Y,{htmlFor:"name",className:"flex items-center gap-2",children:[i.jsx(Ga,{className:"h-4 w-4 text-muted-foreground"}),"Nome ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(ie,{id:"name",value:n.name,onChange:y=>r({...n,name:y.target.value}),placeholder:"Nome completo do cliente",required:!0,className:!n.name.trim()&&n.name!==""?"border-destructive":""}),!n.name.trim()&&n.name!==""&&i.jsx("p",{className:"text-sm text-destructive",children:"Nome  obrigatrio"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Y,{htmlFor:"phone",className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"h-4 w-4 text-muted-foreground"}),"Telefone"]}),i.jsx(c7,{value:n.phone,onChange:m,placeholder:"Digite o nmero"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Y,{htmlFor:"email",className:"flex items-center gap-2",children:[i.jsx(ja,{className:"h-4 w-4 text-muted-foreground"}),"Email"]}),i.jsx(ie,{id:"email",type:"email",value:n.email,onChange:y=>h(y.target.value),placeholder:"email@exemplo.com",className:n.email&&!o?"border-destructive":""}),n.email&&!o&&i.jsx("p",{className:"text-sm text-destructive",children:"Email invlido"})]})]}),i.jsxs(yt,{className:"gap-2",children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:c||!p,className:"min-w-[120px]",children:c?"Criando...":"Criar Cliente"})]})]})]})]})}function XFe({open:e,onOpenChange:t,contact:n}){const[r,s]=v.useState({name:"",phone:"",email:""}),[a,o]=v.useState(!0),[l,c]=v.useState(!0),[u,d]=v.useState(!1),{updateClient:f,updateLead:h,fetchClients:m,fetchLeads:g}=Or();v.useEffect(()=>{n&&e&&(s({name:n.name||"",phone:n.phone||"",email:n.email||""}),o(!0),c(!0))},[n,e]);const p=w=>w?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w):!0,y=w=>{s({...r,email:w}),c(p(w))},x=(w,S)=>{s({...r,phone:w}),o(S||!w)},b=async w=>{if(w.preventDefault(),!r.name.trim()){G.showError(G.createError("Campo Obrigatrio","O nome  obrigatrio."));return}if(r.phone&&!a){G.showError(G.createError("Telefone Invlido","O nmero de telefone informado no  vlido."));return}if(r.email&&!l){G.showError(G.createError("Email Invlido","O email informado no  vlido."));return}d(!0);try{n.type==="client"?(await f(n.id,r),await m()):(await h(n.id,r),await g()),t(!1),G.showSuccess(n.type==="client"?"Cliente atualizado com sucesso!":"Lead atualizado com sucesso!")}catch(S){G.showError(S)}finally{d(!1)}},j=r.name.trim()&&(!r.phone||a)&&(!r.email||l);return i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"sm:max-w-[500px]",children:[i.jsxs(tt,{children:[i.jsxs(nt,{children:["Editar ",(n==null?void 0:n.type)==="client"?"Cliente":"Lead"]}),i.jsx(ft,{children:"Atualize as informaes de contato."})]}),i.jsxs("form",{onSubmit:b,children:[i.jsxs("div",{className:"grid gap-5 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Y,{htmlFor:"name",className:"flex items-center gap-2",children:[i.jsx(Ga,{className:"h-4 w-4 text-muted-foreground"}),"Nome ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(ie,{id:"name",value:r.name,onChange:w=>s({...r,name:w.target.value}),placeholder:"Nome completo",required:!0,className:!r.name.trim()&&r.name!==""?"border-destructive":""}),!r.name.trim()&&r.name!==""&&i.jsx("p",{className:"text-sm text-destructive",children:"Nome  obrigatrio"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Y,{htmlFor:"phone",className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"h-4 w-4 text-muted-foreground"}),"Telefone"]}),i.jsx(c7,{value:r.phone,onChange:x,placeholder:"Digite o nmero"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsxs(Y,{htmlFor:"email",className:"flex items-center gap-2",children:[i.jsx(ja,{className:"h-4 w-4 text-muted-foreground"}),"Email"]}),i.jsx(ie,{id:"email",type:"email",value:r.email,onChange:w=>y(w.target.value),placeholder:"email@exemplo.com",className:r.email&&!l?"border-destructive":""}),r.email&&!l&&i.jsx("p",{className:"text-sm text-destructive",children:"Email invlido"})]})]}),i.jsxs(yt,{className:"gap-2",children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:u||!j,className:"min-w-[120px]",children:u?"Atualizando...":"Atualizar"})]})]})]})})}const JFe=e=>{switch(e){case"Champions":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"Loyal Customers":return"bg-blue-100 text-blue-800 border-blue-200";case"Potential Loyalists":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"New Customers":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"Promising":return"bg-violet-100 text-violet-800 border-violet-200";case"Need Attention":return"bg-amber-100 text-amber-800 border-amber-200";case"About to Sleep":return"bg-orange-100 text-orange-800 border-orange-200";case"At Risk":return"bg-red-100 text-red-800 border-red-200";case"Cannot Lose Them":return"bg-rose-100 text-rose-800 border-rose-200";case"Hibernating":return"bg-slate-100 text-slate-800 border-slate-200";case"Lost":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},QFe=e=>{switch(e){case"Champions":return"Clientes de alto valor que compram frequentemente e recentemente";case"Loyal Customers":return"Clientes fiis que compram regularmente";case"Potential Loyalists":return"Clientes recentes com potencial para se tornarem fiis";case"New Customers":return"Clientes novos que fizeram poucas compras";case"Promising":return"Clientes recentes com gasto acima da mdia";case"Need Attention":return"Clientes que no compram h algum tempo";case"About to Sleep":return"Clientes em risco de se tornarem inativos";case"At Risk":return"Clientes valiosos que no compram h muito tempo";case"Cannot Lose Them":return"Clientes de alto valor em risco de abandono";case"Hibernating":return"Clientes inativos com baixo valor";case"Lost":return"Clientes que provavelmente no retornaro";default:return"Anlise de comportamento de compra do cliente"}};function ZFe({analysis:e}){return i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Anlise RFM"}),i.jsx(Ve,{children:"Segmentao baseada no comportamento de compra"})]}),i.jsx(fe,{className:JFe(e.category),children:e.category})]})}),i.jsxs(se,{className:"space-y-6",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:QFe(e.category)}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Er,{className:"h-4 w-4 text-blue-600"}),i.jsx("h3",{className:"text-sm font-medium",children:"Recncia"})]}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.recency}),i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Dias desde ltimo pedido"})]}),i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(zp,{className:"h-4 w-4 text-green-600"}),i.jsx("h3",{className:"text-sm font-medium",children:"Frequncia"})]}),i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.frequency}),i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Total de pedidos"})]}),i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ic,{className:"h-4 w-4 text-purple-600"}),i.jsx("h3",{className:"text-sm font-medium",children:"Monetrio"})]}),i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["R$ ",e.monetary.toFixed(2)]}),i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Total gasto"})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"Score RFM"}),i.jsx("div",{className:"text-lg font-bold",children:e.rfm_score})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium",children:"R"}),"ecncia  ",i.jsx("span",{className:"font-medium",children:"F"}),"requncia  ",i.jsx("span",{className:"font-medium",children:"M"}),"onetrio"]})]})]})]})}const Hr=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:ve("w-full caption-bottom text-sm",e),...t})}));Hr.displayName="Table";const Gr=v.forwardRef(({className:e,...t},n)=>i.jsx("thead",{ref:n,className:ve("[&_tr]:border-b",e),...t}));Gr.displayName="TableHeader";const Kr=v.forwardRef(({className:e,...t},n)=>i.jsx("tbody",{ref:n,className:ve("[&_tr:last-child]:border-0",e),...t}));Kr.displayName="TableBody";const eBe=v.forwardRef(({className:e,...t},n)=>i.jsx("tfoot",{ref:n,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));eBe.displayName="TableFooter";const it=v.forwardRef(({className:e,...t},n)=>i.jsx("tr",{ref:n,className:ve("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));it.displayName="TableRow";const Se=v.forwardRef(({className:e,...t},n)=>i.jsx("th",{ref:n,className:ve("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Se.displayName="TableHead";const oe=v.forwardRef(({className:e,...t},n)=>i.jsx("td",{ref:n,className:ve("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));oe.displayName="TableCell";const tBe=v.forwardRef(({className:e,...t},n)=>i.jsx("caption",{ref:n,className:ve("mt-4 text-sm text-muted-foreground",e),...t}));tBe.displayName="TableCaption";function u7({open:e,onOpenChange:t,order:n}){var d;if(!n)return null;const r=f=>{switch(f){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"processing":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=f=>{switch(f){case"pending":return"Pendente";case"processing":return"Processando";case"completed":return"Concludo";case"cancelled":return"Cancelado";default:return f}},a=f=>typeof f!="number"?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f),o=f=>f?new Date(f).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Data indisponvel",l=n.metadata||{},c=Array.isArray(l)?((d=l[0])==null?void 0:d.baselinker_data)||{}:l.baselinker_data||{},u=f=>Array.isArray(f)&&f.length>0&&typeof f[0]=="object"&&"sku_produto"in f[0];return i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(tt,{children:i.jsxs(nt,{className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-5 w-5"}),i.jsx("span",{children:"Detalhes do Pedido"}),n.order_id_base?i.jsxs("a",{href:`https://panel-u.baselinker.com/orders.php#order:${n.order_id_base}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-blue-600 hover:text-blue-800 hover:underline",children:["#",n.order_id_base,i.jsx(Kd,{className:"h-4 w-4"})]}):i.jsxs("span",{children:["#",n.id.slice(0,8)]})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(ma,{className:"h-5 w-5"}),"Resumo do Pedido"]}),i.jsx(fe,{className:r(n.status),children:s(n.status)})]})}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"ID do Pedido"}),i.jsxs("p",{className:"text-lg font-semibold",children:["#",n.order_id_base||n.id.slice(0,8)]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Data do Pedido"}),i.jsx("p",{className:"font-medium",children:o(n.order_date)})]}),n.external_id&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"ID Externo"}),i.jsx("p",{className:"font-medium",children:n.external_id})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Valor Total"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:a(n.total_amount)})]}),n.canal_venda&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Canal de Venda"}),i.jsx("p",{className:"font-medium",children:n.canal_venda})]}),n.taxas&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Taxas"}),i.jsx("p",{className:"font-medium text-red-600",children:a(n.taxas)})]})]}),i.jsxs("div",{className:"space-y-4",children:[n.faturamento_liquido&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Faturamento Lquido"}),i.jsx("p",{className:"text-lg font-semibold text-blue-600",children:a(n.faturamento_liquido)})]}),n.id_anuncio&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"ID do Anncio"}),i.jsx("p",{className:"font-medium",children:n.id_anuncio})]}),n.conta&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Conta"}),i.jsx("p",{className:"font-medium",children:n.conta})]})]})]})})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"flex items-center gap-2",children:[i.jsx(zp,{className:"h-5 w-5"}),"Produtos do Pedido"]})}),i.jsx(se,{children:u(l)?i.jsx("div",{className:"border rounded-lg",children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Se,{className:"w-[150px]",children:"SKU"}),i.jsx(Se,{children:"Nome do Produto"}),i.jsx(Se,{className:"text-center w-[80px]",children:"Qtd."}),i.jsx(Se,{className:"text-right w-[150px]",children:"Valor Unitrio"})]})}),i.jsx(Kr,{children:l.map((f,h)=>i.jsxs(it,{children:[i.jsx(oe,{className:"font-mono text-xs",children:f.sku_produto}),i.jsx(oe,{className:"font-medium",children:f.nome_produto}),i.jsx(oe,{className:"text-center",children:f.quantidade_de_itens}),i.jsx(oe,{className:"text-right",children:a(f.receita_produto)})]},f.sku_produto||h))})]})}):i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Os dados do produto no esto no formato esperado. Exibindo dados brutos:"}),i.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(l,null,2)})]})})]}),n.client&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"flex items-center gap-2",children:[i.jsx(Ga,{className:"h-5 w-5"}),"Informaes do Cliente"]})}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Nome"}),i.jsx("p",{className:"font-medium",children:n.client.name})]}),n.client.email&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ja,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:n.client.email})]}),n.client.phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:n.client.phone})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Cliente desde"}),i.jsx("p",{className:"font-medium",children:o(n.client.created_at)})]}),typeof n.client.total_orders<"u"&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total de Pedidos"}),i.jsx("p",{className:"font-medium",children:n.client.total_orders})]}),typeof n.client.total_spent<"u"&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Gasto"}),i.jsx("p",{className:"font-medium text-green-600",children:a(n.client.total_spent)})]})]})]})})]}),c&&Object.keys(c).length>0&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"flex items-center gap-2",children:[i.jsx(Mk,{className:"h-5 w-5"}),"Informaes de Entrega"]})}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[c.delivery_fullname&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Nome para Entrega"}),i.jsx("p",{className:"font-medium",children:c.delivery_fullname})]}),c.delivery_address&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Endereo"}),i.jsx("p",{className:"font-medium",children:c.delivery_address})]}),c.delivery_city&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Cidade"}),i.jsxs("p",{className:"font-medium",children:[c.delivery_city,c.delivery_postcode&&` - ${c.delivery_postcode}`]})]})]}),i.jsxs("div",{className:"space-y-4",children:[c.invoice_company&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Empresa"}),i.jsx("p",{className:"font-medium",children:c.invoice_company})]}),c.delivery_country&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Pas"}),i.jsx("p",{className:"font-medium",children:c.delivery_country})]}),c.phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:c.phone})]})]})]})})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"flex items-center gap-2",children:[i.jsx(C6,{className:"h-5 w-5"}),"Detalhes Financeiros"]})}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-1",children:"Valor Total"}),i.jsx("p",{className:"text-xl font-bold text-blue-600",children:a(n.total_amount)})]}),n.taxas&&i.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-red-800 mb-1",children:"Taxas"}),i.jsx("p",{className:"text-xl font-bold text-red-600",children:a(n.taxas)})]}),n.faturamento_liquido&&i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-green-800 mb-1",children:"Faturamento Lquido"}),i.jsx("p",{className:"text-xl font-bold text-green-600",children:a(n.faturamento_liquido)})]}),n["custo_frete(taxa)"]&&i.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-orange-800 mb-1",children:"Custo do Frete"}),i.jsx("p",{className:"text-xl font-bold text-orange-600",children:a(n["custo_frete(taxa)"])})]})]})})]})]})]})})}function nBe(){const{clients:e,leads:t,fetchClients:n,fetchLeads:r,fetchClientRFMAnalysis:s,convertLeadToClient:a,fetchClientOrders:o}=Or(),[l,c]=v.useState(""),[u,d]=v.useState(null),[f,h]=v.useState("all"),[m,g]=v.useState("all"),[p,y]=v.useState({key:"created_at",direction:"desc"}),[x,b]=v.useState(1),[j,w]=v.useState(10),[S,N]=v.useState([]),[C,_]=v.useState(!1),[k,A]=v.useState(null),[T,D]=v.useState(!1),[F,E]=v.useState(!1),[$,O]=v.useState(null);v.useEffect(()=>{n(),r()},[n,r]);const R=v.useMemo(()=>[...t.map(Q=>({...Q,type:"lead",status:Q.status})),...e.map(Q=>({...Q,type:"client",status:"converted"}))],[t,e]),I=v.useMemo(()=>R.filter(Q=>{var rt,_t,Wn;const me=((rt=Q.name)==null?void 0:rt.toLowerCase().includes(l.toLowerCase()))||((_t=Q.email)==null?void 0:_t.toLowerCase().includes(l.toLowerCase()))||((Wn=Q.phone)==null?void 0:Wn.includes(l)),J=f==="all"||Q.status===f,_e=m==="all"||m==="leads"&&Q.type==="lead"||m==="clients"&&Q.type==="client";return me&&J&&_e}),[R,l,f,m]),M=v.useMemo(()=>{const Q=[...I];return p&&Q.sort((me,J)=>{const _e=me[p.key],rt=J[p.key];if(_e==null)return 1;if(rt==null)return-1;let _t=0;return typeof _e=="number"&&typeof rt=="number"?_t=_e-rt:_t=String(_e).localeCompare(String(rt)),p.direction==="asc"?_t:-_t}),Q},[I,p]),L=j==="all"?1:Math.ceil(M.length/j),z=v.useMemo(()=>{if(j==="all")return M;const Q=(x-1)*j,me=Q+j;return M.slice(Q,me)},[M,x,j]);v.useEffect(()=>{x>L&&b(L>0?L:1)},[x,L]);const W=Q=>{let me="asc";p&&p.key===Q&&p.direction==="asc"&&(me="desc"),y({key:Q,direction:me}),b(1)},q=Q=>{w(Q==="all"?"all":Number(Q)),b(1)},V=Q=>!p||p.key!==Q?i.jsx(PN,{className:"ml-2 h-4 w-4 text-muted-foreground/50"}):i.jsx(PN,{className:"ml-2 h-4 w-4"}),te=async Q=>{if(d(Q),N([]),Q.type==="client"){_(!0);try{const[me,J]=await Promise.all([s?s(Q.id):Promise.resolve(null),o(Q.id)]);d({...Q,rfm_analysis:me}),N(J)}catch(me){console.error("Erro ao buscar detalhes do cliente:",me)}finally{_(!1)}}},ne=async Q=>{try{await a(Q)}catch(me){console.error("Error converting lead:",me)}},X=Q=>{switch(Q){case"new":return"bg-blue-100 text-blue-800";case"contacted":return"bg-amber-100 text-amber-800";case"qualified":return"bg-green-100 text-green-800";case"converted":return"bg-indigo-100 text-indigo-800";case"lost":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ee=Q=>{switch(Q){case"new":return"Novo";case"contacted":return"Contatado";case"qualified":return"Qualificado";case"converted":return"Cliente";case"lost":return"Perdido";default:return Q}},Z=Q=>{switch(Q){case"converted":return i.jsx(Ht,{className:"h-3 w-3 mr-1"});case"lost":return i.jsx(Sn,{className:"h-3 w-3 mr-1"});default:return null}},ae=Q=>Q?Q.split(" ").map(me=>me[0]).join("").toUpperCase():"?",ce=Q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Q),H=Q=>new Date(Q).toLocaleDateString("pt-BR"),je=Q=>Array.isArray(Q.metadata)?Q.metadata.reduce((me,J)=>me+(J.quantidade_de_itens||0),0):1,Ne=Q=>{A(Q),D(!0)},Ae=Q=>{O(Q),E(!0)};return i.jsxs(kr,{children:[i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Clientes & Leads"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie seus contatos e clientes potenciais"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(B,{variant:"outline",children:[i.jsx(xm,{className:"h-4 w-4 mr-2"}),"Exportar"]}),i.jsx(YFe,{})]})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx($y,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(Q=>Q.status==="new").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Novos Leads"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:i.jsx(Ha,{className:"h-5 w-5 text-amber-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-amber-600",children:t.filter(Q=>Q.status==="contacted").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Contatados"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(Ht,{className:"h-5 w-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(Q=>Q.status==="qualified").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Qualificados"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center",children:i.jsx(Ga,{className:"h-5 w-5 text-indigo-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Clientes"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(Sn,{className:"h-5 w-5 text-red-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.filter(Q=>Q.status==="lost").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Perdidos"})]})]})})})]}),i.jsx("div",{className:"flex flex-col gap-4",children:i.jsx(Qn,{value:m,onValueChange:g,className:"w-full",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Rn,{children:[i.jsx(Fe,{value:"all",children:"Todos"}),i.jsx(Fe,{value:"leads",children:"Leads"}),i.jsx(Fe,{value:"clients",children:"Clientes"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(ie,{placeholder:"Buscar por nome, email ou telefone...",value:l,onChange:Q=>c(Q.target.value),className:"pl-10 w-[250px]"})]}),i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsx(B,{variant:"outline",size:"icon",children:i.jsx(X0,{className:"h-4 w-4"})})}),i.jsxs(Ea,{align:"end",children:[i.jsx(at,{onClick:()=>h("all"),children:"Todos os Status"}),i.jsx(at,{onClick:()=>h("new"),children:"Novos"}),i.jsx(at,{onClick:()=>h("contacted"),children:"Contatados"}),i.jsx(at,{onClick:()=>h("qualified"),children:"Qualificados"}),i.jsx(at,{onClick:()=>h("converted"),children:"Clientes"}),i.jsx(at,{onClick:()=>h("lost"),children:"Perdidos"})]})]})]})]})})}),i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsxs(ge,{children:["Contatos (",I.length,")"]})}),i.jsx(se,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Se,{children:i.jsxs(B,{variant:"ghost",onClick:()=>W("name"),className:"-ml-4",children:["Nome",V("name")]})}),i.jsx(Se,{children:"Contato"}),i.jsx(Se,{children:i.jsxs(B,{variant:"ghost",onClick:()=>W("status"),className:"-ml-4",children:["Status",V("status")]})}),i.jsx(Se,{children:i.jsxs(B,{variant:"ghost",onClick:()=>W("total_orders"),className:"-ml-4",children:["Pedidos",V("total_orders")]})}),i.jsx(Se,{children:i.jsxs(B,{variant:"ghost",onClick:()=>W("total_spent"),className:"-ml-4",children:["Total Gasto",V("total_spent")]})}),i.jsx(Se,{children:i.jsxs(B,{variant:"ghost",onClick:()=>W("created_at"),className:"-ml-4",children:["Criado",V("created_at")]})}),i.jsx(Se,{className:"text-right",children:"Aes"})]})}),i.jsx(Kr,{children:z.length===0?i.jsx(it,{children:i.jsx(oe,{colSpan:7,className:"h-24 text-center",children:"Nenhum contato encontrado."})}):z.map(Q=>i.jsxs(it,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Bi,{className:"h-9 w-9",children:i.jsx(zi,{className:Q.type==="client"?"bg-indigo-100 text-indigo-600":"bg-blue-100 text-blue-600",children:ae(Q.name)})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:Q.name}),i.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[i.jsx(fe,{variant:Q.type==="client"?"default":"secondary",className:"text-xs",children:Q.type==="client"?"Cliente":"Lead"}),Q.tags&&Q.tags.length>0&&i.jsxs(fe,{variant:"outline",className:"text-xs",children:[i.jsx(Wp,{className:"h-3 w-3 mr-1"}),Q.tags[0],Q.tags.length>1&&`+${Q.tags.length-1}`]})]})]})]})}),i.jsx(oe,{children:i.jsxs("div",{className:"space-y-1",children:[Q.email&&i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx(ja,{className:"h-3.5 w-3.5 mr-1.5 text-muted-foreground"}),i.jsx("span",{children:Q.email})]}),Q.phone&&i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx(Ha,{className:"h-3.5 w-3.5 mr-1.5 text-muted-foreground"}),i.jsx("span",{children:Q.phone})]})]})}),i.jsx(oe,{children:i.jsxs(fe,{className:X(Q.status),children:[Z(Q.status),ee(Q.status)]})}),i.jsx(oe,{children:Q.total_orders||0}),i.jsxs(oe,{children:["R$ ",(Q.total_spent||0).toFixed(2)]}),i.jsx(oe,{children:new Date(Q.created_at).toLocaleDateString("pt-BR")}),i.jsx(oe,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsxs(ot,{children:[i.jsx(Bt,{asChild:!0,children:i.jsx(B,{size:"sm",variant:"outline",onClick:()=>te(Q),children:i.jsx(ki,{className:"h-4 w-4"})})}),i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(tt,{children:i.jsxs(nt,{children:[u==null?void 0:u.name," - Detalhes do Contato"]})}),i.jsxs("div",{className:"space-y-6 mt-4",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{className:"text-base",children:"Informaes de Contato"})}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Bi,{className:"h-16 w-16",children:i.jsx(zi,{className:(u==null?void 0:u.type)==="client"?"bg-indigo-100 text-indigo-600 text-xl":"bg-blue-100 text-blue-600 text-xl",children:ae((u==null?void 0:u.name)||"")})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:u==null?void 0:u.name}),i.jsxs(fe,{className:X((u==null?void 0:u.status)||""),children:[Z((u==null?void 0:u.status)||""),ee((u==null?void 0:u.status)||"")]})]})]}),i.jsxs("div",{className:"space-y-2 pt-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ja,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:(u==null?void 0:u.email)||"No informado"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:(u==null?void 0:u.phone)||"No informado"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Li,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{children:["Cliente desde: ",u!=null&&u.created_at?new Date(u.created_at).toLocaleDateString("pt-BR"):"N/A"]})]})]})]})]}),(u==null?void 0:u.type)==="client"&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{className:"text-base",children:"Resumo de Pedidos"})}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg text-center",children:[i.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.total_orders)||0}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Pedidos"})]}),i.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg text-center",children:[i.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",((u==null?void 0:u.total_spent)||0).toFixed(2)]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Gasto"})]}),i.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg text-center",children:[i.jsx("div",{className:"text-2xl font-bold",children:u!=null&&u.total_orders?`R$ ${(u.total_spent/u.total_orders).toFixed(2)}`:"R$ 0.00"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Ticket Mdio"})]})]}),i.jsxs("div",{className:"pt-2",children:[i.jsx("h4",{className:"text-sm font-medium mb-2",children:"ltimo Pedido"}),u!=null&&u.last_order_date?i.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"Data:"}),i.jsx("span",{className:"text-sm font-medium",children:new Date(u.last_order_date).toLocaleDateString("pt-BR")})]})}):i.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum pedido realizado"})]})]})]})]}),(u==null?void 0:u.rfm_analysis)&&i.jsx(ZFe,{analysis:u.rfm_analysis}),(u==null?void 0:u.type)==="client"&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"text-base flex items-center gap-2",children:[i.jsx(lc,{className:"h-5 w-5"}),"Histrico de Pedidos"]})}),i.jsx(se,{children:C?i.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"Carregando pedidos..."}):S.length>0?i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Se,{children:"ID Pedido"}),i.jsx(Se,{children:"Data"}),i.jsx(Se,{className:"text-center",children:"Itens"}),i.jsx(Se,{className:"text-right",children:"Valor Total"}),i.jsx(Se,{className:"text-right",children:"Aes"})]})}),i.jsx(Kr,{children:S.map(me=>i.jsxs(it,{children:[i.jsx(oe,{className:"font-mono text-xs",children:me.order_id_base?i.jsxs("a",{href:`https://panel-u.baselinker.com/orders.php#order:${me.order_id_base}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-blue-600 hover:text-blue-800 hover:underline",children:["#",me.order_id_base,i.jsx(Kd,{className:"h-3.5 w-3.5"})]}):i.jsxs("span",{children:["#",me.id.slice(0,8)]})}),i.jsx(oe,{children:H(me.order_date)}),i.jsx(oe,{className:"text-center",children:je(me)}),i.jsx(oe,{className:"text-right font-medium",children:ce(me.total_amount)}),i.jsx(oe,{className:"text-right",children:i.jsx(B,{size:"icon",variant:"ghost",onClick:()=>Ne(me),children:i.jsx(ki,{className:"h-4 w-4"})})})]},me.id))})]}):i.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"Nenhum pedido encontrado para este cliente."})})]})]})]})]}),Q.type==="lead"&&Q.status!=="converted"&&i.jsxs(B,{size:"sm",onClick:()=>ne(Q.id),children:[i.jsx($y,{className:"h-4 w-4 mr-1"}),"Converter"]}),i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsx(B,{size:"sm",variant:"ghost",children:i.jsx(Voe,{className:"h-4 w-4"})})}),i.jsxs(Ea,{align:"end",children:[i.jsx(at,{onClick:()=>Ae(Q),children:"Editar"}),i.jsx(at,{children:"Enviar Mensagem"}),Q.type==="client"&&i.jsx(at,{children:"Ver Pedidos"}),i.jsx(at,{className:"text-destructive",children:"Excluir"})]})]})]})})]},`${Q.type}-${Q.id}`))})]})})}),i.jsx($u,{children:i.jsxs("div",{className:"w-full flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total de ",M.length," contatos."]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Itens por pgina:"}),i.jsxs(Oe,{value:String(j),onValueChange:q,children:[i.jsx(Pe,{className:"w-[80px]",children:i.jsx(Ie,{placeholder:j})}),i.jsxs(Te,{children:[[10,20,50,100,200].map(Q=>i.jsx(K,{value:String(Q),children:Q},Q)),i.jsx(K,{value:"all",children:"Todos"})]})]})]}),i.jsxs("div",{className:"text-sm font-medium",children:["Pgina ",x," de ",L]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(B,{variant:"outline",size:"icon",onClick:()=>b(Q=>Q-1),disabled:x<=1,children:i.jsx(K0,{className:"h-4 w-4"})}),i.jsx(B,{variant:"outline",size:"icon",onClick:()=>b(Q=>Q+1),disabled:x>=L,children:i.jsx(Y0,{className:"h-4 w-4"})})]})]})]})})]})]})}),i.jsx(u7,{open:T,onOpenChange:D,order:k}),$&&i.jsx(XFe,{open:F,onOpenChange:E,contact:$})]})}function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function rBe(e,t){if(pp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sBe(e){var t=rBe(e,"string");return pp(t)=="symbol"?t:t+""}function aBe(e,t,n){return(t=sBe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function N4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(n),!0).forEach(function(r){aBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var _4=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),F1=function(){return Math.random().toString(36).substring(7).split("").join(".")},C4={INIT:"@@redux/INIT"+F1(),REPLACE:"@@redux/REPLACE"+F1(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+F1()}};function iBe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d7(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Mr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Mr(1));return n(d7)(e,t)}if(typeof e!="function")throw new Error(Mr(2));var s=e,a=t,o=[],l=o,c=!1;function u(){l===o&&(l=o.slice())}function d(){if(c)throw new Error(Mr(3));return a}function f(p){if(typeof p!="function")throw new Error(Mr(4));if(c)throw new Error(Mr(5));var y=!0;return u(),l.push(p),function(){if(y){if(c)throw new Error(Mr(6));y=!1,u();var b=l.indexOf(p);l.splice(b,1),o=null}}}function h(p){if(!iBe(p))throw new Error(Mr(7));if(typeof p.type>"u")throw new Error(Mr(8));if(c)throw new Error(Mr(9));try{c=!0,a=s(a,p)}finally{c=!1}for(var y=o=l,x=0;x<y.length;x++){var b=y[x];b()}return p}function m(p){if(typeof p!="function")throw new Error(Mr(10));s=p,h({type:C4.REPLACE})}function g(){var p,y=f;return p={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(Mr(11));function j(){b.next&&b.next(d())}j();var w=y(j);return{unsubscribe:w}}},p[_4]=function(){return this},p}return h({type:C4.INIT}),r={dispatch:h,subscribe:f,getState:d,replaceReducer:m},r[_4]=g,r}function E4(e,t){return function(){return t(e.apply(this,arguments))}}function k4(e,t){if(typeof e=="function")return E4(e,t);if(typeof e!="object"||e===null)throw new Error(Mr(16));var n={};for(var r in e){var s=e[r];typeof s=="function"&&(n[r]=E4(s,t))}return n}function f7(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function oBe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),a=function(){throw new Error(Mr(15))},o={getState:s.getState,dispatch:function(){return a.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return a=f7.apply(void 0,l)(s.dispatch),N4(N4({},s),{},{dispatch:a})}}}function lBe(e){e()}let h7=lBe;const cBe=e=>h7=e,uBe=()=>h7,A4=Symbol.for("react-redux-context"),P4=typeof globalThis<"u"?globalThis:{};function dBe(){var e;if(!v.createContext)return{};const t=(e=P4[A4])!=null?e:P4[A4]=new Map;let n=t.get(v.createContext);return n||(n=v.createContext(null),t.set(v.createContext,n)),n}const m7=dBe(),fBe=()=>{throw new Error("uSES not initialized!")};var PP=Gy,hBe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},mBe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},pBe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},p7={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TP={};TP[PP.ForwardRef]=pBe;TP[PP.Memo]=p7;function T4(e){return PP.isMemo(e)?p7:TP[e.$$typeof]||hBe}var gBe=Object.defineProperty,vBe=Object.getOwnPropertyNames,O4=Object.getOwnPropertySymbols,yBe=Object.getOwnPropertyDescriptor,xBe=Object.getPrototypeOf,I4=Object.prototype;function g7(e,t,n){if(typeof t!="string"){if(I4){var r=xBe(t);r&&r!==I4&&g7(e,r,n)}var s=vBe(t);O4&&(s=s.concat(O4(t)));for(var a=T4(e),o=T4(t),l=0;l<s.length;++l){var c=s[l];if(!mBe[c]&&!(n&&n[c])&&!(o&&o[c])&&!(a&&a[c])){var u=yBe(t,c);try{gBe(e,c,u)}catch{}}}}return e}var wBe=g7;const D4=mt(wBe);var v7={exports:{}},jt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OP=Symbol.for("react.element"),IP=Symbol.for("react.portal"),wb=Symbol.for("react.fragment"),bb=Symbol.for("react.strict_mode"),jb=Symbol.for("react.profiler"),Sb=Symbol.for("react.provider"),Nb=Symbol.for("react.context"),bBe=Symbol.for("react.server_context"),_b=Symbol.for("react.forward_ref"),Cb=Symbol.for("react.suspense"),Eb=Symbol.for("react.suspense_list"),kb=Symbol.for("react.memo"),Ab=Symbol.for("react.lazy"),jBe=Symbol.for("react.offscreen"),y7;y7=Symbol.for("react.module.reference");function Js(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case OP:switch(e=e.type,e){case wb:case jb:case bb:case Cb:case Eb:return e;default:switch(e=e&&e.$$typeof,e){case bBe:case Nb:case _b:case Ab:case kb:case Sb:return e;default:return t}}case IP:return t}}}jt.ContextConsumer=Nb;jt.ContextProvider=Sb;jt.Element=OP;jt.ForwardRef=_b;jt.Fragment=wb;jt.Lazy=Ab;jt.Memo=kb;jt.Portal=IP;jt.Profiler=jb;jt.StrictMode=bb;jt.Suspense=Cb;jt.SuspenseList=Eb;jt.isAsyncMode=function(){return!1};jt.isConcurrentMode=function(){return!1};jt.isContextConsumer=function(e){return Js(e)===Nb};jt.isContextProvider=function(e){return Js(e)===Sb};jt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===OP};jt.isForwardRef=function(e){return Js(e)===_b};jt.isFragment=function(e){return Js(e)===wb};jt.isLazy=function(e){return Js(e)===Ab};jt.isMemo=function(e){return Js(e)===kb};jt.isPortal=function(e){return Js(e)===IP};jt.isProfiler=function(e){return Js(e)===jb};jt.isStrictMode=function(e){return Js(e)===bb};jt.isSuspense=function(e){return Js(e)===Cb};jt.isSuspenseList=function(e){return Js(e)===Eb};jt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===wb||e===jb||e===bb||e===Cb||e===Eb||e===jBe||typeof e=="object"&&e!==null&&(e.$$typeof===Ab||e.$$typeof===kb||e.$$typeof===Sb||e.$$typeof===Nb||e.$$typeof===_b||e.$$typeof===y7||e.getModuleId!==void 0)};jt.typeOf=Js;v7.exports=jt;var SBe=v7.exports;const NBe=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function _Be(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,c,u,d,f,h;function m(b,j){return c=b,u=j,d=e(c,u),f=t(r,u),h=n(d,f,u),l=!0,h}function g(){return d=e(c,u),t.dependsOnOwnProps&&(f=t(r,u)),h=n(d,f,u),h}function p(){return e.dependsOnOwnProps&&(d=e(c,u)),t.dependsOnOwnProps&&(f=t(r,u)),h=n(d,f,u),h}function y(){const b=e(c,u),j=!o(b,d);return d=b,j&&(h=n(d,f,u)),h}function x(b,j){const w=!a(j,u),S=!s(b,c,j,u);return c=b,u=j,w&&S?g():w?p():S?y():h}return function(j,w){return l?x(j,w):m(j,w)}}function CBe(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:s}=t,a=WU(t,NBe);const o=n(e,a),l=r(e,a),c=s(e,a);return _Be(o,l,c,e,a)}function EBe(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...a)=>t(s(...a)))}return n}function SC(e){return function(n){const r=e(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function M4(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function x7(e,t){return function(r,{displayName:s}){const a=function(l,c){return a.dependsOnOwnProps?a.mapToProps(l,c):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,c){a.mapToProps=e,a.dependsOnOwnProps=M4(e);let u=a(l,c);return typeof u=="function"&&(a.mapToProps=u,a.dependsOnOwnProps=M4(u),u=a(l,c)),u},a}}function DP(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function kBe(e){return e&&typeof e=="object"?SC(t=>EBe(e,t)):e?typeof e=="function"?x7(e):DP(e,"mapDispatchToProps"):SC(t=>({dispatch:t}))}function ABe(e){return e?typeof e=="function"?x7(e):DP(e,"mapStateToProps"):SC(()=>({}))}function PBe(e,t,n){return Lo({},n,e,t)}function TBe(e){return function(n,{displayName:r,areMergedPropsEqual:s}){let a=!1,o;return function(c,u,d){const f=e(c,u,d);return a?s(f,o)||(o=f):(a=!0,o=f),o}}}function OBe(e){return e?typeof e=="function"?TBe(e):DP(e,"mergeProps"):()=>PBe}function IBe(){const e=uBe();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],s=t;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0,a=n={callback:r,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){!s||t===null||(s=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}const R4={notify(){},get:()=>[]};function w7(e,t){let n,r=R4,s=0,a=!1;function o(p){d();const y=r.subscribe(p);let x=!1;return()=>{x||(x=!0,y(),f())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return a}function d(){s++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=IBe())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=R4)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return g}const DBe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jx=DBe?v.useLayoutEffect:v.useEffect;function $4(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function B1(e,t){if($4(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!$4(e[n[s]],t[n[s]]))return!1;return!0}const MBe=["reactReduxForwardedRef"];let b7=fBe;const RBe=e=>{b7=e},$Be=[null,null];function LBe(e,t,n){Jx(()=>e(...t),n)}function FBe(e,t,n,r,s,a){e.current=r,n.current=!1,s.current&&(s.current=null,a())}function BBe(e,t,n,r,s,a,o,l,c,u,d){if(!e)return()=>{};let f=!1,h=null;const m=()=>{if(f||!l.current)return;const p=t.getState();let y,x;try{y=r(p,s.current)}catch(b){x=b,h=b}x||(h=null),y===a.current?o.current||u():(a.current=y,c.current=y,o.current=!0,d())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}function zBe(e,t){return e===t}function j7(e,t,n,{pure:r,areStatesEqual:s=zBe,areOwnPropsEqual:a=B1,areStatePropsEqual:o=B1,areMergedPropsEqual:l=B1,forwardRef:c=!1,context:u=m7}={}){const d=u,f=ABe(e),h=kBe(t),m=OBe(n),g=!!e;return y=>{const x=y.displayName||y.name||"Component",b=`Connect(${x})`,j={shouldHandleStateChanges:g,displayName:b,wrappedComponentName:x,WrappedComponent:y,initMapStateToProps:f,initMapDispatchToProps:h,initMergeProps:m,areStatesEqual:s,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function w(C){const[_,k,A]=v.useMemo(()=>{const{reactReduxForwardedRef:H}=C,je=WU(C,MBe);return[C.context,H,je]},[C]),T=v.useMemo(()=>_&&_.Consumer&&SBe.isContextConsumer(v.createElement(_.Consumer,null))?_:d,[_,d]),D=v.useContext(T),F=!!C.store&&!!C.store.getState&&!!C.store.dispatch,E=!!D&&!!D.store,$=F?C.store:D.store,O=E?D.getServerState:$.getState,R=v.useMemo(()=>CBe($.dispatch,j),[$]),[I,M]=v.useMemo(()=>{if(!g)return $Be;const H=w7($,F?void 0:D.subscription),je=H.notifyNestedSubs.bind(H);return[H,je]},[$,F,D]),L=v.useMemo(()=>F?D:Lo({},D,{subscription:I}),[F,D,I]),z=v.useRef(),W=v.useRef(A),q=v.useRef(),V=v.useRef(!1);v.useRef(!1);const te=v.useRef(!1),ne=v.useRef();Jx(()=>(te.current=!0,()=>{te.current=!1}),[]);const X=v.useMemo(()=>()=>q.current&&A===W.current?q.current:R($.getState(),A),[$,A]),ee=v.useMemo(()=>je=>I?BBe(g,$,I,R,W,z,V,te,q,M,je):()=>{},[I]);LBe(FBe,[W,z,V,A,q,M]);let Z;try{Z=b7(ee,X,O?()=>R(O(),A):X)}catch(H){throw ne.current&&(H.message+=`
The error may be correlated with this previous error:
${ne.current.stack}

`),H}Jx(()=>{ne.current=void 0,q.current=void 0,z.current=Z});const ae=v.useMemo(()=>v.createElement(y,Lo({},Z,{ref:k})),[k,y,Z]);return v.useMemo(()=>g?v.createElement(T.Provider,{value:L},ae):ae,[T,ae,L])}const N=v.memo(w);if(N.WrappedComponent=y,N.displayName=w.displayName=b,c){const _=v.forwardRef(function(A,T){return v.createElement(N,Lo({},A,{reactReduxForwardedRef:T}))});return _.displayName=b,_.WrappedComponent=y,D4(_,y)}return D4(N,y)}}function WBe({store:e,context:t,children:n,serverState:r,stabilityCheck:s="once",noopCheck:a="once"}){const o=v.useMemo(()=>{const u=w7(e);return{store:e,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:s,noopCheck:a}},[e,r,s,a]),l=v.useMemo(()=>e.getState(),[e]);Jx(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,l]);const c=t||m7;return v.createElement(c.Provider,{value:o},n)}RBe(bF.useSyncExternalStore);cBe(ni.unstable_batchedUpdates);function VBe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function S7(e,t){var n=v.useState(function(){return{inputs:t,result:e()}})[0],r=v.useRef(!0),s=v.useRef(n),a=r.current||!!(t&&s.current.inputs&&VBe(t,s.current.inputs)),o=a?s.current:{inputs:t,result:e()};return v.useEffect(function(){r.current=!1,s.current=o},[o]),o.result}function UBe(e,t){return S7(function(){return e},t)}var Ze=S7,De=UBe,pa=function(t){var n=t.top,r=t.right,s=t.bottom,a=t.left,o=r-a,l=s-n,c={top:n,right:r,bottom:s,left:a,width:o,height:l,x:a,y:n,center:{x:(r+a)/2,y:(s+n)/2}};return c},MP=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},L4=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},qBe=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},z1={top:0,right:0,bottom:0,left:0},RP=function(t){var n=t.borderBox,r=t.margin,s=r===void 0?z1:r,a=t.border,o=a===void 0?z1:a,l=t.padding,c=l===void 0?z1:l,u=pa(MP(n,s)),d=pa(L4(n,o)),f=pa(L4(d,c));return{marginBox:u,borderBox:pa(n),paddingBox:d,contentBox:f,margin:s,border:o,padding:c}},Ps=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&Qo(),s},HBe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Qx=function(t,n){var r=t.borderBox,s=t.border,a=t.margin,o=t.padding,l=qBe(r,n);return RP({borderBox:l,border:s,margin:a,padding:o})},Zx=function(t,n){return n===void 0&&(n=HBe()),Qx(t,n)},N7=function(t,n){var r={top:Ps(n.marginTop),right:Ps(n.marginRight),bottom:Ps(n.marginBottom),left:Ps(n.marginLeft)},s={top:Ps(n.paddingTop),right:Ps(n.paddingRight),bottom:Ps(n.paddingBottom),left:Ps(n.paddingLeft)},a={top:Ps(n.borderTopWidth),right:Ps(n.borderRightWidth),bottom:Ps(n.borderBottomWidth),left:Ps(n.borderLeftWidth)};return RP({borderBox:t,margin:r,padding:s,border:a})},_7=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return N7(n,r)},F4=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function GBe(e,t){return!!(e===t||F4(e)&&F4(t))}function KBe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!GBe(e[n],t[n]))return!1;return!0}function Dn(e,t){t===void 0&&(t=KBe);var n=null;function r(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;var o=e.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){n=null},r}var gp=function(t){var n=[],r=null,s=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};function C7(e,t){}C7.bind(null,"warn");C7.bind(null,"error");function Bo(){}function YBe(e,t){return{...e,...t}}function Bs(e,t,n){const r=t.map(s=>{const a=YBe(n,s.options);return e.addEventListener(s.eventName,s.fn,a),function(){e.removeEventListener(s.eventName,s.fn,a)}});return function(){r.forEach(a=>{a()})}}const XBe="Invariant failed";class e0 extends Error{}e0.prototype.toString=function(){return this.message};function xe(e,t){throw new e0(XBe)}class JBe extends P.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Bo,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof e0&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Bs(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof e0){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const QBe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,t0=e=>e+1,ZBe=e=>`
  You have lifted an item in position ${t0(e.source.index)}
`,E7=(e,t)=>{const n=e.droppableId===t.droppableId,r=t0(e.index),s=t0(t.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},k7=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,e6e=e=>{const t=e.destination;if(t)return E7(e.source,t);const n=e.combine;return n?k7(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},B4=e=>`
  The item has returned to its starting position
  of ${t0(e.index)}
`,t6e=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${B4(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${E7(e.source,t)}
    `:n?`
      You have dropped the item.
      ${k7(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${B4(e.source)}
  `},n6e={dragHandleUsageInstructions:QBe,onDragStart:ZBe,onDragUpdate:e6e,onDragEnd:t6e};var Gv=n6e;const $n={x:0,y:0},Yn=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ls=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),zo=(e,t)=>e.x===t.x&&e.y===t.y,gf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),wc=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},vp=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),z4=(e,t)=>Math.min(...t.map(n=>vp(e,n))),A7=e=>t=>({x:e(t.x),y:e(t.y)});var r6e=(e,t)=>{const n=pa({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const dg=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),W4=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],s6e={top:0,right:0,bottom:0,left:0},a6e=(e,t)=>t?dg(e,t.scroll.diff.displacement):e,i6e=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,o6e=(e,t)=>t&&t.shouldClipSubject?r6e(t.pageMarginBox,e):pa(e);var Od=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const s=a6e(e.marginBox,r),a=i6e(s,n,t),o=o6e(a,r);return{page:e,withPlaceholder:t,active:o}},$P=(e,t)=>{e.frame||xe();const n=e.frame,r=ls(t,n.scroll.initial),s=gf(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:s},max:n.scroll.max}},o=Od({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};const P7=Dn(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),T7=Dn(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Pb=Dn(e=>Object.values(e)),l6e=Dn(e=>Object.values(e));var vf=Dn((e,t)=>l6e(t).filter(r=>e===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function LP(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Tb(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Ob=Dn((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),c6e=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!LP(s))return null;function o(m){const g={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...s,at:g}}const l=s.displaced.all,c=l.length?l[0]:null;if(e)return c?o(c):null;const u=Ob(t,r);if(!c){if(!u.length)return null;const m=u[u.length-1];return o(m.descriptor.id)}const d=u.findIndex(m=>m.descriptor.id===c);d===-1&&xe();const f=d-1;if(f<0)return null;const h=u[f];return o(h.descriptor.id)},yf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const O7={point:$n,value:0},yp={invisible:{},visible:{},all:[]},u6e={displaced:yp,displacedBy:O7,at:null};var d6e=u6e,qs=(e,t)=>n=>e<=n&&n<=t,I7=e=>{const t=qs(e.top,e.bottom),n=qs(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const c=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return c&&u?!0:c&&o||u&&a}},f6e=e=>{const t=qs(e.top,e.bottom),n=qs(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const FP={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},D7={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var h6e=e=>t=>{const n=qs(t.top,t.bottom),r=qs(t.left,t.right);return s=>e===FP?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)};const m6e=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:$n;return dg(e,n)},p6e=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,g6e=(e,t,n)=>n(t)(e),BP=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const a=r?m6e(e,t):e;return p6e(a,t,s)&&g6e(a,n,s)},v6e=e=>BP({...e,isVisibleThroughFrameFn:I7}),M7=e=>BP({...e,isVisibleThroughFrameFn:f6e}),y6e=e=>BP({...e,isVisibleThroughFrameFn:h6e(e.destination.axis)}),x6e=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:s}=t;if(r[e])return!1;const a=s[e];return a?a.shouldAnimate:!0};function w6e(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return pa(MP(n,r))}function xp({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:s,last:a}){return e.reduce(function(l,c){const u=w6e(c,n),d=c.descriptor.id;if(l.all.push(d),!v6e({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const h=x6e(d,a,s),m={draggableId:d,shouldAnimate:h};return l.visible[d]=m,l},{all:[],visible:{},invisible:{}})}function b6e(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function V4({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const s=b6e(e,{inHomeList:t});return{displaced:yp,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function n0({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:s,last:a,index:o,forceShouldAnimate:l}){const c=yf(e,n);if(o==null)return V4({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const u=t.find(g=>g.descriptor.index===o);if(!u)return V4({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const d=Ob(e,t),f=t.indexOf(u),h=d.slice(f);return{displaced:xp({afterDragging:h,destination:n,displacedBy:s,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function nl(e,t){return!!t.effected[e]}var j6e=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return nl(a,s)?e?l:l-1:e?l+1:l},S6e=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,a=e?s+1:s-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=t?l:l+1;return a<o||a>c?null:a},N6e=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:s,insideDestination:a,previousImpact:o,viewport:l,afterCritical:c})=>{const u=o.at;if(u||xe(),u.type==="REORDER"){const f=S6e({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:a});return f==null?null:n0({draggable:n,insideDestination:a,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:f})}const d=j6e({isMovingForward:e,destination:s,displaced:o.displaced,draggables:r,combine:u.combine,afterCritical:c});return d==null?null:n0({draggable:n,insideDestination:a,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:d})},_6e=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const s=!!(e.visible[n]||e.invisible[n]);return nl(n,t)?s?$n:gf(r.point):s?r.point:$n},C6e=({afterCritical:e,impact:t,draggables:n})=>{const r=Tb(t);r||xe();const s=r.draggableId,a=n[s].page.borderBox.center,o=_6e({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return Yn(a,o)};const R7=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,E6e=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,zP=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,U4=({axis:e,moveRelativeTo:t,isMoving:n})=>wc(e.line,t.marginBox[e.end]+R7(e,n),zP(e,t.marginBox,n)),q4=({axis:e,moveRelativeTo:t,isMoving:n})=>wc(e.line,t.marginBox[e.start]-E6e(e,n),zP(e,t.marginBox,n)),k6e=({axis:e,moveInto:t,isMoving:n})=>wc(e.line,t.contentBox[e.start]+R7(e,n),zP(e,t.contentBox,n));var A6e=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s})=>{const a=vf(r.descriptor.id,n),o=t.page,l=r.axis;if(!a.length)return k6e({axis:l,moveInto:r.page,isMoving:o});const{displaced:c,displacedBy:u}=e,d=c.all[0];if(d){const h=n[d];if(nl(d,s))return q4({axis:l,moveRelativeTo:h.page,isMoving:o});const m=Qx(h.page,u.point);return q4({axis:l,moveRelativeTo:m,isMoving:o})}const f=a[a.length-1];if(f.descriptor.id===t.descriptor.id)return o.borderBox.center;if(nl(f.descriptor.id,s)){const h=Qx(f.page,gf(s.displacedBy.point));return U4({axis:l,moveRelativeTo:h,isMoving:o})}return U4({axis:l,moveRelativeTo:f.page,isMoving:o})},NC=(e,t)=>{const n=e.frame;return n?Yn(t,n.scroll.diff.displacement):t};const P6e=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:s})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?A6e({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s}):C6e({impact:e,draggables:r,afterCritical:s})};var Ib=e=>{const t=P6e(e),n=e.droppable;return n?NC(n,t):t},$7=(e,t)=>{const n=ls(t,e.scroll.initial),r=gf(n);return{frame:pa({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function H4(e,t){return e.map(n=>t[n])}function T6e(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var O6e=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:s})=>{const a=$7(t,Yn(t.scroll.current,s)),o=n.frame?$P(n,Yn(n.frame.scroll.current,s)):n,l=e.displaced,c=xp({afterDragging:H4(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=xp({afterDragging:H4(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),d={},f={},h=[l,c,u];return l.all.forEach(g=>{const p=T6e(g,h);if(p){f[g]=p;return}d[g]=!0}),{...e,displaced:{all:l.all,invisible:d,visible:f}}},I6e=(e,t)=>Yn(e.scroll.diff.displacement,t),WP=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=I6e(n,e),s=ls(r,t.page.borderBox.center);return Yn(t.client.borderBox.center,s)},L7=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:a=!1})=>{const o=ls(n,e.page.borderBox.center),c={target:dg(e.page.borderBox,o),destination:t,withDroppableDisplacement:s,viewport:r};return a?y6e(c):M7(c)},D6e=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:s,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c})=>{if(!n.isEnabled)return null;const u=vf(n.descriptor.id,r),d=yf(t,n),f=c6e({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:s})||N6e({isMovingForward:e,isInHomeList:d,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:s,viewport:a,afterCritical:c});if(!f)return null;const h=Ib({impact:f,draggable:t,droppable:n,draggables:r,afterCritical:c});if(L7({draggable:t,destination:n,newPageBorderBoxCenter:h,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:WP({pageBorderBoxCenter:h,draggable:t,viewport:a}),impact:f,scrollJumpRequest:null};const g=ls(h,o),p=O6e({impact:f,viewport:a,destination:n,draggables:r,maxScrollChange:g});return{clientSelection:l,impact:p,scrollJumpRequest:g}};const xr=e=>{const t=e.subject.active;return t||xe(),t};var M6e=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:s})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,l=qs(a[o.start],a[o.end]),c=Pb(r).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>I7(s.frame)(xr(d))).filter(d=>{const f=xr(d);return e?a[o.crossAxisEnd]<f[o.crossAxisEnd]:f[o.crossAxisStart]<a[o.crossAxisStart]}).filter(d=>{const f=xr(d),h=qs(f[o.start],f[o.end]);return l(f[o.start])||l(f[o.end])||h(a[o.start])||h(a[o.end])}).sort((d,f)=>{const h=xr(d)[o.crossAxisStart],m=xr(f)[o.crossAxisStart];return e?h-m:m-h}).filter((d,f,h)=>xr(d)[o.crossAxisStart]===xr(h[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(d=>qs(xr(d)[o.start],xr(d)[o.end])(t[o.line]));return u.length===1?u[0]:u.length>1?u.sort((d,f)=>xr(d)[o.start]-xr(f)[o.start])[0]:c.sort((d,f)=>{const h=z4(t,W4(xr(d))),m=z4(t,W4(xr(f)));return h!==m?h-m:xr(d)[o.start]-xr(f)[o.start]})[0]};const G4=(e,t)=>{const n=e.page.borderBox.center;return nl(e.descriptor.id,t)?ls(n,t.displacedBy.point):n},R6e=(e,t)=>{const n=e.page.borderBox;return nl(e.descriptor.id,t)?dg(n,gf(t.displacedBy.point)):n};var $6e=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:s})=>r.filter(o=>M7({target:R6e(o,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const c=vp(e,NC(n,G4(o,s))),u=vp(e,NC(n,G4(l,s)));return c<u?-1:u<c?1:o.descriptor.index-l.descriptor.index})[0]||null,fg=Dn(function(t,n){const r=n[t.line];return{value:r,point:wc(t.line,r)}});const L6e=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return wc(r.line,t[r.line]);const s=e.subject.page.contentBox[r.size],c=vf(e.descriptor.id,n).reduce((u,d)=>u+d.client.marginBox[r.size],0)+t[r.line]-s;return c<=0?null:wc(r.line,c)},F7=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),B7=(e,t,n)=>{const r=e.frame;yf(t,e)&&xe(),e.subject.withPlaceholder&&xe();const s=fg(e.axis,t.displaceBy).point,a=L6e(e,s,n),o={placeholderSize:s,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const d=Od({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:d}}const l=a?Yn(r.scroll.max,a):r.scroll.max,c=F7(r,l),u=Od({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},F6e=e=>{const t=e.subject.withPlaceholder;t||xe();const n=e.frame;if(!n){const o=Od({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||xe();const s=F7(n,r),a=Od({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:a,frame:s}};var B6e=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:s,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const f={displaced:yp,displacedBy:O7,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},h=Ib({impact:f,draggable:r,droppable:a,draggables:s,afterCritical:l}),m=yf(r,a)?a:B7(a,r,s);return L7({draggable:r,destination:m,newPageBorderBoxCenter:h,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],u=(()=>{const f=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?f:f+1})(),d=fg(a.axis,r.displaceBy);return n0({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:d,last:yp,index:u})},z6e=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:s,droppables:a,viewport:o,afterCritical:l})=>{const c=M6e({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!c)return null;const u=vf(c.descriptor.id,s),d=$6e({pageBorderBoxCenter:t,viewport:o,destination:c,insideDestination:u,afterCritical:l}),f=B6e({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:s,moveRelativeTo:d,insideDestination:u,viewport:o,afterCritical:l});if(!f)return null;const h=Ib({impact:f,draggable:n,droppable:c,draggables:s,afterCritical:l});return{clientSelection:WP({pageBorderBoxCenter:h,draggable:n,viewport:o}),impact:f,scrollJumpRequest:null}},ps=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const W6e=(e,t)=>{const n=ps(e);return n?t[n]:null};var V6e=({state:e,type:t})=>{const n=W6e(e.impact,e.dimensions.droppables),r=!!n,s=e.dimensions.droppables[e.critical.droppable.id],a=n||s,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,{draggables:f,droppables:h}=e.dimensions;return l?D6e({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):z6e({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:h,viewport:e.viewport,afterCritical:e.afterCritical})};function Dl(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function z7(e){const t=qs(e.top,e.bottom),n=qs(e.left,e.right);return function(s){return t(s.y)&&n(s.x)}}function U6e(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function q6e({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,s=n.map(a=>{const o=a.axis,l=wc(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:vp(r,l)}}).sort((a,o)=>o.distance-a.distance);return s[0]?s[0].id:null}function H6e({pageBorderBox:e,draggable:t,droppables:n}){const r=Pb(n).filter(s=>{if(!s.isEnabled)return!1;const a=s.subject.active;if(!a||!U6e(e,a))return!1;if(z7(a)(e.center))return!0;const o=s.axis,l=a.center[o.crossAxisLine],c=e[o.crossAxisStart],u=e[o.crossAxisEnd],d=qs(a[o.crossAxisStart],a[o.crossAxisEnd]),f=d(c),h=d(u);return!f&&!h?!0:f?c<l:u>l});return r.length?r.length===1?r[0].descriptor.id:q6e({pageBorderBox:e,draggable:t,candidates:r}):null}const W7=(e,t)=>pa(dg(e,t));var G6e=(e,t)=>{const n=e.frame;return n?W7(t,n.scroll.diff.value):t};function V7({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function K6e({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Y6e=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:s,viewport:a,afterCritical:o})=>{const l=n.axis,c=fg(n.axis,t.displaceBy),u=c.value,d=e[l.start],f=e[l.end],m=Ob(t,r).find(p=>{const y=p.descriptor.id,x=p.page.borderBox.center[l.line],b=nl(y,o),j=V7({displaced:s,id:y});return b?j?f<=x:d<x-u:j?f<=x+u:d<x})||null,g=K6e({draggable:t,closest:m,inHomeList:yf(t,n)});return n0({draggable:t,insideDestination:r,destination:n,viewport:a,last:s,displacedBy:c,index:g})};const X6e=4;var J6e=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:s,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=fg(r.axis,e.displaceBy),c=l.value,u=t[o.start],d=t[o.end],h=Ob(e,s).find(g=>{const p=g.descriptor.id,y=g.page.borderBox,b=y[o.size]/X6e,j=nl(p,a),w=V7({displaced:n.displaced,id:p});return j?w?d>y[o.start]+b&&d<y[o.end]-b:u>y[o.start]-c+b&&u<y[o.end]-c-b:w?d>y[o.start]+c+b&&d<y[o.end]+c-b:u>y[o.start]+b&&u<y[o.end]-b});return h?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:r.descriptor.id}}}:null},U7=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:s,viewport:a,afterCritical:o})=>{const l=W7(t.page.borderBox,e),c=H6e({pageBorderBox:l,draggable:t,droppables:r});if(!c)return d6e;const u=r[c],d=vf(u.descriptor.id,n),f=G6e(u,l);return J6e({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:s,destination:u,insideDestination:d,afterCritical:o})||Y6e({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:u,insideDestination:d,last:s.displaced,viewport:a,afterCritical:o})},VP=(e,t)=>({...e,[t.descriptor.id]:t});const Q6e=({previousImpact:e,impact:t,droppables:n})=>{const r=ps(e),s=ps(t);if(!r||r===s)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=F6e(a);return VP(n,o)};var Z6e=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:s})=>{const a=Q6e({previousImpact:r,impact:s,droppables:n}),o=ps(s);if(!o)return a;const l=n[o];if(yf(e,l)||l.subject.withPlaceholder)return a;const c=B7(l,e,t);return VP(a,c)},Uh=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:s,scrollJumpRequest:a})=>{const o=r||e.viewport,l=n||e.dimensions,c=t||e.current.client.selection,u=ls(c,e.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:Yn(e.initial.client.borderBoxCenter,u)},f={selection:Yn(d.selection,o.scroll.current),borderBoxCenter:Yn(d.borderBoxCenter,o.scroll.current),offset:Yn(d.offset,o.scroll.diff.value)},h={client:d,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:h};const m=l.draggables[e.critical.draggable.id],g=s||U7({pageOffset:f.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),p=Z6e({draggable:m,impact:g,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:h,dimensions:{draggables:l.draggables,droppables:p},impact:g,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function eze(e,t){return e.map(n=>t[n])}var q7=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:s})=>{const a=e.displaced,o=eze(a.all,n),l=xp({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:a});return{...e,displaced:l}},H7=({impact:e,draggable:t,droppable:n,draggables:r,viewport:s,afterCritical:a})=>{const o=Ib({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return WP({pageBorderBoxCenter:o,draggable:t,viewport:s})},G7=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&xe();const r=e.impact,s=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,c=o[e.critical.draggable.id],u=ps(r);u||xe();const d=l[u],f=q7({impact:r,viewport:s,destination:d,draggables:o}),h=H7({impact:f,draggable:c,droppable:d,draggables:o,viewport:s,afterCritical:e.afterCritical});return Uh({impact:f,clientSelection:h,state:e,dimensions:a,viewport:s})},tze=e=>({index:e.index,droppableId:e.droppableId}),K7=({draggable:e,home:t,draggables:n,viewport:r})=>{const s=fg(t.axis,e.displaceBy),a=vf(t.descriptor.id,n),o=a.indexOf(e);o===-1&&xe();const l=a.slice(o+1),c=l.reduce((h,m)=>(h[m.descriptor.id]=!0,h),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:xp({afterDragging:l,destination:t,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:tze(e.descriptor)}},afterCritical:u}},nze=(e,t)=>({draggables:e.draggables,droppables:VP(e.droppables,t)}),rze=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Qx(e.client,t),s=Zx(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:s}},sze=e=>{const t=e.frame;return t||xe(),t},aze=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(s=>{const a=s.descriptor.droppableId,o=t[a],c=sze(o).scroll.diff.value,u=Yn(r,c);return rze({draggable:s,offset:u,initialWindowScroll:n.scroll.initial})})},ize=({state:e,published:t})=>{const n=t.modified.map(x=>{const b=e.dimensions.droppables[x.droppableId];return $P(b,x.scroll)}),r={...e.dimensions.droppables,...P7(n)},s=T7(aze({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...s};t.removals.forEach(x=>{delete a[x]});const o={droppables:r,draggables:a},l=ps(e.impact),c=l?o.droppables[l]:null,u=o.draggables[e.critical.draggable.id],d=o.droppables[e.critical.droppable.id],{impact:f,afterCritical:h}=K7({draggable:u,home:d,draggables:a,viewport:e.viewport}),m=c&&c.isCombineEnabled?e.impact:f,g=U7({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:m,viewport:e.viewport,afterCritical:h}),p={...e,phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:o,afterCritical:h,forceShouldAnimate:!1};return e.phase==="COLLECTING"?p:{...p,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const _C=e=>e.movementMode==="SNAP",W1=(e,t,n)=>{const r=nze(e.dimensions,t);return!_C(e)||n?Uh({state:e,dimensions:r}):G7({state:e,dimensions:r})};function V1(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const K4={phase:"IDLE",completed:null,shouldFlush:!1};var oze=(e=K4,t)=>{if(t.type==="FLUSH")return{...K4,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&xe();const{critical:n,clientSelection:r,viewport:s,dimensions:a,movementMode:o}=t.payload,l=a.draggables[n.draggable.id],c=a.droppables[n.droppable.id],u={selection:r,borderBoxCenter:l.client.borderBox.center,offset:$n},d={client:u,page:{selection:Yn(u.selection,s.scroll.initial),borderBoxCenter:Yn(u.selection,s.scroll.initial),offset:Yn(u.selection,s.scroll.diff.value)}},f=Pb(a.droppables).every(p=>!p.isFixedOnPage),{impact:h,afterCritical:m}=K7({draggable:l,home:c,draggables:a.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:d,current:d,isWindowScrollAllowed:f,impact:h,afterCritical:m,onLiftImpact:h,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&xe(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||xe(),ize({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Dl(e)||xe();const{client:n}=t.payload;return zo(n,e.current.client.selection)?e:Uh({state:e,clientSelection:n,impact:_C(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return V1(e);Dl(e)||xe();const{id:n,newScroll:r}=t.payload,s=e.dimensions.droppables[n];if(!s)return e;const a=$P(s,r);return W1(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Dl(e)||xe();const{id:n,isEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||xe(),s.isEnabled===r&&xe();const a={...s,isEnabled:r};return W1(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Dl(e)||xe();const{id:n,isCombineEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||xe(),s.isCombineEnabled===r&&xe();const a={...s,isCombineEnabled:r};return W1(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Dl(e)||xe(),e.isWindowScrollAllowed||xe();const n=t.payload.newScroll;if(zo(e.viewport.scroll.current,n))return V1(e);const r=$7(e.viewport,n);return _C(e)?G7({state:e,viewport:r}):Uh({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Dl(e))return e;const n=t.payload.maxScroll;if(zo(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&xe();const n=V6e({state:e,type:t.type});return n?Uh({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&xe(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||xe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};const lze=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),cze=e=>({type:"LIFT",payload:e}),uze=e=>({type:"INITIAL_PUBLISH",payload:e}),dze=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),fze=()=>({type:"COLLECTION_STARTING",payload:null}),hze=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),mze=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),pze=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Y7=e=>({type:"MOVE",payload:e}),gze=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),vze=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),yze=()=>({type:"MOVE_UP",payload:null}),xze=()=>({type:"MOVE_DOWN",payload:null}),wze=()=>({type:"MOVE_RIGHT",payload:null}),bze=()=>({type:"MOVE_LEFT",payload:null}),UP=()=>({type:"FLUSH",payload:null}),jze=e=>({type:"DROP_ANIMATE",payload:e}),qP=e=>({type:"DROP_COMPLETE",payload:e}),X7=e=>({type:"DROP",payload:e}),Sze=e=>({type:"DROP_PENDING",payload:e}),J7=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Nze=e=>({getState:t,dispatch:n})=>r=>s=>{if(s.type!=="LIFT"){r(s);return}const{id:a,clientSelection:o,movementMode:l}=s.payload,c=t();c.phase==="DROP_ANIMATING"&&n(qP({completed:c.completed})),t().phase!=="IDLE"&&xe(),n(UP()),n(lze({draggableId:a,movementMode:l}));const d={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:h,viewport:m}=e.startPublishing(d);n(uze({critical:f,dimensions:h,clientSelection:o,movementMode:l,viewport:m}))},_ze=e=>()=>t=>n=>{n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)};const HP={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},wp={opacity:{drop:0,combining:.7},scale:{drop:.75}},Q7={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Sl=`${Q7.outOfTheWay}s ${HP.outOfTheWay}`,qh={fluid:`opacity ${Sl}`,snap:`transform ${Sl}, opacity ${Sl}`,drop:e=>{const t=`${e}s ${HP.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Sl}`,placeholder:`height ${Sl}, width ${Sl}, margin ${Sl}`},Y4=e=>zo(e,$n)?void 0:`translate(${e.x}px, ${e.y}px)`,CC={moveTo:Y4,drop:(e,t)=>{const n=Y4(e);if(n)return t?`${n} scale(${wp.scale.drop})`:n}},{minDropTime:EC,maxDropTime:Z7}=Q7,Cze=Z7-EC,X4=1500,Eze=.6;var kze=({current:e,destination:t,reason:n})=>{const r=vp(e,t);if(r<=0)return EC;if(r>=X4)return Z7;const s=r/X4,a=EC+Cze*s,o=n==="CANCEL"?a*Eze:a;return Number(o.toFixed(2))},Aze=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:a,droppables:o}=n,l=ps(e),c=l?o[l]:null,u=o[t.descriptor.droppableId],d=H7({impact:e,draggable:t,draggables:a,afterCritical:s,droppable:c||u,viewport:r});return ls(d,t.client.borderBox.center)},Pze=({draggables:e,reason:t,lastImpact:n,home:r,viewport:s,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:q7({draggables:e,impact:a,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:yp},didDropInsideDroppable:!0};const Tze=({getState:e,dispatch:t})=>n=>r=>{if(r.type!=="DROP"){n(r);return}const s=e(),a=r.payload.reason;if(s.phase==="COLLECTING"){t(Sze({reason:a}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&xe(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||xe();const l=s.critical,c=s.dimensions,u=c.draggables[s.critical.draggable.id],{impact:d,didDropInsideDroppable:f}=Pze({reason:a,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),h=f?LP(d):null,m=f?Tb(d):null,g={index:l.draggable.index,droppableId:l.droppable.id},p={draggableId:u.descriptor.id,type:u.descriptor.type,source:g,reason:a,mode:s.movementMode,destination:h,combine:m},y=Aze({impact:d,draggable:u,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),x={critical:s.critical,afterCritical:s.afterCritical,result:p,impact:d};if(!(!zo(s.current.client.offset,y)||!!p.combine)){t(qP({completed:x}));return}const j=kze({current:s.current.client.offset,destination:y,reason:a});t(jze({newHomeClientOffset:y,dropDuration:j,completed:x}))};var Oze=Tze,eG=()=>({x:window.pageXOffset,y:window.pageYOffset});function Ize(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Dze({onWindowScroll:e}){function t(){e(eG())}const n=gp(t),r=Ize(n);let s=Bo;function a(){return s!==Bo}function o(){a()&&xe(),s=Bs(window,[r])}function l(){a()||xe(),n.cancel(),s(),s=Bo}return{start:o,stop:l,isActive:a}}const Mze=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH",Rze=e=>{const t=Dze({onWindowScroll:n=>{e.dispatch(gze({newScroll:n}))}});return n=>r=>{!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&Mze(r)&&t.stop(),n(r)}};var $ze=Rze,Lze=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return s.wasCalled=()=>t,s},Fze=()=>{const e=[],t=s=>{const a=e.findIndex(l=>l.timerId===s);a===-1&&xe();const[o]=e.splice(a,1);o.callback()};return{add:s=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:s};e.push(o)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const Bze=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,zze=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,Wze=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Vf=(e,t)=>{t()},pv=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function U1(e,t,n,r){if(!e){n(r(t));return}const s=Lze(n);e(t,{announce:s}),s.wasCalled()||n(r(t))}var Vze=(e,t)=>{const n=Fze();let r=null;const s=(f,h)=>{r&&xe(),Vf("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:f,mode:h})})},a=(f,h)=>{r&&xe(),Vf("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(pv(f,h))})},o=(f,h)=>{r&&xe();const m=pv(f,h);r={mode:h,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(()=>{Vf("onDragStart",()=>U1(e().onDragStart,m,t,Gv.onDragStart))})},l=(f,h)=>{const m=LP(h),g=Tb(h);r||xe();const p=!Wze(f,r.lastCritical);p&&(r.lastCritical=f);const y=!Bze(r.lastLocation,m);y&&(r.lastLocation=m);const x=!zze(r.lastCombine,g);if(x&&(r.lastCombine=g),!p&&!y&&!x)return;const b={...pv(f,r.mode),combine:g,destination:m};n.add(()=>{Vf("onDragUpdate",()=>U1(e().onDragUpdate,b,t,Gv.onDragUpdate))})},c=()=>{r||xe(),n.flush()},u=f=>{r||xe(),r=null,Vf("onDragEnd",()=>U1(e().onDragEnd,f,t,Gv.onDragEnd))};return{beforeCapture:s,beforeStart:a,start:o,update:l,flush:c,drop:u,abort:()=>{if(!r)return;const f={...pv(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(f)}}},Uze=(e,t)=>{const n=Vze(e,t);return r=>s=>a=>{if(a.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),s(a),n.start(l,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){const l=a.payload.completed.result;n.flush(),s(a),n.drop(l);return}if(s(a),a.type==="FLUSH"){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const qze=e=>t=>n=>{if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&xe(),e.dispatch(qP({completed:r.completed}))};var Hze=qze;const Gze=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return s=>a=>{if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&r(),s(a),a.type!=="DROP_ANIMATE")return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(J7())}};n=requestAnimationFrame(()=>{n=null,t=Bs(window,[o])})}};var Kze=Gze,Yze=e=>()=>t=>n=>{(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)},Xze=e=>{let t=!1;return()=>n=>r=>{if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;const s=r.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Jze=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH";var Qze=e=>t=>n=>r=>{if(Jze(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);const s=t.getState();s.phase!=="DRAGGING"&&xe(),e.start(s);return}n(r),e.scroll(t.getState())};const Zze=e=>t=>n=>{if(t(n),n.type!=="PUBLISH_WHILE_DRAGGING")return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(X7({reason:r.reason})))};var e8e=Zze;const t8e=f7;var n8e=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:s,autoScroller:a})=>d7(oze,t8e(oBe(_ze(n),Yze(e),Nze(e),Oze,Hze,Kze,e8e,Qze(a),$ze,Xze(t),Uze(r,s))));const q1=()=>({additions:{},removals:{},modified:{}});function r8e({registry:e,callbacks:t}){let n=q1(),r=null;const s=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:d}=n,f=Object.keys(c).map(g=>e.draggable.getById(g).getDimension($n)).sort((g,p)=>g.descriptor.index-p.descriptor.index),h=Object.keys(d).map(g=>{const y=e.droppable.getById(g).callbacks.getScrollWhileDragging();return{droppableId:g,scroll:y}}),m={additions:f,removals:Object.keys(u),modified:h};n=q1(),t.publish(m)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],s()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],s()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=q1())}}}var tG=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const s=ls({x:t,y:e},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},nG=()=>{const e=document.documentElement;return e||xe(),e},rG=()=>{const e=nG();return tG({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},s8e=()=>{const e=eG(),t=rG(),n=e.y,r=e.x,s=nG(),a=s.clientWidth,o=s.clientHeight,l=r+a,c=n+o;return{frame:pa({top:n,left:r,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:$n,displacement:$n}}}},a8e=({critical:e,scrollOptions:t,registry:n})=>{const r=s8e(),s=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(d=>d.callbacks.getDimensionAndWatchScroll(s,t)),l=n.draggable.getAllByType(e.draggable.type).map(d=>d.getDimension(s));return{dimensions:{draggables:T7(l),droppables:P7(o)},critical:e,viewport:r}};function J4(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var i8e=(e,t)=>{let n=null;const r=r8e({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(h,m)=>{e.droppable.exists(h)||xe(),n&&t.updateDroppableIsEnabled({id:h,isEnabled:m})},a=(h,m)=>{n&&(e.droppable.exists(h)||xe(),t.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:m}))},o=(h,m)=>{n&&(e.droppable.exists(h)||xe(),t.updateDroppableScroll({id:h,newScroll:m}))},l=(h,m)=>{n&&e.droppable.getById(h).callbacks.scroll(m)},c=()=>{if(!n)return;r.stop();const h=n.critical.droppable;e.droppable.getAllByType(h.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},u=h=>{n||xe();const m=n.critical.draggable;h.type==="ADDITION"&&J4(e,m,h.value)&&r.add(h.value),h.type==="REMOVAL"&&J4(e,m,h.value)&&r.remove(h.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:h=>{n&&xe();const m=e.draggable.getById(h.draggableId),g=e.droppable.getById(m.descriptor.droppableId),p={draggable:m.descriptor,droppable:g.descriptor},y=e.subscribe(u);return n={critical:p,unsubscribe:y},a8e({critical:p,registry:e,scrollOptions:h.scrollOptions})},stopPublishing:c}},sG=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",o8e=e=>{window.scrollBy(e.x,e.y)};const l8e=Dn(e=>Pb(e).filter(t=>!(!t.isEnabled||!t.frame))),c8e=(e,t)=>l8e(t).find(r=>(r.frame||xe(),z7(r.frame.pageMarginBox)(e)))||null;var u8e=({center:e,destination:t,droppables:n})=>{if(t){const s=n[t];return s.frame?s:null}return c8e(e,n)};const bp={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var d8e=(e,t,n=()=>bp)=>{const r=n(),s=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:a}},aG=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},GP=1,f8e=(e,t,n=()=>bp)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return GP;const a=1-aG({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},h8e=(e,t,n)=>{const r=n(),s=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,u=Date.now()-o;if(u>=a)return e;if(u<s)return GP;const d=aG({startOfRange:s,endOfRange:l,current:u}),f=e*r.ease(d);return Math.ceil(f)},Q4=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const a=f8e(e,t,s);return a===0?0:r?Math.max(h8e(a,n,s),GP):a},Z4=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const o=d8e(e,r,a);return t[r.end]<t[r.start]?Q4({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:a}):-1*Q4({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:a})},m8e=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,s=t.width>e.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}};const p8e=A7(e=>e===0?0:e);var iG=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=Z4({container:t,distanceToEdges:o,dragStartTime:e,axis:FP,shouldUseTimeDampening:s,getAutoScrollerOptions:a}),c=Z4({container:t,distanceToEdges:o,dragStartTime:e,axis:D7,shouldUseTimeDampening:s,getAutoScrollerOptions:a}),u=p8e({x:c,y:l});if(zo(u,$n))return null;const d=m8e({container:t,subject:n,proposedScroll:u});return d?zo(d,$n)?null:d:null};const g8e=A7(e=>e===0?0:e>0?1:-1),KP=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const s=Yn(t,r),a={x:e(s.x,n.x),y:e(s.y,n.y)};return zo(a,$n)?null:a}})(),oG=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=g8e(n),a=KP({max:r,current:t,change:s});return!a||s.x!==0&&a.x===0||s.y!==0&&a.y===0},YP=(e,t)=>oG({current:e.scroll.current,max:e.scroll.max,change:t}),v8e=(e,t)=>{if(!YP(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return KP({current:r,max:n,change:t})},XP=(e,t)=>{const n=e.frame;return n?oG({current:n.scroll.current,max:n.scroll.max,change:t}):!1},y8e=(e,t)=>{const n=e.frame;return!n||!XP(e,t)?null:KP({current:n.scroll.current,max:n.scroll.max,change:t})};var x8e=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const o=iG({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:a});return o&&YP(e,o)?o:null},w8e=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=iG({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:a});return l&&XP(e,l)?l:null},eL=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,h=x8e({dragStartTime:t,viewport:f,subject:c,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(h){r(h);return}}const u=u8e({center:o,destination:ps(e.impact),droppables:e.dimensions.droppables});if(!u)return;const d=w8e({dragStartTime:t,droppable:u,subject:c,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});d&&s(u.descriptor.id,d)},b8e=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>bp})=>{const r=gp(e),s=gp(t);let a=null;const o=u=>{a||xe();const{shouldUseTimeDampening:d,dragStartTime:f}=a;eL({state:u,scrollWindow:r,scrollDroppable:s,dragStartTime:f,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:u=>{a&&xe();const d=Date.now();let f=!1;const h=()=>{f=!0};eL({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h,getAutoScrollerOptions:n}),a={dragStartTime:d,shouldUseTimeDampening:f},f&&o(u)},stop:()=>{a&&(r.cancel(),s.cancel(),a=null)},scroll:o}},j8e=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,c)=>{const u=Yn(l.current.client.selection,c);e({client:u})},s=(l,c)=>{if(!XP(l,c))return c;const u=y8e(l,c);if(!u)return t(l.descriptor.id,c),null;const d=ls(c,u);return t(l.descriptor.id,d),ls(c,d)},a=(l,c,u)=>{if(!l||!YP(c,u))return u;const d=v8e(c,u);if(!d)return n(u),null;const f=ls(u,d);return n(f),ls(u,f)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const u=ps(l.impact);u||xe();const d=s(l.dimensions.droppables[u],c);if(!d)return;const f=l.viewport,h=a(l.isWindowScrollAllowed,f,d);h&&r(l,h)}},S8e=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const s=b8e({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=j8e({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&a(c)}},start:s.start,stop:s.stop}};const Id="data-rfd",Dd=(()=>{const e=`${Id}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),kC=(()=>{const e=`${Id}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),N8e=(()=>{const e=`${Id}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),tL={contextId:`${Id}-scroll-container-context-id`},_8e=e=>t=>`[${t}="${e}"]`,Uf=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),C8e="pointer-events: none;";var E8e=e=>{const t=_8e(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Dd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:C8e,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${qh.outOfTheWay};
    `;return{selector:t(kC.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),s={selector:t(N8e.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Uf(o,"always"),resting:Uf(o,"resting"),dragging:Uf(o,"dragging"),dropAnimating:Uf(o,"dropAnimating"),userCancel:Uf(o,"userCancel")}};const k8e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect;var gs=k8e;const H1=()=>{const e=document.querySelector("head");return e||xe(),e},nL=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function A8e(e,t){const n=Ze(()=>E8e(e),[e]),r=v.useRef(null),s=v.useRef(null),a=De(Dn(f=>{const h=s.current;h||xe(),h.textContent=f}),[]),o=De(f=>{const h=r.current;h||xe(),h.textContent=f},[]);gs(()=>{!r.current&&!s.current||xe();const f=nL(t),h=nL(t);return r.current=f,s.current=h,f.setAttribute(`${Id}-always`,e),h.setAttribute(`${Id}-dynamic`,e),H1().appendChild(f),H1().appendChild(h),o(n.always),a(n.resting),()=>{const m=g=>{const p=g.current;p||xe(),H1().removeChild(p),g.current=null};m(r),m(s)}},[t,o,a,n.always,n.resting,e]);const l=De(()=>a(n.dragging),[a,n.dragging]),c=De(f=>{if(f==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),u=De(()=>{s.current&&a(n.resting)},[a,n.resting]);return Ze(()=>({dragging:l,dropping:c,resting:u}),[l,c,u])}function lG(e,t){return Array.from(e.querySelectorAll(t))}var cG=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Db(e){return e instanceof cG(e).HTMLElement}function P8e(e,t){const n=`[${Dd.contextId}="${e}"]`,r=lG(document,n);if(!r.length)return null;const s=r.find(a=>a.getAttribute(Dd.draggableId)===t);return!s||!Db(s)?null:s}function T8e(e){const t=v.useRef({}),n=v.useRef(null),r=v.useRef(null),s=v.useRef(!1),a=De(function(h,m){const g={id:h,focus:m};return t.current[h]=g,function(){const y=t.current;y[h]!==g&&delete y[h]}},[]),o=De(function(h){const m=P8e(e,h);m&&m!==document.activeElement&&m.focus()},[e]),l=De(function(h,m){n.current===h&&(n.current=m)},[]),c=De(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const h=n.current;h&&o(h)}))},[o]),u=De(function(h){n.current=null;const m=document.activeElement;m&&m.getAttribute(Dd.draggableId)===h&&(n.current=h)},[]);return gs(()=>(s.current=!0,function(){s.current=!1;const h=r.current;h&&cancelAnimationFrame(h)}),[]),Ze(()=>({register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[a,u,c,l])}function O8e(){const e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){const m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function r(f){t.length&&t.forEach(h=>h(f))}function s(f){return e.draggables[f]||null}function a(f){const h=s(f);return h||xe(),h}const o={register:f=>{e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,h)=>{const m=e.draggables[h.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[h.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const h=f.descriptor.id,m=s(h);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[h],e.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:a,findById:s,exists:f=>!!s(f),getAllByType:f=>Object.values(e.draggables).filter(h=>h.descriptor.type===f)};function l(f){return e.droppables[f]||null}function c(f){const h=l(f);return h||xe(),h}const u={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const h=l(f.descriptor.id);h&&f.uniqueId===h.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:l,exists:f=>!!l(f),getAllByType:f=>Object.values(e.droppables).filter(h=>h.descriptor.type===f)};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:u,subscribe:n,clean:d}}function I8e(){const e=Ze(O8e,[]);return v.useEffect(()=>function(){P.version.startsWith("16")||P.version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()},[e]),e}var JP=P.createContext(null),r0=()=>{const e=document.body;return e||xe(),e};const D8e={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var M8e=D8e;const R8e=e=>`rfd-announcement-${e}`;function $8e(e){const t=Ze(()=>R8e(e),[e]),n=v.useRef(null);return v.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Lo(a.style,M8e),r0().appendChild(a),function(){setTimeout(function(){const c=r0();c.contains(a)&&c.removeChild(a),a===n.current&&(n.current=null)})}},[t]),De(s=>{const a=n.current;if(a){a.textContent=s;return}},[])}let L8e=0;const uG={separator:"::"};function F8e(e,t=uG){return Ze(()=>`${e}${t.separator}${L8e++}`,[t.separator,e])}function B8e(e,t=uG){const n=P.useId();return Ze(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}var QP="useId"in P?B8e:F8e;function z8e({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function W8e({contextId:e,text:t}){const n=QP("hidden-text",{separator:"-"}),r=Ze(()=>z8e({contextId:e,uniqueId:n}),[n,e]);return v.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",r0().appendChild(a),function(){const l=r0();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var Mb=P.createContext(null);function dG(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}function V8e(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&xe();const l={abandon:o};return e=l,l}function s(){e||xe(),e=null}function a(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:n,claim:r,release:s,tryAbandon:a}}function jp(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const U8e=9,q8e=13,ZP=27,fG=32,H8e=33,G8e=34,K8e=35,Y8e=36,X8e=37,J8e=38,Q8e=39,Z8e=40,eWe={[q8e]:!0,[U8e]:!0};var hG=e=>{eWe[e.keyCode]&&e.preventDefault()};const tWe=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})();var Rb=tWe;const mG=0,rL=5;function nWe(e,t){return Math.abs(t.x-e.x)>=rL||Math.abs(t.y-e.y)>=rL}const sL={type:"IDLE"};function rWe({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:s=>{const{button:a,clientX:o,clientY:l}=s;if(a!==mG)return;const c={x:o,y:l},u=n();if(u.type==="DRAGGING"){s.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&xe();const d=u.point;if(!nWe(d,c))return;s.preventDefault();const f=u.actions.fluidLift(c);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:s=>{const a=n();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{n().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(n().type==="PENDING"){e();return}if(s.keyCode===ZP){s.preventDefault(),e();return}hG(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const a=n();if(a.type==="IDLE"&&xe(),a.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:Rb,fn:e}]}function sWe(e){const t=v.useRef(sL),n=v.useRef(Bo),r=Ze(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==mG||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const h=e.findClosestDraggableId(f);if(!h)return;const m=e.tryGetLock(h,o,{sourceEvent:f});if(!m)return;f.preventDefault();const g={x:f.clientX,y:f.clientY};n.current(),u(m,g)}}),[e]),s=Ze(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const f=e.findClosestDraggableId(d);if(!f)return;const h=e.findOptionsForDraggable(f);h&&(h.shouldRespectForcePress||e.canGetLock(f)&&d.preventDefault())}}),[e]),a=De(function(){const f={passive:!1,capture:!0};n.current=Bs(window,[s,r],f)},[s,r]),o=De(()=>{t.current.type!=="IDLE"&&(t.current=sL,n.current(),a())},[a]),l=De(()=>{const d=t.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),c=De(function(){const f={capture:!0,passive:!1},h=rWe({cancel:l,completed:o,getPhase:()=>t.current,setPhase:m=>{t.current=m}});n.current=Bs(window,h,f)},[l,o]),u=De(function(f,h){t.current.type!=="IDLE"&&xe(),t.current={type:"PENDING",point:h,actions:f},c()},[c]);gs(function(){return a(),function(){n.current()}},[a])}function aWe(){}const iWe={[G8e]:!0,[H8e]:!0,[Y8e]:!0,[K8e]:!0};function oWe(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===ZP){s.preventDefault(),n();return}if(s.keyCode===fG){s.preventDefault(),r();return}if(s.keyCode===Z8e){s.preventDefault(),e.moveDown();return}if(s.keyCode===J8e){s.preventDefault(),e.moveUp();return}if(s.keyCode===Q8e){s.preventDefault(),e.moveRight();return}if(s.keyCode===X8e){s.preventDefault(),e.moveLeft();return}if(iWe[s.keyCode]){s.preventDefault();return}hG(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Rb,fn:n}]}function lWe(e){const t=v.useRef(aWe),n=Ze(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==fG)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,d,{sourceEvent:a});if(!l)return;a.preventDefault();let c=!0;const u=l.snapLift();t.current();function d(){c||xe(),c=!1,t.current(),r()}t.current=Bs(window,oWe(u,d),{capture:!0,passive:!1})}}),[e]),r=De(function(){const a={passive:!1,capture:!0};t.current=Bs(window,[n],a)},[n]);gs(function(){return r(),function(){t.current()}},[r])}const G1={type:"IDLE"},cWe=120,uWe=.15;function dWe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===ZP&&n.preventDefault(),e()}},{eventName:Rb,fn:e}]}function fWe({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),s.actions.move(l)}},{eventName:"touchend",fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const s=n();s.type==="IDLE"&&xe();const a=r.touches[0];if(!a||!(a.force>=uWe))return;const l=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){l&&e();return}if(l){if(s.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Rb,fn:e}]}function hWe(e){const t=v.useRef(G1),n=v.useRef(Bo),r=De(function(){return t.current},[]),s=De(function(m){t.current=m},[]),a=Ze(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const g=e.findClosestDraggableId(m);if(!g)return;const p=e.tryGetLock(g,l,{sourceEvent:m});if(!p)return;const y=m.touches[0],{clientX:x,clientY:b}=y,j={x,y:b};n.current(),f(p,j)}}),[e]),o=De(function(){const m={capture:!0,passive:!1};n.current=Bs(window,[a],m)},[a]),l=De(()=>{const h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),s(G1),n.current(),o())},[o,s]),c=De(()=>{const h=t.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),u=De(function(){const m={capture:!0,passive:!1},g={cancel:c,completed:l,getPhase:r},p=Bs(window,fWe(g),m),y=Bs(window,dWe(g),m);n.current=function(){p(),y()}},[c,r,l]),d=De(function(){const m=r();m.type!=="PENDING"&&xe();const g=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:g,hasMoved:!1})},[r,s]),f=De(function(m,g){r().type!=="IDLE"&&xe();const p=setTimeout(d,cWe);s({type:"PENDING",point:g,actions:m,longPressTimerId:p}),u()},[u,r,s,d]);gs(function(){return o(),function(){n.current();const g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),s(G1))}},[r,o,s]),gs(function(){return Bs(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const mWe=["input","button","textarea","select","option","optgroup","video","audio"];function pG(e,t){if(t==null)return!1;if(mWe.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:pG(e,t.parentElement)}function pWe(e,t){const n=t.target;return Db(n)?pG(e,n):!1}var gWe=e=>pa(e.getBoundingClientRect()).center;function vWe(e){return e instanceof cG(e).Element}const yWe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function gG(e,t){return e==null?null:e[yWe](t)?e:gG(e.parentElement,t)}function xWe(e,t){return e.closest?e.closest(t):gG(e,t)}function wWe(e){return`[${Dd.contextId}="${e}"]`}function bWe(e,t){const n=t.target;if(!vWe(n))return null;const r=wWe(e),s=xWe(n,r);return!s||!Db(s)?null:s}function jWe(e,t){const n=bWe(e,t);return n?n.getAttribute(Dd.draggableId):null}function SWe(e,t){const n=`[${kC.contextId}="${e}"]`,s=lG(document,n).find(a=>a.getAttribute(kC.id)===t);return!s||!Db(s)?null:s}function NWe(e){e.preventDefault()}function gv({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function vG({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!sG(t.getState(),r))}function _We({lockAPI:e,contextId:t,store:n,registry:r,draggableId:s,forceSensorStop:a,sourceEvent:o}){if(!vG({lockAPI:e,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),u=SWe(t,c.descriptor.id);if(!u||o&&!c.options.canDragInteractiveElements&&pWe(u,o))return null;const d=e.claim(a||Bo);let f="PRE_DRAG";function h(){return c.options.shouldRespectForcePress}function m(){return e.isActive(d)}function g(S,N){gv({expected:S,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(N())}const p=g.bind(null,"DRAGGING");function y(S){function N(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(N(),xe()),n.dispatch(cze(S.liftActionArgs)),f="DRAGGING";function C(_,k={shouldBlockNextClick:!1}){if(S.cleanup(),k.shouldBlockNextClick){const A=Bs(window,[{eventName:"click",fn:NWe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(A)}N(),n.dispatch(X7({reason:_}))}return{isActive:()=>gv({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:h,drop:_=>C("DROP",_),cancel:_=>C("CANCEL",_),...S.actions}}function x(S){const N=gp(_=>{p(()=>Y7({client:_}))});return{...y({liftActionArgs:{id:s,clientSelection:S,movementMode:"FLUID"},cleanup:()=>N.cancel(),actions:{move:N}}),move:N}}function b(){const S={moveUp:()=>p(yze),moveRight:()=>p(wze),moveDown:()=>p(xze),moveLeft:()=>p(bze)};return y({liftActionArgs:{id:s,clientSelection:gWe(u),movementMode:"SNAP"},cleanup:Bo,actions:S})}function j(){gv({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>gv({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:x,snapLift:b,abort:j}}const CWe=[sWe,lWe,hWe];function EWe({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:s}){const a=[...s?CWe:[],...r||[]],o=v.useState(()=>V8e())[0],l=De(function(y,x){jp(y)&&!jp(x)&&o.tryAbandon()},[o]);gs(function(){let y=t.getState();return t.subscribe(()=>{const b=t.getState();l(y,b),y=b})},[o,t,l]),gs(()=>o.tryAbandon,[o.tryAbandon]);const c=De(p=>vG({lockAPI:o,registry:n,store:t,draggableId:p}),[o,n,t]),u=De((p,y,x)=>_We({lockAPI:o,registry:n,contextId:e,store:t,draggableId:p,forceSensorStop:y||null,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null}),[e,o,n,t]),d=De(p=>jWe(e,p),[e]),f=De(p=>{const y=n.draggable.findById(p);return y?y.options:null},[n.draggable]),h=De(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(UP()))},[o,t]),m=De(()=>o.isClaimed(),[o]),g=Ze(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:m}),[c,u,d,f,h,m]);for(let p=0;p<a.length;p++)a[p](g)}const kWe=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};P.version.startsWith("16")||P.version.startsWith("17")?n():ni.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),AWe=e=>({...bp,...e.autoScrollerOptions,durationDampening:{...bp.durationDampening,...e.autoScrollerOptions}});function qf(e){return e.current||xe(),e.current}function PWe(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:a}=e,o=v.useRef(null),l=dG(e),c=De(()=>kWe(l.current),[l]),u=De(()=>AWe(l.current),[l]),d=$8e(t),f=W8e({contextId:t,text:a}),h=A8e(t,s),m=De(A=>{qf(o).dispatch(A)},[]),g=Ze(()=>k4({publishWhileDragging:dze,updateDroppableScroll:hze,updateDroppableIsEnabled:mze,updateDroppableIsCombineEnabled:pze,collectionStarting:fze},m),[m]),p=I8e(),y=Ze(()=>i8e(p,g),[p,g]),x=Ze(()=>S8e({scrollWindow:o8e,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:u,...k4({move:Y7},m)}),[y.scrollDroppable,m,u]),b=T8e(t),j=Ze(()=>n8e({announce:d,autoScroller:x,dimensionMarshal:y,focusMarshal:b,getResponders:c,styleMarshal:h}),[d,x,y,b,c,h]);o.current=j;const w=De(()=>{const A=qf(o);A.getState().phase!=="IDLE"&&A.dispatch(UP())},[]),S=De(()=>{const A=qf(o).getState();return A.phase==="DROP_ANIMATING"?!0:A.phase==="IDLE"?!1:A.isDragging},[]),N=Ze(()=>({isDragging:S,tryAbort:w}),[S,w]);n(N);const C=De(A=>sG(qf(o).getState(),A),[]),_=De(()=>Dl(qf(o).getState()),[]),k=Ze(()=>({marshal:y,focus:b,contextId:t,canLift:C,isMovementAllowed:_,dragHandleUsageInstructionsId:f,registry:p}),[t,y,f,b,C,_,p]);return EWe({contextId:t,store:j,registry:p,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>w,[w]),P.createElement(Mb.Provider,{value:k},P.createElement(WBe,{context:JP,store:j},e.children))}let TWe=0;function OWe(){return Ze(()=>`${TWe++}`,[])}function IWe(){return P.useId()}var DWe="useId"in P?IWe:OWe;function yG(e){const t=DWe(),n=e.dragHandleUsageInstructions||Gv.dragHandleUsageInstructions;return P.createElement(JBe,null,r=>P.createElement(PWe,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const aL={dragging:5e3,dropAnimating:4500},MWe=(e,t)=>t?qh.drop(t.duration):e?qh.snap:qh.fluid,RWe=(e,t)=>{if(e)return t?wp.opacity.drop:wp.opacity.combining},$We=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function LWe(e){const n=e.dimension.client,{offset:r,combineWith:s,dropping:a}=e,o=!!s,l=$We(e),c=!!a,u=c?CC.drop(r,o):CC.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:MWe(l,a),transform:u,opacity:RWe(o,c),zIndex:c?aL.dropAnimating:aL.dragging,pointerEvents:"none"}}function FWe(e){return{transform:CC.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function BWe(e){return e.type==="DRAGGING"?LWe(e):FWe(e)}function zWe(e,t,n=$n){const r=window.getComputedStyle(t),s=t.getBoundingClientRect(),a=N7(s,r),o=Zx(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},c={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:a,page:o}}function WWe(e){const t=QP("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,c=Ze(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),u=De(m=>{const g=s();return g||xe(),zWe(n,g,m)},[n,s]),d=Ze(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),f=v.useRef(d),h=v.useRef(!0);gs(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),gs(()=>{if(h.current){h.current=!1;return}const m=f.current;f.current=d,r.draggable.update(d,m)},[d,r.draggable])}var e2=P.createContext(null);function s0(e){const t=v.useContext(e);return t||xe(),t}function VWe(e){e.preventDefault()}const UWe=e=>{const t=v.useRef(null),n=De((N=null)=>{t.current=N},[]),r=De(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:a,registry:o}=s0(Mb),{type:l,droppableId:c}=s0(e2),u=Ze(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:d,draggableId:f,isEnabled:h,shouldRespectForcePress:m,canDragInteractiveElements:g,isClone:p,mapped:y,dropAnimationFinished:x}=e;if(!p){const N=Ze(()=>({descriptor:u,registry:o,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:m,isEnabled:h}),[u,o,r,g,m,h]);WWe(N)}const b=Ze(()=>h?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:VWe}:null,[s,a,f,h]),j=De(N=>{y.type==="DRAGGING"&&y.dropping&&N.propertyName==="transform"&&(P.version.startsWith("16")||P.version.startsWith("17")?x():ni.flushSync(x))},[x,y]),w=Ze(()=>{const N=BWe(y),C=y.type==="DRAGGING"&&y.dropping?j:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":f,style:N,onTransitionEnd:C},dragHandleProps:b}},[s,b,f,y,j,n]),S=Ze(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return P.createElement(P.Fragment,null,d(w,y.snapshot,S))};var qWe=UWe,xG=(e,t)=>e===t,wG=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const HWe=e=>e.combine?e.combine.draggableId:null,GWe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function KWe(){const e=Dn((s,a)=>({x:s,y:a})),t=Dn((s,a,o=null,l=null,c=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:o,combineWith:l,combineTargetFor:null})),n=Dn((s,a,o,l,c=null,u=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:a,offset:s,dimension:o,forceShouldAnimate:d,snapshot:t(a,l,c,u,null)}}));return(s,a)=>{if(jp(s)){if(s.critical.draggable.id!==a.draggableId)return null;const o=s.current.client.offset,l=s.dimensions.draggables[a.draggableId],c=ps(s.impact),u=GWe(s.impact),d=s.forceShouldAnimate;return n(e(o.x,o.y),s.movementMode,l,a.isClone,c,u,d)}if(s.phase==="DROP_ANIMATING"){const o=s.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,c=s.dimensions.draggables[a.draggableId],u=o.result,d=u.mode,f=wG(u),h=HWe(u),g={duration:s.dropDuration,curve:HP.drop,moveTo:s.newHomeClientOffset,opacity:h?wp.opacity.drop:null,scale:h?wp.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:g,draggingOver:f,combineWith:h,mode:d,forceShouldAnimate:null,snapshot:t(d,l,f,h,g)}}}return null}}function bG(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const YWe={mapped:{type:"SECONDARY",offset:$n,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:bG(null)}};function XWe(){const e=Dn((o,l)=>({x:o,y:l})),t=Dn(bG),n=Dn((o,l=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),r=o=>o?n($n,o,!0):null,s=(o,l,c,u)=>{const d=c.displaced.visible[o],f=!!(u.inVirtualList&&u.effected[o]),h=Tb(c),m=h&&h.draggableId===o?l:null;if(!d){if(!f)return r(m);if(c.displaced.invisible[o])return null;const y=gf(u.displacedBy.point),x=e(y.x,y.y);return n(x,m,!0)}if(f)return r(m);const g=c.displacedBy.point,p=e(g.x,g.y);return n(p,m,d.shouldAnimate)};return(o,l)=>{if(jp(o))return o.critical.draggable.id===l.draggableId?null:s(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===l.draggableId?null:s(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const JWe=()=>{const e=KWe(),t=XWe();return(r,s)=>e(r,s)||t(r,s)||YWe},QWe={dropAnimationFinished:J7},ZWe=j7(JWe,QWe,null,{context:JP,areStatePropsEqual:xG})(qWe);var eVe=ZWe;function jG(e){return s0(e2).isUsingCloneFor===e.draggableId&&!e.isClone?null:P.createElement(eVe,e)}function t2(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return P.createElement(jG,Lo({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const SG=e=>t=>e===t,tVe=SG("scroll"),nVe=SG("auto"),iL=(e,t)=>t(e.overflowX)||t(e.overflowY),rVe=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return iL(n,tVe)||iL(n,nVe)},sVe=()=>!1,NG=e=>e==null?null:e===document.body?sVe()?e:null:e===document.documentElement?null:rVe(e)?e:NG(e.parentElement);var AC=e=>({x:e.scrollLeft,y:e.scrollTop});const _G=e=>e?window.getComputedStyle(e).position==="fixed"?!0:_G(e.parentElement):!1;var aVe=e=>{const t=NG(e),n=_G(e);return{closestScrollable:t,isFixedOnPage:n}},iVe=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:a,page:o,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:h,client:m}=l,g=tG({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:m,scrollSize:h,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:g,diff:{value:$n,displacement:$n}}}})(),u=s==="vertical"?FP:D7,d=Od({page:o,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:a,page:o,frame:c,subject:d}};const oVe=(e,t)=>{const n=_7(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=s+t.scrollWidth,c=MP({top:r,right:o,bottom:a,left:s},n.border);return RP({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var lVe=({ref:e,descriptor:t,env:n,windowScroll:r,direction:s,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const c=n.closestScrollable,u=oVe(e,c),d=Zx(u,r),f=(()=>{if(!c)return null;const m=_7(c),g={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:Zx(m,r),scroll:AC(c),scrollSize:g,shouldClipSubject:l}})();return iVe({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:s,client:u,page:d,closest:f})};const cVe={passive:!1},uVe={passive:!0};var oL=e=>e.shouldPublishImmediately?cVe:uVe;const vv=e=>e&&e.env.closestScrollable||null;function dVe(e){const t=v.useRef(null),n=s0(Mb),r=QP("droppable"),{registry:s,marshal:a}=n,o=dG(e),l=Ze(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=v.useRef(l),u=Ze(()=>Dn((w,S)=>{t.current||xe();const N={x:w,y:S};a.updateDroppableScroll(l.id,N)}),[l.id,a]),d=De(()=>{const w=t.current;return!w||!w.env.closestScrollable?$n:AC(w.env.closestScrollable)},[]),f=De(()=>{const w=d();u(w.x,w.y)},[d,u]),h=Ze(()=>gp(f),[f]),m=De(()=>{const w=t.current,S=vv(w);if(w&&S||xe(),w.scrollOptions.shouldPublishImmediately){f();return}h()},[h,f]),g=De((w,S)=>{t.current&&xe();const N=o.current,C=N.getDroppableRef();C||xe();const _=aVe(C),k={ref:C,descriptor:l,env:_,scrollOptions:S};t.current=k;const A=lVe({ref:C,descriptor:l,env:_,windowScroll:w,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),T=_.closestScrollable;return T&&(T.setAttribute(tL.contextId,n.contextId),T.addEventListener("scroll",m,oL(k.scrollOptions))),A},[n.contextId,l,m,o]),p=De(()=>{const w=t.current,S=vv(w);return w&&S||xe(),AC(S)},[]),y=De(()=>{const w=t.current;w||xe();const S=vv(w);t.current=null,S&&(h.cancel(),S.removeAttribute(tL.contextId),S.removeEventListener("scroll",m,oL(w.scrollOptions)))},[m,h]),x=De(w=>{const S=t.current;S||xe();const N=vv(S);N||xe(),N.scrollTop+=w.y,N.scrollLeft+=w.x},[]),b=Ze(()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:p,dragStopped:y,scroll:x}),[y,g,p,x]),j=Ze(()=>({uniqueId:r,descriptor:l,callbacks:b}),[b,l,r]);gs(()=>(c.current=j.descriptor,s.droppable.register(j),()=>{t.current&&y(),s.droppable.unregister(j)}),[b,l,y,j,a,s.droppable]),gs(()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),gs(()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function K1(){}const lL={width:0,height:0,margin:s6e},fVe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?lL:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},hVe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=fVe({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?qh.placeholder:null}},mVe=e=>{const t=v.useRef(null),n=De(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:a,contextId:o}=e,[l,c]=v.useState(e.animate==="open");v.useEffect(()=>l?r!=="open"?(n(),c(!1),K1):t.current?K1:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):K1,[r,l,n]);const u=De(f=>{f.propertyName==="height"&&(s(),r==="close"&&a())},[r,a,s]),d=hVe({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return P.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})};var pVe=P.memo(mVe);class gVe extends P.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const vVe=e=>{const t=v.useContext(Mb);t||xe();const{contextId:n,isMovementAllowed:r}=t,s=v.useRef(null),a=v.useRef(null),{children:o,droppableId:l,type:c,mode:u,direction:d,ignoreContainerClipping:f,isDropDisabled:h,isCombineEnabled:m,snapshot:g,useClone:p,updateViewportMaxScroll:y,getContainerForClone:x}=e,b=De(()=>s.current,[]),j=De((T=null)=>{s.current=T},[]);De(()=>a.current,[]);const w=De((T=null)=>{a.current=T},[]),S=De(()=>{r()&&y({maxScroll:rG()})},[r,y]);dVe({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:b});const N=Ze(()=>P.createElement(gVe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:T,data:D,animate:F})=>P.createElement(pVe,{placeholder:D,onClose:T,innerRef:w,animate:F,contextId:n,onTransitionEnd:S})),[n,S,e.placeholder,e.shouldAnimatePlaceholder,w]),C=Ze(()=>({innerRef:j,placeholder:N,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,N,j]),_=p?p.dragging.draggableId:null,k=Ze(()=>({droppableId:l,type:c,isUsingCloneFor:_}),[l,_,c]);function A(){if(!p)return null;const{dragging:T,render:D}=p,F=P.createElement(jG,{draggableId:T.draggableId,index:T.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(E,$)=>D(E,$,T));return P0.createPortal(F,x())}return P.createElement(e2.Provider,{value:k},o(C,g),A())};var yVe=vVe;function xVe(){return document.body||xe(),document.body}const cL={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:xVe},CG=e=>{let t={...e},n;for(n in cL)e[n]===void 0&&(t={...t,[n]:cL[n]});return t},Y1=(e,t)=>e===t.droppable.type,uL=(e,t)=>t.draggables[e.draggable.id],wVe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Dn(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=Dn((a,o,l,c,u,d)=>{const f=u.descriptor.id;if(u.descriptor.droppableId===a){const g=d?{render:d,dragging:n(u.descriptor)}:null,p={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:p,useClone:g}}if(!o)return t;if(!c)return e;const m={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(a,o)=>{const l=CG(o),c=l.droppableId,u=l.type,d=!l.isDropDisabled,f=l.renderClone;if(jp(a)){const h=a.critical;if(!Y1(u,h))return t;const m=uL(h,a.dimensions),g=ps(a.impact)===c;return r(c,d,g,g,m,f)}if(a.phase==="DROP_ANIMATING"){const h=a.completed;if(!Y1(u,h.critical))return t;const m=uL(h.critical,a.dimensions);return r(c,d,wG(h.result)===c,ps(h.impact)===c,m,f)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const h=a.completed;if(!Y1(u,h.critical))return t;const m=ps(h.impact)===c,g=!!(h.impact.at&&h.impact.at.type==="COMBINE"),p=h.critical.droppable.id===c;return m?g?e:t:p?e:t}return t}},bVe={updateViewportMaxScroll:vze},jVe=j7(wVe,bVe,(e,t,n)=>({...CG(n),...e,...t}),{context:JP,areStatePropsEqual:xG})(yVe);var n2=jVe;const Mc=ka((e,t)=>({boards:[],currentBoard:null,stages:[],assignments:[],loading:!1,fetchBoards:async()=>{await G.handleAsync(async()=>{const n=be.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("kanban_boards").select("*").eq("workspace_id",n.id).order("created_at",{ascending:!1});if(s)throw s;e({boards:r||[]})})},fetchBoardData:async n=>{await G.handleAsync(async()=>{e({loading:!0});const{data:r,error:s}=await U.from("kanban_stages").select("*").eq("board_id",n).order("position",{ascending:!0});if(s)throw s;const{data:a,error:o}=await U.from("kanban_client_assignments").select(`
          *,
          client:clients(*)
        `).eq("board_id",n).order("position",{ascending:!0});if(o)throw o;e({stages:r||[],assignments:a||[],loading:!1})})},createBoard:async n=>await G.handleAsync(async()=>{const r=be.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");const{data:s,error:a}=await U.from("kanban_boards").insert({...n,workspace_id:r.id}).select().single();if(a)throw a;const o=[{name:"Novo Lead",color:"#3b82f6",position:0},{name:"Contatado",color:"#f59e0b",position:1},{name:"Qualificado",color:"#10b981",position:2},{name:"Cliente",color:"#8b5cf6",position:3}];for(const l of o)await U.from("kanban_stages").insert({...l,board_id:s.id});return t().fetchBoards(),G.showSuccess("Quadro Kanban criado com sucesso!"),s})||null,updateBoard:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("kanban_boards").update(r).eq("id",n);if(s)throw s;t().fetchBoards(),G.showSuccess("Quadro atualizado com sucesso!")})},deleteBoard:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("kanban_boards").delete().eq("id",n);if(r)throw r;const s=t().currentBoard;(s==null?void 0:s.id)===n&&e({currentBoard:null,stages:[],assignments:[]}),t().fetchBoards(),G.showSuccess("Quadro deletado com sucesso!")})},setCurrentBoard:n=>{e({currentBoard:n}),t().fetchBoardData(n.id)},createStage:async(n,r)=>await G.handleAsync(async()=>{const s=t().stages,a=s.length>0?Math.max(...s.map(c=>c.position)):-1,{data:o,error:l}=await U.from("kanban_stages").insert({...r,board_id:n,position:a+1,color:r.color||"#3b82f6"}).select().single();if(l)throw l;return t().fetchBoardData(n),G.showSuccess("Fase criada com sucesso!"),o})||null,updateStage:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("kanban_stages").update(r).eq("id",n);if(s)throw s;const a=t().currentBoard;a&&t().fetchBoardData(a.id),G.showSuccess("Fase atualizada com sucesso!")})},deleteStage:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("kanban_stages").delete().eq("id",n);if(r)throw r;const s=t().currentBoard;s&&t().fetchBoardData(s.id),G.showSuccess("Fase deletada com sucesso!")})},reorderStages:async(n,r)=>{await G.handleAsync(async()=>{const s=r.map((a,o)=>({id:a,position:o}));for(const a of s)await U.from("kanban_stages").update({position:a.position}).eq("id",a.id);t().fetchBoardData(n)})},assignClientsToStage:async(n,r,s)=>{await G.handleAsync(async()=>{const a=t().assignments.filter(u=>u.stage_id===r),o=a.length>0?Math.max(...a.map(u=>u.position)):-1,l=s.map((u,d)=>({board_id:n,stage_id:r,client_id:u,position:o+1+d})),{error:c}=await U.from("kanban_client_assignments").upsert(l,{onConflict:"board_id,client_id",ignoreDuplicates:!1});if(c)throw c;t().fetchBoardData(n),G.showSuccess(`${s.length} cliente(s) adicionado(s) ao quadro!`)})},moveClientToStage:async(n,r,s)=>{await G.handleAsync(async()=>{const{error:a}=await U.from("kanban_client_assignments").update({stage_id:r,position:s}).eq("id",n);if(a)throw a;const o=t().currentBoard;o&&t().fetchBoardData(o.id)})},removeClientFromBoard:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("kanban_client_assignments").delete().eq("id",n);if(r)throw r;const s=t().currentBoard;s&&t().fetchBoardData(s.id),G.showSuccess("Cliente removido do quadro!")})},reorderClientsInStage:async(n,r)=>{await G.handleAsync(async()=>{const s=r.map((o,l)=>({id:o,position:l}));for(const o of s)await U.from("kanban_client_assignments").update({position:o.position}).eq("id",o.id);const a=t().currentBoard;a&&t().fetchBoardData(a.id)})},getUnassignedClients:async()=>await G.handleAsync(async()=>{const n=be.getState().currentWorkspace,r=t().currentBoard;if(!n||!r)return[];const{data:s,error:a}=await U.from("clients").select("*").eq("workspace_id",n.id);if(a)throw a;const{data:o,error:l}=await U.from("kanban_client_assignments").select("client_id").eq("board_id",r.id);if(l)throw l;const c=new Set((o==null?void 0:o.map(u=>u.client_id))||[]);return(s||[]).filter(u=>!c.has(u.id))})||[]}));function SVe({assignment:e}){const{removeClientFromBoard:t}=Mc(),{client:n}=e;if(!n)return null;const r=async()=>{await t(e.id)},s=a=>a.split(" ").map(o=>o[0]).join("").toUpperCase();return i.jsx(re,{className:"cursor-grab hover:cursor-grabbing hover:shadow-md transition-shadow",children:i.jsxs(se,{className:"p-3",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-medium text-blue-600",children:s(n.name)})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:n.name})})]}),i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:i.jsx(Bp,{className:"h-3 w-3"})})}),i.jsx(Ea,{children:i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsxs(at,{onSelect:a=>a.preventDefault(),children:[i.jsx($a,{className:"h-4 w-4 mr-2"}),"Remover do Quadro"]})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Remover Cliente"}),i.jsxs(cn,{children:['Tem certeza que deseja remover "',n.name,'" deste quadro Kanban?']})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{onClick:r,children:"Remover"})]})]})]})})]})]}),i.jsxs("div",{className:"space-y-1",children:[n.phone&&i.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[i.jsx(Ha,{className:"h-3 w-3"}),i.jsx("span",{className:"truncate",children:n.phone})]}),n.email&&i.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[i.jsx(ja,{className:"h-3 w-3"}),i.jsx("span",{className:"truncate",children:n.email})]})]}),n.tags&&n.tags.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[n.tags.slice(0,2).map(a=>i.jsx(fe,{variant:"secondary",className:"text-xs",children:a},a)),n.tags.length>2&&i.jsxs(fe,{variant:"secondary",className:"text-xs",children:["+",n.tags.length-2]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-2 text-xs text-gray-500",children:[i.jsxs("span",{children:["Pedidos: ",n.total_orders||0]}),i.jsxs("span",{children:["R$ ",(n.total_spent||0).toFixed(2)]})]})]})})}const NVe=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316","#6366f1"];function _Ve({stage:e,assignments:t,dragHandleProps:n}){const{updateStage:r,deleteStage:s,currentBoard:a}=Mc(),[o,l]=v.useState(!1),[c,u]=v.useState({name:e.name,color:e.color}),d=async()=>{await r(e.id,c),l(!1)},f=async()=>{await s(e.id)};return i.jsxs(re,{className:"w-80 h-full flex flex-col",children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),i.jsx(ge,{className:"text-sm font-medium",children:e.name}),i.jsx(fe,{variant:"secondary",className:"text-xs",children:t.length})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{...n,className:"cursor-grab hover:cursor-grabbing",children:i.jsx(k6,{className:"h-4 w-4 text-gray-400"})}),i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",children:i.jsx(Bp,{className:"h-4 w-4"})})}),i.jsxs(Ea,{children:[i.jsxs(ot,{open:o,onOpenChange:l,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(at,{onSelect:h=>h.preventDefault(),children:[i.jsx(wi,{className:"h-4 w-4 mr-2"}),"Editar Fase"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Editar Fase"}),i.jsx(ft,{children:"Altere o nome e a cor da fase"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"stageName",children:"Nome da Fase"}),i.jsx(ie,{id:"stageName",value:c.name,onChange:h=>u({...c,name:h.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Cor da Fase"}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:NVe.map(h=>i.jsx("button",{className:`w-8 h-8 rounded-full border-2 ${c.color===h?"border-gray-900":"border-gray-300"}`,style:{backgroundColor:h},onClick:()=>u({...c,color:h})},h))})]})]}),i.jsx(yt,{children:i.jsx(B,{onClick:d,children:"Salvar"})})]})]}),i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsxs(at,{onSelect:h=>h.preventDefault(),children:[i.jsx(js,{className:"h-4 w-4 mr-2"}),"Deletar Fase"]})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Deletar Fase"}),i.jsxs(cn,{children:['Tem certeza que deseja deletar a fase "',e.name,'"? Todos os clientes nesta fase sero removidos do quadro.']})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{onClick:f,className:"bg-red-600 hover:bg-red-700",children:"Deletar"})]})]})]})]})]})]})]})}),i.jsx(se,{className:"flex-1 overflow-hidden p-3",children:i.jsx(n2,{droppableId:e.id,type:"client",children:(h,m)=>i.jsxs("div",{ref:h.innerRef,...h.droppableProps,className:`h-full overflow-y-auto space-y-3 ${m.isDraggingOver?"bg-blue-50 rounded-lg":""}`,children:[t.map((g,p)=>i.jsx(t2,{draggableId:g.id,index:p,children:(y,x)=>i.jsx("div",{ref:y.innerRef,...y.draggableProps,...y.dragHandleProps,className:x.isDragging?"opacity-50":"",children:i.jsx(SVe,{assignment:g})})},g.id)),h.placeholder,t.length===0&&i.jsx("div",{className:"text-center text-gray-500 text-sm py-8",children:"Nenhum cliente nesta fase"})]})})})]})}function CVe(){const{currentBoard:e,stages:t,assignments:n,moveClientToStage:r,reorderClientsInStage:s,reorderStages:a}=Mc(),[o,l]=v.useState(!1);if(v.useEffect(()=>{l(!0)},[]),!o||!e)return null;const c=async d=>{const{destination:f,source:h,type:m}=d;if(f&&!(f.droppableId===h.droppableId&&f.index===h.index)){if(m==="stage"){const g=Array.from(t),[p]=g.splice(h.index,1);g.splice(f.index,0,p);const y=g.map(x=>x.id);await a(e.id,y);return}if(m==="client"){const g=h.droppableId,p=f.droppableId;if(g===p){const y=n.filter(w=>w.stage_id===g).sort((w,S)=>w.position-S.position),x=Array.from(y),[b]=x.splice(h.index,1);x.splice(f.index,0,b);const j=x.map(w=>w.id);await s(g,j)}else{const x=n.filter(b=>b.stage_id===g).sort((b,j)=>b.position-j.position)[h.index];x&&await r(x.id,p,f.index)}}}},u=d=>n.filter(f=>f.stage_id===d).sort((f,h)=>f.position-h.position);return i.jsx("div",{className:"h-full overflow-hidden",children:i.jsx(yG,{onDragEnd:c,children:i.jsx(n2,{droppableId:"board",type:"stage",direction:"horizontal",children:d=>i.jsxs("div",{ref:d.innerRef,...d.droppableProps,className:"flex gap-6 h-full overflow-x-auto pb-4",children:[t.map((f,h)=>i.jsx(t2,{draggableId:f.id,index:h,children:(m,g)=>i.jsx("div",{ref:m.innerRef,...m.draggableProps,className:`flex-shrink-0 ${g.isDragging?"opacity-50":""}`,children:i.jsx(_Ve,{stage:f,assignments:u(f.id),dragHandleProps:m.dragHandleProps})})},f.id)),d.placeholder]})})})})}function EVe({open:e,onOpenChange:t}){const{createBoard:n}=Mc(),[r,s]=v.useState({name:"",description:""}),[a,o]=v.useState(!1),l=async c=>{if(c.preventDefault(),!!r.name.trim()){o(!0);try{await n(r),s({name:"",description:""}),t(!1)}catch(u){console.error("Error creating board:",u)}finally{o(!1)}}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(nn,{className:"h-4 w-4 mr-2"}),"Novo Quadro"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Criar Novo Quadro Kanban"}),i.jsx(ft,{children:"Crie um novo quadro para organizar seus clientes em fases personalizadas"})]}),i.jsxs("form",{onSubmit:l,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"boardName",children:"Nome do Quadro *"}),i.jsx(ie,{id:"boardName",value:r.name,onChange:c=>s({...r,name:c.target.value}),placeholder:"Ex: Pipeline de Vendas",required:!0})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"boardDescription",children:"Descrio (Opcional)"}),i.jsx(vt,{id:"boardDescription",value:r.description,onChange:c=>s({...r,description:c.target.value}),placeholder:"Descreva o propsito deste quadro...",rows:3})]})]}),i.jsx(yt,{className:"mt-6",children:i.jsx(B,{type:"submit",disabled:a||!r.name.trim(),children:a?"Criando...":"Criar Quadro"})})]})]})]})}var r2="Checkbox",[kVe,VKe]=Ss(r2),[AVe,PVe]=kVe(r2),EG=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=v.useState(null),g=ze(t,w=>m(w)),p=v.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,b]=Na({prop:s,defaultProp:a,onChange:u}),j=v.useRef(x);return v.useEffect(()=>{const w=h==null?void 0:h.form;if(w){const S=()=>b(j.current);return w.addEventListener("reset",S),()=>w.removeEventListener("reset",S)}},[h,b]),i.jsxs(AVe,{scope:n,state:x,disabled:l,children:[i.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":Wo(x)?"mixed":x,"aria-required":o,"data-state":PG(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onKeyDown:ye(e.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:ye(e.onClick,w=>{b(S=>Wo(S)?!0:!S),y&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),y&&i.jsx(TVe,{control:h,bubbles:!p.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Wo(a)?!1:a})]})});EG.displayName=r2;var kG="CheckboxIndicator",AG=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=PVe(kG,n);return i.jsx(Zn,{present:r||Wo(a.state)||a.state===!0,children:i.jsx(Me.span,{"data-state":PG(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});AG.displayName=kG;var TVe=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...a}=e,o=v.useRef(null),l=hb(n),c=ow(t);v.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&m){const g=new Event("click",{bubbles:r});d.indeterminate=Wo(n),m.call(d,Wo(n)?!1:n),d.dispatchEvent(g)}},[l,n,r]);const u=v.useRef(Wo(n)?!1:n);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Wo(e){return e==="indeterminate"}function PG(e){return Wo(e)?"indeterminate":e?"checked":"unchecked"}var TG=EG,OVe=AG;const a0=v.forwardRef(({className:e,...t},n)=>i.jsx(TG,{ref:n,className:ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(OVe,{className:ve("flex items-center justify-center text-current"),children:i.jsx(J8,{className:"h-4 w-4"})})}));a0.displayName=TG.displayName;function IVe({open:e,onOpenChange:t,boardId:n}){const{stages:r,assignClientsToStage:s,getUnassignedClients:a}=Mc(),[o,l]=v.useState([]),[c,u]=v.useState([]),[d,f]=v.useState(""),[h,m]=v.useState(""),[g,p]=v.useState(!1);v.useEffect(()=>{e&&(y(),u([]),f(""),m(""))},[e]);const y=async()=>{try{const S=await a();l(S)}catch(S){console.error("Error loading unassigned clients:",S)}},x=o.filter(S=>{var N,C;return S.name.toLowerCase().includes(h.toLowerCase())||((N=S.email)==null?void 0:N.toLowerCase().includes(h.toLowerCase()))||((C=S.phone)==null?void 0:C.includes(h))}),b=S=>{u(N=>N.includes(S)?N.filter(C=>C!==S):[...N,S])},j=()=>{c.length===x.length?u([]):u(x.map(S=>S.id))},w=async S=>{if(S.preventDefault(),!(c.length===0||!d)){p(!0);try{await s(n,d,c),t(!1)}catch(N){console.error("Error assigning clients:",N)}finally{p(!1)}}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Adicionar Clientes"]})}),i.jsxs(et,{className:"max-w-2xl max-h-[80vh]",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Adicionar Clientes ao Quadro"}),i.jsx(ft,{children:"Selecione os clientes que deseja adicionar ao quadro Kanban"})]}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"stage",children:"Fase de Destino *"}),i.jsxs(Oe,{value:d,onValueChange:f,children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione uma fase"})}),i.jsx(Te,{children:r.map(S=>i.jsx(K,{value:S.id,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:S.color}}),i.jsx("span",{children:S.name})]})},S.id))})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"search",children:"Buscar Clientes"}),i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ie,{id:"search",value:h,onChange:S=>m(S.target.value),placeholder:"Buscar por nome, email ou telefone...",className:"pl-10"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Y,{children:["Clientes Disponveis (",x.length,")"]}),i.jsx(B,{type:"button",variant:"outline",size:"sm",onClick:j,children:c.length===x.length?"Desmarcar Todos":"Selecionar Todos"})]}),i.jsx(mp,{className:"h-64 border rounded-md p-2",children:x.length===0?i.jsx("div",{className:"text-center text-gray-500 py-8",children:o.length===0?"Todos os clientes j esto no quadro":"Nenhum cliente encontrado"}):i.jsx("div",{className:"space-y-2",children:x.map(S=>i.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-md",children:[i.jsx(a0,{checked:c.includes(S.id),onCheckedChange:()=>b(S.id)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:S.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:[S.email&&i.jsx("span",{children:S.email}),S.email&&S.phone&&i.jsx("span",{children:"  "}),S.phone&&i.jsx("span",{children:S.phone})]}),S.tags&&S.tags.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[S.tags.slice(0,3).map(N=>i.jsx(fe,{variant:"secondary",className:"text-xs",children:N},N)),S.tags.length>3&&i.jsxs(fe,{variant:"secondary",className:"text-xs",children:["+",S.tags.length-3]})]})]})]},S.id))})})]}),c.length>0&&i.jsx("div",{className:"bg-blue-50 p-3 rounded-md",children:i.jsxs("div",{className:"text-sm font-medium text-blue-900",children:[c.length," cliente(s) selecionado(s)"]})}),i.jsx(yt,{children:i.jsx(B,{type:"submit",disabled:g||c.length===0||!d,children:g?"Adicionando...":`Adicionar ${c.length} Cliente(s)`})})]})]})]})}const dL=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316","#6366f1"];function DVe({open:e,onOpenChange:t,boardId:n}){const{stages:r,assignments:s,createStage:a,updateStage:o,deleteStage:l,reorderStages:c}=Mc(),[u,d]=v.useState(""),[f,h]=v.useState("#3b82f6"),[m,g]=v.useState(null),[p,y]=v.useState({name:"",color:""}),[x,b]=v.useState(!1),[j,w]=v.useState(!1);v.useEffect(()=>{w(!0)},[]);const S=async T=>{if(T.preventDefault(),!!u.trim()){b(!0);try{await a(n,{name:u,color:f}),d(""),h("#3b82f6")}catch(D){console.error("Error creating stage:",D)}finally{b(!1)}}},N=async T=>{if(p.name.trim()){b(!0);try{await o(T,p),g(null)}catch(D){console.error("Error updating stage:",D)}finally{b(!1)}}},C=async T=>{b(!0);try{await l(T)}catch(D){console.error("Error deleting stage:",D)}finally{b(!1)}},_=async T=>{if(!T.destination)return;const D=Array.from(r),[F]=D.splice(T.source.index,1);D.splice(T.destination.index,0,F);const E=D.map($=>$.id);await c(n,E)},k=T=>s.filter(D=>D.stage_id===T).length,A=T=>{g(T.id),y({name:T.name,color:T.color})};return j?i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(oc,{className:"h-4 w-4 mr-2"}),"Gerenciar Fases"]})}),i.jsxs(et,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Gerenciar Fases do Quadro"}),i.jsx(ft,{children:"Adicione, edite, remova e reordene as fases do seu quadro Kanban"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Criar Nova Fase"}),i.jsxs("form",{onSubmit:S,className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"stageName",children:"Nome da Fase"}),i.jsx(ie,{id:"stageName",value:u,onChange:T=>d(T.target.value),placeholder:"Ex: Proposta Enviada"})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Cor da Fase"}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:dL.map(T=>i.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 ${f===T?"border-gray-900":"border-gray-300"}`,style:{backgroundColor:T},onClick:()=>h(T)},T))})]}),i.jsxs(B,{type:"submit",disabled:x||!u.trim(),children:[i.jsx(nn,{className:"h-4 w-4 mr-2"}),"Criar Fase"]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-medium mb-3",children:["Fases Existentes (",r.length,")"]}),i.jsx(yG,{onDragEnd:_,children:i.jsx(n2,{droppableId:"stages",children:T=>i.jsxs("div",{ref:T.innerRef,...T.droppableProps,className:"space-y-2",children:[r.map((D,F)=>i.jsx(t2,{draggableId:D.id,index:F,children:(E,$)=>i.jsx(re,{ref:E.innerRef,...E.draggableProps,className:$.isDragging?"opacity-50":"",children:i.jsx(se,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{...E.dragHandleProps,children:i.jsx(k6,{className:"h-4 w-4 text-gray-400 cursor-grab"})}),i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:D.color}}),m===D.id?i.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[i.jsx(ie,{value:p.name,onChange:O=>y({...p,name:O.target.value}),className:"flex-1"}),i.jsx("div",{className:"flex space-x-1",children:dL.map(O=>i.jsx("button",{type:"button",className:`w-6 h-6 rounded-full border ${p.color===O?"border-gray-900":"border-gray-300"}`,style:{backgroundColor:O},onClick:()=>y({...p,color:O})},O))})]}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"font-medium",children:D.name}),i.jsxs(fe,{variant:"secondary",children:[k(D.id)," clientes"]})]})]}),i.jsx("div",{className:"flex items-center space-x-1",children:m===D.id?i.jsxs(i.Fragment,{children:[i.jsx(B,{size:"sm",onClick:()=>N(D.id),disabled:x,children:"Salvar"}),i.jsx(B,{size:"sm",variant:"outline",onClick:()=>g(null),children:"Cancelar"})]}):i.jsxs(i.Fragment,{children:[i.jsx(B,{size:"sm",variant:"ghost",onClick:()=>A(D),children:i.jsx(wi,{className:"h-4 w-4"})}),i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsx(B,{size:"sm",variant:"ghost",children:i.jsx(js,{className:"h-4 w-4"})})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Deletar Fase"}),i.jsxs(cn,{children:['Tem certeza que deseja deletar a fase "',D.name,'"? Todos os ',k(D.id)," clientes nesta fase sero removidos do quadro."]})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{onClick:()=>C(D.id),className:"bg-red-600 hover:bg-red-700",children:"Deletar"})]})]})]})]})})]})})})},D.id)),T.placeholder]})})})]})]}),i.jsx(yt,{children:i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"})})]})]}):null}function MVe(){const{boards:e,currentBoard:t,stages:n,assignments:r,loading:s,fetchBoards:a,setCurrentBoard:o,deleteBoard:l}=Mc(),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState(!1);v.useEffect(()=>{a()},[a]),v.useEffect(()=>{!t&&e.length>0&&o(e[0])},[e,t,o]);const g=b=>{const j=e.find(w=>w.id===b);j&&o(j)},p=async b=>{if(await l(b),(t==null?void 0:t.id)===b&&e.length>1){const j=e.filter(w=>w.id!==b);j.length>0&&o(j[0])}},y=r.length,x=n.filter(b=>r.some(j=>j.stage_id===b.id)).length;return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full flex flex-col",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Kanban"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie clientes atravs de fases personalizveis"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(EVe,{open:c,onOpenChange:u}),t&&i.jsxs(i.Fragment,{children:[i.jsx(IVe,{open:d,onOpenChange:f,boardId:t.id}),i.jsx(DVe,{open:h,onOpenChange:m,boardId:t.id})]})]})]}),e.length>0&&i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[i.jsxs(re,{className:"flex-1",children:[i.jsx(pe,{className:"pb-3",children:i.jsx(ge,{className:"text-lg",children:"Quadro Atual"})}),i.jsxs(se,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Oe,{value:(t==null?void 0:t.id)||"",onValueChange:g,children:[i.jsx(Pe,{className:"w-64",children:i.jsx(Ie,{placeholder:"Selecione um quadro"})}),i.jsx(Te,{children:e.map(b=>i.jsx(K,{value:b.id,children:b.name},b.id))})]}),t&&i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",children:i.jsx(Bp,{className:"h-4 w-4"})})}),i.jsxs(Ea,{children:[i.jsxs(at,{onClick:()=>m(!0),children:[i.jsx(oc,{className:"h-4 w-4 mr-2"}),"Gerenciar Fases"]}),i.jsxs(at,{onClick:()=>f(!0),children:[i.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Adicionar Clientes"]}),i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsxs(at,{onSelect:b=>b.preventDefault(),children:[i.jsx(js,{className:"h-4 w-4 mr-2"}),"Deletar Quadro"]})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Deletar Quadro"}),i.jsxs(cn,{children:['Tem certeza que deseja deletar o quadro "',t.name,'"? Esta ao no pode ser desfeita e todos os dados do quadro sero perdidos.']})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{onClick:()=>p(t.id),className:"bg-red-600 hover:bg-red-700",children:"Deletar"})]})]})]})]})]})]}),(t==null?void 0:t.description)&&i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:t.description})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total de Clientes"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Fases"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:x}),i.jsx("div",{className:"text-sm text-gray-600",children:"Fases Ativas"})]})})]})]}),i.jsx("div",{className:"flex-1 min-h-0",children:s?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?i.jsx(CVe,{}):e.length===0?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(oc,{className:"h-8 w-8 text-gray-400"})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum quadro Kanban"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Crie seu primeiro quadro Kanban para comear a organizar seus clientes"}),i.jsxs(B,{onClick:()=>u(!0),children:[i.jsx(nn,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Quadro"]})]})}):i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecione um quadro"}),i.jsx("p",{className:"text-gray-500",children:"Escolha um quadro Kanban para visualizar e gerenciar seus clientes"})]})})})]})})})}function RVe(){const[e,t]=v.useState(!1),[n,r]=v.useState({client_id:"",total_amount:"",status:"pending"}),[s,a]=v.useState(!1),{clients:o,createOrder:l,fetchClients:c}=Or(),{toast:u}=Fn();v.useEffect(()=>{e&&o.length===0&&c()},[e,o.length,c]);const d=async f=>{f.preventDefault(),a(!0);try{const h=parseFloat(n.total_amount);if(h>=1e8){u({title:"Error",description:"Total amount cannot exceed 99,999,999.99",variant:"destructive"});return}if(h<0){u({title:"Error",description:"Total amount cannot be negative",variant:"destructive"});return}await l({client_id:n.client_id,total_amount:h,status:n.status}),t(!1),r({client_id:"",total_amount:"",status:"pending"}),u({title:"Success",description:"Order created successfully"})}catch(h){u({title:"Error",description:h.message||"Failed to create order",variant:"destructive"})}finally{a(!1)}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(nn,{className:"mr-2 h-4 w-4"}),"Add Order"]})}),i.jsxs(et,{className:"sm:max-w-[425px]",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Add New Order"}),i.jsx(ft,{children:"Create a new order for a client."})]}),i.jsxs("form",{onSubmit:d,children:[i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"client",children:"Client *"}),i.jsxs(Oe,{value:n.client_id,onValueChange:f=>r({...n,client_id:f}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Select client"})}),i.jsx(Te,{children:o.map(f=>i.jsx(K,{value:f.id,children:f.name},f.id))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"amount",children:"Total Amount *"}),i.jsx(ie,{id:"amount",type:"number",step:"0.01",min:"0",max:"99999999.99",value:n.total_amount,onChange:f=>r({...n,total_amount:f.target.value}),placeholder:"0.00",required:!0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum amount: 99,999,999.99"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"status",children:"Status"}),i.jsxs(Oe,{value:n.status,onValueChange:f=>r({...n,status:f}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"pending",children:"Pending"}),i.jsx(K,{value:"completed",children:"Completed"}),i.jsx(K,{value:"cancelled",children:"Cancelled"})]})]})]})]}),i.jsx(yt,{children:i.jsx(B,{type:"submit",disabled:s||!n.client_id||!n.total_amount,children:s?"Creating...":"Create Order"})})]})]})]})}function $Ve(){const{orders:e,fetchOrders:t,deleteOrders:n}=Or(),[r,s]=v.useState(""),[a,o]=v.useState("all"),[l,c]=v.useState(null),[u,d]=v.useState(!1),[f,h]=v.useState({key:"order_date",direction:"descending"}),[m,g]=v.useState([]),[p,y]=v.useState(1),[x,b]=v.useState(10);v.useEffect(()=>{t()},[t]);const j=v.useMemo(()=>e.filter(R=>{if(!R||!R.client)return!1;const I=R.client.name.toLowerCase().includes(r.toLowerCase())||R.total_amount.toString().includes(r)||R.order_id_base&&R.order_id_base.toString().includes(r)||R.id.toLowerCase().includes(r.toLowerCase()),M=a==="all"||R.status===a;return I&&M}),[e,r,a]),w=v.useMemo(()=>{let R=[...j];return f!==null&&R.sort((I,M)=>{const L=(q,V)=>V.split(".").reduce((te,ne)=>te&&te[ne],q),z=L(I,f.key),W=L(M,f.key);return z<W?f.direction==="ascending"?-1:1:z>W?f.direction==="ascending"?1:-1:0}),R},[j,f]),S=x==="all"?1:Math.ceil(w.length/x),N=v.useMemo(()=>{if(x==="all")return w;const R=(p-1)*x,I=R+x;return w.slice(R,I)},[w,p,x]);v.useEffect(()=>{p>S&&y(S>0?S:1)},[p,S]),v.useEffect(()=>{g([])},[p,r,a,f]);const C=R=>{let I="ascending";f&&f.key===R&&f.direction==="ascending"&&(I="descending"),h({key:R,direction:I}),y(1)},_=R=>{b(R==="all"?"all":Number(R)),y(1)},k=R=>!f||f.key!==R?null:f.direction==="ascending"?i.jsx(Roe,{className:"inline-block ml-1 h-4 w-4"}):i.jsx(Doe,{className:"inline-block ml-1 h-4 w-4"}),A=R=>{c(R),d(!0)},T=R=>{g(R?N.map(I=>I.id):[])},D=(R,I)=>{g(I?M=>[...M,R]:M=>M.filter(L=>L!==R))},F=async()=>{m.length===0||!window.confirm(`Tem certeza que deseja excluir ${m.length} pedido(s)?`)||(await n(m),g([]))},E=R=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(R),$=R=>{switch(R){case"pending":return{text:"Pendente",className:"bg-yellow-100 text-yellow-800"};case"completed":return{text:"Concludo",className:"bg-green-100 text-green-800"};case"cancelled":return{text:"Cancelado",className:"bg-red-100 text-red-800"};default:return{text:R,className:"bg-gray-100 text-gray-800"}}},O=e.filter(R=>R.status==="completed").reduce((R,I)=>R+I.total_amount,0);return i.jsx(kr,{children:i.jsxs("div",{className:"w-full h-full",children:[i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pedidos"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Acompanhe os pedidos e vendas dos clientes"})]}),i.jsx(RVe,{})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(R=>R.status==="pending").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Pedidos Pendentes"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(R=>R.status==="completed").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Pedidos Concludos"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:E(O)}),i.jsx("div",{className:"text-sm text-gray-600",children:"Receita Total"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:E(e.length>0?O/e.filter(R=>R.status==="completed").length||1:0)}),i.jsx("div",{className:"text-sm text-gray-600",children:"Ticket Mdio"})]})})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{children:"Busca & Filtros"})}),i.jsx(se,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ie,{placeholder:"Buscar pedidos...",value:r,onChange:R=>s(R.target.value),className:"pl-10"})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(B,{variant:a==="all"?"default":"outline",size:"sm",onClick:()=>o("all"),children:"Todos"}),i.jsx(B,{variant:a==="pending"?"default":"outline",size:"sm",onClick:()=>o("pending"),children:"Pendentes"}),i.jsx(B,{variant:a==="completed"?"default":"outline",size:"sm",onClick:()=>o("completed"),children:"Concludos"}),i.jsx(B,{variant:a==="cancelled"?"default":"outline",size:"sm",onClick:()=>o("cancelled"),children:"Cancelados"})]})]})})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs(ge,{children:["Todos os Pedidos (",w.length,")"]}),m.length>0&&i.jsxs(B,{variant:"destructive",size:"sm",onClick:F,children:[i.jsx(js,{className:"h-4 w-4 mr-2"}),"Excluir ",m.length," selecionado(s)"]})]})}),i.jsx(se,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Se,{className:"w-12",children:i.jsx(a0,{checked:N.length>0&&m.length===N.length,onCheckedChange:T})}),i.jsxs(Se,{onClick:()=>C("order_id_base"),className:"cursor-pointer hover:bg-gray-100",children:["ID do Pedido",k("order_id_base")]}),i.jsxs(Se,{onClick:()=>C("client.name"),className:"cursor-pointer hover:bg-gray-100",children:["Cliente",k("client.name")]}),i.jsxs(Se,{onClick:()=>C("total_amount"),className:"cursor-pointer hover:bg-gray-100",children:["Valor",k("total_amount")]}),i.jsxs(Se,{onClick:()=>C("status"),className:"cursor-pointer hover:bg-gray-100",children:["Status",k("status")]}),i.jsxs(Se,{onClick:()=>C("order_date"),className:"cursor-pointer hover:bg-gray-100",children:["Data",k("order_date")]}),i.jsx(Se,{children:"Aes"})]})}),i.jsx(Kr,{children:N.map(R=>{var M;const I=$(R.status);return i.jsxs(it,{children:[i.jsx(oe,{children:i.jsx(a0,{checked:m.includes(R.id),onCheckedChange:L=>D(R.id,L)})}),i.jsx(oe,{className:"font-medium",children:R.order_id_base?i.jsxs("a",{href:`https://panel-u.baselinker.com/orders.php#order:${R.order_id_base}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-blue-600 hover:text-blue-800 hover:underline",children:["#",R.order_id_base,i.jsx(Kd,{className:"h-3.5 w-3.5"})]}):i.jsxs("span",{children:["#",R.id.slice(0,8)]})}),i.jsx(oe,{children:((M=R.client)==null?void 0:M.name)||"Cliente Desconhecido"}),i.jsx(oe,{children:E(R.total_amount)}),i.jsx(oe,{children:i.jsx(fe,{className:I.className,children:I.text})}),i.jsx(oe,{children:new Date(R.order_date).toLocaleDateString("pt-BR")}),i.jsx(oe,{children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(B,{size:"sm",variant:"outline",children:"Editar"}),i.jsx(B,{size:"sm",variant:"outline",onClick:()=>A(R),children:"Ver"})]})})]},R.id)})})]})})}),i.jsx($u,{children:i.jsxs("div",{className:"w-full flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total de ",w.length," pedidos."]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Itens por pgina:"}),i.jsxs(Oe,{value:String(x),onValueChange:_,children:[i.jsx(Pe,{className:"w-[80px]",children:i.jsx(Ie,{placeholder:x})}),i.jsxs(Te,{children:[[10,20,50,100,200].map(R=>i.jsx(K,{value:String(R),children:R},R)),i.jsx(K,{value:"all",children:"Todos"})]})]})]}),i.jsxs("div",{className:"text-sm font-medium",children:["Pgina ",p," de ",S]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(B,{variant:"outline",size:"icon",onClick:()=>y(R=>R-1),disabled:p<=1,children:i.jsx(K0,{className:"h-4 w-4"})}),i.jsx(B,{variant:"outline",size:"icon",onClick:()=>y(R=>R+1),disabled:p>=S,children:i.jsx(Y0,{className:"h-4 w-4"})})]})]})]})})]})]}),i.jsx(u7,{open:u,onOpenChange:d,order:l})]})})}function OG(){const[e,t]=v.useState(!1),[n,r]=v.useState(""),[s,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(null),[h,m]=v.useState(null),[g,p]=v.useState(null),[y,x]=v.useState(""),[b,j]=v.useState(""),[w,S]=v.useState(""),[N,C]=v.useState("image"),[_,k]=v.useState(""),[A,T]=v.useState(!1),{whatsappInstances:D,fetchWhatsAppInstances:F,connectWhatsApp:E,disconnectWhatsApp:$,deleteWhatsApp:O,getWhatsAppQR:R,restartWhatsApp:I,sendWhatsAppMessage:M,sendWhatsAppMedia:L,syncWhatsAppStatus:z,syncAllWhatsAppInstances:W,reconnectWhatsApp:q}=be(),{toast:V}=Fn();v.useEffect(()=>{e&&F()},[e,F]),v.useEffect(()=>{if(!e)return;const J=setInterval(()=>{W()},3e4);return()=>clearInterval(J)},[e,W]);const te=async()=>{if(!n.trim()){V({title:"Erro",description:"Por favor, insira um nome para a instncia",variant:"destructive"});return}a(!0);try{await E(n.trim()),r(""),V({title:"Sucesso",description:"Instncia WhatsApp criada com sucesso. Escaneie o QR code para conectar."})}catch(J){V({title:"Erro",description:J.message||"Falha ao criar instncia WhatsApp",variant:"destructive"})}finally{a(!1)}},ne=async J=>{p(J);try{await q(J),V({title:"Sucesso",description:"Reconectando instncia WhatsApp..."})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao reconectar instncia WhatsApp",variant:"destructive"})}finally{p(null)}},X=async J=>{try{await $(J),V({title:"Sucesso",description:"Instncia WhatsApp desconectada"})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao desconectar instncia WhatsApp",variant:"destructive"})}},ee=async J=>{u(J);try{await O(J),V({title:"Sucesso",description:"Instncia WhatsApp deletada com sucesso"})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao deletar instncia WhatsApp",variant:"destructive"})}finally{u(null)}},Z=async J=>{l(!0);try{await R(J),V({title:"Sucesso",description:"QR code atualizado"})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao atualizar QR code",variant:"destructive"})}finally{l(!1)}},ae=async J=>{f(J);try{await I(J),V({title:"Sucesso",description:"Instncia reiniciada com sucesso"})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao reiniciar instncia",variant:"destructive"})}finally{f(null)}},ce=async J=>{m(J);try{await z(J),V({title:"Sucesso",description:"Status sincronizado com sucesso"})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao sincronizar status",variant:"destructive"})}finally{m(null)}},H=async J=>{if(!y.trim()||!b.trim()){V({title:"Erro",description:"Por favor, preencha o nmero e a mensagem",variant:"destructive"});return}T(!0);try{await M(J,b,y),x(""),j(""),V({title:"Sucesso",description:"Mensagem de teste enviada com sucesso"})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao enviar mensagem de teste",variant:"destructive"})}finally{T(!1)}},je=async J=>{if(!w.trim()||!b.trim()){V({title:"Erro",description:"Por favor, preencha o nmero e a URL da mdia",variant:"destructive"});return}T(!0);try{await L(J,b,w,N,_),S(""),j(""),k(""),V({title:"Sucesso",description:"Mdia de teste enviada com sucesso"})}catch(_e){V({title:"Erro",description:_e.message||"Falha ao enviar mdia de teste",variant:"destructive"})}finally{T(!1)}},Ne=J=>{switch(J){case"connected":return i.jsx(Ht,{className:"h-4 w-4 text-green-600"});case"connecting":return i.jsx(Er,{className:"h-4 w-4 text-yellow-600"});case"disconnected":return i.jsx(Sn,{className:"h-4 w-4 text-red-600"});default:return i.jsx(Sn,{className:"h-4 w-4 text-gray-600"})}},Ae=J=>{switch(J){case"connected":return"bg-green-100 text-green-800";case"connecting":return"bg-yellow-100 text-yellow-800";case"disconnected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Q=J=>{switch(J){case"connected":return"Conectado";case"connecting":return"Conectando";case"disconnected":return"Desconectado";default:return"Desconhecido"}},me=J=>{switch(J){case"image":return i.jsx(Ph,{className:"h-4 w-4"});case"video":return i.jsx(Oh,{className:"h-4 w-4"});case"audio":return i.jsx(Th,{className:"h-4 w-4"});case"document":return i.jsx(ma,{className:"h-4 w-4"});default:return i.jsx(ma,{className:"h-4 w-4"})}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(Gn,{className:"mr-2 h-4 w-4"}),"Configurar WhatsApp"]})}),i.jsxs(et,{className:"sm:max-w-6xl max-h-[95vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Configurao WhatsApp Evolution API"}),i.jsx(ft,{children:"Gerencie suas instncias WhatsApp conectadas via Evolution API com funcionalidades completas."})]}),i.jsxs(Qn,{defaultValue:"instances",className:"w-full",children:[i.jsxs(Rn,{className:"grid w-full grid-cols-3",children:[i.jsx(Fe,{value:"instances",children:"Instncias"}),i.jsx(Fe,{value:"test",children:"Teste de Mensagens"}),i.jsx(Fe,{value:"info",children:"Informaes"})]}),i.jsxs(Ue,{value:"instances",className:"space-y-6",children:[i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{className:"text-lg",children:"Criar Nova Instncia"})}),i.jsx(se,{children:i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(Y,{htmlFor:"instanceName",children:"Nome da Instncia"}),i.jsx(ie,{id:"instanceName",placeholder:"Ex: WhatsApp Vendas",value:n,onChange:J=>r(J.target.value),onKeyPress:J=>{J.key==="Enter"&&!s&&te()}})]}),i.jsx("div",{className:"flex items-end",children:i.jsx(B,{onClick:te,disabled:s||!n.trim(),className:"min-w-[120px]",children:s?"Criando...":"Criar Instncia"})})]})})]}),D.length>0&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ge,{className:"text-lg",children:["Instncias Existentes (",D.length,")"]}),i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>W(),children:[i.jsx(CI,{className:"h-4 w-4 mr-2"}),"Sincronizar Todas"]})]})}),i.jsx(se,{children:i.jsx("div",{className:"space-y-4",children:D.map(J=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[Ne(J.status),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:J.instance_name}),i.jsx("p",{className:"text-sm text-gray-500",children:J.phone_number||"No conectado"}),i.jsxs("p",{className:"text-xs text-gray-400",children:["Criado em: ",new Date(J.created_at).toLocaleDateString("pt-BR")]}),J.session_id&&i.jsxs("p",{className:"text-xs text-gray-400",children:["Session ID: ",J.session_id]}),J.webhook_url&&i.jsx("p",{className:"text-xs text-green-600",children:" Webhook configurado"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[i.jsx(fe,{className:Ae(J.status),children:Q(J.status)}),i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>ce(J.id),disabled:h===J.id,children:[i.jsx(CI,{className:`h-4 w-4 mr-1 ${h===J.id?"animate-spin":""}`}),h===J.id?"Sincronizando...":"Sincronizar"]}),J.status==="disconnected"&&i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>ne(J.id),disabled:g===J.id,className:"text-blue-600 hover:text-blue-700",children:[i.jsx(ule,{className:`h-4 w-4 mr-1 ${g===J.id?"animate-spin":""}`}),g===J.id?"Reconectando...":"Reconectar"]}),J.status==="connecting"&&J.qr_code&&i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>Z(J.id),disabled:o,children:[i.jsx(ya,{className:`h-4 w-4 mr-1 ${o?"animate-spin":""}`}),"Atualizar QR"]}),i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>ae(J.id),disabled:d===J.id,children:[i.jsx(ON,{className:`h-4 w-4 mr-1 ${d===J.id?"animate-spin":""}`}),d===J.id?"Reiniciando...":"Reiniciar"]}),J.status!=="disconnected"&&i.jsx(B,{variant:"outline",size:"sm",onClick:()=>X(J.id),children:"Desconectar"}),i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsxs(B,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",disabled:c===J.id,children:[i.jsx(js,{className:"h-4 w-4 mr-1"}),c===J.id?"Deletando...":"Deletar"]})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Confirmar Excluso"}),i.jsxs(cn,{children:['Tem certeza que deseja deletar a instncia "',J.instance_name,'"? Esta ao no pode ser desfeita e a instncia ser removida permanentemente tanto do sistema quanto da Evolution API.']})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{onClick:()=>ee(J.id),className:"bg-red-600 hover:bg-red-700",children:"Deletar Permanentemente"})]})]})]})]})]}),J.status==="connecting"&&J.qr_code&&i.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"text-center",children:[i.jsx(nle,{className:"h-6 w-6 mx-auto mb-2 text-gray-600"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Escaneie este QR code com seu WhatsApp"}),i.jsx("div",{className:"bg-white p-4 rounded-lg border inline-block",children:i.jsx("img",{src:J.qr_code,alt:"WhatsApp QR Code",className:"w-48 h-48 mx-auto"})}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'O QR code expira em alguns minutos. Clique em "Atualizar QR" se necessrio.'})]})}),J.status==="connected"&&i.jsxs("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx(Ht,{className:"h-5 w-5 text-green-600"}),i.jsx("span",{className:"text-green-800 font-medium",children:"WhatsApp conectado com sucesso!"})]}),J.phone_number&&i.jsxs("p",{className:"text-center text-sm text-green-700 mt-1",children:["Nmero: ",J.phone_number]}),i.jsx("p",{className:"text-center text-xs text-green-600 mt-2",children:" Pronto para enviar e receber mensagens"})]}),J.status==="disconnected"&&i.jsxs("div",{className:"mt-4 p-4 bg-red-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-red-600"}),i.jsx("span",{className:"text-red-800 font-medium",children:"WhatsApp desconectado"})]}),i.jsx("p",{className:"text-center text-sm text-red-700 mt-1",children:'Clique em "Reconectar" para gerar um novo QR code ou "Reiniciar" para tentar reconectar'})]})]},J.id))})})]})]}),i.jsx(Ue,{value:"test",className:"space-y-6",children:D.filter(J=>J.status==="connected").length===0?i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(Gn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma instncia conectada"}),i.jsx("p",{className:"text-gray-500",children:"Conecte uma instncia WhatsApp para testar o envio de mensagens"})]})}):i.jsx("div",{className:"space-y-6",children:D.filter(J=>J.status==="connected").map(J=>i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"flex items-center space-x-2",children:[i.jsx(Gn,{className:"h-5 w-5"}),i.jsxs("span",{children:["Teste de Mensagens - ",J.instance_name]})]})}),i.jsx(se,{children:i.jsxs(Qn,{defaultValue:"text",className:"w-full",children:[i.jsxs(Rn,{children:[i.jsx(Fe,{value:"text",children:"Texto"}),i.jsx(Fe,{value:"media",children:"Mdia"})]}),i.jsxs(Ue,{value:"text",className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testNumber",children:"Nmero (com DDD)"}),i.jsx(ie,{id:"testNumber",placeholder:"11999999999",value:b,onChange:_e=>j(_e.target.value)})]})}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testMessage",children:"Mensagem"}),i.jsx(vt,{id:"testMessage",placeholder:"Digite sua mensagem de teste...",value:y,onChange:_e=>x(_e.target.value),rows:3})]}),i.jsxs(B,{onClick:()=>H(J.id),disabled:A||!y.trim()||!b.trim(),className:"w-full",children:[i.jsx(J0,{className:"h-4 w-4 mr-2"}),A?"Enviando...":"Enviar Mensagem de Teste"]})]}),i.jsxs(Ue,{value:"media",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testNumberMedia",children:"Nmero (com DDD)"}),i.jsx(ie,{id:"testNumberMedia",placeholder:"11999999999",value:b,onChange:_e=>j(_e.target.value)})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testMediaType",children:"Tipo de Mdia"}),i.jsxs(Oe,{value:N,onValueChange:_e=>C(_e),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"image",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ph,{className:"h-4 w-4 mr-2"}),"Imagem"]})}),i.jsx(K,{value:"video",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Oh,{className:"h-4 w-4 mr-2"}),"Vdeo"]})}),i.jsx(K,{value:"audio",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Th,{className:"h-4 w-4 mr-2"}),"udio"]})}),i.jsx(K,{value:"document",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ma,{className:"h-4 w-4 mr-2"}),"Documento"]})})]})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testMediaUrl",children:"URL da Mdia"}),i.jsx(ie,{id:"testMediaUrl",placeholder:"https://exemplo.com/arquivo.jpg",value:w,onChange:_e=>S(_e.target.value)})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testCaption",children:"Legenda (Opcional)"}),i.jsx(vt,{id:"testCaption",placeholder:"Digite uma legenda para a mdia...",value:_,onChange:_e=>k(_e.target.value),rows:2})]}),i.jsxs(B,{onClick:()=>je(J.id),disabled:A||!w.trim()||!b.trim(),className:"w-full",children:[me(N),i.jsx("span",{className:"ml-2",children:A?"Enviando...":`Enviar ${N==="image"?"Imagem":N==="video"?"Vdeo":N==="audio"?"udio":"Documento"}`})]})]})]})})]},J.id))})}),i.jsxs(Ue,{value:"info",className:"space-y-6",children:[i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{className:"text-lg",children:"Informaes da Evolution API"})}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Servidor"}),i.jsx("p",{className:"text-sm text-gray-600",children:"https://evolution.suplelive.com.br"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Verso da API"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Evolution API v2.2.2"})]})]}),i.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-800 mb-2",children:" Webhook Configurado Automaticamente"}),i.jsx("p",{className:"text-sm text-green-700",children:"O webhook est configurado para receber mensagens automaticamente em:"}),i.jsxs("code",{className:"text-xs bg-green-100 px-2 py-1 rounded mt-1 block",children:["https://oqwstanztqdiexgrpdta.supabase.co","/functions/v1/evolution-webhook"]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Funcionalidades Disponveis"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[i.jsx("div",{children:"  Envio de mensagens de texto"}),i.jsx("div",{children:"  Envio de imagens e vdeos"}),i.jsx("div",{children:"  Envio de udios e documentos"}),i.jsx("div",{children:"  Recebimento automtico de mensagens"}),i.jsx("div",{children:"  Criao automtica de clientes"}),i.jsx("div",{children:"  Conversas unificadas no inbox"}),i.jsx("div",{children:"  Status de entrega em tempo real"}),i.jsx("div",{children:"  Mltiplas instncias"}),i.jsx("div",{children:"  QR Code automtico"}),i.jsx("div",{children:"  Webhook em tempo real"}),i.jsx("div",{children:"  Sincronizao de status"}),i.jsx("div",{children:"  Reconexo inteligente"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Eventos de Webhook Processados"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[i.jsx("div",{children:" QRCODE_UPDATED"}),i.jsx("div",{children:" CONNECTION_UPDATE"}),i.jsx("div",{children:" MESSAGES_UPSERT"}),i.jsx("div",{children:" MESSAGES_UPDATE"}),i.jsx("div",{children:" SEND_MESSAGE"}),i.jsx("div",{children:" CONTACTS_SET"}),i.jsx("div",{children:" CONTACTS_UPSERT"}),i.jsx("div",{children:" CONTACTS_UPDATE"}),i.jsx("div",{children:" PRESENCE_UPDATE"}),i.jsx("div",{children:" CHATS_SET"}),i.jsx("div",{children:" CHATS_UPSERT"}),i.jsx("div",{children:" CHATS_UPDATE"}),i.jsx("div",{children:" CHATS_DELETE"}),i.jsx("div",{children:" GROUPS_UPSERT"}),i.jsx("div",{children:" GROUP_UPDATE"}),i.jsx("div",{children:" GROUP_PARTICIPANTS_UPDATE"})]})]})]})})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{className:"text-lg",children:"Informaes Importantes"})}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsx("p",{children:" Cada instncia WhatsApp pode ser conectada a apenas um nmero de telefone"}),i.jsx("p",{children:" O QR code expira automaticamente aps alguns minutos"}),i.jsx("p",{children:' Use o boto "Atualizar QR" se o cdigo expirar'}),i.jsx("p",{children:" Mantenha o WhatsApp Web fechado no navegador para evitar conflitos"}),i.jsx("p",{children:" A conexo  mantida automaticamente pela Evolution API"}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:'Use "Reconectar" para gerar um novo QR code sem recriar a instncia'})]}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Deletar uma instncia remove permanentemente todos os dados"})]}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Mensagens recebidas criam automaticamente clientes e conversas"})]}),i.jsx("p",{children:" Webhooks so configurados automaticamente para receber eventos em tempo real"}),i.jsx("p",{children:' Use "Reiniciar" se a instncia apresentar problemas de conexo'}),i.jsx("p",{children:" Teste sempre as mensagens antes de usar em produo"}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:'Use "Sincronizar" para verificar o status atual na Evolution API'})]})]})})]})]})]}),i.jsx(yt,{children:i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"})})]})]})}function LVe(){const{messages:e,clients:t,fetchMessages:n,fetchClients:r,sendMessage:s}=Or(),[a,o]=v.useState(""),[l,c]=v.useState(""),[u,d]=v.useState(!1),[f,h]=v.useState(!1),{toast:m}=Fn();v.useEffect(()=>{n(),r()},[n,r]);const g=async y=>{if(y.preventDefault(),!(!a||!l.trim())){d(!0);try{await s(a,l),h(!1),o(""),c(""),m({title:"Success",description:"Message sent successfully"})}catch(x){m({title:"Error",description:x.message||"Failed to send message",variant:"destructive"})}finally{d(!1)}}},p=y=>{switch(y){case"sent":return"bg-green-100 text-green-800";case"delivered":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messages"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"WhatsApp communication with clients"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(OG,{}),i.jsxs(ot,{open:f,onOpenChange:h,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(J0,{className:"mr-2 h-4 w-4"}),"Send Message"]})}),i.jsxs(et,{className:"sm:max-w-[500px]",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Send WhatsApp Message"}),i.jsx(ft,{children:"Send a message to a client via WhatsApp."})]}),i.jsxs("form",{onSubmit:g,children:[i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"client",children:"Client *"}),i.jsxs(Oe,{value:a,onValueChange:o,children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Select client"})}),i.jsx(Te,{children:t.map(y=>i.jsxs(K,{value:y.id,children:[y.name," ",y.phone&&`(${y.phone})`]},y.id))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"message",children:"Message *"}),i.jsx(vt,{id:"message",placeholder:"Enter your message...",value:l,onChange:y=>c(y.target.value),rows:4,required:!0})]})]}),i.jsx(yt,{children:i.jsx(B,{type:"submit",disabled:u||!a||!l.trim(),children:u?"Sending...":"Send Message"})})]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(y=>y.status==="sent").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Messages Sent"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(y=>y.status==="delivered").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Delivered"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(y=>y.status==="pending").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(y=>y.status==="failed").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]})})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{children:["Message History (",e.length,")"]})}),i.jsx(se,{children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Se,{children:"Client"}),i.jsx(Se,{children:"Message"}),i.jsx(Se,{children:"Type"}),i.jsx(Se,{children:"Status"}),i.jsx(Se,{children:"Sent At"}),i.jsx(Se,{children:"Actions"})]})}),i.jsx(Kr,{children:e.map(y=>{var x;return i.jsxs(it,{children:[i.jsx(oe,{className:"font-medium",children:((x=y.client)==null?void 0:x.name)||"Unknown Client"}),i.jsx(oe,{className:"max-w-xs truncate",children:y.content}),i.jsx(oe,{children:i.jsx(fe,{variant:y.send_type==="automated"?"secondary":"outline",children:y.send_type})}),i.jsx(oe,{children:i.jsx(fe,{className:p(y.status),children:y.status})}),i.jsx(oe,{children:new Date(y.timestamp).toLocaleString()}),i.jsx(oe,{children:i.jsx(B,{size:"sm",variant:"outline",children:"View"})})]},y.id)})})]})})]})]})})})}function FVe(){const[e,t]=v.useState(!1),[n,r]=v.useState({name:"",segment:"",message:"",scheduled_at:""}),[s,a]=v.useState(!1),{createCampaign:o}=Or(),{toast:l}=Fn(),c=async u=>{u.preventDefault(),a(!0);try{await o({...n,scheduled_at:n.scheduled_at?new Date(n.scheduled_at).toISOString():void 0}),t(!1),r({name:"",segment:"",message:"",scheduled_at:""}),l({title:"Success",description:"Campaign created successfully"})}catch(d){l({title:"Error",description:d.message||"Failed to create campaign",variant:"destructive"})}finally{a(!1)}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(nn,{className:"mr-2 h-4 w-4"}),"Create Campaign"]})}),i.jsxs(et,{className:"sm:max-w-[500px]",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Create New Campaign"}),i.jsx(ft,{children:"Create a targeted messaging campaign for specific customer segments."})]}),i.jsxs("form",{onSubmit:c,children:[i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"name",children:"Campaign Name *"}),i.jsx(ie,{id:"name",value:n.name,onChange:u=>r({...n,name:u.target.value}),required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"segment",children:"Target Segment *"}),i.jsxs(Oe,{value:n.segment,onValueChange:u=>r({...n,segment:u}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Select target segment"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"champions",children:"Champions"}),i.jsx(K,{value:"loyal_customers",children:"Loyal Customers"}),i.jsx(K,{value:"potential_loyalists",children:"Potential Loyalists"}),i.jsx(K,{value:"new_customers",children:"New Customers"}),i.jsx(K,{value:"at_risk",children:"At Risk"}),i.jsx(K,{value:"hibernating",children:"Hibernating"}),i.jsx(K,{value:"lost",children:"Lost Customers"}),i.jsx(K,{value:"unconverted_leads",children:"Unconverted Leads"}),i.jsx(K,{value:"inactive_clients",children:"Inactive Clients"}),i.jsx(K,{value:"high_value",children:"High Value Customers"})]})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"message",children:"Message *"}),i.jsx(vt,{id:"message",placeholder:"Enter your campaign message...",value:n.message,onChange:u=>r({...n,message:u.target.value}),rows:4,required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Y,{htmlFor:"scheduled_at",children:"Schedule (Optional)"}),i.jsx(ie,{id:"scheduled_at",type:"datetime-local",value:n.scheduled_at,onChange:u=>r({...n,scheduled_at:u.target.value})})]})]}),i.jsx(yt,{children:i.jsx(B,{type:"submit",disabled:s,children:s?"Creating...":"Create Campaign"})})]})]})]})}function BVe(){const{campaigns:e,fetchCampaigns:t}=Or();v.useEffect(()=>{t()},[t]);const n=s=>{switch(s){case"draft":return"bg-gray-100 text-gray-800";case"scheduled":return"bg-blue-100 text-blue-800";case"running":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},r=s=>{switch(s){case"champions":return"bg-green-100 text-green-800";case"loyal_customers":return"bg-blue-100 text-blue-800";case"at_risk":return"bg-red-100 text-red-800";case"lost":return"bg-gray-100 text-gray-800";default:return"bg-purple-100 text-purple-800"}};return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Campaigns"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Manage targeted messaging campaigns"})]}),i.jsx(FVe,{})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(O6,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total Campaigns"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Li,{className:"h-5 w-5 text-yellow-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(s=>s.status==="scheduled").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Scheduled"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fr,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(s=>s.status==="completed").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]})})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.reduce((s,a)=>s+(a.sent_count||0),0)}),i.jsx("div",{className:"text-sm text-gray-600",children:"Messages Sent"})]})})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{children:["All Campaigns (",e.length,")"]})}),i.jsx(se,{children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Se,{children:"Campaign Name"}),i.jsx(Se,{children:"Segment"}),i.jsx(Se,{children:"Status"}),i.jsx(Se,{children:"Target Count"}),i.jsx(Se,{children:"Sent Count"}),i.jsx(Se,{children:"Scheduled"}),i.jsx(Se,{children:"Created"}),i.jsx(Se,{children:"Actions"})]})}),i.jsx(Kr,{children:e.map(s=>i.jsxs(it,{children:[i.jsx(oe,{className:"font-medium",children:s.name}),i.jsx(oe,{children:i.jsx(fe,{className:r(s.segment),children:s.segment.replace("_"," ")})}),i.jsx(oe,{children:i.jsx(fe,{className:n(s.status||"draft"),children:s.status||"draft"})}),i.jsx(oe,{children:s.target_count||"-"}),i.jsx(oe,{children:s.sent_count||0}),i.jsx(oe,{children:s.scheduled_at?new Date(s.scheduled_at).toLocaleString():"Not scheduled"}),i.jsx(oe,{children:new Date(s.created_at).toLocaleDateString()}),i.jsx(oe,{children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(B,{size:"sm",variant:"outline",children:"Edit"}),i.jsx(B,{size:"sm",variant:"outline",children:"View"}),s.status==="draft"&&i.jsx(B,{size:"sm",children:"Launch"})]})})]},s.id))})]})})]})]})})})}var IG=["PageUp","PageDown"],DG=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],MG={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},xf="Slider",[PC,zVe,WVe]=tw(xf),[RG,UKe]=Ss(xf,[WVe]),[VVe,$b]=RG(xf),$G=v.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:g,...p}=e,y=v.useRef(new Set),x=v.useRef(0),j=o==="horizontal"?UVe:qVe,[w=[],S]=Na({prop:d,defaultProp:u,onChange:T=>{var F;(F=[...y.current][x.current])==null||F.focus(),f(T)}}),N=v.useRef(w);function C(T){const D=XVe(w,T);A(T,D)}function _(T){A(T,x.current)}function k(){const T=N.current[x.current];w[x.current]!==T&&h(w)}function A(T,D,{commit:F}={commit:!1}){const E=eUe(a),$=tUe(Math.round((T-r)/a)*a+r,E),O=hp($,[r,s]);S((R=[])=>{const I=KVe(R,O,D);if(ZVe(I,c*a)){x.current=I.indexOf(O);const M=String(I)!==String(R);return M&&F&&h(I),M?I:R}else return R})}return i.jsx(VVe,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:x,thumbs:y.current,values:w,orientation:o,form:g,children:i.jsx(PC.Provider,{scope:e.__scopeSlider,children:i.jsx(PC.Slot,{scope:e.__scopeSlider,children:i.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:ye(p.onPointerDown,()=>{l||(N.current=w)}),min:r,max:s,inverted:m,onSlideStart:l?void 0:C,onSlideMove:l?void 0:_,onSlideEnd:l?void 0:k,onHomeKeyDown:()=>!l&&A(r,0,{commit:!0}),onEndKeyDown:()=>!l&&A(s,w.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:D})=>{if(!l){const $=IG.includes(T.key)||T.shiftKey&&DG.includes(T.key)?10:1,O=x.current,R=w[O],I=a*$*D;A(R+I,O,{commit:!0})}}})})})})});$G.displayName=xf;var[LG,FG]=RG(xf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),UVe=v.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=v.useState(null),m=ze(t,j=>h(j)),g=v.useRef(),p=Xd(s),y=p==="ltr",x=y&&!a||!y&&a;function b(j){const w=g.current||f.getBoundingClientRect(),S=[0,w.width],C=s2(S,x?[n,r]:[r,n]);return g.current=w,C(j-w.left)}return i.jsx(LG,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:i.jsx(BG,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const w=b(j.clientX);o==null||o(w)},onSlideMove:j=>{const w=b(j.clientX);l==null||l(w)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:j=>{const S=MG[x?"from-left":"from-right"].includes(j.key);u==null||u({event:j,direction:S?-1:1})}})})}),qVe=v.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=v.useRef(null),f=ze(t,d),h=v.useRef(),m=!s;function g(p){const y=h.current||d.current.getBoundingClientRect(),x=[0,y.height],j=s2(x,m?[r,n]:[n,r]);return h.current=y,j(p-y.top)}return i.jsx(LG,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:i.jsx(BG,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const y=g(p.clientY);a==null||a(y)},onSlideMove:p=>{const y=g(p.clientY);o==null||o(y)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const x=MG[m?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:x?-1:1})}})})}),BG=v.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=$b(xf,n);return i.jsx(Me.span,{...u,ref:t,onKeyDown:ye(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):IG.concat(DG).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:ye(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:ye(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:ye(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),a(f))})})}),zG="SliderTrack",WG=v.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=$b(zG,n);return i.jsx(Me.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});WG.displayName=zG;var TC="SliderRange",VG=v.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=$b(TC,n),a=FG(TC,n),o=v.useRef(null),l=ze(t,o),c=s.values.length,u=s.values.map(h=>qG(h,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return i.jsx(Me.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});VG.displayName=TC;var OC="SliderThumb",UG=v.forwardRef((e,t)=>{const n=zVe(e.__scopeSlider),[r,s]=v.useState(null),a=ze(t,l=>s(l)),o=v.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return i.jsx(HVe,{...e,ref:a,index:o})}),HVe=v.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...a}=e,o=$b(OC,n),l=FG(OC,n),[c,u]=v.useState(null),d=ze(t,b=>u(b)),f=c?o.form||!!c.closest("form"):!0,h=ow(c),m=o.values[r],g=m===void 0?0:qG(m,o.min,o.max),p=YVe(r,o.values.length),y=h==null?void 0:h[l.size],x=y?JVe(y,g,l.direction):0;return v.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${x}px)`},children:[i.jsx(PC.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(Me.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:ye(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&i.jsx(GVe,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});UG.displayName=OC;var GVe=e=>{const{value:t,...n}=e,r=v.useRef(null),s=hb(t);return v.useEffect(()=>{const a=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==t&&c){const u=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(u)}},[s,t]),i.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function KVe(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,a)=>s-a)}function qG(e,t,n){const a=100/(n-t)*(e-t);return hp(a,[0,100])}function YVe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function XVe(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function JVe(e,t,n){const r=e/2,a=s2([0,50],[0,r]);return(r-a(t)*n)*n}function QVe(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function ZVe(e,t){if(t>0){const n=QVe(e);return Math.min(...n)>=t}return!0}function s2(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function eUe(e){return(String(e).split(".")[1]||"").length}function tUe(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var HG=$G,nUe=WG,rUe=VG,sUe=UG;const Md=v.forwardRef(({className:e,...t},n)=>i.jsxs(HG,{ref:n,className:ve("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(nUe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(rUe,{className:"absolute h-full bg-primary"})}),i.jsx(sUe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Md.displayName=HG.displayName;class GG{constructor(t){sr(this,"config");this.config={model:"gpt-3.5-turbo",temperature:.7,maxTokens:500,...t}}async makeRequest(t,n){var s;const r=await fetch(`https://api.openai.com/v1${t}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.config.apiKey}`},body:JSON.stringify(n)});if(!r.ok){const a=await r.json();throw new Error(`OpenAI API Error: ${((s=a.error)==null?void 0:s.message)||"Unknown error"}`)}return r.json()}async classifyText(t,n){const r=`
Classifique o seguinte texto em uma das categorias fornecidas e extraia informaes relevantes:

Texto: "${t}"

Categorias disponveis: ${n.join(", ")}

Responda APENAS com um JSON vlido no seguinte formato:
{
  "category": "categoria_escolhida",
  "confidence": 0.95,
  "intent": "inteno_do_usurio",
  "sentiment": "positive|negative|neutral",
  "entities": [
    {
      "type": "nome|telefone|email|produto",
      "value": "valor_extrado",
      "confidence": 0.9
    }
  ]
}
`,s=await this.makeRequest("/chat/completions",{model:this.config.model,messages:[{role:"system",content:"Voc  um especialista em classificao de texto e extrao de entidades. Responda sempre com JSON vlido."},{role:"user",content:r}],temperature:.3,max_tokens:300});try{return JSON.parse(s.choices[0].message.content)}catch{throw new Error("Falha ao processar resposta da classificao de texto")}}async generateChatbotResponse(t,n,r){const a=[{role:"system",content:`
Voc  um assistente virtual inteligente para atendimento ao cliente. Suas caractersticas:

1. PERSONALIDADE:
   - Profissional, mas amigvel e emptico
   - Sempre til e proativo
   - Responde em portugus brasileiro
   - Usa linguagem clara e acessvel

2. CONTEXTO DO NEGCIO:
   ${r!=null&&r.businessInfo?`- Empresa: ${r.businessInfo.name||"Nossa empresa"}`:""}
   ${r!=null&&r.businessInfo?`- Setor: ${r.businessInfo.sector||"Atendimento ao cliente"}`:""}

3. INFORMAES DO CLIENTE:
   ${r!=null&&r.clientName?`- Nome: ${r.clientName}`:"- Cliente no identificado"}
   ${r!=null&&r.clientInfo?`- Informaes: ${JSON.stringify(r.clientInfo)}`:""}

4. AES DISPONVEIS:
   ${r!=null&&r.availableActions?r.availableActions.join(", "):"Responder mensagem, transferir para humano"}

5. DIRETRIZES:
   - Seja conciso mas completo
   - Se no souber algo, seja honesto
   - Oferea transferncia para humano quando necessrio
   - Identifique oportunidades de vendas ou suporte
   - Extraia informaes importantes (nome, telefone, email, interesse)

6. FORMATO DE RESPOSTA:
   Responda com JSON vlido:
   {
     "message": "sua_resposta_aqui",
     "intent": "categoria_da_inteno",
     "confidence": 0.95,
     "suggestedActions": [
       {
         "type": "transfer_to_human|create_lead|schedule_callback|send_document",
         "label": "Descrio da ao",
         "data": {}
       }
     ]
   }
`},...n.slice(-10),{role:"user",content:t}],o=await this.makeRequest("/chat/completions",{model:this.config.model,messages:a,temperature:this.config.temperature,max_tokens:this.config.maxTokens});try{return JSON.parse(o.choices[0].message.content)}catch{return{message:o.choices[0].message.content,intent:"general_inquiry",confidence:.8}}}async generateAutomationMessage(t,n,r){const s=`
Gere uma mensagem personalizada baseada no template e variveis fornecidas:

Template: "${t}"
Variveis: ${JSON.stringify(n)}

Contexto:
- Tom: ${(r==null?void 0:r.tone)||"friendly"}
- Propsito: ${(r==null?void 0:r.purpose)||"comunicao geral"}
- Tamanho mximo: ${(r==null?void 0:r.maxLength)||500} caracteres

Diretrizes:
1. Substitua as variveis pelos valores fornecidos
2. Mantenha o tom especificado
3. Seja natural e conversacional
4. Inclua emojis apropriados se o tom for casual/friendly
5. Respeite o limite de caracteres

Responda APENAS com a mensagem final, sem explicaes.
`;return(await this.makeRequest("/chat/completions",{model:this.config.model,messages:[{role:"system",content:"Voc  um especialista em comunicao e marketing. Gere mensagens personalizadas e envolventes."},{role:"user",content:s}],temperature:.8,max_tokens:Math.min((r==null?void 0:r.maxLength)||500,500)})).choices[0].message.content.trim()}async extractContactInfo(t){const n=`
Extraia informaes de contato do seguinte texto:

"${t}"

Responda APENAS com JSON vlido:
{
  "name": "nome_extrado_ou_null",
  "phone": "telefone_extrado_ou_null",
  "email": "email_extrado_ou_null",
  "company": "empresa_extrada_ou_null",
  "intent": "inteno_principal_do_usurio"
}
`,r=await this.makeRequest("/chat/completions",{model:this.config.model,messages:[{role:"system",content:"Voc  um especialista em extrao de informaes de contato. Responda sempre com JSON vlido."},{role:"user",content:n}],temperature:.1,max_tokens:200});try{return JSON.parse(r.choices[0].message.content)}catch{return{}}}}let Hh=null;const fL=e=>(!Hh&&e&&(Hh=new GG(e)),Hh),IC=(e,t)=>(Hh=new GG({apiKey:e,...t}),Hh),KG=ka((e,t)=>({agents:[],loading:!1,fetchAgents:async()=>{await G.handleAsync(async()=>{e({loading:!0});const n=be.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("ai_agents").select("*").eq("workspace_id",n.id).order("created_at",{ascending:!1});if(s)throw s;e({agents:r||[],loading:!1})})},createAgent:async n=>await G.handleAsync(async()=>{const r=be.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");const{data:s,error:a}=await U.from("ai_agents").insert({...n,workspace_id:r.id}).select().single();if(a)throw a;return t().fetchAgents(),s})||null,updateAgent:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("ai_agents").update({...r,updated_at:new Date().toISOString()}).eq("id",n);if(s)throw s;t().fetchAgents()})},deleteAgent:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("ai_agents").delete().eq("id",n);if(r)throw r;t().fetchAgents()})},testAgent:async(n,r)=>await G.handleAsync(async()=>{const s=t().agents.find(d=>d.id===n);if(!s)throw new Error("Agente no encontrado");const a=be.getState().currentWorkspace;if(!a)throw new Error("Nenhum workspace selecionado");const o=localStorage.getItem(`openai_config_${a.id}`);if(!o)throw new Error("Configurao OpenAI no encontrada");const{apiKey:l}=JSON.parse(o);if(!l)throw new Error("Chave API OpenAI no configurada");return(await IC(l,{model:s.config.model,temperature:s.config.temperature,maxTokens:s.config.maxTokens||500}).generateChatbotResponse(r,[],{clientName:"Cliente de Teste",businessInfo:{name:a.name,sector:"Atendimento ao Cliente"}})).message})||"Erro ao gerar resposta",getAgentById:n=>t().agents.find(r=>r.id===n)}));function aUe(){const[e,t]=v.useState(!1),[n,r]=v.useState(!1),[s,a]=v.useState(null),[o,l]=v.useState("Ol, gostaria de saber mais sobre seus produtos"),[c,u]=v.useState(""),[d,f]=v.useState(!1),[h,m]=v.useState({name:"",role:"customer_service",model:"gpt-3.5-turbo",temperature:.7,systemPrompt:"",description:""});be();const{agents:g,createAgent:p,updateAgent:y,deleteAgent:x,testAgent:b,fetchAgents:j}=KG(),{toast:w}=Fn();v.useEffect(()=>{e&&j()},[e,j]),v.useEffect(()=>{if(s){const E=g.find($=>$.id===s);E&&m({name:E.name,role:E.role,model:E.config.model||"gpt-3.5-turbo",temperature:E.config.temperature||.7,systemPrompt:E.config.systemPrompt||"",description:E.description||""})}else m({name:"",role:"customer_service",model:"gpt-3.5-turbo",temperature:.7,systemPrompt:F("customer_service"),description:""})},[s,g]);const S=E=>{m({...h,role:E,systemPrompt:F(E)})},N=async()=>{if(!h.name||!h.systemPrompt){w({title:"Campos obrigatrios",description:"Por favor, preencha todos os campos obrigatrios",variant:"destructive"});return}try{await p({name:h.name,role:h.role,description:h.description,config:{model:h.model,temperature:h.temperature,systemPrompt:h.systemPrompt}}),r(!1),w({title:"Agente criado",description:"O agente foi criado com sucesso"})}catch(E){w({title:"Erro",description:E.message||"Ocorreu um erro ao criar o agente",variant:"destructive"})}},C=async()=>{if(!s||!h.name||!h.systemPrompt){w({title:"Campos obrigatrios",description:"Por favor, preencha todos os campos obrigatrios",variant:"destructive"});return}try{await y(s,{name:h.name,role:h.role,description:h.description,config:{model:h.model,temperature:h.temperature,systemPrompt:h.systemPrompt}}),a(null),w({title:"Agente atualizado",description:"O agente foi atualizado com sucesso"})}catch(E){w({title:"Erro",description:E.message||"Ocorreu um erro ao atualizar o agente",variant:"destructive"})}},_=async E=>{try{await x(E),w({title:"Agente excludo",description:"O agente foi excludo com sucesso"})}catch($){w({title:"Erro",description:$.message||"Ocorreu um erro ao excluir o agente",variant:"destructive"})}},k=async E=>{const $=g.find(O=>O.id===E);if($)try{await p({name:`${$.name} (Cpia)`,role:$.role,description:$.description,config:$.config}),w({title:"Agente duplicado",description:"O agente foi duplicado com sucesso"})}catch(O){w({title:"Erro",description:O.message||"Ocorreu um erro ao duplicar o agente",variant:"destructive"})}},A=async E=>{if(!o.trim()){w({title:"Mensagem vazia",description:"Por favor, digite uma mensagem para testar o agente",variant:"destructive"});return}f(!0),u("");try{const $=await b(E,o);u($)}catch($){w({title:"Erro",description:$.message||"Ocorreu um erro ao testar o agente",variant:"destructive"})}finally{f(!1)}},T=E=>{switch(E){case"sales":return"bg-green-100 text-green-800";case"customer_service":return"bg-blue-100 text-blue-800";case"support":return"bg-purple-100 text-purple-800";case"sdr":return"bg-orange-100 text-orange-800";case"secretary":return"bg-pink-100 text-pink-800";case"technical":return"bg-cyan-100 text-cyan-800";default:return"bg-gray-100 text-gray-800"}},D=E=>{switch(E){case"sales":return"Vendas";case"customer_service":return"Atendimento ao Cliente";case"support":return"Suporte Tcnico";case"sdr":return"SDR";case"secretary":return"Secretria";case"technical":return"Tcnico";default:return E}},F=E=>{switch(E){case"sales":return`Voc  um assistente de vendas especializado. Suas caractersticas:

1. PERSONALIDADE:
   - Persuasivo e entusiasmado, mas no agressivo
   - Conhecedor dos produtos e servios
   - Focado em entender as necessidades do cliente
   - Orientado para solues e resultados

2. OBJETIVOS:
   - Identificar oportunidades de venda
   - Qualificar leads
   - Apresentar benefcios dos produtos/servios
   - Superar objees
   - Fechar vendas ou agendar demonstraes

3. DIRETRIZES:
   - Faa perguntas para entender as necessidades do cliente
   - Destaque benefcios, no apenas caractersticas
   - Oferea solues personalizadas
   - Seja especfico sobre como o produto resolve problemas
   - Use linguagem positiva e orientada para valor
   - Sugira prximos passos claros (demonstrao, reunio, etc.)

4. TOM:
   - Profissional mas amigvel
   - Confiante sem ser arrogante
   - Entusiasmado mas no exagerado
   - Sempre respeitoso e atencioso

5. LIMITAES:
   - No faa promessas irrealistas
   - No pressione excessivamente
   - No critique concorrentes diretamente
   - No compartilhe informaes confidenciais`;case"customer_service":return`Voc  um assistente de atendimento ao cliente. Suas caractersticas:

1. PERSONALIDADE:
   - Amigvel, paciente e emptico
   - Profissional e prestativo
   - Orientado para solues
   - Claro e conciso

2. OBJETIVOS:
   - Resolver problemas e dvidas dos clientes
   - Garantir satisfao do cliente
   - Fornecer informaes precisas
   - Encaminhar para especialistas quando necessrio

3. DIRETRIZES:
   - Cumprimente o cliente de forma amigvel
   - Escute atentamente e identifique o problema
   - Oferea solues claras e prticas
   - Confirme se o problema foi resolvido
   - Agradea o cliente pelo contato

4. TOM:
   - Cordial e respeitoso
   - Positivo mesmo em situaes difceis
   - Claro e direto
   - Paciente com clientes frustrados

5. LIMITAES:
   - No faa promessas que no pode cumprir
   - No discuta com clientes
   - No compartilhe informaes confidenciais
   - Encaminhe para um humano em casos complexos`;case"support":return`Voc  um assistente de suporte tcnico especializado. Suas caractersticas:

1. PERSONALIDADE:
   - Paciente e metdico
   - Tecnicamente preciso
   - Orientado para solues
   - Claro nas explicaes

2. OBJETIVOS:
   - Resolver problemas tcnicos
   - Guiar usurios passo a passo
   - Identificar a causa raiz dos problemas
   - Documentar solues para referncia futura

3. DIRETRIZES:
   - Pea informaes especficas sobre o problema
   - Sugira solues em ordem de probabilidade
   - Use linguagem tcnica apropriada ao nvel do usurio
   - Confirme se a soluo funcionou
   - Oferea dicas para evitar problemas futuros

4. TOM:
   - Profissional e calmo
   - Preciso e metdico
   - Paciente com usurios menos tcnicos
   - Confiante nas solues propostas

5. LIMITAES:
   - No tente resolver problemas alm do seu escopo
   - No culpe o usurio pelos problemas
   - Encaminhe para especialistas quando necessrio
   - No compartilhe informaes de segurana sensveis`;case"sdr":return`Voc  um Representante de Desenvolvimento de Vendas (SDR). Suas caractersticas:

1. PERSONALIDADE:
   - Proativo e persistente
   - Curioso e investigativo
   - Resiliente e otimista
   - Organizado e metdico

2. OBJETIVOS:
   - Prospectar leads qualificados
   - Agendar reunies para a equipe de vendas
   - Qualificar oportunidades (BANT)
   - Nutrir relacionamentos iniciais

3. DIRETRIZES:
   - Faa perguntas qualificadoras estratgicas
   - Identifique dores e necessidades
   - Desperte interesse com propostas de valor
   - Supere objees iniciais
   - Estabelea prximos passos claros

4. TOM:
   - Profissional mas conversacional
   - Curioso e interessado
   - Direto mas no agressivo
   - Entusiasmado sobre oportunidades

5. LIMITAES:
   - No tente fechar vendas complexas
   - No faa promessas especficas sobre produtos
   - No insista excessivamente aps claras rejeies
   - Encaminhe para vendedores quando apropriado`;case"secretary":return`Voc  um assistente executivo/secretrio virtual. Suas caractersticas:

1. PERSONALIDADE:
   - Organizado e eficiente
   - Discreto e profissional
   - Proativo e atencioso
   - Adaptvel e flexvel

2. OBJETIVOS:
   - Gerenciar agendamentos e compromissos
   - Filtrar e priorizar comunicaes
   - Organizar informaes importantes
   - Facilitar processos administrativos

3. DIRETRIZES:
   - Seja claro e conciso nas comunicaes
   - Antecipe necessidades quando possvel
   - Confirme detalhes importantes
   - Mantenha registros organizados
   - Priorize tarefas adequadamente

4. TOM:
   - Formal e profissional
   - Respeitoso e corts
   - Eficiente e direto
   - Discreto com informaes sensveis

5. LIMITAES:
   - No tome decises importantes sem autorizao
   - Mantenha confidencialidade rigorosa
   - No se comprometa com impossibilidades de agenda
   - Encaminhe assuntos complexos para os responsveis`;case"technical":return`Voc  um especialista tcnico em produtos e servios. Suas caractersticas:

1. PERSONALIDADE:
   - Analtico e preciso
   - Orientado a detalhes
   - Paciente com explicaes
   - Metodolgico e estruturado

2. OBJETIVOS:
   - Fornecer informaes tcnicas precisas
   - Resolver problemas complexos
   - Explicar conceitos tcnicos de forma acessvel
   - Recomendar solues baseadas em especificaes

3. DIRETRIZES:
   - Use terminologia tcnica apropriada
   - Fornea detalhes especficos e mensurveis
   - Explique conceitos complexos com analogias quando necessrio
   - Base recomendaes em fatos e especificaes
   - Seja honesto sobre limitaes tcnicas

4. TOM:
   - Profissional e objetivo
   - Preciso e factual
   - Claro mesmo em assuntos complexos
   - Paciente com perguntas tcnicas bsicas

5. LIMITAES:
   - No especule sobre especificaes desconhecidas
   - No faa promessas sobre funcionalidades futuras
   - No simplifique excessivamente riscos tcnicos
   - Encaminhe para especialistas em casos muito especficos`;default:return"Voc  um assistente virtual inteligente. Seja profissional, amigvel e til em suas respostas."}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(jr,{className:"mr-2 h-4 w-4"}),"Perfis de Agentes IA"]})}),i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsxs(nt,{className:"flex items-center",children:[i.jsx(jr,{className:"mr-2 h-5 w-5"}),"Perfis de Agentes de IA"]}),i.jsx(ft,{children:"Crie e gerencie diferentes perfis de agentes de IA para diferentes funes e departamentos"})]}),i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"text-lg font-medium",children:["Agentes Disponveis (",g.length,")"]}),i.jsxs(ot,{open:n,onOpenChange:r,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(nn,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Criar Novo Agente"}),i.jsx(ft,{children:"Configure um novo perfil de agente de IA para sua equipe"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"name",children:"Nome do Agente *"}),i.jsx(ie,{id:"name",value:h.name,onChange:E=>m({...h,name:E.target.value}),placeholder:"Ex: Agente de Vendas"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"role",children:"Funo *"}),i.jsxs(Oe,{value:h.role,onValueChange:S,children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"sales",children:"Vendas"}),i.jsx(K,{value:"customer_service",children:"Atendimento ao Cliente"}),i.jsx(K,{value:"support",children:"Suporte Tcnico"}),i.jsx(K,{value:"sdr",children:"SDR"}),i.jsx(K,{value:"secretary",children:"Secretria"}),i.jsx(K,{value:"technical",children:"Tcnico"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"description",children:"Descrio"}),i.jsx(vt,{id:"description",value:h.description,onChange:E=>m({...h,description:E.target.value}),placeholder:"Descreva a funo deste agente...",rows:2})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"model",children:"Modelo"}),i.jsxs(Oe,{value:h.model,onValueChange:E=>m({...h,model:E}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Recomendado)"}),i.jsx(K,{value:"gpt-4",children:"GPT-4 (Mais avanado)"}),i.jsx(K,{value:"gpt-4-turbo-preview",children:"GPT-4 Turbo"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"temperature",children:["Criatividade (Temperature): ",h.temperature]}),i.jsx(Md,{value:[h.temperature],onValueChange:E=>m({...h,temperature:E[0]}),max:1,min:0,step:.1,className:"mt-2"}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[i.jsx("span",{children:"Mais conservador"}),i.jsx("span",{children:"Mais criativo"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"systemPrompt",children:"Prompt do Sistema *"}),i.jsx(vt,{id:"systemPrompt",value:h.systemPrompt,onChange:E=>m({...h,systemPrompt:E.target.value}),placeholder:"Instrues para o comportamento do agente...",rows:8}),i.jsx("p",{className:"text-xs text-gray-500",children:"Este prompt define a personalidade, conhecimentos e comportamento do agente."})]})]}),i.jsxs(yt,{children:[i.jsx(B,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),i.jsx(B,{onClick:N,children:"Criar Agente"})]})]})]})]}),g.length===0?i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(jr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum agente criado"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Crie seu primeiro agente de IA para comear a automatizar conversas"}),i.jsxs(B,{onClick:()=>r(!0),children:[i.jsx(nn,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Agente"]})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(E=>{var $;return i.jsxs(re,{className:"overflow-hidden",children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsxs(ge,{className:"flex items-center",children:[i.jsx(jr,{className:"h-4 w-4 mr-2"}),E.name]}),i.jsx(Ve,{children:E.description})]}),i.jsx(fe,{className:T(E.role),children:D(E.role)})]})}),i.jsx(se,{className:"pb-3",children:i.jsxs(Qn,{defaultValue:"details",children:[i.jsxs(Rn,{className:"w-full",children:[i.jsx(Fe,{value:"details",children:"Detalhes"}),i.jsx(Fe,{value:"test",children:"Testar"})]}),i.jsxs(Ue,{value:"details",className:"space-y-4 mt-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"font-medium",children:"Modelo:"}),i.jsx("span",{children:E.config.model||"gpt-3.5-turbo"})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"font-medium",children:"Temperatura:"}),i.jsx("span",{children:E.config.temperature||.7})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-sm font-medium",children:"Prompt do Sistema:"}),i.jsx("div",{className:"text-xs bg-gray-50 p-2 rounded-md max-h-32 overflow-y-auto",children:($=E.config.systemPrompt)==null?void 0:$.split(`
`).map((O,R)=>i.jsx("p",{children:O||i.jsx("br",{})},R))})]})]}),i.jsxs("div",{className:"flex space-x-2 pt-2",children:[i.jsxs(B,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>a(E.id),children:[i.jsx(wi,{className:"h-4 w-4 mr-2"}),"Editar"]}),i.jsx(B,{variant:"outline",size:"sm",onClick:()=>k(E.id),children:i.jsx(Ah,{className:"h-4 w-4"})}),i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsx(B,{variant:"outline",size:"sm",children:i.jsx(js,{className:"h-4 w-4"})})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Excluir Agente"}),i.jsxs(cn,{children:['Tem certeza que deseja excluir o agente "',E.name,'"? Esta ao no pode ser desfeita.']})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{onClick:()=>_(E.id),className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})]})]})]}),i.jsxs(Ue,{value:"test",className:"space-y-4 mt-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:`test-prompt-${E.id}`,children:"Mensagem de Teste"}),i.jsx(vt,{id:`test-prompt-${E.id}`,value:o,onChange:O=>l(O.target.value),placeholder:"Digite uma mensagem para testar o agente...",rows:3})]}),i.jsx(B,{onClick:()=>A(E.id),disabled:d,className:"w-full",children:d?i.jsxs(i.Fragment,{children:[i.jsx(kI,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerando resposta..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kI,{className:"mr-2 h-4 w-4"}),"Testar Agente"]})}),c&&i.jsxs("div",{className:"mt-4",children:[i.jsx(Y,{children:"Resposta do Agente:"}),i.jsx("div",{className:"mt-2 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:c})})]})]})]})})]},E.id)})}),s&&i.jsx(ot,{open:!!s,onOpenChange:E=>!E&&a(null),children:i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Editar Agente"}),i.jsx(ft,{children:"Modifique as configuraes do agente de IA"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"edit-name",children:"Nome do Agente *"}),i.jsx(ie,{id:"edit-name",value:h.name,onChange:E=>m({...h,name:E.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"edit-role",children:"Funo *"}),i.jsxs(Oe,{value:h.role,onValueChange:S,children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"sales",children:"Vendas"}),i.jsx(K,{value:"customer_service",children:"Atendimento ao Cliente"}),i.jsx(K,{value:"support",children:"Suporte Tcnico"}),i.jsx(K,{value:"sdr",children:"SDR"}),i.jsx(K,{value:"secretary",children:"Secretria"}),i.jsx(K,{value:"technical",children:"Tcnico"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"edit-description",children:"Descrio"}),i.jsx(vt,{id:"edit-description",value:h.description,onChange:E=>m({...h,description:E.target.value}),rows:2})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"edit-model",children:"Modelo"}),i.jsxs(Oe,{value:h.model,onValueChange:E=>m({...h,model:E}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Recomendado)"}),i.jsx(K,{value:"gpt-4",children:"GPT-4 (Mais avanado)"}),i.jsx(K,{value:"gpt-4-turbo-preview",children:"GPT-4 Turbo"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"edit-temperature",children:["Criatividade (Temperature): ",h.temperature]}),i.jsx(Md,{value:[h.temperature],onValueChange:E=>m({...h,temperature:E[0]}),max:1,min:0,step:.1,className:"mt-2"}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[i.jsx("span",{children:"Mais conservador"}),i.jsx("span",{children:"Mais criativo"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"edit-systemPrompt",children:"Prompt do Sistema *"}),i.jsx(vt,{id:"edit-systemPrompt",value:h.systemPrompt,onChange:E=>m({...h,systemPrompt:E.target.value}),rows:8})]})]}),i.jsxs(yt,{children:[i.jsx(B,{variant:"outline",onClick:()=>a(null),children:"Cancelar"}),i.jsx(B,{onClick:C,children:"Salvar Alteraes"})]})]})}),i.jsx(yt,{children:i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"})})]})]})}function iUe(){const[e,t]=v.useState(!1),[n,r]=v.useState({apiKey:"",model:"gpt-3.5-turbo",temperature:.7,maxTokens:500,systemPrompt:"Voc  um assistente virtual inteligente para atendimento ao cliente. Seja profissional, amigvel e til."}),[s,a]=v.useState("Ol, gostaria de saber mais sobre seus produtos"),[o,l]=v.useState(""),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState(!1),{currentWorkspace:g}=be(),{toast:p}=Fn();v.useEffect(()=>{y()},[g]);const y=async()=>{if(g)try{const w=localStorage.getItem(`openai_config_${g.id}`);if(w){const S=JSON.parse(w);r(S),S.apiKey&&(f(!0),IC(S.apiKey,{model:S.model,temperature:S.temperature,maxTokens:S.maxTokens}))}}catch(w){console.error("Error loading OpenAI config:",w)}},x=async()=>{if(!n.apiKey.trim()){p({title:"Erro",description:"Por favor, insira sua chave da API OpenAI",variant:"destructive"});return}m(!0);try{await IC(n.apiKey,{model:n.model,temperature:n.temperature,maxTokens:n.maxTokens}).generateChatbotResponse("teste",[]),localStorage.setItem(`openai_config_${g==null?void 0:g.id}`,JSON.stringify(n)),f(!0),p({title:"Sucesso",description:"Configurao OpenAI salva e testada com sucesso!"})}catch(w){p({title:"Erro",description:`Falha ao conectar com OpenAI: ${w.message}`,variant:"destructive"})}finally{m(!1)}},b=async()=>{if(!d){p({title:"Erro",description:"Configure e salve a API OpenAI primeiro",variant:"destructive"});return}u(!0);try{const S=await fL().generateChatbotResponse(s,[],{clientName:"Joo Silva",businessInfo:{name:(g==null?void 0:g.name)||"Minha Empresa",sector:"Atendimento ao Cliente"}});l(S.message),p({title:"Teste realizado",description:"Resposta do chatbot gerada com sucesso!"})}catch(w){p({title:"Erro no teste",description:w.message,variant:"destructive"})}finally{u(!1)}},j=async()=>{if(!d){p({title:"Erro",description:"Configure e salve a API OpenAI primeiro",variant:"destructive"});return}u(!0);try{const S=await fL().classifyText(s,["suporte","vendas","informaes","reclamao","elogio"]);l(JSON.stringify(S,null,2)),p({title:"Classificao realizada",description:`Texto classificado como: ${S.category}`})}catch(w){p({title:"Erro na classificao",description:w.message,variant:"destructive"})}finally{u(!1)}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(jr,{className:"mr-2 h-4 w-4"}),"Configurar OpenAI"]})}),i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsxs(nt,{className:"flex items-center",children:[i.jsx(jr,{className:"mr-2 h-5 w-5"}),"Configurao OpenAI - Chatbot e IA"]}),i.jsx(ft,{children:"Configure a integrao com OpenAI para chatbot inteligente e classificao de texto"})]}),i.jsxs(Qn,{defaultValue:"config",className:"w-full",children:[i.jsxs(Rn,{className:"grid w-full grid-cols-4",children:[i.jsx(Fe,{value:"config",children:"Configurao"}),i.jsx(Fe,{value:"chatbot",children:"Chatbot"}),i.jsx(Fe,{value:"classification",children:"Classificao"}),i.jsx(Fe,{value:"agents",children:"Agentes"})]}),i.jsx(Ue,{value:"config",className:"space-y-4",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsxs(ge,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Configuraes da API"}),d?i.jsxs(fe,{className:"bg-green-100 text-green-800",children:[i.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Conectado"]}):i.jsxs(fe,{variant:"secondary",children:[i.jsx(Sn,{className:"h-3 w-3 mr-1"}),"Desconectado"]})]}),i.jsx(Ve,{children:"Configure sua chave da API OpenAI e parmetros do modelo"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"apiKey",children:"Chave da API OpenAI *"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ie,{id:"apiKey",type:"password",placeholder:"sk-...",value:n.apiKey,onChange:w=>r({...n,apiKey:w.target.value})}),i.jsx(B,{variant:"outline",onClick:()=>window.open("https://platform.openai.com/api-keys","_blank"),children:i.jsx(P6,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Obtenha sua chave em platform.openai.com/api-keys"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"model",children:"Modelo"}),i.jsxs(Oe,{value:n.model,onValueChange:w=>r({...n,model:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Recomendado)"}),i.jsx(K,{value:"gpt-4",children:"GPT-4 (Mais avanado)"}),i.jsx(K,{value:"gpt-4-turbo-preview",children:"GPT-4 Turbo"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"maxTokens",children:"Mximo de Tokens"}),i.jsx(ie,{id:"maxTokens",type:"number",min:"50",max:"2000",value:n.maxTokens,onChange:w=>r({...n,maxTokens:parseInt(w.target.value)})})]})]}),i.jsxs("div",{children:[i.jsxs(Y,{htmlFor:"temperature",children:["Criatividade (Temperature): ",n.temperature]}),i.jsx(Md,{value:[n.temperature],onValueChange:w=>r({...n,temperature:w[0]}),max:1,min:0,step:.1,className:"mt-2"}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[i.jsx("span",{children:"Mais conservador"}),i.jsx("span",{children:"Mais criativo"})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"systemPrompt",children:"Prompt do Sistema"}),i.jsx(vt,{id:"systemPrompt",value:n.systemPrompt,onChange:w=>r({...n,systemPrompt:w.target.value}),rows:4,placeholder:"Defina a personalidade e comportamento do chatbot..."})]}),i.jsx(B,{onClick:x,disabled:h,className:"w-full",children:h?i.jsxs(i.Fragment,{children:[i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Testando conexo..."]}):"Salvar e Testar Conexo"})]})]})}),i.jsx(Ue,{value:"chatbot",className:"space-y-4",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Teste do Chatbot"}),i.jsx(Ve,{children:"Teste como o chatbot responder s mensagens dos clientes"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testMessage",children:"Mensagem de Teste"}),i.jsx(vt,{id:"testMessage",value:s,onChange:w=>a(w.target.value),placeholder:"Digite uma mensagem para testar o chatbot...",rows:3})]}),i.jsx(B,{onClick:b,disabled:c||!d,className:"w-full",children:c?i.jsxs(i.Fragment,{children:[i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerando resposta..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ry,{className:"mr-2 h-4 w-4"}),"Testar Chatbot"]})}),o&&i.jsxs("div",{children:[i.jsx(Y,{children:"Resposta do Chatbot:"}),i.jsx("div",{className:"mt-2 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:o})})]})]})]})}),i.jsx(Ue,{value:"classification",className:"space-y-4",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Teste de Classificao de Texto"}),i.jsx(Ve,{children:"Teste como a IA classifica mensagens em categorias"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"testClassificationMessage",children:"Texto para Classificar"}),i.jsx(vt,{id:"testClassificationMessage",value:s,onChange:w=>a(w.target.value),placeholder:"Digite um texto para classificar...",rows:3})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Categorias Disponveis:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["suporte","vendas","informaes","reclamao","elogio"].map(w=>i.jsx(fe,{variant:"outline",children:w},w))})]}),i.jsx(B,{onClick:j,disabled:c||!d,className:"w-full",children:c?i.jsxs(i.Fragment,{children:[i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Classificando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ry,{className:"mr-2 h-4 w-4"}),"Testar Classificao"]})}),o&&i.jsxs("div",{children:[i.jsx(Y,{children:"Resultado da Classificao:"}),i.jsx("div",{className:"mt-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:i.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:o})})]})]})]})}),i.jsx(Ue,{value:"agents",className:"space-y-4",children:d?i.jsx(aUe,{}):i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(jr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Configurao OpenAI Necessria"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Configure sua chave da API OpenAI na aba Configurao antes de criar agentes"}),i.jsx(B,{onClick:()=>{var w;return(w=document.getElementById("config-tab"))==null?void 0:w.click()},children:"Ir para Configurao"})]})})})]}),i.jsx(yt,{children:i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"})})]})]})}class oUe{constructor(t){sr(this,"config");this.config=t}async makeRequest(t,n="GET",r){const s=`${this.config.baseUrl}/api/v1${t}`,a={"Content-Type":"application/json"};if(this.config.apiKey)a["X-N8N-API-KEY"]=this.config.apiKey;else if(this.config.username&&this.config.password){const l=btoa(`${this.config.username}:${this.config.password}`);a.Authorization=`Basic ${l}`}const o={method:n,headers:a};r&&(n==="POST"||n==="PUT")&&(o.body=JSON.stringify(r));try{const l=await fetch(s,o);if(!l.ok){const c=await l.text();let u=`N8N API Error (${l.status})`;try{const d=JSON.parse(c);u=d.message||d.error||u}catch{u=c||u}throw new Error(u)}return await l.json()}catch(l){throw new Error(`Falha na conexo com N8N: ${l.message}`)}}async healthCheck(){try{return await this.makeRequest("/health"),!0}catch(t){return console.error("N8N health check failed:",t),!1}}async getWorkflows(){try{return(await this.makeRequest("/workflows")).data||[]}catch(t){throw console.error("Failed to fetch workflows:",t),t}}async getWorkflow(t){return await this.makeRequest(`/workflows/${t}`)}async createWorkflow(t){return await this.makeRequest("/workflows","POST",t)}async updateWorkflow(t,n){return await this.makeRequest(`/workflows/${t}`,"PUT",n)}async deleteWorkflow(t){await this.makeRequest(`/workflows/${t}`,"DELETE")}async activateWorkflow(t){await this.makeRequest(`/workflows/${t}/activate`,"POST")}async deactivateWorkflow(t){await this.makeRequest(`/workflows/${t}/deactivate`,"POST")}async executeWorkflow(t,n){return await this.makeRequest(`/workflows/${t}/execute`,"POST",n)}async getExecutions(t){const n=t?`/executions?filter={"workflowId":"${t}"}`:"/executions";return(await this.makeRequest(n)).data||[]}async getExecution(t){return await this.makeRequest(`/executions/${t}`)}async triggerWebhook(t,n,r="POST"){const s=`${this.config.baseUrl}/webhook/${t}`;try{const a=await fetch(s,{method:r,headers:{"Content-Type":"application/json"},body:r==="POST"?JSON.stringify(n):void 0});let o;try{o=await a.json()}catch{o={text:await a.text()}}return{success:a.ok,data:o,error:a.ok?void 0:o.message||"Webhook execution failed"}}catch(a){return{success:!1,error:`Webhook error: ${a.message}`}}}async processChatbotMessage(t,n,r){var c,u;const s={message:n,context:r,timestamp:new Date().toISOString()},a=await this.executeWorkflow(t,s);let o=0;const l=30;for(;o<l;){const d=await this.getExecution(a.id);if(d.status==="success")return{response:((c=d.data)==null?void 0:c.response)||"Resposta processada com sucesso",actions:((u=d.data)==null?void 0:u.actions)||[]};if(d.status==="error")throw new Error("Erro no processamento do chatbot");await new Promise(f=>setTimeout(f,1e3)),o++}throw new Error("Timeout no processamento do chatbot")}async classifyText(t,n,r){var c,u,d;const s={text:n,categories:r,timestamp:new Date().toISOString()},a=await this.executeWorkflow(t,s);let o=0;const l=20;for(;o<l;){const f=await this.getExecution(a.id);if(f.status==="success")return{category:((c=f.data)==null?void 0:c.category)||"unknown",confidence:((u=f.data)==null?void 0:u.confidence)||0,metadata:(d=f.data)==null?void 0:d.metadata};if(f.status==="error")throw new Error("Erro na classificao de texto");await new Promise(h=>setTimeout(h,1e3)),o++}throw new Error("Timeout na classificao de texto")}async createChatbotWorkflow(t,n){const r={name:t,active:!1,nodes:[{id:"webhook",name:"Webhook",type:"n8n-nodes-base.webhook",typeVersion:1,position:[250,300],parameters:{httpMethod:"POST",path:`chatbot-${t.toLowerCase().replace(/\s+/g,"-")}`,responseMode:"responseNode"}},{id:"openai",name:"OpenAI Chat",type:"n8n-nodes-base.openAi",typeVersion:1,position:[450,300],parameters:{resource:"chat",operation:"message",model:n.model||"gpt-3.5-turbo",messages:{messageValues:[{role:"system",content:n.systemPrompt||"Voc  um assistente virtual til."},{role:"user",content:"={{$json.message}}"}]},options:{temperature:n.temperature||.7,maxTokens:500}},credentials:{openAiApi:{id:"openai-credentials",name:"OpenAI API"}}},{id:"response",name:"Response",type:"n8n-nodes-base.respondToWebhook",typeVersion:1,position:[650,300],parameters:{respondWith:"json",responseBody:'={"response": "{{$json.choices[0].message.content}}", "timestamp": "{{new Date().toISOString()}}"}'}}],connections:{webhook:{main:[[{node:"openai",type:"main",index:0}]]},openai:{main:[[{node:"response",type:"main",index:0}]]}}};return await this.createWorkflow(r)}async createTextClassifierWorkflow(t,n){const r={name:t,active:!1,nodes:[{id:"webhook",name:"Webhook",type:"n8n-nodes-base.webhook",typeVersion:1,position:[250,300],parameters:{httpMethod:"POST",path:`classifier-${t.toLowerCase().replace(/\s+/g,"-")}`,responseMode:"responseNode"}},{id:"openai",name:"OpenAI Classifier",type:"n8n-nodes-base.openAi",typeVersion:1,position:[450,300],parameters:{resource:"chat",operation:"message",model:n.model||"gpt-3.5-turbo",messages:{messageValues:[{role:"system",content:`Classifique o texto em uma das categorias: ${n.categories.join(", ")}. Responda apenas com JSON: {"category": "categoria", "confidence": 0.95}`},{role:"user",content:"={{$json.text}}"}]},options:{temperature:.1,maxTokens:100}},credentials:{openAiApi:{id:"openai-credentials",name:"OpenAI API"}}},{id:"response",name:"Response",type:"n8n-nodes-base.respondToWebhook",typeVersion:1,position:[650,300],parameters:{respondWith:"json",responseBody:"={{JSON.parse($json.choices[0].message.content)}}"}}],connections:{webhook:{main:[[{node:"openai",type:"main",index:0}]]},openai:{main:[[{node:"response",type:"main",index:0}]]}}};return await this.createWorkflow(r)}}let DC=null;const yv=()=>DC,hL=e=>(DC=new oUe(e),DC);function lUe(){const[e,t]=v.useState(!1),[n,r]=v.useState({baseUrl:"",apiKey:"",username:"",password:""}),[s,a]=v.useState("apiKey"),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState(""),[h,m]=v.useState([]),[g,p]=v.useState(!1),{currentWorkspace:y}=be(),{toast:x}=Fn();v.useEffect(()=>{b()},[y]);const b=async()=>{if(y)try{const _=localStorage.getItem(`n8n_config_${y.id}`);if(_){const k=JSON.parse(_);r(k),a(k.apiKey?"apiKey":"basic");try{hL(k),l(!0),w()}catch(A){console.error("Error initializing n8n:",A),l(!1)}}}catch(_){console.error("Error loading n8n config:",_)}},j=async()=>{if(!n.baseUrl){x({title:"Erro",description:"Por favor, insira a URL do servidor n8n",variant:"destructive"});return}if(s==="apiKey"&&!n.apiKey){x({title:"Erro",description:"Por favor, insira a chave da API n8n",variant:"destructive"});return}if(s==="basic"&&(!n.username||!n.password)){x({title:"Erro",description:"Por favor, insira o usurio e senha para autenticao",variant:"destructive"});return}u(!0);try{const _={baseUrl:n.baseUrl,apiKey:s==="apiKey"?n.apiKey:void 0,username:s==="basic"?n.username:void 0,password:s==="basic"?n.password:void 0},k=hL(_);try{if(!await k.healthCheck())throw new Error("No foi possvel conectar ao servidor n8n")}catch(A){throw new Error(`Falha na conexo com n8n: ${A.message}`)}localStorage.setItem(`n8n_config_${y==null?void 0:y.id}`,JSON.stringify(_)),l(!0),x({title:"Sucesso",description:"Configurao n8n salva e testada com sucesso!"}),w()}catch(_){x({title:"Erro",description:`Falha ao conectar com n8n: ${_.message}`,variant:"destructive"})}finally{u(!1)}},w=async()=>{if(o){p(!0);try{const _=yv();if(!_)throw new Error("n8n no inicializado");const k=await _.getWorkflows();m(k)}catch(_){x({title:"Erro",description:`Falha ao carregar workflows: ${_.message}`,variant:"destructive"})}finally{p(!1)}}},S=async()=>{if(o){u(!0);try{const _=yv();if(!_)throw new Error("n8n no inicializado");const k=await _.createChatbotWorkflow("Chatbot Automtico",{openaiApiKey:"sk-...",systemPrompt:"Voc  um assistente virtual para atendimento ao cliente.",model:"gpt-3.5-turbo",temperature:.7});x({title:"Sucesso",description:`Workflow de chatbot criado: ${k.name}`}),w()}catch(_){x({title:"Erro",description:`Falha ao criar workflow: ${_.message}`,variant:"destructive"})}finally{u(!1)}}},N=async()=>{if(o){u(!0);try{const _=yv();if(!_)throw new Error("n8n no inicializado");const k=await _.createTextClassifierWorkflow("Classificador de Texto",{openaiApiKey:"sk-...",categories:["suporte","vendas","informaes","reclamao","elogio"],model:"gpt-3.5-turbo"});x({title:"Sucesso",description:`Workflow de classificao criado: ${k.name}`}),w()}catch(_){x({title:"Erro",description:`Falha ao criar workflow: ${_.message}`,variant:"destructive"})}finally{u(!1)}}},C=async _=>{if(o){u(!0);try{const k=yv();if(!k)throw new Error("n8n no inicializado");const A=await k.triggerWebhook(_,{message:"Teste de webhook",timestamp:new Date().toISOString()});f(JSON.stringify(A,null,2)),A.success?x({title:"Sucesso",description:"Webhook executado com sucesso"}):x({title:"Erro",description:A.error||"Falha ao executar webhook",variant:"destructive"})}catch(k){x({title:"Erro",description:`Falha ao testar webhook: ${k.message}`,variant:"destructive"})}finally{u(!1)}}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(ds,{className:"mr-2 h-4 w-4"}),"Configurar n8n"]})}),i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsxs(nt,{className:"flex items-center",children:[i.jsx(ds,{className:"mr-2 h-5 w-5"}),"Configurao n8n - Automao Avanada"]}),i.jsx(ft,{children:"Configure a integrao com n8n para automaes avanadas e fluxos de trabalho personalizados"})]}),i.jsxs(Qn,{defaultValue:"config",className:"w-full",children:[i.jsxs(Rn,{className:"grid w-full grid-cols-3",children:[i.jsx(Fe,{value:"config",children:"Configurao"}),i.jsx(Fe,{value:"workflows",children:"Workflows"}),i.jsx(Fe,{value:"templates",children:"Templates"})]}),i.jsx(Ue,{value:"config",className:"space-y-4",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsxs(ge,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Configuraes do Servidor"}),o?i.jsxs(fe,{className:"bg-green-100 text-green-800",children:[i.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Conectado"]}):i.jsxs(fe,{variant:"secondary",children:[i.jsx(Sn,{className:"h-3 w-3 mr-1"}),"Desconectado"]})]}),i.jsx(Ve,{children:"Configure a conexo com seu servidor n8n self-hosted"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"baseUrl",children:"URL do Servidor n8n *"}),i.jsx(ie,{id:"baseUrl",placeholder:"https://seu-servidor-n8n.com",value:n.baseUrl,onChange:_=>r({...n,baseUrl:_.target.value})}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL completa do seu servidor n8n (ex: https://n8n.seudominio.com)"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(B,{type:"button",variant:s==="apiKey"?"default":"outline",size:"sm",onClick:()=>a("apiKey"),children:"Chave API"}),i.jsx(B,{type:"button",variant:s==="basic"?"default":"outline",size:"sm",onClick:()=>a("basic"),children:"Usurio/Senha"})]}),s==="apiKey"?i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"apiKey",children:"Chave da API n8n *"}),i.jsx(ie,{id:"apiKey",type:"password",placeholder:"n8n_api_...",value:n.apiKey,onChange:_=>r({...n,apiKey:_.target.value})}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Encontre sua chave API em Configuraes > API > API Keys"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"username",children:"Usurio *"}),i.jsx(ie,{id:"username",placeholder:"admin",value:n.username,onChange:_=>r({...n,username:_.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"password",children:"Senha *"}),i.jsx(ie,{id:"password",type:"password",placeholder:"********",value:n.password,onChange:_=>r({...n,password:_.target.value})})]})]})]}),i.jsx(B,{onClick:j,disabled:c,className:"w-full",children:c?i.jsxs(i.Fragment,{children:[i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Testando conexo..."]}):"Salvar e Testar Conexo"})]})]})}),i.jsxs(Ue,{value:"workflows",className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Workflows Disponveis"}),i.jsxs(B,{variant:"outline",size:"sm",onClick:w,disabled:!o||g,children:[i.jsx(ya,{className:`h-4 w-4 mr-2 ${g?"animate-spin":""}`}),"Atualizar"]})]}),o?g?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(mr,{className:"h-8 w-8 animate-spin text-blue-600"})}):h.length===0?i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(ds,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum workflow encontrado"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Crie seu primeiro workflow ou use um dos nossos templates"}),i.jsx(B,{onClick:()=>{var _;return(_=document.getElementById("templates-tab"))==null?void 0:_.click()},children:"Ver Templates"})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(_=>i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ge,{className:"text-base",children:_.name}),i.jsx(fe,{variant:_.active?"default":"secondary",children:_.active?"Ativo":"Inativo"})]})}),i.jsxs(se,{children:[i.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:["ID: ",_.id]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>window.open(`${n.baseUrl}/workflow/${_.id}`,"_blank"),children:[i.jsx(Koe,{className:"h-4 w-4 mr-2"}),"Abrir no n8n"]}),i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>C(`webhook-test-${_.id}`),children:[i.jsx(Ry,{className:"h-4 w-4 mr-2"}),"Testar"]})]})]})]},_.id))}):i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(Sn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No conectado ao n8n"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Configure a conexo com seu servidor n8n para visualizar os workflows"}),i.jsx(B,{onClick:()=>{var _;return(_=document.getElementById("config-tab"))==null?void 0:_.click()},children:"Ir para Configurao"})]})}),d&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{children:"Resultado do Teste"})}),i.jsx(se,{children:i.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto text-sm",children:d})})]})]}),i.jsxs(Ue,{value:"templates",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Chatbot com OpenAI"}),i.jsx(Ve,{children:"Cria um workflow para processar mensagens com GPT"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Este template cria um endpoint webhook que processa mensagens usando a API OpenAI e retorna respostas personalizadas."}),i.jsxs(B,{onClick:S,disabled:!o||c,className:"w-full",children:[c?i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(jr,{className:"mr-2 h-4 w-4"}),"Criar Workflow de Chatbot"]})]})})]}),i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Classificador de Texto"}),i.jsx(Ve,{children:"Classifica mensagens em categorias predefinidas"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Este template cria um endpoint webhook que classifica textos em categorias como suporte, vendas, informaes, etc."}),i.jsxs(B,{onClick:N,disabled:!o||c,className:"w-full",children:[c?i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(Wp,{className:"mr-2 h-4 w-4"}),"Criar Workflow de Classificao"]})]})})]})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{children:"Instrues de Uso"})}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"1. Configurao da API OpenAI"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Aps criar o workflow, voc precisar configurar suas credenciais da OpenAI no n8n:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 mt-2 space-y-1",children:[i.jsx("li",{children:"Abra o workflow no n8n"}),i.jsx("li",{children:"Clique no n OpenAI"}),i.jsx("li",{children:'Clique em "Create New" nas credenciais'}),i.jsx("li",{children:"Insira sua chave API da OpenAI"}),i.jsx("li",{children:"Salve as credenciais"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"2. Ativao do Workflow"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Para que o workflow funcione, voc precisa ativ-lo:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 mt-2 space-y-1",children:[i.jsx("li",{children:'Clique no boto "Ativar" no canto superior direito'}),i.jsx("li",{children:"O webhook estar disponvel na URL mostrada no n Webhook"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"3. Integrao com o OmniCRM"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Para integrar com o OmniCRM, use a URL do webhook nos ns de automao:"}),i.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 mt-2 space-y-1",children:[i.jsx("li",{children:"Copie a URL do webhook do n8n"}),i.jsx("li",{children:'No OmniCRM, crie uma automao com um n de ao "Webhook"'}),i.jsx("li",{children:"Cole a URL do webhook no campo URL"}),i.jsx("li",{children:"Configure o mtodo como POST e o corpo da requisio conforme necessrio"})]})]})]})})]})]})]}),i.jsx(yt,{children:i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"})})]})]})}var a2="Switch",[cUe,qKe]=Ss(a2),[uUe,dUe]=cUe(a2),YG=v.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=v.useState(null),g=ze(t,j=>m(j)),p=v.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,b]=Na({prop:s,defaultProp:a,onChange:u});return i.jsxs(uUe,{scope:n,checked:x,disabled:l,children:[i.jsx(Me.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":QG(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:ye(e.onClick,j=>{b(w=>!w),y&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),y&&i.jsx(fUe,{control:h,bubbles:!p.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});YG.displayName=a2;var XG="SwitchThumb",JG=v.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=dUe(XG,n);return i.jsx(Me.span,{"data-state":QG(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});JG.displayName=XG;var fUe=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=v.useRef(null),o=hb(n),l=ow(t);return v.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(h)}},[o,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function QG(e){return e?"checked":"unchecked"}var ZG=YG,hUe=JG;const Br=v.forwardRef(({className:e,...t},n)=>i.jsx(ZG,{className:ve("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:i.jsx(hUe,{className:ve("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Br.displayName=ZG.displayName;class eK{constructor(t,n){sr(this,"proxyUrl");sr(this,"supabaseAnonKey");sr(this,"requestQueue",[]);sr(this,"isProcessingQueue",!1);sr(this,"lastRequestTime",0);sr(this,"minRequestInterval",1e3);sr(this,"cache",new Map);sr(this,"cacheTimeout",6e4);this.proxyUrl=`${t}/functions/v1/baselinker-proxy`,this.supabaseAnonKey=n}getCacheKey(t,n,r){return`${t.substring(0,8)}_${n}_${JSON.stringify(r)}`}getFromCache(t){const n=this.cache.get(t);return n&&Date.now()-n.timestamp<this.cacheTimeout?(console.log(`[CACHE HIT] ${t}`),n.data):(n&&this.cache.delete(t),null)}setCache(t,n){this.cache.set(t,{data:n,timestamp:Date.now()})}async processQueue(){if(!(this.isProcessingQueue||this.requestQueue.length===0)){for(this.isProcessingQueue=!0;this.requestQueue.length>0;){const n=Date.now()-this.lastRequestTime;n<this.minRequestInterval&&await new Promise(s=>setTimeout(s,this.minRequestInterval-n));const r=this.requestQueue.shift();r&&(this.lastRequestTime=Date.now(),await r())}this.isProcessingQueue=!1}}async makeRequest(t,n,r={},s=!0){const a=this.getCacheKey(t,n,r);if(s){const o=this.getFromCache(a);if(o)return o}return new Promise((o,l)=>{(async()=>{var u,d;try{console.log(`[API REQUEST] ${n}`,{apiKey:t.substring(0,5)+"...",parameters:r});const h=Date.now()-this.lastRequestTime;h<this.minRequestInterval&&await new Promise(p=>setTimeout(p,this.minRequestInterval-h)),this.lastRequestTime=Date.now();const m=await fetch(this.proxyUrl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.supabaseAnonKey}`},body:JSON.stringify({apiKey:t,method:n,parameters:r})});if(!m.ok){if(m.status===401)throw new Error("HTTP error! status: 401 - Unauthorized. Verifique a chave annima (anon key) da Supabase.");if(m.status===403)throw new Error("HTTP error! status: 403 - Forbidden. Permisso negada para acessar a funo da Supabase.");{const p=await m.text();throw new Error(`HTTP error! status: ${m.status} - ${p}`)}}const g=await m.json();if(console.log(`[API RESPONSE] ${n}:`,g),g.status==="ERROR")throw(u=g.error_message)!=null&&u.includes("Query limit exceeded")||(d=g.error_message)!=null&&d.includes("token blocked")?new Error(g.error_message||"Rate limit exceeded"):new Error(g.error_message||"Unknown Baselinker API error");s&&this.setCache(a,g),o(g)}catch(f){console.error("[API ERROR]",f),l(f)}})()})}clearCache(){this.cache.clear(),console.log("[CACHE] Cache cleared")}async testConnection(t){var n,r;try{console.log("[TEST CONNECTION] Testing with API key:",t.substring(0,8)+"...");const s=await this.makeRequest(t,"getInventories",{},!1);return console.log("[TEST CONNECTION] Success:",s),{success:!0,data:s}}catch(s){if(console.error("[TEST CONNECTION] Error:",s),(n=s.message)!=null&&n.includes("Query limit exceeded")||(r=s.message)!=null&&r.includes("token blocked")){const a=s.message.match(/until (\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2})/);return{success:!1,message:`Token temporariamente bloqueado devido a muitas requisies. Aguarde at ${a?a[1]:"alguns minutos"} e tente novamente.`}}return{success:!1,message:s.message}}}async getOrders(t,n={}){return console.log("Getting orders with API key:",t,"and parameters:",n),this.makeRequest(t,"getOrders",n)}async getOrderDetails(t,n){return this.makeRequest(t,"getOrderDetails",{order_id:n})}async getOrderStatusList(t){return this.makeRequest(t,"getOrderStatusList")}async getOrderSources(t){return this.makeRequest(t,"getOrderSources")}async getOrderPaymentsHistory(t,n={}){return this.makeRequest(t,"getOrderPaymentsHistory",n)}async getInventories(t){return this.makeRequest(t,"getInventories")}async getInventoryWarehouses(t){return this.makeRequest(t,"getInventoryWarehouses",{})}async getInventoryProductsList(t,n){return this.makeRequest(t,"getInventoryProductsList",n)}async getInventoryProductsData(t,n){return this.makeRequest(t,"getInventoryProductsData",n)}async getInventoryAvailableTextFields(t,n){return this.makeRequest(t,"getInventoryAvailableTextFields",{inventory_id:n})}async getInventoryIntegrations(t){return this.makeRequest(t,"getInventoryIntegrations")}async getInventoryCategories(t,n){return this.makeRequest(t,"getInventoryCategories",{inventory_id:n})}async getInventoryExtraFields(t,n){return this.makeRequest(t,"getInventoryExtraFields",{inventory_id:n})}async getInventoryProductsPrices(t,n){return this.makeRequest(t,"getInventoryProductsPrices",n)}async getInventoryProductsQuantity(t,n){return this.makeRequest(t,"getInventoryProductsQuantity",n)}async updateInventoryProductsQuantity(t,n){return this.makeRequest(t,"updateInventoryProductsQuantity",n)}async addProductQuantity(t,n){return this.makeRequest(t,"addInventoryProductsQuantity",{inventory_id:n.inventory_id,products:{[n.product_id]:{[n.variant_id||"0"]:{quantity:n.quantity}}}})}async removeProductQuantity(t,n){return this.makeRequest(t,"removeInventoryProductsQuantity",{inventory_id:n.inventory_id,products:{[n.product_id]:{[n.variant_id||"0"]:{quantity:n.quantity}}}})}async getProductsList(t,n={}){return this.makeRequest(t,"getProductsList",n)}async getProductDetails(t,n){return this.makeRequest(t,"getProductDetails",{product_id:n})}async getProductsData(t,n){return this.makeRequest(t,"getProductsData",{products:n})}async getProductsPrices(t,n){return this.makeRequest(t,"getProductsPrices",{page:n})}async getProductsQuantity(t,n){return this.makeRequest(t,"getProductsQuantity",{page:n})}async getJournalList(t,n){return this.makeRequest(t,"getJournalList",n)}async getRequestsList(t){return this.makeRequest(t,"getRequestsList")}async getRequestMessages(t,n){return this.makeRequest(t,"getRequestMessages",{request_id:n})}async getExternalStoragesList(t){return this.makeRequest(t,"getExternalStoragesList")}async getCategoriesList(t,n){return this.makeRequest(t,"getCategoriesList",{storage_id:n})}}let MC=null;const vi=()=>MC,tK=(e,t)=>(MC=new eK(e,t),MC),nK=ka((e,t)=>{let n=null;return{config:null,products:[],loading:!1,syncInProgress:!1,lastSyncTime:null,isConnected:()=>{var a;const r=be.getState().currentWorkspace;if(!r)return!1;const s=(a=r.settings)==null?void 0:a.baselinker;return!!(s!=null&&s.enabled&&(s!=null&&s.token))},connect:async r=>{await G.handleAsync(async()=>{const s=be.getState().currentWorkspace;if(!s)throw new Error("Nenhum workspace selecionado");console.log("DEBUG (connect): Verificando chave da Supabase:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k"),tK("https://oqwstanztqdiexgrpdta.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k");const{data:a,error:o}=await U.from("workspaces").select("settings").eq("id",s.id).single();if(o)throw o;const l={...a.settings||{},baselinker:{enabled:!0,token:r.apiKey,warehouse_es:r.warehouse_es||1,warehouse_sp:r.warehouse_sp||2,sync_interval:r.syncInterval||5,sync_orders:r.syncOrders!==!1,sync_customers:r.syncCustomers!==!1,sync_inventory:r.syncInventory!==!1,inventory_id:r.inventoryId||""}};await U.from("workspaces").update({settings:l}).eq("id",s.id),be.getState().updateCurrentWorkspace({...s,settings:l}),e({config:r}),await U.from("baselinker_sync").upsert({workspace_id:s.id,sync_status:"idle",updated_at:new Date().toISOString()},{onConflict:"workspace_id"}),await t().syncAll(!0)})},disconnect:async()=>{await G.handleAsync(async()=>{const r=be.getState().currentWorkspace;if(!r)return;const{data:s}=await U.from("workspaces").select("settings").eq("id",r.id).single(),a={...(s==null?void 0:s.settings)||{},baselinker:{enabled:!1,token:"",warehouse_es:1,warehouse_sp:2}};await U.from("workspaces").update({settings:a}).eq("id",r.id),be.getState().updateCurrentWorkspace({...r,settings:a}),t().stopSyncInterval(),e({config:null})})},testConnection:async r=>{try{console.log("Testing connection with API key:",r),console.log("DEBUG (testConnection): Verificando chave da Supabase:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k");const a=await new eK("https://oqwstanztqdiexgrpdta.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k").testConnection(r);return console.log("Test connection result:",a),a}catch(s){return console.error("Test connection error:",s),{success:!1,message:s.message||"Connection failed"}}},getInventories:async()=>await G.handleAsync(async()=>{const r=vi(),s=t().config;if(!r||!s)throw new Error("Baselinker no inicializado");try{console.log("Getting inventories with API key:",s.apiKey);const a=await r.getInventories(s.apiKey);return console.log("Inventories response:",a),a.inventories||[]}catch(a){throw console.error("Error fetching inventories:",a),a.message.includes("401")||a.message.includes("Unauthorized")||a.message.includes("Invalid API key")?new Error("Chave da API invlida ou sem permisses necessrias. Verifique sua chave da API no painel Baselinker."):a}})||[],getOrderStatuses:async()=>await G.handleAsync(async()=>{const r=vi(),s=t().config;if(!r||!s)throw new Error("Baselinker no inicializado");try{console.log("Getting order statuses with API key:",s.apiKey);const a=await r.getOrderStatusList(s.apiKey);return console.log("Order statuses response:",a),a.statuses||[]}catch(a){throw console.error("Error fetching order statuses:",a),a.message.includes("401")||a.message.includes("Unauthorized")||a.message.includes("Invalid API key")?new Error("Chave da API invlida ou sem permisses necessrias. Verifique sua chave da API no painel Baselinker."):a}})||[],getProducts:async r=>await G.handleAsync(async()=>{const s=vi(),a=t().config;if(!s||!a)throw new Error("Baselinker no inicializado");try{console.log("Getting products with API key:",a.apiKey,"and inventory ID:",r);const o=await s.getInventoryProductsList(a.apiKey,{inventory_id:r,page:1});return console.log("Products response:",o),o.products||[]}catch(o){throw console.error("Error fetching products:",o),o.message.includes("401")||o.message.includes("Unauthorized")||o.message.includes("Invalid API key")?new Error("Chave da API invlida ou sem permisses necessrias. Verifique sua chave da API no painel Baselinker."):o}})||[],syncOrders:async(r=!1)=>{await G.handleAsync(async()=>{const s=vi(),a=t().config,o=be.getState().currentWorkspace;if(!s||!a||!o)throw new Error("Configurao incompleta");e({syncInProgress:!0});try{const{data:l}=await U.from("baselinker_sync").select("last_orders_sync").eq("workspace_id",o.id).maybeSingle(),c=l!=null&&l.last_orders_sync&&!r?new Date(l.last_orders_sync).getTime()/1e3:0,d=(await s.getOrderStatusList(a.apiKey)).statuses||[],f=a.orderStatuses,h=d.filter(S=>f.includes(S.name.toLowerCase().replace(/\s+/g,"_"))).map(S=>S.id),{data:m}=await U.from("orders").select("order_date").eq("workspace_id",o.id).order("order_date",{ascending:!1}).limit(1).single(),g=m?Math.floor(new Date(m.order_date).getTime()/1e3)+1:c;console.log(`Iniciando sincronizao incremental de pedidos (desde ${new Date(g*1e3).toISOString()})...`),m&&console.log(`ltimo pedido no banco: ${m.order_date}`);const p=500,y=Math.ceil(p/100);let x=[],b=1,j=!0;for(;j&&b<=y;){const S={date_from:g,status_id:h.join(","),page:b};console.log(`[PGINA ${b}/${y}] Buscando pedidos...`,S);const C=(await s.getOrders(a.apiKey,S)).orders||[];console.log(`[PGINA ${b}/${y}] Encontrados ${C.length} pedidos`),C.length===0?j=!1:(x.push(...C),x.length>=p?(j=!1,console.log(` LIMITE ATINGIDO: ${x.length} pedidos (mximo ${p})`)):C.length===100?(b++,console.log(`[PGINA ${b}] Continuando para prxima pgina (100 pedidos encontrados)...`)):(j=!1,console.log(`[PGINA ${b}] ltima pgina (${C.length} pedidos)`)))}x.length>=p&&console.log(` AVISO: Foram buscados ${p} pedidos (limite). Execute sincronizao novamente para buscar pedidos mais antigos.`),console.log(` TOTAL: ${x.length} pedidos encontrados em ${b} pgina(s)`);const w=x;for(const S of w){const N=S;let C="pending";["paid","ready_for_shipping"].includes(S.order_status_id)?C="processing":["shipped","delivered"].includes(S.order_status_id)?C="completed":["cancelled","returned"].includes(S.order_status_id)&&(C="cancelled");let _=null;if(N.email||N.phone){const{data:T}=await U.from("clients").select("id").or(`email.eq.${N.email},phone.eq.${N.phone}`).eq("workspace_id",o.id);if(T&&T.length>0)_=T[0].id,await U.from("clients").update({name:N.delivery_fullname||N.invoice_fullname,email:N.email,phone:N.phone,metadata:{baselinker_data:{company:N.invoice_company,address:N.delivery_address,city:N.delivery_city,postcode:N.delivery_postcode,country:N.delivery_country,last_order_id:S.order_id}}}).eq("id",_);else{const{data:D}=await U.from("clients").insert({name:N.delivery_fullname||N.invoice_fullname,email:N.email,phone:N.phone,workspace_id:o.id,metadata:{baselinker_data:{company:N.invoice_company,address:N.delivery_address,city:N.delivery_city,postcode:N.delivery_postcode,country:N.delivery_country,last_order_id:S.order_id}}}).select().single();_=D==null?void 0:D.id}}if(!_)continue;const{data:k,error:A}=await U.from("orders").select("id").eq("order_id_base",parseInt(S.order_id)).eq("workspace_id",o.id).maybeSingle();if(A){console.error("Error checking existing order:",A);continue}if(k){const T=parseFloat(N.payment_done||0),D=!isNaN(T)&&T>0?T:0,{error:F}=await U.from("orders").update({total_amount:D,status:C,metadata:{baselinker_data:N}}).eq("id",k.id);F&&console.error("Error updating order:",F)}else{const T=parseFloat(N.payment_done||0),D=parseFloat(N.delivery_price||0),F=!isNaN(T)&&T>0?T:0,{error:E}=await U.from("orders").insert({workspace_id:o.id,client_id:_,total_amount:F,order_date:new Date(S.date_add*1e3).toISOString(),status:C,external_id:S.order_id,order_id_base:parseInt(S.order_id),metadata:{baselinker_data:N},metadata_feita:!1});E&&console.error(" ERROR INSERTING ORDER:",{errorMessage:E.message,errorCode:E.code,errorDetails:E.details,errorHint:E.hint,fullError:E,orderData:{order_id:S.order_id,original_price:S.price,parsed_price:F,valid_price:validTotalAmount},attemptedData:{workspace_id:o.id,client_id:_,total_amount:validTotalAmount,order_date:new Date(S.date_add*1e3).toISOString(),status:C,external_id:S.order_id,order_id_base:parseInt(S.order_id),metadata:{baselinker_data:N},metadata_feita:!1}})}}await U.from("baselinker_sync").upsert({workspace_id:o.id,last_orders_sync:new Date().toISOString(),sync_status:"idle",updated_at:new Date().toISOString()},{onConflict:"workspace_id"}),e({lastSyncTime:new Date}),x.length>=p&&G.showError(`Limite de ${p} pedidos atingido. Execute a sincronizao novamente para buscar pedidos mais antigos.`,"Sincronizao Parcial")}catch(l){throw l.message.includes("401")||l.message.includes("Unauthorized")||l.message.includes("Invalid API key")?new Error("Chave da API invlida ou sem permisses necessrias. Verifique sua chave da API no painel Baselinker."):l}finally{e({syncInProgress:!1})}})},syncCustomers:async(r=!1)=>{await G.handleAsync(async()=>{const s=vi(),a=t().config,o=be.getState().currentWorkspace;if(!s||!a||!o)throw new Error("Configurao incompleta");e({syncInProgress:!0});try{const{data:l}=await U.from("baselinker_sync").select("last_customers_sync").eq("workspace_id",o.id).maybeSingle(),c=l!=null&&l.last_customers_sync&&!r?new Date(l.last_customers_sync).getTime()/1e3:0;console.log("Syncing customers with API key:",a.apiKey);const d=(await s.getOrders(a.apiKey,{date_from:c})).orders||[];console.log(`Found ${d.length} orders to extract customers from`);for(const f of d){const h=f;if(!h.email&&!h.phone)continue;const{data:m}=await U.from("clients").select("id").or(`email.eq.${h.email},phone.eq.${h.phone}`).eq("workspace_id",o.id);m&&m.length>0?await U.from("clients").update({name:h.delivery_fullname||h.invoice_fullname,email:h.email,phone:h.phone,metadata:{baselinker_data:{company:h.invoice_company,address:h.delivery_address,city:h.delivery_city,postcode:h.delivery_postcode,country:h.delivery_country,last_order_id:f.order_id}}}).eq("id",m[0].id):await U.from("clients").insert({name:h.delivery_fullname||h.invoice_fullname,email:h.email,phone:h.phone,workspace_id:o.id,metadata:{baselinker_data:{company:h.invoice_company,address:h.delivery_address,city:h.delivery_city,postcode:h.delivery_postcode,country:h.delivery_country,last_order_id:f.order_id}}})}await U.from("baselinker_sync").upsert({workspace_id:o.id,last_customers_sync:new Date().toISOString(),sync_status:"idle",updated_at:new Date().toISOString()},{onConflict:"workspace_id"}),e({lastSyncTime:new Date})}catch(l){throw l.message.includes("401")||l.message.includes("Unauthorized")||l.message.includes("Invalid API key")?new Error("Chave da API invlida ou sem permisses necessrias. Verifique sua chave da API no painel Baselinker."):l}finally{e({syncInProgress:!1})}})},syncInventory:async()=>{await G.handleAsync(async()=>{var o,l;const r=vi(),s=t().config,a=be.getState().currentWorkspace;if(!r||!s||!a||!s.inventoryId)throw new Error("Configurao incompleta");e({syncInProgress:!0});try{console.log("Syncing inventory with API key:",s.apiKey,"and inventory ID:",s.inventoryId);let c=1,u=!0;const d=[];for(;u;){const g=(await r.getInventoryProductsList(s.apiKey,{inventory_id:s.inventoryId,page:c})).products||{},p=Object.values(g);if(d.push(...p),u=p.length>0,c++,c>10)break}console.log(`Found ${d.length} products to sync`);const{data:f}=await U.from("baselinker_warehouses").select("*").eq("workspace_id",a.id),h=new Map;f==null||f.forEach(m=>{h.set(m.warehouse_id,m)});for(const m of d){const p=(o=(await r.getInventoryProductsData(s.apiKey,{inventory_id:s.inventoryId,products:[m.id]})).products)==null?void 0:o[m.id];if(!p)continue;const y=p.stock||{},{data:x,error:b}=await U.from("products").select("id, warehouseID").eq("sku",m.sku).eq("workspace_id",a.id).limit(1);if(b){console.error("Error querying product:",b);continue}const j=Object.keys(y)[0]||"",w=Object.values(y)[0]||0,S={name:m.name||p.name,sku:m.sku,ean:m.ean,price:parseFloat(p.price_brutto||m.price||0),custo:parseFloat(p.purchase_price_brutto||0),stock_es:parseInt(w),warehouseID:j,description:((l=p==null?void 0:p.text_fields)==null?void 0:l.description)||"",images:(p==null?void 0:p.images)||[],metadata:{baselinker_data:p,baselinker_product_id:m.id}};let N;if(x&&x.length>0){const{error:C}=await U.from("products").update(S).eq("id",x[0].id);if(C){console.error("Error updating product:",C);continue}N=x[0].id}else{const{data:C,error:_}=await U.from("products").insert({...S,external_id:m.id.toString(),workspace_id:a.id}).select("id").single();if(_){console.error("Error inserting product:",_);continue}N=(C==null?void 0:C.id)||""}if(N)for(const[C,_]of Object.entries(y)){const{error:k}=await U.from("product_stock_by_warehouse").upsert({workspace_id:a.id,product_id:N,warehouse_id:C,sku:m.sku,stock_quantity:parseInt(_),updated_at:new Date().toISOString()},{onConflict:"workspace_id,sku,warehouse_id"});k&&console.error("Error upserting stock:",k)}}await U.from("baselinker_sync").upsert({workspace_id:a.id,last_inventory_sync:new Date().toISOString(),sync_status:"idle",updated_at:new Date().toISOString()},{onConflict:"workspace_id"}),e({lastSyncTime:new Date})}catch(c){throw c.message.includes("401")||c.message.includes("Unauthorized")||c.message.includes("Invalid API key")?new Error("Chave da API invlida ou sem permisses necessrias. Verifique sua chave da API no painel Baselinker."):c}finally{e({syncInProgress:!1})}})},syncAll:async(r=!1)=>{await G.handleAsync(async()=>{const s=t().config,a=be.getState().currentWorkspace;if(!s||!a)throw new Error("Configurao incompleta");await U.from("baselinker_sync").upsert({workspace_id:a.id,sync_status:"syncing",updated_at:new Date().toISOString()},{onConflict:"workspace_id"}),e({syncInProgress:!0});try{s.syncOrders&&await t().syncOrders(r),s.syncCustomers&&await t().syncCustomers(r),s.syncInventory&&s.inventoryId&&await t().syncInventory(),await U.from("baselinker_sync").upsert({workspace_id:a.id,sync_status:"idle",updated_at:new Date().toISOString()},{onConflict:"workspace_id"}),e({lastSyncTime:new Date})}catch(o){throw await U.from("baselinker_sync").upsert({workspace_id:a.id,sync_status:"error",sync_errors:[{message:o.message,timestamp:new Date().toISOString()}],updated_at:new Date().toISOString()},{onConflict:"workspace_id"}),o}finally{e({syncInProgress:!1})}})},getSyncStats:async()=>await G.handleAsync(async()=>{const r=be.getState().currentWorkspace;if(!r)return{lastSync:null,ordersCount:0,customersCount:0,productsCount:0};const{data:s}=await U.from("baselinker_sync").select("*").eq("workspace_id",r.id).maybeSingle(),[{count:a},{count:o},{count:l}]=await Promise.all([U.from("orders").select("*, clients!inner(workspace_id)",{count:"exact",head:!0}).eq("clients.workspace_id",r.id).not("external_id","is",null),U.from("clients").select("*",{count:"exact",head:!0}).eq("workspace_id",r.id),U.from("products").select("*",{count:"exact",head:!0}).eq("workspace_id",r.id)]);let c=null;if(s){const u=[s.last_orders_sync,s.last_customers_sync,s.last_inventory_sync].filter(Boolean).map(d=>new Date(d));u.length>0&&(c=new Date(Math.max(...u.map(d=>d.getTime()))))}return{lastSync:c,ordersCount:a||0,customersCount:o||0,productsCount:l||0}})||{lastSync:null,ordersCount:0,customersCount:0,productsCount:0},startSyncInterval:()=>{const r=t().config;r&&(t().stopSyncInterval(),n=window.setInterval(()=>{t().syncAll()},r.syncInterval*60*1e3))},stopSyncInterval:()=>{n!==null&&(clearInterval(n),n=null)}}}),mUe=ew("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),rK=v.forwardRef(({className:e,variant:t,...n},r)=>i.jsx("div",{ref:r,role:"alert",className:ve(mUe({variant:t}),e),...n}));rK.displayName="Alert";const pUe=v.forwardRef(({className:e,...t},n)=>i.jsx("h5",{ref:n,className:ve("mb-1 font-medium leading-none tracking-tight",e),...t}));pUe.displayName="AlertTitle";const sK=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ve("text-sm [&_p]:leading-relaxed",e),...t}));sK.displayName="AlertDescription";function aK(){const{currentWorkspace:e}=be(),[t,n]=v.useState([]),[r,s]=v.useState([]),[a,o]=v.useState([]),[l,c]=v.useState(!0),[u,d]=v.useState(!1),[f,h]=v.useState(!1);v.useEffect(()=>{e!=null&&e.id&&m()},[e==null?void 0:e.id]);const m=async()=>{try{c(!0);const{data:j,error:w}=await U.from("baselinker_warehouses").select("*").eq("workspace_id",e.id);if(w)throw w;n(j||[])}catch(j){console.error("Error loading warehouses:",j)}finally{c(!1)}},g=async()=>{try{await m(),await p()}catch(j){console.error("Error loading warehouses:",j),Rr.error("Erro ao carregar configurao de warehouses")}},p=async()=>{var j,w;try{h(!0);const S=vi();if(!S)throw new Error("Baselinker no est inicializado. Configure a API Key primeiro.");if(!((w=(j=e==null?void 0:e.settings)==null?void 0:j.baselinker)!=null&&w.token))throw new Error("Configurao do Baselinker no encontrada. Configure a API Key na aba Configurao primeiro.");const N=e.settings.baselinker.token;if(!N)throw new Error("API Key do Baselinker no configurada");const C=await S.getInventories(N),_=await S.getInventoryWarehouses(N);if(console.log("[WAREHOUSE CONFIG] Inventories response:",C),console.log("[WAREHOUSE CONFIG] Warehouses response:",_),C.inventories){const k=Object.entries(C.inventories).map(([A,T])=>({inventory_id:A,name:T.name||`Inventory ${A}`,description:T.description}));o(k)}if(_.warehouses&&Array.isArray(_.warehouses)){const k=_.warehouses.map(A=>{var F,E;const T=C.inventories?Object.keys(C.inventories)[0]:"0",D=((E=(F=C.inventories)==null?void 0:F[T])==null?void 0:E.name)||"Baselinker Inventory";return{warehouse_id:String(A.warehouse_id),name:A.name||`Warehouse ${A.warehouse_id}`,description:A.description||"",inventory_id:T,inventory_name:D}});console.log("[WAREHOUSE CONFIG] Processed warehouses:",k),s(k)}}catch(S){console.error("Error loading inventories:",S),Rr.error(S.message||"Erro ao buscar warehouses do Baselinker")}finally{h(!1)}},y=async(j,w)=>{try{d(!0);const S=r.find(C=>C.warehouse_id===j),N=t.find(C=>C.warehouse_id===j);if(N){const{error:C}=await U.from("baselinker_warehouses").update({is_active:w}).eq("id",N.id);if(C)throw C}else{const{error:C}=await U.from("baselinker_warehouses").insert({workspace_id:e.id,warehouse_id:j,warehouse_name:(S==null?void 0:S.name)||`Warehouse ${j}`,is_active:w,allow_stock_updates:!0,sync_direction:"bidirectional"});if(C)throw C}Rr.success(w?"Estoque ativado":"Estoque desativado"),await g()}catch(S){console.error("Error toggling warehouse:",S),Rr.error("Erro ao atualizar estoque")}finally{d(!1)}},x=async(j,w)=>{try{d(!0);const S=t.find(C=>C.warehouse_id===j);if(!S)return;const{error:N}=await U.from("baselinker_warehouses").update({sync_direction:w}).eq("id",S.id);if(N)throw N;Rr.success("Direo de sincronizao atualizada"),await g()}catch(S){console.error("Error updating sync direction:",S),Rr.error("Erro ao atualizar direo de sincronizao")}finally{d(!1)}},b=async(j,w)=>{try{d(!0);const S=t.find(C=>C.warehouse_id===j);if(!S)return;const{error:N}=await U.from("baselinker_warehouses").update({allow_stock_updates:w}).eq("id",S.id);if(N)throw N;Rr.success(w?"Atualizao de estoque ativada":"Atualizao de estoque desativada"),await g()}catch(S){console.error("Error updating stock updates:",S),Rr.error("Erro ao atualizar permisso de estoque")}finally{d(!1)}};return l?i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{className:"flex items-center gap-2",children:[i.jsx(Mu,{className:"h-5 w-5"}),"Warehouses Ativos"]})}),i.jsx(se,{children:i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(mr,{className:"h-8 w-8 animate-spin text-gray-400"})})})]}):i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(ge,{className:"flex items-center gap-2",children:[i.jsx(Mu,{className:"h-5 w-5"}),"Warehouses Ativos"]}),i.jsx(Ve,{className:"mt-2",children:"Selecione quais warehouses a plataforma pode modificar automaticamente"})]}),i.jsxs(B,{variant:"outline",size:"sm",onClick:p,disabled:f,children:[f?i.jsx(mr,{className:"h-4 w-4 animate-spin"}):i.jsx(ya,{className:"h-4 w-4"}),i.jsx("span",{className:"ml-2",children:"Atualizar"})]})]})}),i.jsx(se,{className:"space-y-6",children:r.length===0?i.jsxs(rK,{children:[i.jsx(Dk,{className:"h-4 w-4"}),i.jsx(sK,{children:"Nenhum estoque encontrado. Configure a API Key do Baselinker primeiro."})]}):a.map(j=>{const w=r.filter(S=>S.inventory_id===j.inventory_id);return w.length===0?null:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[i.jsx(Mu,{className:"h-4 w-4"}),j.name]}),i.jsx("div",{className:"space-y-3 ml-6",children:w.map(S=>{const N=t.find(A=>A.warehouse_id===S.warehouse_id),C=(N==null?void 0:N.is_active)||!1,_=(N==null?void 0:N.allow_stock_updates)??!0,k=(N==null?void 0:N.sync_direction)||"bidirectional";return i.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Y,{htmlFor:`warehouse-${S.warehouse_id}`,className:"text-base font-medium cursor-pointer",children:S.name}),C?i.jsx(fe,{variant:"default",className:"bg-green-500",children:"Ativo"}):i.jsx(fe,{variant:"secondary",children:"Inativo"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["ID: ",S.warehouse_id,S.description&&`  ${S.description}`]})]}),i.jsx(Br,{id:`warehouse-${S.warehouse_id}`,checked:C,onCheckedChange:A=>y(S.warehouse_id,A),disabled:u})]}),C&&N&&i.jsxs("div",{className:"pl-4 space-y-3 border-l-2 border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Y,{htmlFor:`stock-${S.warehouse_id}`,className:"text-sm",children:"Permitir atualizao de estoque"}),i.jsx(Br,{id:`stock-${S.warehouse_id}`,checked:_,onCheckedChange:A=>b(S.warehouse_id,A),disabled:u})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Y,{htmlFor:`direction-${S.warehouse_id}`,className:"text-sm",children:"Direo de sincronizao"}),i.jsxs(Oe,{value:k,onValueChange:A=>x(S.warehouse_id,A),disabled:u,children:[i.jsx(Pe,{id:`direction-${S.warehouse_id}`,className:"w-[180px]",children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"read_only",children:"Somente Leitura"}),i.jsx(K,{value:"write_only",children:"Somente Escrita"}),i.jsx(K,{value:"bidirectional",children:"Bidirecional"})]})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground bg-gray-50 p-2 rounded",children:[k==="read_only"&&" A plataforma apenas l dados deste estoque",k==="write_only"&&" A plataforma apenas escreve dados neste estoque",k==="bidirectional"&&" A plataforma l e escreve dados neste estoque"]})]})]},S.warehouse_id)})})]},j.inventory_id)})})]})}function gUe(){const[e,t]=v.useState(!1),[n,r]=v.useState({apiKey:"",syncInterval:5,syncOrders:!0,syncCustomers:!0,syncInventory:!0,orderStatuses:["new","paid","processing","ready_for_shipping","shipped"],inventoryId:""}),[s,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(""),[d,f]=v.useState([]),[h,m]=v.useState([]),[g,p]=v.useState({lastSync:null,ordersCount:0,customersCount:0,productsCount:0}),[y,x]=v.useState(""),{currentWorkspace:b}=be(),{isConnected:j,connect:w,disconnect:S,testConnection:N,getInventories:C,getOrderStatuses:_,syncOrders:k,syncCustomers:A,syncInventory:T,syncAll:D,getSyncStats:F}=nK(),{toast:E}=Fn();v.useEffect(()=>{e&&(O(),$())},[e,b==null?void 0:b.id]);const $=async()=>{var V;try{x("");const te=j();if(a(te),te){const ne=(V=b==null?void 0:b.settings)==null?void 0:V.baselinker;if(ne&&ne.token){const X={apiKey:ne.token,syncInterval:ne.sync_interval||5,syncOrders:ne.sync_orders!==!1,syncCustomers:ne.sync_customers!==!1,syncInventory:ne.sync_inventory!==!1,orderStatuses:["new","paid","processing","ready_for_shipping","shipped"],inventoryId:ne.inventory_id||"",warehouse_es:ne.warehouse_es||1,warehouse_sp:ne.warehouse_sp||2};r(X);const{apiKey:ee}=X;if(ee)try{console.log("Testing connection with API key:",ee);const Z=await N(ee);if(console.log("Connection test result:",Z),!Z.success){a(!1),x("Chave da API invlida ou expirada. Por favor, verifique sua chave da API."),E({title:"Erro de Autenticao",description:"A chave da API Baselinker  invlida ou expirou. Por favor, atualize sua chave da API.",variant:"destructive"});return}await w(X),await R(),await I()}catch(Z){console.error("Error during connection check:",Z),a(!1),Z.message.includes("401")||Z.message.includes("Unauthorized")||Z.message.includes("Invalid API key")?(x("Chave da API invlida ou sem permisses necessrias."),E({title:"Erro de Autenticao",description:"A chave da API Baselinker no tem as permisses necessrias ou  invlida. Verifique sua chave da API no painel Baselinker.",variant:"destructive"})):(x("Erro de conexo com Baselinker."),E({title:"Erro de Conexo",description:"A conexo com Baselinker falhou. Por favor, tente novamente.",variant:"destructive"}))}}}}catch(te){console.error("Error checking connection status:",te),a(!1),x("Erro ao verificar status da conexo.")}},O=async()=>{var V;if(b)try{const te=(V=b.settings)==null?void 0:V.baselinker;te&&te.token&&r({apiKey:te.token,syncInterval:te.sync_interval||5,syncOrders:te.sync_orders!==!1,syncCustomers:te.sync_customers!==!1,syncInventory:te.sync_inventory!==!1,orderStatuses:["new","paid","processing","ready_for_shipping","shipped"],inventoryId:te.inventory_id||""})}catch(te){console.error("Error loading Baselinker config:",te)}},R=async()=>{try{x("");const V=await C();f(V);const te=await _();m(te)}catch(V){console.error("Error fetching Baselinker data:",V),V.message.includes("401")||V.message.includes("Unauthorized")||V.message.includes("Invalid API key")?(x("Chave da API invlida ou sem permisses necessrias."),a(!1),E({title:"Erro de Autenticao",description:"A chave da API Baselinker no tem as permisses necessrias. Verifique sua chave da API no painel Baselinker.",variant:"destructive"})):E({title:"Erro",description:"Falha ao buscar dados do Baselinker. Verifique sua conexo.",variant:"destructive"})}},I=async()=>{try{const V=await F();p(V)}catch(V){console.error("Error fetching sync stats:",V)}},M=async()=>{var V,te;if(!n.apiKey.trim()){E({title:"Erro",description:"Por favor, insira sua chave da API Baselinker",variant:"destructive"});return}l(!0),x("");try{console.log("Testing connection with API key:",n.apiKey);const ne=await N(n.apiKey);if(console.log("Connection test result:",ne),!ne.success){(V=ne.message)!=null&&V.includes("token bloqueado")||(te=ne.message)!=null&&te.includes("temporariamente bloqueado")?(x("Rate limit atingido. Aguarde alguns minutos."),E({title:"Muitas requisies",description:ne.message,variant:"destructive"})):(x("Chave da API invlida ou sem permisses necessrias."),E({title:"Erro de Autenticao",description:ne.message||"A chave da API Baselinker  invlida ou no tem as permisses necessrias.",variant:"destructive"}));return}await w(n),a(!0),E({title:"Sucesso",description:"Configurao Baselinker salva e testada com sucesso!"}),await R(),await I()}catch(ne){console.error("Connection error:",ne),ne.message.includes("401")||ne.message.includes("Unauthorized")||ne.message.includes("Invalid API key")?(x("Chave da API invlida ou sem permisses necessrias."),E({title:"Erro de Autenticao",description:"A chave da API Baselinker  invlida ou no tem as permisses necessrias. Verifique sua chave da API no painel Baselinker.",variant:"destructive"})):E({title:"Erro",description:`Falha ao conectar com Baselinker: ${ne.message}`,variant:"destructive"})}finally{l(!1)}},L=async()=>{try{await S(),a(!1),x(""),r({apiKey:"",syncInterval:5,syncOrders:!0,syncCustomers:!0,syncInventory:!0,orderStatuses:["new","paid","processing","ready_for_shipping","shipped"],inventoryId:""}),E({title:"Desconectado",description:"Conexo com Baselinker removida com sucesso"})}catch(V){E({title:"Erro",description:`Falha ao desconectar: ${V.message}`,variant:"destructive"})}},z=async()=>{var V,te,ne;if(!n.apiKey.trim()){E({title:"Erro",description:"Por favor, insira sua chave da API Baselinker",variant:"destructive"});return}l(!0),x("");try{console.log("Testing connection with API key:",n.apiKey);const X=await N(n.apiKey);console.log("Test connection result:",X),u(JSON.stringify(X,null,2)),X.success?E({title:"Conexo bem-sucedida",description:"API Baselinker est funcionando corretamente"}):(V=X.message)!=null&&V.includes("401")||(te=X.message)!=null&&te.includes("Unauthorized")||(ne=X.message)!=null&&ne.includes("Invalid API key")?(x("Chave da API invlida ou sem permisses necessrias."),E({title:"Erro de Autenticao",description:"A chave da API Baselinker  invlida ou no tem as permisses necessrias. Verifique sua chave da API no painel Baselinker.",variant:"destructive"})):E({title:"Erro na conexo",description:X.message||"Falha ao conectar com Baselinker",variant:"destructive"})}catch(X){console.error("Test connection error:",X),X.message.includes("401")||X.message.includes("Unauthorized")||X.message.includes("Invalid API key")?(x("Chave da API invlida ou sem permisses necessrias."),E({title:"Erro de Autenticao",description:"A chave da API Baselinker  invlida ou no tem as permisses necessrias. Verifique sua chave da API no painel Baselinker.",variant:"destructive"})):E({title:"Erro",description:`Falha ao testar conexo: ${X.message}`,variant:"destructive"}),u(JSON.stringify({success:!1,message:X.message},null,2))}finally{l(!1)}},W=async V=>{if(!s){E({title:"No Conectado",description:"Por favor, configure e teste a conexo com Baselinker primeiro.",variant:"destructive"});return}l(!0),x("");try{if((V==="orders"||V==="all")&&await k(),(V==="customers"||V==="all")&&await A(),V==="inventory"||V==="all"){if(n.syncInventory&&n.inventoryId)await T();else if(V==="inventory"){E({title:"Configurao Incompleta",description:"Por favor, selecione um inventrio antes de sincronizar o estoque.",variant:"destructive"}),l(!1);return}}await I(),E({title:"Sincronizao concluda",description:`Dados ${V==="all"?"completos":V} sincronizados com sucesso`})}catch(te){console.error("Sync error:",te),te.message.includes("401")||te.message.includes("Unauthorized")||te.message.includes("Invalid API key")?(x("Chave da API invlida ou sem permisses necessrias."),a(!1),E({title:"Erro de Autenticao",description:"A chave da API Baselinker  invlida ou expirou. Por favor, atualize sua chave da API.",variant:"destructive"})):E({title:"Erro na sincronizao",description:`Falha ao sincronizar dados: ${te.message}`,variant:"destructive"})}finally{l(!1)}},q=V=>V?new Date(V).toLocaleString():"Nunca";return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(lc,{className:"mr-2 h-4 w-4"}),"Configurar Baselinker"]})}),i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsxs(nt,{className:"flex items-center",children:[i.jsx(lc,{className:"mr-2 h-5 w-5"}),"Configurao Baselinker - ERP e Gesto de Pedidos"]}),i.jsx(ft,{children:"Configure a integrao com Baselinker para sincronizar pedidos, clientes e estoque"})]}),i.jsxs(Qn,{defaultValue:"config",className:"w-full",children:[i.jsxs(Rn,{className:"grid w-full grid-cols-4",children:[i.jsx(Fe,{value:"config",id:"config-tab",children:"Configurao"}),i.jsx(Fe,{value:"orders",children:"Pedidos"}),i.jsx(Fe,{value:"customers",children:"Clientes"}),i.jsx(Fe,{value:"inventory",children:"Warehouses"})]}),i.jsxs(Ue,{value:"config",className:"space-y-4",children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsxs(ge,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Configuraes da API"}),s?i.jsxs(fe,{className:"bg-green-100 text-green-800",children:[i.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Conectado"]}):i.jsxs(fe,{variant:"secondary",children:[i.jsx(Sn,{className:"h-3 w-3 mr-1"}),"Desconectado"]})]}),i.jsx(Ve,{children:"Configure sua chave da API Baselinker e parmetros de sincronizao"})]}),i.jsxs(se,{className:"space-y-4",children:[y&&i.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-2",children:[i.jsx(lle,{className:"h-5 w-5 text-red-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-red-800",children:"Erro de Autenticao"}),i.jsx("p",{className:"text-sm text-red-700",children:y}),i.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Verifique sua chave da API em: Baselinker  Configuraes  API  API Token"})]})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"apiKey",children:"Chave da API Baselinker *"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ie,{id:"apiKey",type:"password",placeholder:"Insira sua chave da API",value:n.apiKey,onChange:V=>{r({...n,apiKey:V.target.value}),x("")},className:y?"border-red-300 focus:border-red-500":""}),i.jsx(B,{variant:"outline",onClick:()=>window.open("https://panel.baselinker.com/developer_api.php","_blank"),children:i.jsx(P6,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Obtenha sua chave em Baselinker > Configuraes > API > API Token"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"syncInterval",children:"Intervalo de Sincronizao (minutos)"}),i.jsx(ie,{id:"syncInterval",type:"number",min:"1",max:"60",value:n.syncInterval,onChange:V=>r({...n,syncInterval:parseInt(V.target.value)||5})})]}),s&&d.length>0&&i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"inventoryId",children:"Inventrio Principal"}),i.jsxs(Oe,{value:n.inventoryId,onValueChange:V=>r({...n,inventoryId:V}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um inventrio"})}),i.jsx(Te,{children:d.map(V=>{var te;return i.jsx(K,{value:((te=V.inventory_id||V.id)==null?void 0:te.toString())||"",children:V.name},V.inventory_id||V.id)})})]})]})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[i.jsx("h4",{className:"font-medium",children:"Dados a Sincronizar"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Y,{htmlFor:"syncOrders",children:"Pedidos"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Sincronizar pedidos do Baselinker"})]}),i.jsx(Br,{id:"syncOrders",checked:n.syncOrders,onCheckedChange:V=>r({...n,syncOrders:V})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Y,{htmlFor:"syncCustomers",children:"Clientes"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Sincronizar clientes do Baselinker"})]}),i.jsx(Br,{id:"syncCustomers",checked:n.syncCustomers,onCheckedChange:V=>r({...n,syncCustomers:V})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Y,{htmlFor:"syncInventory",children:"Estoque"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Sincronizar produtos e estoque do Baselinker"})]}),i.jsx(Br,{id:"syncInventory",checked:n.syncInventory,onCheckedChange:V=>r({...n,syncInventory:V})})]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(B,{onClick:M,disabled:o,className:"flex-1",children:o?i.jsxs(i.Fragment,{children:[i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Testando conexo..."]}):"Salvar e Testar Conexo"}),i.jsxs(B,{variant:"outline",onClick:z,disabled:o||!n.apiKey.trim(),children:[i.jsx(Ry,{className:"h-4 w-4 mr-2"}),"Testar"]})]}),s&&i.jsx(B,{variant:"destructive",onClick:L,disabled:o,children:"Desconectar"})]})]}),s&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{children:"Status da Sincronizao"})}),i.jsxs(se,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"ltima Sincronizao"}),i.jsx("p",{className:"text-sm",children:q(g.lastSync)})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Prxima Sincronizao"}),i.jsx("p",{className:"text-sm",children:g.lastSync?q(new Date(g.lastSync.getTime()+n.syncInterval*6e4)):"No agendada"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g.ordersCount}),i.jsx("p",{className:"text-sm text-blue-800",children:"Pedidos"})]}),i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:g.customersCount}),i.jsx("p",{className:"text-sm text-green-800",children:"Clientes"})]}),i.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:g.productsCount}),i.jsx("p",{className:"text-sm text-purple-800",children:"Produtos"})]})]}),i.jsx("div",{className:"mt-4",children:i.jsxs(B,{onClick:()=>W("all"),disabled:o||!s,className:"w-full",children:[o?i.jsx(mr,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(ya,{className:"mr-2 h-4 w-4"}),"Sincronizar Agora"]})})]})]}),c&&i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{children:"Resultado do Teste"})}),i.jsx(se,{children:i.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-auto text-sm",children:c})})]})]}),i.jsx(Ue,{value:"orders",className:"space-y-4",children:s?i.jsxs(i.Fragment,{children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsxs(ge,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Configurao de Pedidos"}),i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>W("orders"),disabled:o,children:[i.jsx(ya,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),"Sincronizar Pedidos"]})]}),i.jsx(Ve,{children:"Configure quais pedidos sero sincronizados do Baselinker"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Status de Pedidos a Sincronizar"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mt-2",children:h.map(V=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:`status-${V.id}`,checked:n.orderStatuses.includes(V.id),onChange:te=>{const ne=te.target.checked?[...n.orderStatuses,V.id]:n.orderStatuses.filter(X=>X!==V.id);r({...n,orderStatuses:ne})}}),i.jsx(Y,{htmlFor:`status-${V.id}`,className:"text-sm",children:V.name})]},V.id))})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Mapeamento de Status"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Os status de pedidos do Baselinker sero mapeados para os status do OmniCRM da seguinte forma:"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"new, waiting_for_payment"}),i.jsx(fe,{children:"pending"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"paid, ready_for_shipping"}),i.jsx(fe,{className:"bg-blue-100 text-blue-800",children:"processing"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"shipped, delivered"}),i.jsx(fe,{className:"bg-green-100 text-green-800",children:"completed"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"cancelled, returned"}),i.jsx(fe,{className:"bg-red-100 text-red-800",children:"cancelled"})]})]})]})]})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{children:"Estatsticas de Pedidos"})}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g.ordersCount}),i.jsx("p",{className:"text-sm text-blue-800",children:"Total de Pedidos"})]}),i.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Math.floor(g.ordersCount*.2)}),i.jsx("p",{className:"text-sm text-yellow-800",children:"Pendentes"})]}),i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:Math.floor(g.ordersCount*.7)}),i.jsx("p",{className:"text-sm text-green-800",children:"Concludos"})]}),i.jsxs("div",{className:"p-3 bg-red-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-red-600",children:Math.floor(g.ordersCount*.1)}),i.jsx("p",{className:"text-sm text-red-800",children:"Cancelados"})]})]})})]})]}):i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(Sn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No conectado ao Baselinker"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Configure a conexo com Baselinker para sincronizar pedidos"}),i.jsx(B,{onClick:()=>{var V;return(V=document.getElementById("config-tab"))==null?void 0:V.click()},children:"Ir para Configurao"})]})})}),i.jsx(Ue,{value:"customers",className:"space-y-4",children:s?i.jsxs(i.Fragment,{children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsxs(ge,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Configurao de Clientes"}),i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>W("customers"),disabled:o,children:[i.jsx(ya,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),"Sincronizar Clientes"]})]}),i.jsx(Ve,{children:"Configure como os clientes sero sincronizados do Baselinker"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Y,{children:"Criar clientes automaticamente"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Criar novos clientes a partir de pedidos"})]}),i.jsx(Br,{checked:!0,disabled:!0})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Y,{children:"Atualizar clientes existentes"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Atualizar dados de clientes existentes"})]}),i.jsx(Br,{checked:!0,disabled:!0})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Mapeamento de Campos"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Os dados de clientes do Baselinker sero mapeados para os campos do OmniCRM da seguinte forma:"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"email"}),i.jsx("span",{className:"text-sm font-medium",children:""}),i.jsx("span",{className:"text-sm",children:"email"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"phone"}),i.jsx("span",{className:"text-sm font-medium",children:""}),i.jsx("span",{className:"text-sm",children:"phone"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"delivery_fullname"}),i.jsx("span",{className:"text-sm font-medium",children:""}),i.jsx("span",{className:"text-sm",children:"name"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"invoice_company"}),i.jsx("span",{className:"text-sm font-medium",children:""}),i.jsx("span",{className:"text-sm",children:"company"})]})]})]})]})]}),i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{children:"Estatsticas de Clientes"})}),i.jsx(se,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g.customersCount}),i.jsx("p",{className:"text-sm text-blue-800",children:"Total de Clientes"})]}),i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:Math.floor(g.customersCount*.8)}),i.jsx("p",{className:"text-sm text-green-800",children:"Clientes Ativos"})]}),i.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Math.floor(g.customersCount*.15)}),i.jsx("p",{className:"text-sm text-purple-800",children:"Novos (30 dias)"})]})]})})]})]}):i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(Sn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No conectado ao Baselinker"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Configure a conexo com Baselinker para sincronizar clientes"}),i.jsx(B,{onClick:()=>{var V;return(V=document.getElementById("config-tab"))==null?void 0:V.click()},children:"Ir para Configurao"})]})})}),i.jsx(Ue,{value:"inventory",className:"space-y-4",children:s?i.jsx(aK,{}):i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(Sn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No conectado ao Baselinker"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Configure a conexo com Baselinker para configurar warehouses"}),i.jsx(B,{onClick:()=>{var V;return(V=document.getElementById("config-tab"))==null?void 0:V.click()},children:"Ir para Configurao"})]})})})]}),i.jsx(yt,{children:i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"})})]})]})}function vUe(){const{currentWorkspace:e}=be(),{toast:t}=Fn(),[n,r]=v.useState({}),s="https://oqwstanztqdiexgrpdta.supabase.co/functions/v1/baselinker-webhook",a=(e==null?void 0:e.id)||"",o=(c,u)=>{navigator.clipboard.writeText(c),r({...n,[u]:!0}),t({title:"Copiado!",description:`${u} copiado para a rea de transferncia`}),setTimeout(()=>{r({...n,[u]:!1})},2e3)},l=[{id:"order_status_changed",name:"Mudana de Status do Pedido",recommended:!0},{id:"new_order",name:"Novo Pedido Criado",recommended:!0},{id:"order_updated",name:"Pedido Atualizado",recommended:!0}];return i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-blue-100 text-blue-800",children:i.jsx(Q0,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx(ge,{children:"Webhook do Baselinker"}),i.jsx(Ve,{children:"Configure webhook para receber atualizaes em tempo real dos pedidos"})]})]}),i.jsxs(fe,{className:"bg-green-100 text-green-800",children:[i.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Recomendado"]})]})}),i.jsxs(se,{className:"space-y-6",children:[i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[i.jsxs("h3",{className:"font-semibold text-green-900 mb-2 flex items-center gap-2",children:[i.jsx(Ht,{className:"h-4 w-4"}),"Benefcios do Webhook"]}),i.jsxs("ul",{className:"space-y-1 text-sm text-green-800",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Tempo Real:"})," Atualizaes instantneas (segundos, no minutos)"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Reduo de Custos:"})," Menos requisies  API"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Mais Eficiente:"})," Processa apenas o que mudou"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Rastreabilidade:"})," Cada evento  registrado"]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[i.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-blue-100 text-blue-800 text-sm font-bold",children:"1"}),"URL do Webhook"]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Configure esta URL no painel do Baselinker:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 p-3 bg-gray-50 border rounded-lg font-mono text-sm break-all",children:s}),i.jsx(B,{variant:"outline",size:"sm",onClick:()=>o(s,"URL do Webhook"),children:n["webhook-url"]?i.jsx(Ht,{className:"h-4 w-4 text-green-600"}):i.jsx(Ah,{className:"h-4 w-4"})})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[i.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-blue-100 text-blue-800 text-sm font-bold",children:"2"}),"Header Personalizado"]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Adicione este header personalizado no webhook:"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex-1 p-3 bg-gray-50 border rounded-lg",children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Nome do Header:"}),i.jsx("div",{className:"font-mono text-sm",children:"x-workspace-id"})]}),i.jsx(B,{variant:"outline",size:"sm",onClick:()=>o("x-workspace-id","Nome do Header"),children:n["header-name"]?i.jsx(Ht,{className:"h-4 w-4 text-green-600"}):i.jsx(Ah,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex-1 p-3 bg-gray-50 border rounded-lg",children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Valor do Header:"}),i.jsx("div",{className:"font-mono text-sm break-all",children:a})]}),i.jsx(B,{variant:"outline",size:"sm",onClick:()=>o(a,"Workspace ID"),children:n["workspace-id"]?i.jsx(Ht,{className:"h-4 w-4 text-green-600"}):i.jsx(Ah,{className:"h-4 w-4"})})]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[i.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-blue-100 text-blue-800 text-sm font-bold",children:"3"}),"Eventos para Monitorar"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Selecione estes eventos no painel do Baselinker:"}),i.jsx("div",{className:"space-y-2",children:l.map(c=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ht,{className:"h-4 w-4 text-green-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm",children:c.name}),i.jsx("div",{className:"text-xs text-gray-500 font-mono",children:c.id})]})]}),c.recommended&&i.jsx(fe,{variant:"outline",className:"text-xs",children:"Recomendado"})]},c.id))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[i.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-blue-100 text-blue-800 text-sm font-bold",children:"4"}),"Como Configurar no Baselinker"]}),i.jsxs("ol",{className:"space-y-2 text-sm text-gray-600 list-decimal list-inside",children:[i.jsx("li",{children:"Acesse o painel do Baselinker"}),i.jsxs("li",{children:["V em ",i.jsx("strong",{children:"Configuraes  API  Webhooks"})]}),i.jsxs("li",{children:["Clique em ",i.jsx("strong",{children:'"Adicionar webhook"'})]}),i.jsx("li",{children:"Cole a URL do webhook no campo apropriado"}),i.jsxs("li",{children:["Configure o mtodo como ",i.jsx("strong",{children:"POST"})]}),i.jsxs("li",{children:["Adicione o header personalizado ",i.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"x-workspace-id"})]}),i.jsx("li",{children:"Selecione os eventos que deseja monitorar"}),i.jsxs("li",{children:["Clique em ",i.jsx("strong",{children:'"Salvar"'})]}),i.jsxs("li",{children:["Use o boto ",i.jsx("strong",{children:'"Testar webhook"'})," para verificar se est funcionando"]})]})]}),i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[i.jsxs("h3",{className:"font-semibold text-amber-900 mb-2 flex items-center gap-2",children:[i.jsx(Dk,{className:"h-4 w-4"}),"Importante"]}),i.jsxs("ul",{className:"space-y-1 text-sm text-amber-800",children:[i.jsxs("li",{children:[" O webhook ",i.jsx("strong",{children:"atualiza"})," pedidos existentes, no cria novos"]}),i.jsx("li",{children:" Para novos pedidos, execute uma sincronizao manual primeiro"}),i.jsx("li",{children:" Mantenha a sincronizao peridica ativa como backup"})]})]}),i.jsx("div",{className:"pt-4 border-t",children:i.jsxs(B,{variant:"outline",className:"w-full",onClick:()=>window.open("https://panel.baselinker.com/","_blank"),children:[i.jsx(Kd,{className:"h-4 w-4 mr-2"}),"Abrir Painel do Baselinker"]})})]})]})}function yUe(){var f,h,m,g,p,y,x,b;const{channels:e,whatsappInstances:t,fetchChannels:n,fetchWhatsAppInstances:r,disconnectWhatsApp:s}=be(),{isConnected:a}=nK();v.useEffect(()=>{n(),r()},[n,r]);const o=[{id:"whatsapp",name:"WhatsApp Business",description:"Conecte WhatsApp Business via Evolution API para mensagens diretas",icon:Gn,color:"bg-green-100 text-green-800",status:t.some(j=>j.status==="connected")?"connected":"disconnected",action:"Configurar WhatsApp",available:!0},{id:"openai",name:"OpenAI",description:"Integre com OpenAI para chatbot inteligente e classificao de texto",icon:jr,color:"bg-purple-100 text-purple-800",status:(m=(h=(f=be.getState().currentWorkspace)==null?void 0:f.settings)==null?void 0:h.openai)!=null&&m.enabled?"connected":"disconnected",action:"Configurar OpenAI",available:!0},{id:"n8n",name:"n8n Automation",description:"Conecte com n8n para automaes avanadas e fluxos de trabalho personalizados",icon:ds,color:"bg-blue-100 text-blue-800",status:(y=(p=(g=be.getState().currentWorkspace)==null?void 0:g.settings)==null?void 0:p.n8n)!=null&&y.enabled?"connected":"disconnected",action:"Configurar n8n",available:!0},{id:"baselinker",name:"Baselinker",description:"Sincronize pedidos, clientes e estoque com o ERP Baselinker",icon:lc,color:"bg-orange-100 text-orange-800",status:a()?"connected":"disconnected",action:"Configurar Baselinker",available:!0},{id:"shopee",name:"Shopee",description:"Sincronize pedidos e mensagens do marketplace Shopee",icon:lc,color:"bg-orange-100 text-orange-800",status:e.some(j=>j.type==="shopee"&&j.status==="connected")?"connected":"disconnected",action:"Conectar Shopee",available:!1},{id:"mercado_livre",name:"Mercado Livre",description:"Integre com Mercado Livre para gesto de pedidos e mensagens",icon:Tt,color:"bg-yellow-100 text-yellow-800",status:e.some(j=>j.type==="mercado_livre"&&j.status==="connected")?"connected":"disconnected",action:"Conectar Mercado Livre",available:!1},{id:"rd_marketplace",name:"RD Marketplace",description:"Conecte RD Marketplace para gesto unificada de clientes",icon:ile,color:"bg-blue-100 text-blue-800",status:e.some(j=>j.type==="rd_marketplace"&&j.status==="connected")?"connected":"disconnected",action:"Conectar RD Marketplace",available:!1}],l=j=>{switch(j){case"connected":return"bg-green-100 text-green-800";case"connecting":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},c=j=>{switch(j){case"connected":return i.jsx(Ht,{className:"h-4 w-4"});case"connecting":return i.jsx(Er,{className:"h-4 w-4"});default:return i.jsx(Sn,{className:"h-4 w-4"})}},u=j=>{switch(j){case"connected":return"Conectado";case"connecting":return"Conectando";case"disconnected":return"Desconectado";default:return"Desconhecido"}},d=j=>{switch(j.id){case"whatsapp":return i.jsx(OG,{});case"openai":return i.jsx(iUe,{});case"n8n":return i.jsx(lUe,{});case"baselinker":return i.jsx(gUe,{});default:return i.jsxs(B,{className:"w-full\\",variant:"outline\\",disabled:!j.available,children:[i.jsx(j.icon,{className:"mr-2 h-4 w-4"}),j.action," ",!j.available&&"(Em Breve)"]})}};return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Integraes"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Conecte seus canais e automatize seus fluxos de trabalho"})]}),i.jsxs("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(j=>j.status==="connected").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Canais Conectados"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(j=>j.status==="connected").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Instncias WhatsApp"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:localStorage.getItem(`openai_config_${(x=be.getState().currentWorkspace)==null?void 0:x.id}`)?1:0}),i.jsx("div",{className:"text-sm text-gray-600",children:"Integraes IA"})]})}),i.jsx(re,{children:i.jsxs(se,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(localStorage.getItem(`n8n_config_${(b=be.getState().currentWorkspace)==null?void 0:b.id}`)?1:0)+(a()?1:0)}),i.jsx("div",{className:"text-sm text-gray-600",children:"Automaes & ERPs"})]})})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Integraes Disponveis"}),i.jsx("div",{className:"w-full grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.map(j=>{const w=j.icon;return i.jsxs(re,{className:"hover:shadow-md transition-shadow",children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${j.color}`,children:i.jsx(w,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx(ge,{className:"text-lg",children:j.name}),i.jsx(Ve,{children:j.description})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[c(j.status),i.jsx(fe,{className:l(j.status),children:u(j.status)})]})]})}),i.jsx(se,{children:d(j)})]},j.id)})})]}),t.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Instncias WhatsApp"}),i.jsx("div",{className:"w-full space-y-4",children:t.map(j=>i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-green-100 text-green-800",children:i.jsx(Gn,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:j.instance_name}),i.jsx("p",{className:"text-sm text-gray-500",children:j.phone_number||"No conectado"}),i.jsxs("p",{className:"text-xs text-gray-400",children:["Criado em: ",new Date(j.created_at).toLocaleDateString("pt-BR")]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[c(j.status),i.jsx(fe,{className:l(j.status),children:u(j.status)})]}),i.jsx(B,{variant:"outline",size:"sm",onClick:()=>s(j.id),children:"Desconectar"})]})]})})},j.id))})]}),a()&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Configurao do Baselinker"}),i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsx(aK,{}),i.jsx(vUe,{})]})]})})]})})})}function er(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=er(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const{useDebugValue:xUe}=P,{useSyncExternalStoreWithSelector:wUe}=jF,bUe=e=>e;function iK(e,t=bUe,n){const r=wUe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return xUe(r),r}const mL=(e,t)=>{const n=gF(e),r=(s,a=t)=>iK(n,s,a);return Object.assign(r,n),r},jUe=(e,t)=>e?mL(e,t):mL;function Ln(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var SUe={value:()=>{}};function Lb(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Kv(n)}function Kv(e){this._=e}function NUe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Kv.prototype=Lb.prototype={constructor:Kv,on:function(e,t){var n=this._,r=NUe(e+"",n),s,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((s=(e=r[a]).type)&&(s=_Ue(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(s=(e=r[a]).type)n[s]=pL(n[s],e.name,t);else if(t==null)for(s in n)n[s]=pL(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Kv(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,a;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,s=a.length;r<s;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,a=r.length;s<a;++s)r[s].value.apply(t,n)}};function _Ue(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function pL(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=SUe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var RC="http://www.w3.org/1999/xhtml";const gL={svg:"http://www.w3.org/2000/svg",xhtml:RC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fb(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),gL.hasOwnProperty(t)?{space:gL[t],local:e}:e}function CUe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===RC&&t.documentElement.namespaceURI===RC?t.createElement(e):t.createElementNS(n,e)}}function EUe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function oK(e){var t=Fb(e);return(t.local?EUe:CUe)(t)}function kUe(){}function i2(e){return e==null?kUe:function(){return this.querySelector(e)}}function AUe(e){typeof e!="function"&&(e=i2(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=r[s]=new Array(o),c,u,d=0;d<o;++d)(c=a[d])&&(u=e.call(c,c.__data__,d,a))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new xs(r,this._parents)}function PUe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function TUe(){return[]}function lK(e){return e==null?TUe:function(){return this.querySelectorAll(e)}}function OUe(e){return function(){return PUe(e.apply(this,arguments))}}function IUe(e){typeof e=="function"?e=OUe(e):e=lK(e);for(var t=this._groups,n=t.length,r=[],s=[],a=0;a<n;++a)for(var o=t[a],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(r.push(e.call(c,c.__data__,u,o)),s.push(c));return new xs(r,s)}function cK(e){return function(){return this.matches(e)}}function uK(e){return function(t){return t.matches(e)}}var DUe=Array.prototype.find;function MUe(e){return function(){return DUe.call(this.children,e)}}function RUe(){return this.firstElementChild}function $Ue(e){return this.select(e==null?RUe:MUe(typeof e=="function"?e:uK(e)))}var LUe=Array.prototype.filter;function FUe(){return Array.from(this.children)}function BUe(e){return function(){return LUe.call(this.children,e)}}function zUe(e){return this.selectAll(e==null?FUe:BUe(typeof e=="function"?e:uK(e)))}function WUe(e){typeof e!="function"&&(e=cK(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=r[s]=[],c,u=0;u<o;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new xs(r,this._parents)}function dK(e){return new Array(e.length)}function VUe(){return new xs(this._enter||this._groups.map(dK),this._parents)}function i0(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}i0.prototype={constructor:i0,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function UUe(e){return function(){return e}}function qUe(e,t,n,r,s,a){for(var o=0,l,c=t.length,u=a.length;o<u;++o)(l=t[o])?(l.__data__=a[o],r[o]=l):n[o]=new i0(e,a[o]);for(;o<c;++o)(l=t[o])&&(s[o]=l)}function HUe(e,t,n,r,s,a,o){var l,c,u=new Map,d=t.length,f=a.length,h=new Array(d),m;for(l=0;l<d;++l)(c=t[l])&&(h[l]=m=o.call(c,c.__data__,l,t)+"",u.has(m)?s[l]=c:u.set(m,c));for(l=0;l<f;++l)m=o.call(e,a[l],l,a)+"",(c=u.get(m))?(r[l]=c,c.__data__=a[l],u.delete(m)):n[l]=new i0(e,a[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(h[l])===c&&(s[l]=c)}function GUe(e){return e.__data__}function KUe(e,t){if(!arguments.length)return Array.from(this,GUe);var n=t?HUe:qUe,r=this._parents,s=this._groups;typeof e!="function"&&(e=UUe(e));for(var a=s.length,o=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var d=r[u],f=s[u],h=f.length,m=YUe(e.call(d,d&&d.__data__,u,r)),g=m.length,p=l[u]=new Array(g),y=o[u]=new Array(g),x=c[u]=new Array(h);n(d,f,p,y,x,m,t);for(var b=0,j=0,w,S;b<g;++b)if(w=p[b]){for(b>=j&&(j=b+1);!(S=y[j])&&++j<g;);w._next=S||null}}return o=new xs(o,r),o._enter=l,o._exit=c,o}function YUe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function XUe(){return new xs(this._exit||this._groups.map(dK),this._parents)}function JUe(e,t,n){var r=this.enter(),s=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?a.remove():n(a),r&&s?r.merge(s).order():s}function QUe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,a=r.length,o=Math.min(s,a),l=new Array(s),c=0;c<o;++c)for(var u=n[c],d=r[c],f=u.length,h=l[c]=new Array(f),m,g=0;g<f;++g)(m=u[g]||d[g])&&(h[g]=m);for(;c<s;++c)l[c]=n[c];return new xs(l,this._parents)}function ZUe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,a=r[s],o;--s>=0;)(o=r[s])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function eqe(e){e||(e=tqe);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,c=s[a]=new Array(l),u,d=0;d<l;++d)(u=o[d])&&(c[d]=u);c.sort(t)}return new xs(s,this._parents).order()}function tqe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function nqe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function rqe(){return Array.from(this)}function sqe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,a=r.length;s<a;++s){var o=r[s];if(o)return o}return null}function aqe(){let e=0;for(const t of this)++e;return e}function iqe(){return!this.node()}function oqe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],a=0,o=s.length,l;a<o;++a)(l=s[a])&&e.call(l,l.__data__,a,s);return this}function lqe(e){return function(){this.removeAttribute(e)}}function cqe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uqe(e,t){return function(){this.setAttribute(e,t)}}function dqe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function fqe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function hqe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function mqe(e,t){var n=Fb(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?cqe:lqe:typeof t=="function"?n.local?hqe:fqe:n.local?dqe:uqe)(n,t))}function fK(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function pqe(e){return function(){this.style.removeProperty(e)}}function gqe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function vqe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function yqe(e,t,n){return arguments.length>1?this.each((t==null?pqe:typeof t=="function"?vqe:gqe)(e,t,n??"")):Rd(this.node(),e)}function Rd(e,t){return e.style.getPropertyValue(t)||fK(e).getComputedStyle(e,null).getPropertyValue(t)}function xqe(e){return function(){delete this[e]}}function wqe(e,t){return function(){this[e]=t}}function bqe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function jqe(e,t){return arguments.length>1?this.each((t==null?xqe:typeof t=="function"?bqe:wqe)(e,t)):this.node()[e]}function hK(e){return e.trim().split(/^|\s+/)}function o2(e){return e.classList||new mK(e)}function mK(e){this._node=e,this._names=hK(e.getAttribute("class")||"")}mK.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function pK(e,t){for(var n=o2(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function gK(e,t){for(var n=o2(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function Sqe(e){return function(){pK(this,e)}}function Nqe(e){return function(){gK(this,e)}}function _qe(e,t){return function(){(t.apply(this,arguments)?pK:gK)(this,e)}}function Cqe(e,t){var n=hK(e+"");if(arguments.length<2){for(var r=o2(this.node()),s=-1,a=n.length;++s<a;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?_qe:t?Sqe:Nqe)(n,t))}function Eqe(){this.textContent=""}function kqe(e){return function(){this.textContent=e}}function Aqe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Pqe(e){return arguments.length?this.each(e==null?Eqe:(typeof e=="function"?Aqe:kqe)(e)):this.node().textContent}function Tqe(){this.innerHTML=""}function Oqe(e){return function(){this.innerHTML=e}}function Iqe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Dqe(e){return arguments.length?this.each(e==null?Tqe:(typeof e=="function"?Iqe:Oqe)(e)):this.node().innerHTML}function Mqe(){this.nextSibling&&this.parentNode.appendChild(this)}function Rqe(){return this.each(Mqe)}function $qe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Lqe(){return this.each($qe)}function Fqe(e){var t=typeof e=="function"?e:oK(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Bqe(){return null}function zqe(e,t){var n=typeof e=="function"?e:oK(e),r=t==null?Bqe:typeof t=="function"?t:i2(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Wqe(){var e=this.parentNode;e&&e.removeChild(this)}function Vqe(){return this.each(Wqe)}function Uqe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qqe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Hqe(e){return this.select(e?qqe:Uqe)}function Gqe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Kqe(e){return function(t){e.call(this,t,this.__data__)}}function Yqe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Xqe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,a;n<s;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function Jqe(e,t,n){return function(){var r=this.__on,s,a=Kqe(t);if(r){for(var o=0,l=r.length;o<l;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(s):this.__on=[s]}}function Qqe(e,t,n){var r=Yqe(e+""),s,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(s=0,d=l[c];s<a;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?Jqe:Xqe,s=0;s<a;++s)this.each(l(r[s],t,n));return this}function vK(e,t,n){var r=fK(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function Zqe(e,t){return function(){return vK(this,e,t)}}function e9e(e,t){return function(){return vK(this,e,t.apply(this,arguments))}}function t9e(e,t){return this.each((typeof t=="function"?e9e:Zqe)(e,t))}function*n9e(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,a=r.length,o;s<a;++s)(o=r[s])&&(yield o)}var yK=[null];function xs(e,t){this._groups=e,this._parents=t}function hg(){return new xs([[document.documentElement]],yK)}function r9e(){return this}xs.prototype=hg.prototype={constructor:xs,select:AUe,selectAll:IUe,selectChild:$Ue,selectChildren:zUe,filter:WUe,data:KUe,enter:VUe,exit:XUe,join:JUe,merge:QUe,selection:r9e,order:ZUe,sort:eqe,call:nqe,nodes:rqe,node:sqe,size:aqe,empty:iqe,each:oqe,attr:mqe,style:yqe,property:jqe,classed:Cqe,text:Pqe,html:Dqe,raise:Rqe,lower:Lqe,append:Fqe,insert:zqe,remove:Vqe,clone:Hqe,datum:Gqe,on:Qqe,dispatch:t9e,[Symbol.iterator]:n9e};function Rs(e){return typeof e=="string"?new xs([[document.querySelector(e)]],[document.documentElement]):new xs([[e]],yK)}function s9e(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ua(e,t){if(e=s9e(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const a9e={passive:!1},Sp={capture:!0,passive:!1};function X1(e){e.stopImmediatePropagation()}function Hu(e){e.preventDefault(),e.stopImmediatePropagation()}function xK(e){var t=e.document.documentElement,n=Rs(e).on("dragstart.drag",Hu,Sp);"onselectstart"in t?n.on("selectstart.drag",Hu,Sp):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function wK(e,t){var n=e.document.documentElement,r=Rs(e).on("dragstart.drag",null);t&&(r.on("click.drag",Hu,Sp),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const xv=e=>()=>e;function $C(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:a,x:o,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}$C.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function i9e(e){return!e.ctrlKey&&!e.button}function o9e(){return this.parentNode}function l9e(e,t){return t??{x:e.x,y:e.y}}function c9e(){return navigator.maxTouchPoints||"ontouchstart"in this}function u9e(){var e=i9e,t=o9e,n=l9e,r=c9e,s={},a=Lb("start","drag","end"),o=0,l,c,u,d,f=0;function h(w){w.on("mousedown.drag",m).filter(r).on("touchstart.drag",y).on("touchmove.drag",x,a9e).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(w,S){if(!(d||!e.call(this,w,S))){var N=j(this,t.call(this,w,S),w,S,"mouse");N&&(Rs(w.view).on("mousemove.drag",g,Sp).on("mouseup.drag",p,Sp),xK(w.view),X1(w),u=!1,l=w.clientX,c=w.clientY,N("start",w))}}function g(w){if(Hu(w),!u){var S=w.clientX-l,N=w.clientY-c;u=S*S+N*N>f}s.mouse("drag",w)}function p(w){Rs(w.view).on("mousemove.drag mouseup.drag",null),wK(w.view,u),Hu(w),s.mouse("end",w)}function y(w,S){if(e.call(this,w,S)){var N=w.changedTouches,C=t.call(this,w,S),_=N.length,k,A;for(k=0;k<_;++k)(A=j(this,C,w,S,N[k].identifier,N[k]))&&(X1(w),A("start",w,N[k]))}}function x(w){var S=w.changedTouches,N=S.length,C,_;for(C=0;C<N;++C)(_=s[S[C].identifier])&&(Hu(w),_("drag",w,S[C]))}function b(w){var S=w.changedTouches,N=S.length,C,_;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),C=0;C<N;++C)(_=s[S[C].identifier])&&(X1(w),_("end",w,S[C]))}function j(w,S,N,C,_,k){var A=a.copy(),T=ua(k||N,S),D,F,E;if((E=n.call(w,new $C("beforestart",{sourceEvent:N,target:h,identifier:_,active:o,x:T[0],y:T[1],dx:0,dy:0,dispatch:A}),C))!=null)return D=E.x-T[0]||0,F=E.y-T[1]||0,function $(O,R,I){var M=T,L;switch(O){case"start":s[_]=$,L=o++;break;case"end":delete s[_],--o;case"drag":T=ua(I||R,S),L=o;break}A.call(O,w,new $C(O,{sourceEvent:R,subject:E,target:h,identifier:_,active:L,x:T[0]+D,y:T[1]+F,dx:T[0]-M[0],dy:T[1]-M[1],dispatch:A}),C)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:xv(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:xv(w),h):t},h.subject=function(w){return arguments.length?(n=typeof w=="function"?w:xv(w),h):n},h.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:xv(!!w),h):r},h.on=function(){var w=a.on.apply(a,arguments);return w===a?h:w},h.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,h):Math.sqrt(f)},h}var $d=0,ch=0,Hf=0,bK=1e3,o0,uh,l0=0,bc=0,Bb=0,Np=typeof performance=="object"&&performance.now?performance:Date,jK=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function l2(){return bc||(jK(d9e),bc=Np.now()+Bb)}function d9e(){bc=0}function c0(){this._call=this._time=this._next=null}c0.prototype=SK.prototype={constructor:c0,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?l2():+n)+(t==null?0:+t),!this._next&&uh!==this&&(uh?uh._next=this:o0=this,uh=this),this._call=e,this._time=n,LC()},stop:function(){this._call&&(this._call=null,this._time=1/0,LC())}};function SK(e,t,n){var r=new c0;return r.restart(e,t,n),r}function f9e(){l2(),++$d;for(var e=o0,t;e;)(t=bc-e._time)>=0&&e._call.call(void 0,t),e=e._next;--$d}function vL(){bc=(l0=Np.now())+Bb,$d=ch=0;try{f9e()}finally{$d=0,m9e(),bc=0}}function h9e(){var e=Np.now(),t=e-l0;t>bK&&(Bb-=t,l0=e)}function m9e(){for(var e,t=o0,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:o0=n);uh=e,LC(r)}function LC(e){if(!$d){ch&&(ch=clearTimeout(ch));var t=e-bc;t>24?(e<1/0&&(ch=setTimeout(vL,e-Np.now()-Bb)),Hf&&(Hf=clearInterval(Hf))):(Hf||(l0=Np.now(),Hf=setInterval(h9e,bK)),$d=1,jK(vL))}}function yL(e,t,n){var r=new c0;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var p9e=Lb("start","end","cancel","interrupt"),g9e=[],NK=0,xL=1,FC=2,Yv=3,wL=4,BC=5,Xv=6;function zb(e,t,n,r,s,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;v9e(e,n,{name:t,index:r,group:s,on:p9e,tween:g9e,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:NK})}function c2(e,t){var n=Oa(e,t);if(n.state>NK)throw new Error("too late; already scheduled");return n}function li(e,t){var n=Oa(e,t);if(n.state>Yv)throw new Error("too late; already running");return n}function Oa(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function v9e(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=SK(a,0,n.time);function a(u){n.state=xL,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,f,h,m;if(n.state!==xL)return c();for(d in r)if(m=r[d],m.name===n.name){if(m.state===Yv)return yL(o);m.state===wL?(m.state=Xv,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[d]):+d<t&&(m.state=Xv,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[d])}if(yL(function(){n.state===Yv&&(n.state=wL,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=FC,n.on.call("start",e,e.__data__,n.index,n.group),n.state===FC){for(n.state=Yv,s=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(m=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=m);s.length=f+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=BC,1),f=-1,h=s.length;++f<h;)s[f].call(e,d);n.state===BC&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Xv,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Jv(e,t){var n=e.__transition,r,s,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}s=r.state>FC&&r.state<BC,r.state=Xv,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function y9e(e){return this.each(function(){Jv(this,e)})}function x9e(e,t){var n,r;return function(){var s=li(this,e),a=s.tween;if(a!==n){r=n=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function w9e(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var a=li(this,e),o=a.tween;if(o!==r){s=(r=o).slice();for(var l={name:t,value:n},c=0,u=s.length;c<u;++c)if(s[c].name===t){s[c]=l;break}c===u&&s.push(l)}a.tween=s}}function b9e(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Oa(this.node(),n).tween,s=0,a=r.length,o;s<a;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?x9e:w9e)(n,e,t))}function u2(e,t,n){var r=e._id;return e.each(function(){var s=li(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Oa(s,r).value[t]}}function _K(e,t){var n;return(typeof t=="number"?fa:t instanceof hc?fx:(n=hc(t))?(t=n,fx):CV)(e,t)}function j9e(e){return function(){this.removeAttribute(e)}}function S9e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function N9e(e,t,n){var r,s=n+"",a;return function(){var o=this.getAttribute(e);return o===s?null:o===r?a:a=t(r=o,n)}}function _9e(e,t,n){var r,s=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?a:a=t(r=o,n)}}function C9e(e,t,n){var r,s,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===r&&c===s?a:(s=c,a=t(r=o,l)))}}function E9e(e,t,n){var r,s,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===r&&c===s?a:(s=c,a=t(r=o,l)))}}function k9e(e,t){var n=Fb(e),r=n==="transform"?rEe:_K;return this.attrTween(e,typeof t=="function"?(n.local?E9e:C9e)(n,r,u2(this,"attr."+e,t)):t==null?(n.local?S9e:j9e)(n):(n.local?_9e:N9e)(n,r,t))}function A9e(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function P9e(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function T9e(e,t){var n,r;function s(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&P9e(e,a)),n}return s._value=t,s}function O9e(e,t){var n,r;function s(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&A9e(e,a)),n}return s._value=t,s}function I9e(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Fb(e);return this.tween(n,(r.local?T9e:O9e)(r,t))}function D9e(e,t){return function(){c2(this,e).delay=+t.apply(this,arguments)}}function M9e(e,t){return t=+t,function(){c2(this,e).delay=t}}function R9e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?D9e:M9e)(t,e)):Oa(this.node(),t).delay}function $9e(e,t){return function(){li(this,e).duration=+t.apply(this,arguments)}}function L9e(e,t){return t=+t,function(){li(this,e).duration=t}}function F9e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$9e:L9e)(t,e)):Oa(this.node(),t).duration}function B9e(e,t){if(typeof t!="function")throw new Error;return function(){li(this,e).ease=t}}function z9e(e){var t=this._id;return arguments.length?this.each(B9e(t,e)):Oa(this.node(),t).ease}function W9e(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;li(this,e).ease=n}}function V9e(e){if(typeof e!="function")throw new Error;return this.each(W9e(this._id,e))}function U9e(e){typeof e!="function"&&(e=cK(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=r[s]=[],c,u=0;u<o;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new Gi(r,this._parents,this._name,this._id)}function q9e(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,a=Math.min(r,s),o=new Array(r),l=0;l<a;++l)for(var c=t[l],u=n[l],d=c.length,f=o[l]=new Array(d),h,m=0;m<d;++m)(h=c[m]||u[m])&&(f[m]=h);for(;l<r;++l)o[l]=t[l];return new Gi(o,this._parents,this._name,this._id)}function H9e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function G9e(e,t,n){var r,s,a=H9e(t)?c2:li;return function(){var o=a(this,e),l=o.on;l!==r&&(s=(r=l).copy()).on(t,n),o.on=s}}function K9e(e,t){var n=this._id;return arguments.length<2?Oa(this.node(),n).on.on(e):this.each(G9e(n,e,t))}function Y9e(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function X9e(){return this.on("end.remove",Y9e(this._id))}function J9e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=i2(e));for(var r=this._groups,s=r.length,a=new Array(s),o=0;o<s;++o)for(var l=r[o],c=l.length,u=a[o]=new Array(c),d,f,h=0;h<c;++h)(d=l[h])&&(f=e.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,zb(u[h],t,n,h,u,Oa(d,n)));return new Gi(a,this._parents,t,n)}function Q9e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=lK(e));for(var r=this._groups,s=r.length,a=[],o=[],l=0;l<s;++l)for(var c=r[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),m,g=Oa(d,n),p=0,y=h.length;p<y;++p)(m=h[p])&&zb(m,t,n,p,h,g);a.push(h),o.push(d)}return new Gi(a,o,t,n)}var Z9e=hg.prototype.constructor;function eHe(){return new Z9e(this._groups,this._parents)}function tHe(e,t){var n,r,s;return function(){var a=Rd(this,e),o=(this.style.removeProperty(e),Rd(this,e));return a===o?null:a===n&&o===r?s:s=t(n=a,r=o)}}function CK(e){return function(){this.style.removeProperty(e)}}function nHe(e,t,n){var r,s=n+"",a;return function(){var o=Rd(this,e);return o===s?null:o===r?a:a=t(r=o,n)}}function rHe(e,t,n){var r,s,a;return function(){var o=Rd(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Rd(this,e))),o===c?null:o===r&&c===s?a:(s=c,a=t(r=o,l))}}function sHe(e,t){var n,r,s,a="style."+t,o="end."+a,l;return function(){var c=li(this,e),u=c.on,d=c.value[a]==null?l||(l=CK(t)):void 0;(u!==n||s!==d)&&(r=(n=u).copy()).on(o,s=d),c.on=r}}function aHe(e,t,n){var r=(e+="")=="transform"?nEe:_K;return t==null?this.styleTween(e,tHe(e,r)).on("end.style."+e,CK(e)):typeof t=="function"?this.styleTween(e,rHe(e,r,u2(this,"style."+e,t))).each(sHe(this._id,e)):this.styleTween(e,nHe(e,r,t),n).on("end.style."+e,null)}function iHe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function oHe(e,t,n){var r,s;function a(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&iHe(e,o,n)),r}return a._value=t,a}function lHe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,oHe(e,t,n??""))}function cHe(e){return function(){this.textContent=e}}function uHe(e){return function(){var t=e(this);this.textContent=t??""}}function dHe(e){return this.tween("text",typeof e=="function"?uHe(u2(this,"text",e)):cHe(e==null?"":e+""))}function fHe(e){return function(t){this.textContent=e.call(this,t)}}function hHe(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&fHe(s)),t}return r._value=e,r}function mHe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,hHe(e))}function pHe(){for(var e=this._name,t=this._id,n=EK(),r=this._groups,s=r.length,a=0;a<s;++a)for(var o=r[a],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var d=Oa(c,t);zb(c,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Gi(r,this._parents,e,n)}function gHe(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(a,o){var l={value:o},c={value:function(){--s===0&&a()}};n.each(function(){var u=li(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),s===0&&a()})}var vHe=0;function Gi(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function EK(){return++vHe}var di=hg.prototype;Gi.prototype={constructor:Gi,select:J9e,selectAll:Q9e,selectChild:di.selectChild,selectChildren:di.selectChildren,filter:U9e,merge:q9e,selection:eHe,transition:pHe,call:di.call,nodes:di.nodes,node:di.node,size:di.size,empty:di.empty,each:di.each,on:K9e,attr:k9e,attrTween:I9e,style:aHe,styleTween:lHe,text:dHe,textTween:mHe,remove:X9e,tween:b9e,delay:R9e,duration:F9e,ease:z9e,easeVarying:V9e,end:gHe,[Symbol.iterator]:di[Symbol.iterator]};function yHe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var xHe={time:null,delay:0,duration:250,ease:yHe};function wHe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function bHe(e){var t,n;e instanceof Gi?(t=e._id,e=e._name):(t=EK(),(n=xHe).time=l2(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,a=0;a<s;++a)for(var o=r[a],l=o.length,c,u=0;u<l;++u)(c=o[u])&&zb(c,e,t,u,o,n||wHe(c,t));return new Gi(r,this._parents,e,t)}hg.prototype.interrupt=y9e;hg.prototype.transition=bHe;const wv=e=>()=>e;function jHe(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Ni(e,t,n){this.k=e,this.x=t,this.y=n}Ni.prototype={constructor:Ni,scale:function(e){return e===1?this:new Ni(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ni(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Oi=new Ni(1,0,0);Ni.prototype;function J1(e){e.stopImmediatePropagation()}function Gf(e){e.preventDefault(),e.stopImmediatePropagation()}function SHe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function NHe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function bL(){return this.__zoom||Oi}function _He(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function CHe(){return navigator.maxTouchPoints||"ontouchstart"in this}function EHe(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function kK(){var e=SHe,t=NHe,n=EHe,r=_He,s=CHe,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=oEe,u=Lb("start","zoom","end"),d,f,h,m=500,g=150,p=0,y=10;function x(E){E.property("__zoom",bL).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",A).filter(s).on("touchstart.zoom",T).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(E,$,O,R){var I=E.selection?E.selection():E;I.property("__zoom",bL),E!==I?S(E,$,O,R):I.interrupt().each(function(){N(this,arguments).event(R).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},x.scaleBy=function(E,$,O,R){x.scaleTo(E,function(){var I=this.__zoom.k,M=typeof $=="function"?$.apply(this,arguments):$;return I*M},O,R)},x.scaleTo=function(E,$,O,R){x.transform(E,function(){var I=t.apply(this,arguments),M=this.__zoom,L=O==null?w(I):typeof O=="function"?O.apply(this,arguments):O,z=M.invert(L),W=typeof $=="function"?$.apply(this,arguments):$;return n(j(b(M,W),L,z),I,o)},O,R)},x.translateBy=function(E,$,O,R){x.transform(E,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof O=="function"?O.apply(this,arguments):O),t.apply(this,arguments),o)},null,R)},x.translateTo=function(E,$,O,R,I){x.transform(E,function(){var M=t.apply(this,arguments),L=this.__zoom,z=R==null?w(M):typeof R=="function"?R.apply(this,arguments):R;return n(Oi.translate(z[0],z[1]).scale(L.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof O=="function"?-O.apply(this,arguments):-O),M,o)},R,I)};function b(E,$){return $=Math.max(a[0],Math.min(a[1],$)),$===E.k?E:new Ni($,E.x,E.y)}function j(E,$,O){var R=$[0]-O[0]*E.k,I=$[1]-O[1]*E.k;return R===E.x&&I===E.y?E:new Ni(E.k,R,I)}function w(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function S(E,$,O,R){E.on("start.zoom",function(){N(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(R).end()}).tween("zoom",function(){var I=this,M=arguments,L=N(I,M).event(R),z=t.apply(I,M),W=O==null?w(z):typeof O=="function"?O.apply(I,M):O,q=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),V=I.__zoom,te=typeof $=="function"?$.apply(I,M):$,ne=c(V.invert(W).concat(q/V.k),te.invert(W).concat(q/te.k));return function(X){if(X===1)X=te;else{var ee=ne(X),Z=q/ee[2];X=new Ni(Z,W[0]-ee[0]*Z,W[1]-ee[1]*Z)}L.zoom(null,X)}})}function N(E,$,O){return!O&&E.__zooming||new C(E,$)}function C(E,$){this.that=E,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,$),this.taps=0}C.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,$){return this.mouse&&E!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var $=Rs(this.that).datum();u.call(E,this.that,new jHe(E,{sourceEvent:this.sourceEvent,target:x,type:E,transform:this.that.__zoom,dispatch:u}),$)}};function _(E,...$){if(!e.apply(this,arguments))return;var O=N(this,$).event(E),R=this.__zoom,I=Math.max(a[0],Math.min(a[1],R.k*Math.pow(2,r.apply(this,arguments)))),M=ua(E);if(O.wheel)(O.mouse[0][0]!==M[0]||O.mouse[0][1]!==M[1])&&(O.mouse[1]=R.invert(O.mouse[0]=M)),clearTimeout(O.wheel);else{if(R.k===I)return;O.mouse=[M,R.invert(M)],Jv(this),O.start()}Gf(E),O.wheel=setTimeout(L,g),O.zoom("mouse",n(j(b(R,I),O.mouse[0],O.mouse[1]),O.extent,o));function L(){O.wheel=null,O.end()}}function k(E,...$){if(h||!e.apply(this,arguments))return;var O=E.currentTarget,R=N(this,$,!0).event(E),I=Rs(E.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",q,!0),M=ua(E,O),L=E.clientX,z=E.clientY;xK(E.view),J1(E),R.mouse=[M,this.__zoom.invert(M)],Jv(this),R.start();function W(V){if(Gf(V),!R.moved){var te=V.clientX-L,ne=V.clientY-z;R.moved=te*te+ne*ne>p}R.event(V).zoom("mouse",n(j(R.that.__zoom,R.mouse[0]=ua(V,O),R.mouse[1]),R.extent,o))}function q(V){I.on("mousemove.zoom mouseup.zoom",null),wK(V.view,R.moved),Gf(V),R.event(V).end()}}function A(E,...$){if(e.apply(this,arguments)){var O=this.__zoom,R=ua(E.changedTouches?E.changedTouches[0]:E,this),I=O.invert(R),M=O.k*(E.shiftKey?.5:2),L=n(j(b(O,M),R,I),t.apply(this,$),o);Gf(E),l>0?Rs(this).transition().duration(l).call(S,L,R,E):Rs(this).call(x.transform,L,R,E)}}function T(E,...$){if(e.apply(this,arguments)){var O=E.touches,R=O.length,I=N(this,$,E.changedTouches.length===R).event(E),M,L,z,W;for(J1(E),L=0;L<R;++L)z=O[L],W=ua(z,this),W=[W,this.__zoom.invert(W),z.identifier],I.touch0?!I.touch1&&I.touch0[2]!==W[2]&&(I.touch1=W,I.taps=0):(I.touch0=W,M=!0,I.taps=1+!!d);d&&(d=clearTimeout(d)),M&&(I.taps<2&&(f=W[0],d=setTimeout(function(){d=null},m)),Jv(this),I.start())}}function D(E,...$){if(this.__zooming){var O=N(this,$).event(E),R=E.changedTouches,I=R.length,M,L,z,W;for(Gf(E),M=0;M<I;++M)L=R[M],z=ua(L,this),O.touch0&&O.touch0[2]===L.identifier?O.touch0[0]=z:O.touch1&&O.touch1[2]===L.identifier&&(O.touch1[0]=z);if(L=O.that.__zoom,O.touch1){var q=O.touch0[0],V=O.touch0[1],te=O.touch1[0],ne=O.touch1[1],X=(X=te[0]-q[0])*X+(X=te[1]-q[1])*X,ee=(ee=ne[0]-V[0])*ee+(ee=ne[1]-V[1])*ee;L=b(L,Math.sqrt(X/ee)),z=[(q[0]+te[0])/2,(q[1]+te[1])/2],W=[(V[0]+ne[0])/2,(V[1]+ne[1])/2]}else if(O.touch0)z=O.touch0[0],W=O.touch0[1];else return;O.zoom("touch",n(j(L,z,W),O.extent,o))}}function F(E,...$){if(this.__zooming){var O=N(this,$).event(E),R=E.changedTouches,I=R.length,M,L;for(J1(E),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),M=0;M<I;++M)L=R[M],O.touch0&&O.touch0[2]===L.identifier?delete O.touch0:O.touch1&&O.touch1[2]===L.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(L=ua(L,this),Math.hypot(f[0]-L[0],f[1]-L[1])<y)){var z=Rs(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return x.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:wv(+E),x):r},x.filter=function(E){return arguments.length?(e=typeof E=="function"?E:wv(!!E),x):e},x.touchable=function(E){return arguments.length?(s=typeof E=="function"?E:wv(!!E),x):s},x.extent=function(E){return arguments.length?(t=typeof E=="function"?E:wv([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),x):t},x.scaleExtent=function(E){return arguments.length?(a[0]=+E[0],a[1]=+E[1],x):[a[0],a[1]]},x.translateExtent=function(E){return arguments.length?(o[0][0]=+E[0][0],o[1][0]=+E[1][0],o[0][1]=+E[0][1],o[1][1]=+E[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(E){return arguments.length?(n=E,x):n},x.duration=function(E){return arguments.length?(l=+E,x):l},x.interpolate=function(E){return arguments.length?(c=E,x):c},x.on=function(){var E=u.on.apply(u,arguments);return E===u?x:E},x.clickDistance=function(E){return arguments.length?(p=(E=+E)*E,x):Math.sqrt(p)},x.tapDistance=function(E){return arguments.length?(y=+E,x):y},x}const Wb=v.createContext(null),kHe=Wb.Provider,Ki={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},AK=Ki.error001();function It(e,t){const n=v.useContext(Wb);if(n===null)throw new Error(AK);return iK(n,e,t)}const Cn=()=>{const e=v.useContext(Wb);if(e===null)throw new Error(AK);return v.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},AHe=e=>e.userSelectionActive?"none":"all";function Vb({position:e,children:t,className:n,style:r,...s}){const a=It(AHe),o=`${e}`.split("-");return P.createElement("div",{className:er(["react-flow__panel",n,...o]),style:{...r,pointerEvents:a},...s},t)}function PHe({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:P.createElement(Vb,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},P.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const THe=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:a={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d})=>{const f=v.useRef(null),[h,m]=v.useState({x:0,y:0,width:0,height:0}),g=er(["react-flow__edge-textwrapper",u]);return v.useEffect(()=>{if(f.current){const p=f.current.getBBox();m({x:p.x,y:p.y,width:p.width,height:p.height})}},[n]),typeof n>"u"||!n?null:P.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:g,visibility:h.width?"visible":"hidden",...d},s&&P.createElement("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:a,rx:l,ry:l}),P.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),c)};var OHe=v.memo(THe);const d2=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ld=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),f2=(e={x:0,y:0},t)=>({x:Ld(e.x,t[0][0],t[1][0]),y:Ld(e.y,t[0][1],t[1][1])}),jL=(e,t,n)=>e<t?Ld(Math.abs(e-t),1,50)/50:e>n?-Ld(Math.abs(e-n),1,50)/50:0,PK=(e,t)=>{const n=jL(e.x,35,t.width-35)*20,r=jL(e.y,35,t.height-35)*20;return[n,r]},TK=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},OK=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),_p=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),IK=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),SL=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),IHe=(e,t)=>IK(OK(_p(e),_p(t))),zC=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},DHe=e=>zs(e.width)&&zs(e.height)&&zs(e.x)&&zs(e.y),zs=e=>!isNaN(e)&&isFinite(e),Zt=Symbol.for("internals"),DK=["Enter"," ","Escape"],MHe=(e,t)=>{},RHe=e=>"nativeEvent"in e;function WC(e){var s,a;const t=RHe(e)?e.nativeEvent:e,n=((a=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:a[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const MK=e=>"clientX"in e,Vo=(e,t)=>{var a,o;const n=MK(e),r=n?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},u0=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},mg=({id:e,path:t,labelX:n,labelY:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:m=20})=>P.createElement(P.Fragment,null,P.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),m&&P.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),s&&zs(n)&&zs(r)?P.createElement(OHe,{x:n,y:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null);mg.displayName="BaseEdge";function Kf(e,t,n){return n===void 0?n:r=>{const s=t().edges.find(a=>a.id===e);s&&n(r,{...s})}}function RK({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,a=n<e?n+s:n-s,o=Math.abs(r-t)/2,l=r<t?r+o:r-o;return[a,l,s,o]}function $K({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:a,targetControlX:o,targetControlY:l}){const c=e*.125+s*.375+o*.375+n*.125,u=t*.125+a*.375+l*.375+r*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var jc;(function(e){e.Strict="strict",e.Loose="loose"})(jc||(jc={}));var Hl;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Hl||(Hl={}));var Cp;(function(e){e.Partial="partial",e.Full="full"})(Cp||(Cp={}));var So;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(So||(So={}));var d0;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(d0||(d0={}));var Ce;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ce||(Ce={}));function NL({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===Ce.Left||e===Ce.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function LK({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:s,targetPosition:a=Ce.Top}){const[o,l]=NL({pos:n,x1:e,y1:t,x2:r,y2:s}),[c,u]=NL({pos:a,x1:r,y1:s,x2:e,y2:t}),[d,f,h,m]=$K({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${o},${l} ${c},${u} ${r},${s}`,d,f,h,m]}const h2=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=Ce.Bottom,targetPosition:a=Ce.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:g,interactionWidth:p})=>{const[y,x,b]=LK({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:a});return P.createElement(mg,{path:y,labelX:x,labelY:b,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:g,interactionWidth:p})});h2.displayName="SimpleBezierEdge";const _L={[Ce.Left]:{x:-1,y:0},[Ce.Right]:{x:1,y:0},[Ce.Top]:{x:0,y:-1},[Ce.Bottom]:{x:0,y:1}},$He=({source:e,sourcePosition:t=Ce.Bottom,target:n})=>t===Ce.Left||t===Ce.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},CL=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function LHe({source:e,sourcePosition:t=Ce.Bottom,target:n,targetPosition:r=Ce.Top,center:s,offset:a}){const o=_L[t],l=_L[r],c={x:e.x+o.x*a,y:e.y+o.y*a},u={x:n.x+l.x*a,y:n.y+l.y*a},d=$He({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",h=d[f];let m=[],g,p;const y={x:0,y:0},x={x:0,y:0},[b,j,w,S]=RK({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[f]*l[f]===-1){g=s.x??b,p=s.y??j;const C=[{x:g,y:c.y},{x:g,y:u.y}],_=[{x:c.x,y:p},{x:u.x,y:p}];o[f]===h?m=f==="x"?C:_:m=f==="x"?_:C}else{const C=[{x:c.x,y:u.y}],_=[{x:u.x,y:c.y}];if(f==="x"?m=o.x===h?_:C:m=o.y===h?C:_,t===r){const F=Math.abs(e[f]-n[f]);if(F<=a){const E=Math.min(a-1,a-F);o[f]===h?y[f]=(c[f]>e[f]?-1:1)*E:x[f]=(u[f]>n[f]?-1:1)*E}}if(t!==r){const F=f==="x"?"y":"x",E=o[f]===l[F],$=c[F]>u[F],O=c[F]<u[F];(o[f]===1&&(!E&&$||E&&O)||o[f]!==1&&(!E&&O||E&&$))&&(m=f==="x"?C:_)}const k={x:c.x+y.x,y:c.y+y.y},A={x:u.x+x.x,y:u.y+x.y},T=Math.max(Math.abs(k.x-m[0].x),Math.abs(A.x-m[0].x)),D=Math.max(Math.abs(k.y-m[0].y),Math.abs(A.y-m[0].y));T>=D?(g=(k.x+A.x)/2,p=m[0].y):(g=m[0].x,p=(k.y+A.y)/2)}return[[e,{x:c.x+y.x,y:c.y+y.y},...m,{x:u.x+x.x,y:u.y+x.y},n],g,p,w,S]}function FHe(e,t,n,r){const s=Math.min(CL(e,t)/2,CL(t,n)/2,r),{x:a,y:o}=t;if(e.x===a&&a===n.x||e.y===o&&o===n.y)return`L${a} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${a+s*u},${o}Q ${a},${o} ${a},${o+s*d}`}const l=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${a},${o+s*c}Q ${a},${o} ${a+s*l},${o}`}function VC({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:s,targetPosition:a=Ce.Top,borderRadius:o=5,centerX:l,centerY:c,offset:u=20}){const[d,f,h,m,g]=LHe({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:a,center:{x:l,y:c},offset:u});return[d.reduce((y,x,b)=>{let j="";return b>0&&b<d.length-1?j=FHe(d[b-1],x,d[b+1],o):j=`${b===0?"M":"L"}${x.x} ${x.y}`,y+=j,y},""),f,h,m,g]}const Ub=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=Ce.Bottom,targetPosition:h=Ce.Top,markerEnd:m,markerStart:g,pathOptions:p,interactionWidth:y})=>{const[x,b,j]=VC({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset});return P.createElement(mg,{path:x,labelX:b,labelY:j,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:g,interactionWidth:y})});Ub.displayName="SmoothStepEdge";const m2=v.memo(e=>{var t;return P.createElement(Ub,{...e,pathOptions:v.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});m2.displayName="StepEdge";function BHe({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,a,o,l]=RK({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,a,o,l]}const p2=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:m})=>{const[g,p,y]=BHe({sourceX:e,sourceY:t,targetX:n,targetY:r});return P.createElement(mg,{path:g,labelX:p,labelY:y,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:m})});p2.displayName="StraightEdge";function bv(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function EL({pos:e,x1:t,y1:n,x2:r,y2:s,c:a}){switch(e){case Ce.Left:return[t-bv(t-r,a),n];case Ce.Right:return[t+bv(r-t,a),n];case Ce.Top:return[t,n-bv(n-s,a)];case Ce.Bottom:return[t,n+bv(s-n,a)]}}function FK({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:s,targetPosition:a=Ce.Top,curvature:o=.25}){const[l,c]=EL({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[u,d]=EL({pos:a,x1:r,y1:s,x2:e,y2:t,c:o}),[f,h,m,g]=$K({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${r},${s}`,f,h,m,g]}const f0=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=Ce.Bottom,targetPosition:a=Ce.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:g,pathOptions:p,interactionWidth:y})=>{const[x,b,j]=FK({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:a,curvature:p==null?void 0:p.curvature});return P.createElement(mg,{path:x,labelX:b,labelY:j,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:g,interactionWidth:y})});f0.displayName="BezierEdge";const g2=v.createContext(null),zHe=g2.Provider;g2.Consumer;const WHe=()=>v.useContext(g2),VHe=e=>"id"in e&&"source"in e&&"target"in e,UHe=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,UC=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,qHe=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),BK=(e,t)=>{if(!e.source||!e.target)return t;let n;return VHe(e)?n={...e}:n={...e,id:UHe(e)},qHe(n,t)?t:t.concat(n)},qC=({x:e,y:t},[n,r,s],a,[o,l])=>{const c={x:(e-n)/s,y:(t-r)/s};return a?{x:o*Math.round(c.x/o),y:l*Math.round(c.y/l)}:c},zK=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r}),ec=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],s={x:e.position.x-n,y:e.position.y-r};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:s}},qb=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const{x:a,y:o}=ec(s,t).positionAbsolute;return OK(r,_p({x:a,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return IK(n)},WK=(e,t,[n,r,s]=[0,0,1],a=!1,o=!1,l=[0,0])=>{const c={x:(t.x-n)/s,y:(t.y-r)/s,width:t.width/s,height:t.height/s},u=[];return e.forEach(d=>{const{width:f,height:h,selectable:m=!0,hidden:g=!1}=d;if(o&&!m||g)return!1;const{positionAbsolute:p}=ec(d,l),y={x:p.x,y:p.y,width:f||0,height:h||0},x=zC(c,y),b=typeof f>"u"||typeof h>"u"||f===null||h===null,j=a&&x>0,w=(f||0)*(h||0);(b||j||x>=w||d.dragging)&&u.push(d)}),u},VK=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},UK=(e,t,n,r,s,a=.1)=>{const o=t/(e.width*(1+a)),l=n/(e.height*(1+a)),c=Math.min(o,l),u=Ld(c,r,s),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u,m=n/2-f*u;return{x:h,y:m,zoom:u}},Ml=(e,t=0)=>e.transition().duration(t);function kL(e,t,n,r){return(t[n]||[]).reduce((s,a)=>{var o,l;return`${e.id}-${a.id}-${n}`!==r&&s.push({id:a.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+a.x+a.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+a.y+a.height/2}),s},[])}function HHe(e,t,n,r,s,a){const{x:o,y:l}=Vo(e),u=t.elementsFromPoint(o,l).find(g=>g.classList.contains("react-flow__handle"));if(u){const g=u.getAttribute("data-nodeid");if(g){const p=v2(void 0,u),y=u.getAttribute("data-handleid"),x=a({nodeId:g,id:y,type:p});if(x){const b=s.find(j=>j.nodeId===g&&j.type===p&&j.id===y);return{handle:{id:y,type:p,nodeId:g,x:(b==null?void 0:b.x)||n.x,y:(b==null?void 0:b.y)||n.y},validHandleResult:x}}}}let d=[],f=1/0;if(s.forEach(g=>{const p=Math.sqrt((g.x-n.x)**2+(g.y-n.y)**2);if(p<=r){const y=a(g);p<=f&&(p<f?d=[{handle:g,validHandleResult:y}]:p===f&&d.push({handle:g,validHandleResult:y}),f=p)}}),!d.length)return{handle:null,validHandleResult:qK()};if(d.length===1)return d[0];const h=d.some(({validHandleResult:g})=>g.isValid),m=d.some(({handle:g})=>g.type==="target");return d.find(({handle:g,validHandleResult:p})=>m?g.type==="target":h?p.isValid:!0)||d[0]}const GHe={source:null,target:null,sourceHandle:null,targetHandle:null},qK=()=>({handleDomNode:null,isValid:!1,connection:GHe,endHandle:null});function HK(e,t,n,r,s,a,o){const l=s==="target",c=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...qK(),handleDomNode:c};if(c){const d=v2(void 0,c),f=c.getAttribute("data-nodeid"),h=c.getAttribute("data-handleid"),m=c.classList.contains("connectable"),g=c.classList.contains("connectableend"),p={source:l?f:n,sourceHandle:l?h:r,target:l?n:f,targetHandle:l?r:h};u.connection=p,m&&g&&(t===jc.Strict?l&&d==="source"||!l&&d==="target":f!==n||h!==r)&&(u.endHandle={nodeId:f,handleId:h,type:d},u.isValid=a(p))}return u}function KHe({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((s,a)=>{if(a[Zt]){const{handleBounds:o}=a[Zt];let l=[],c=[];o&&(l=kL(a,o,"source",`${t}-${n}-${r}`),c=kL(a,o,"target",`${t}-${n}-${r}`)),s.push(...l,...c)}return s},[])}function v2(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Q1(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function YHe(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function GK({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:s,getState:a,setState:o,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}){const d=TK(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:m,connectionRadius:g,onConnectStart:p,panBy:y,getNodes:x,cancelConnection:b}=a();let j=0,w;const{x:S,y:N}=Vo(e),C=d==null?void 0:d.elementFromPoint(S,N),_=v2(c,C),k=h==null?void 0:h.getBoundingClientRect();if(!k||!_)return;let A,T=Vo(e,k),D=!1,F=null,E=!1,$=null;const O=KHe({nodes:x(),nodeId:n,handleId:t,handleType:_}),R=()=>{if(!m)return;const[L,z]=PK(T,k);y({x:L,y:z}),j=requestAnimationFrame(R)};o({connectionPosition:T,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:_,connectionStartHandle:{nodeId:n,handleId:t,type:_},connectionEndHandle:null}),p==null||p(e,{nodeId:n,handleId:t,handleType:_});function I(L){const{transform:z}=a();T=Vo(L,k);const{handle:W,validHandleResult:q}=HHe(L,d,qC(T,z,!1,[1,1]),g,O,V=>HK(V,f,n,t,s?"target":"source",l,d));if(w=W,D||(R(),D=!0),$=q.handleDomNode,F=q.connection,E=q.isValid,o({connectionPosition:w&&E?zK({x:w.x,y:w.y},z):T,connectionStatus:YHe(!!w,E),connectionEndHandle:q.endHandle}),!w&&!E&&!$)return Q1(A);F.source!==F.target&&$&&(Q1(A),A=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",E),$.classList.toggle("react-flow__handle-valid",E))}function M(L){var z,W;(w||$)&&F&&E&&(r==null||r(F)),(W=(z=a()).onConnectEnd)==null||W.call(z,L),c&&(u==null||u(L)),Q1(A),b(),cancelAnimationFrame(j),D=!1,E=!1,F=null,$=null,d.removeEventListener("mousemove",I),d.removeEventListener("mouseup",M),d.removeEventListener("touchmove",I),d.removeEventListener("touchend",M)}d.addEventListener("mousemove",I),d.addEventListener("mouseup",M),d.addEventListener("touchmove",I),d.addEventListener("touchend",M)}const AL=()=>!0,XHe=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),JHe=(e,t,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:a,connectionClickStartHandle:o}=r;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n||(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},KK=v.forwardRef(({type:e="source",position:t=Ce.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:a=!0,id:o,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},m)=>{var k,A;const g=o||null,p=e==="target",y=Cn(),x=WHe(),{connectOnClick:b,noPanClassName:j}=It(XHe,Ln),{connecting:w,clickConnecting:S}=It(JHe(x,g,e),Ln);x||(A=(k=y.getState()).onError)==null||A.call(k,"010",Ki.error010());const N=T=>{const{defaultEdgeOptions:D,onConnect:F,hasDefaultEdges:E}=y.getState(),$={...D,...T};if(E){const{edges:O,setEdges:R}=y.getState();R(BK($,O))}F==null||F($),l==null||l($)},C=T=>{if(!x)return;const D=MK(T);s&&(D&&T.button===0||!D)&&GK({event:T,handleId:g,nodeId:x,onConnect:N,isTarget:p,getState:y.getState,setState:y.setState,isValidConnection:n||y.getState().isValidConnection||AL}),D?d==null||d(T):f==null||f(T)},_=T=>{const{onClickConnectStart:D,onClickConnectEnd:F,connectionClickStartHandle:E,connectionMode:$,isValidConnection:O}=y.getState();if(!x||!E&&!s)return;if(!E){D==null||D(T,{nodeId:x,handleId:g,handleType:e}),y.setState({connectionClickStartHandle:{nodeId:x,type:e,handleId:g}});return}const R=TK(T.target),I=n||O||AL,{connection:M,isValid:L}=HK({nodeId:x,id:g,type:e},$,E.nodeId,E.handleId||null,E.type,I,R);L&&N(M),F==null||F(T),y.setState({connectionClickStartHandle:null})};return P.createElement("div",{"data-handleid":g,"data-nodeid":x,"data-handlepos":t,"data-id":`${x}-${g}-${e}`,className:er(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",j,u,{source:!p,target:p,connectable:r,connectablestart:s,connectableend:a,connecting:S,connectionindicator:r&&(s&&!w||a&&w)}]),onMouseDown:C,onTouchStart:C,onClick:b?_:void 0,ref:m,...h},c)});KK.displayName="Handle";var pn=v.memo(KK);const YK=({data:e,isConnectable:t,targetPosition:n=Ce.Top,sourcePosition:r=Ce.Bottom})=>P.createElement(P.Fragment,null,P.createElement(pn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,P.createElement(pn,{type:"source",position:r,isConnectable:t}));YK.displayName="DefaultNode";var HC=v.memo(YK);const XK=({data:e,isConnectable:t,sourcePosition:n=Ce.Bottom})=>P.createElement(P.Fragment,null,e==null?void 0:e.label,P.createElement(pn,{type:"source",position:n,isConnectable:t}));XK.displayName="InputNode";var JK=v.memo(XK);const QK=({data:e,isConnectable:t,targetPosition:n=Ce.Top})=>P.createElement(P.Fragment,null,P.createElement(pn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);QK.displayName="OutputNode";var ZK=v.memo(QK);const y2=()=>null;y2.displayName="GroupNode";const QHe=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),jv=e=>e.id;function ZHe(e,t){return Ln(e.selectedNodes.map(jv),t.selectedNodes.map(jv))&&Ln(e.selectedEdges.map(jv),t.selectedEdges.map(jv))}const eY=v.memo(({onSelectionChange:e})=>{const t=Cn(),{selectedNodes:n,selectedEdges:r}=It(QHe,ZHe);return v.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChange.forEach(a=>a(s))},[n,r,e]),null});eY.displayName="SelectionListener";const e7e=e=>!!e.onSelectionChange;function t7e({onSelectionChange:e}){const t=It(e7e);return e||t?P.createElement(eY,{onSelectionChange:e}):null}const n7e=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Jc(e,t){v.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Xe(e,t,n){v.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const r7e=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:a,onConnectEnd:o,onClickConnectStart:l,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:m,elevateNodesOnSelect:g,minZoom:p,maxZoom:y,nodeExtent:x,onNodesChange:b,onEdgesChange:j,elementsSelectable:w,connectionMode:S,snapGrid:N,snapToGrid:C,translateExtent:_,connectOnClick:k,defaultEdgeOptions:A,fitView:T,fitViewOptions:D,onNodesDelete:F,onEdgesDelete:E,onNodeDrag:$,onNodeDragStart:O,onNodeDragStop:R,onSelectionDrag:I,onSelectionDragStart:M,onSelectionDragStop:L,noPanClassName:z,nodeOrigin:W,rfId:q,autoPanOnConnect:V,autoPanOnNodeDrag:te,onError:ne,connectionRadius:X,isValidConnection:ee,nodeDragThreshold:Z})=>{const{setNodes:ae,setEdges:ce,setDefaultNodesAndEdges:H,setMinZoom:je,setMaxZoom:Ne,setTranslateExtent:Ae,setNodeExtent:Q,reset:me}=It(n7e,Ln),J=Cn();return v.useEffect(()=>{const _e=r==null?void 0:r.map(rt=>({...rt,...A}));return H(n,_e),()=>{me()}},[]),Xe("defaultEdgeOptions",A,J.setState),Xe("connectionMode",S,J.setState),Xe("onConnect",s,J.setState),Xe("onConnectStart",a,J.setState),Xe("onConnectEnd",o,J.setState),Xe("onClickConnectStart",l,J.setState),Xe("onClickConnectEnd",c,J.setState),Xe("nodesDraggable",u,J.setState),Xe("nodesConnectable",d,J.setState),Xe("nodesFocusable",f,J.setState),Xe("edgesFocusable",h,J.setState),Xe("edgesUpdatable",m,J.setState),Xe("elementsSelectable",w,J.setState),Xe("elevateNodesOnSelect",g,J.setState),Xe("snapToGrid",C,J.setState),Xe("snapGrid",N,J.setState),Xe("onNodesChange",b,J.setState),Xe("onEdgesChange",j,J.setState),Xe("connectOnClick",k,J.setState),Xe("fitViewOnInit",T,J.setState),Xe("fitViewOnInitOptions",D,J.setState),Xe("onNodesDelete",F,J.setState),Xe("onEdgesDelete",E,J.setState),Xe("onNodeDrag",$,J.setState),Xe("onNodeDragStart",O,J.setState),Xe("onNodeDragStop",R,J.setState),Xe("onSelectionDrag",I,J.setState),Xe("onSelectionDragStart",M,J.setState),Xe("onSelectionDragStop",L,J.setState),Xe("noPanClassName",z,J.setState),Xe("nodeOrigin",W,J.setState),Xe("rfId",q,J.setState),Xe("autoPanOnConnect",V,J.setState),Xe("autoPanOnNodeDrag",te,J.setState),Xe("onError",ne,J.setState),Xe("connectionRadius",X,J.setState),Xe("isValidConnection",ee,J.setState),Xe("nodeDragThreshold",Z,J.setState),Jc(e,ae),Jc(t,ce),Jc(p,je),Jc(y,Ne),Jc(_,Ae),Jc(x,Q),null},PL={display:"none"},s7e={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},tY="react-flow__node-desc",nY="react-flow__edge-desc",a7e="react-flow__aria-live",i7e=e=>e.ariaLiveMessage;function o7e({rfId:e}){const t=It(i7e);return P.createElement("div",{id:`${a7e}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:s7e},t)}function l7e({rfId:e,disableKeyboardA11y:t}){return P.createElement(P.Fragment,null,P.createElement("div",{id:`${tY}-${e}`,style:PL},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),P.createElement("div",{id:`${nY}-${e}`,style:PL},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&P.createElement(o7e,{rfId:e}))}var Ep=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=v.useState(!1),s=v.useRef(!1),a=v.useRef(new Set([])),[o,l]=v.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return v.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=m=>{if(s.current=m.ctrlKey||m.metaKey||m.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&WC(m))return!1;const p=OL(m.code,l);a.current.add(m[p]),TL(o,a.current,!1)&&(m.preventDefault(),r(!0))},f=m=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&WC(m))return!1;const p=OL(m.code,l);TL(o,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(m[p]),m.key==="Meta"&&a.current.clear(),s.current=!1},h=()=>{a.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function TL(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function OL(e,t){return t.includes(e)?"code":"key"}function rY(e,t,n,r){var l,c;const s=e.parentNode||e.parentId;if(!s)return n;const a=t.get(s),o=ec(a,r);return rY(a,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((l=a[Zt])==null?void 0:l.z)??0)>(n.z??0)?((c=a[Zt])==null?void 0:c.z)??0:n.z??0},r)}function sY(e,t,n){e.forEach(r=>{var a;const s=r.parentNode||r.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:o,y:l,z:c}=rY(r,e,{...r.position,z:((a=r[Zt])==null?void 0:a.z)??0},t);r.positionAbsolute={x:o,y:l},r[Zt].z=c,n!=null&&n[r.id]&&(r[Zt].isParent=!0)}})}function Z1(e,t,n,r){const s=new Map,a={},o=r?1e3:0;return e.forEach(l=>{var m;const c=(zs(l.zIndex)?l.zIndex:0)+(l.selected?o:0),u=t.get(l.id),d={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(a[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(d,Zt,{enumerable:!1,value:{handleBounds:h||(m=u==null?void 0:u[Zt])==null?void 0:m.handleBounds,z:c}}),s.set(l.id,d)}),sY(s,n,a),s}function aY(e,t={}){const{getNodes:n,width:r,height:s,minZoom:a,maxZoom:o,d3Zoom:l,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),h=t.initial&&!u&&d;if(l&&c&&(h||!t.initial)){const g=n().filter(y=>{var b;const x=t.includeHiddenNodes?y.width&&y.height:!y.hidden;return(b=t.nodes)!=null&&b.length?x&&t.nodes.some(j=>j.id===y.id):x}),p=g.every(y=>y.width&&y.height);if(g.length>0&&p){const y=qb(g,f),{x,y:b,zoom:j}=UK(y,r,s,t.minZoom??a,t.maxZoom??o,t.padding??.1),w=Oi.translate(x,b).scale(j);return typeof t.duration=="number"&&t.duration>0?l.transform(Ml(c,t.duration),w):l.transform(c,w),!0}}return!1}function c7e(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Zt]:r[Zt],selected:n.selected})}),new Map(t)}function u7e(e,t){return t.map(n=>{const r=e.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Sv({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:s,edges:a,onNodesChange:o,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:c7e(e,s)}),o==null||o(e)),t!=null&&t.length&&(u&&r({edges:u7e(t,a)}),l==null||l(t))}const Qc=()=>{},d7e={zoomIn:Qc,zoomOut:Qc,zoomTo:Qc,getZoom:()=>1,setViewport:Qc,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Qc,fitBounds:Qc,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},f7e=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),h7e=()=>{const e=Cn(),{d3Zoom:t,d3Selection:n}=It(f7e,Ln);return v.useMemo(()=>n&&t?{zoomIn:s=>t.scaleBy(Ml(n,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(Ml(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,a)=>t.scaleTo(Ml(n,a==null?void 0:a.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,a)=>{const[o,l,c]=e.getState().transform,u=Oi.translate(s.x??o,s.y??l).scale(s.zoom??c);t.transform(Ml(n,a==null?void 0:a.duration),u)},getViewport:()=>{const[s,a,o]=e.getState().transform;return{x:s,y:a,zoom:o}},fitView:s=>aY(e.getState,s),setCenter:(s,a,o)=>{const{width:l,height:c,maxZoom:u}=e.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,f=l/2-s*d,h=c/2-a*d,m=Oi.translate(f,h).scale(d);t.transform(Ml(n,o==null?void 0:o.duration),m)},fitBounds:(s,a)=>{const{width:o,height:l,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:h}=UK(s,o,l,c,u,(a==null?void 0:a.padding)??.1),m=Oi.translate(d,f).scale(h);t.transform(Ml(n,a==null?void 0:a.duration),m)},project:s=>{const{transform:a,snapToGrid:o,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),qC(s,a,o,l)},screenToFlowPosition:s=>{const{transform:a,snapToGrid:o,snapGrid:l,domNode:c}=e.getState();if(!c)return s;const{x:u,y:d}=c.getBoundingClientRect(),f={x:s.x-u,y:s.y-d};return qC(f,a,o,l)},flowToScreenPosition:s=>{const{transform:a,domNode:o}=e.getState();if(!o)return s;const{x:l,y:c}=o.getBoundingClientRect(),u=zK(s,a);return{x:u.x+l,y:u.y+c}},viewportInitialized:!0}:d7e,[t,n])};function x2(){const e=h7e(),t=Cn(),n=v.useCallback(()=>t.getState().getNodes().map(p=>({...p})),[]),r=v.useCallback(p=>t.getState().nodeInternals.get(p),[]),s=v.useCallback(()=>{const{edges:p=[]}=t.getState();return p.map(y=>({...y}))},[]),a=v.useCallback(p=>{const{edges:y=[]}=t.getState();return y.find(x=>x.id===p)},[]),o=v.useCallback(p=>{const{getNodes:y,setNodes:x,hasDefaultNodes:b,onNodesChange:j}=t.getState(),w=y(),S=typeof p=="function"?p(w):p;if(b)x(S);else if(j){const N=S.length===0?w.map(C=>({type:"remove",id:C.id})):S.map(C=>({item:C,type:"reset"}));j(N)}},[]),l=v.useCallback(p=>{const{edges:y=[],setEdges:x,hasDefaultEdges:b,onEdgesChange:j}=t.getState(),w=typeof p=="function"?p(y):p;if(b)x(w);else if(j){const S=w.length===0?y.map(N=>({type:"remove",id:N.id})):w.map(N=>({item:N,type:"reset"}));j(S)}},[]),c=v.useCallback(p=>{const y=Array.isArray(p)?p:[p],{getNodes:x,setNodes:b,hasDefaultNodes:j,onNodesChange:w}=t.getState();if(j){const N=[...x(),...y];b(N)}else if(w){const S=y.map(N=>({item:N,type:"add"}));w(S)}},[]),u=v.useCallback(p=>{const y=Array.isArray(p)?p:[p],{edges:x=[],setEdges:b,hasDefaultEdges:j,onEdgesChange:w}=t.getState();if(j)b([...x,...y]);else if(w){const S=y.map(N=>({item:N,type:"add"}));w(S)}},[]),d=v.useCallback(()=>{const{getNodes:p,edges:y=[],transform:x}=t.getState(),[b,j,w]=x;return{nodes:p().map(S=>({...S})),edges:y.map(S=>({...S})),viewport:{x:b,y:j,zoom:w}}},[]),f=v.useCallback(({nodes:p,edges:y})=>{const{nodeInternals:x,getNodes:b,edges:j,hasDefaultNodes:w,hasDefaultEdges:S,onNodesDelete:N,onEdgesDelete:C,onNodesChange:_,onEdgesChange:k}=t.getState(),A=(p||[]).map($=>$.id),T=(y||[]).map($=>$.id),D=b().reduce(($,O)=>{const R=O.parentNode||O.parentId,I=!A.includes(O.id)&&R&&$.find(L=>L.id===R);return(typeof O.deletable=="boolean"?O.deletable:!0)&&(A.includes(O.id)||I)&&$.push(O),$},[]),F=j.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),E=F.filter($=>T.includes($.id));if(D||E){const $=VK(D,F),O=[...E,...$],R=O.reduce((I,M)=>(I.includes(M.id)||I.push(M.id),I),[]);if((S||w)&&(S&&t.setState({edges:j.filter(I=>!R.includes(I.id))}),w&&(D.forEach(I=>{x.delete(I.id)}),t.setState({nodeInternals:new Map(x)}))),R.length>0&&(C==null||C(O),k&&k(R.map(I=>({id:I,type:"remove"})))),D.length>0&&(N==null||N(D),_)){const I=D.map(M=>({id:M.id,type:"remove"}));_(I)}}},[]),h=v.useCallback(p=>{const y=DHe(p),x=y?null:t.getState().nodeInternals.get(p.id);return!y&&!x?[null,null,y]:[y?p:SL(x),x,y]},[]),m=v.useCallback((p,y=!0,x)=>{const[b,j,w]=h(p);return b?(x||t.getState().getNodes()).filter(S=>{if(!w&&(S.id===j.id||!S.positionAbsolute))return!1;const N=SL(S),C=zC(N,b);return y&&C>0||C>=b.width*b.height}):[]},[]),g=v.useCallback((p,y,x=!0)=>{const[b]=h(p);if(!b)return!1;const j=zC(b,y);return x&&j>0||j>=b.width*b.height},[]);return v.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:s,getEdge:a,setNodes:o,setEdges:l,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:m,isNodeIntersecting:g}),[e,n,r,s,a,o,l,c,u,d,f,m,g])}const m7e={actInsideInputWithModifier:!1};var p7e=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Cn(),{deleteElements:r}=x2(),s=Ep(e,m7e),a=Ep(t);v.useEffect(()=>{if(s){const{edges:o,getNodes:l}=n.getState(),c=l().filter(d=>d.selected),u=o.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[s]),v.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function g7e(e){const t=Cn();v.useEffect(()=>{let n;const r=()=>{var a,o;if(!e.current)return;const s=d2(e.current);(s.height===0||s.width===0)&&((o=(a=t.getState()).onError)==null||o.call(a,"004",Ki.error004())),t.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const w2={position:"absolute",width:"100%",height:"100%",top:0,left:0},v7e=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Nv=e=>({x:e.x,y:e.y,zoom:e.k}),Zc=(e,t)=>e.target.closest(`.${t}`),IL=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),DL=e=>{const t=e.ctrlKey&&u0()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},y7e=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),x7e=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:a=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=Hl.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:h,translateExtent:m,minZoom:g,maxZoom:p,zoomActivationKeyCode:y,preventScrolling:x=!0,children:b,noWheelClassName:j,noPanClassName:w})=>{const S=v.useRef(),N=Cn(),C=v.useRef(!1),_=v.useRef(!1),k=v.useRef(null),A=v.useRef({x:0,y:0,zoom:0}),{d3Zoom:T,d3Selection:D,d3ZoomHandler:F,userSelectionActive:E}=It(y7e,Ln),$=Ep(y),O=v.useRef(0),R=v.useRef(!1),I=v.useRef();return g7e(k),v.useEffect(()=>{if(k.current){const M=k.current.getBoundingClientRect(),L=kK().scaleExtent([g,p]).translateExtent(m),z=Rs(k.current).call(L),W=Oi.translate(h.x,h.y).scale(Ld(h.zoom,g,p)),q=[[0,0],[M.width,M.height]],V=L.constrain()(W,q,m);L.transform(z,V),L.wheelDelta(DL),N.setState({d3Zoom:L,d3Selection:z,d3ZoomHandler:z.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:k.current.closest(".react-flow")})}},[]),v.useEffect(()=>{D&&T&&(o&&!$&&!E?D.on("wheel.zoom",M=>{if(Zc(M,j))return!1;M.preventDefault(),M.stopImmediatePropagation();const L=D.property("__zoom").k||1;if(M.ctrlKey&&a){const ee=ua(M),Z=DL(M),ae=L*Math.pow(2,Z);T.scaleTo(D,ae,ee,M);return}const z=M.deltaMode===1?20:1;let W=c===Hl.Vertical?0:M.deltaX*z,q=c===Hl.Horizontal?0:M.deltaY*z;!u0()&&M.shiftKey&&c!==Hl.Vertical&&(W=M.deltaY*z,q=0),T.translateBy(D,-(W/L)*l,-(q/L)*l,{internal:!0});const V=Nv(D.property("__zoom")),{onViewportChangeStart:te,onViewportChange:ne,onViewportChangeEnd:X}=N.getState();clearTimeout(I.current),R.current||(R.current=!0,t==null||t(M,V),te==null||te(V)),R.current&&(e==null||e(M,V),ne==null||ne(V),I.current=setTimeout(()=>{n==null||n(M,V),X==null||X(V),R.current=!1},150))},{passive:!1}):typeof F<"u"&&D.on("wheel.zoom",function(M,L){if(!x&&M.type==="wheel"&&!M.ctrlKey||Zc(M,j))return null;M.preventDefault(),F.call(this,M,L)},{passive:!1}))},[E,o,c,D,T,F,$,a,x,j,t,e,n]),v.useEffect(()=>{T&&T.on("start",M=>{var W,q;if(!M.sourceEvent||M.sourceEvent.internal)return null;O.current=(W=M.sourceEvent)==null?void 0:W.button;const{onViewportChangeStart:L}=N.getState(),z=Nv(M.transform);C.current=!0,A.current=z,((q=M.sourceEvent)==null?void 0:q.type)==="mousedown"&&N.setState({paneDragging:!0}),L==null||L(z),t==null||t(M.sourceEvent,z)})},[T,t]),v.useEffect(()=>{T&&(E&&!C.current?T.on("zoom",null):E||T.on("zoom",M=>{var z;const{onViewportChange:L}=N.getState();if(N.setState({transform:[M.transform.x,M.transform.y,M.transform.k]}),_.current=!!(r&&IL(f,O.current??0)),(e||L)&&!((z=M.sourceEvent)!=null&&z.internal)){const W=Nv(M.transform);L==null||L(W),e==null||e(M.sourceEvent,W)}}))},[E,T,e,f,r]),v.useEffect(()=>{T&&T.on("end",M=>{if(!M.sourceEvent||M.sourceEvent.internal)return null;const{onViewportChangeEnd:L}=N.getState();if(C.current=!1,N.setState({paneDragging:!1}),r&&IL(f,O.current??0)&&!_.current&&r(M.sourceEvent),_.current=!1,(n||L)&&v7e(A.current,M.transform)){const z=Nv(M.transform);A.current=z,clearTimeout(S.current),S.current=setTimeout(()=>{L==null||L(z),n==null||n(M.sourceEvent,z)},o?150:0)}})},[T,o,f,n,r]),v.useEffect(()=>{T&&T.filter(M=>{const L=$||s,z=a&&M.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&M.button===1&&M.type==="mousedown"&&(Zc(M,"react-flow__node")||Zc(M,"react-flow__edge")))return!0;if(!f&&!L&&!o&&!u&&!a||E||!u&&M.type==="dblclick"||Zc(M,j)&&M.type==="wheel"||Zc(M,w)&&(M.type!=="wheel"||o&&M.type==="wheel"&&!$)||!a&&M.ctrlKey&&M.type==="wheel"||!L&&!o&&!z&&M.type==="wheel"||!f&&(M.type==="mousedown"||M.type==="touchstart")||Array.isArray(f)&&!f.includes(M.button)&&M.type==="mousedown")return!1;const W=Array.isArray(f)&&f.includes(M.button)||!M.button||M.button<=1;return(!M.ctrlKey||M.type==="wheel")&&W})},[E,T,s,a,o,u,f,d,$]),P.createElement("div",{className:"react-flow__renderer",ref:k,style:w2},b)},w7e=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function b7e(){const{userSelectionActive:e,userSelectionRect:t}=It(w7e,Ln);return e&&t?P.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function ML(e,t){const n=t.parentNode||t.parentId,r=e.find(s=>s.id===n);if(r){const s=t.position.x+t.width-r.width,a=t.position.y+t.height-r.height;if(s>0||a>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),a>0&&(r.style.height+=a),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function iY(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,s)=>{const a=e.filter(l=>l.id===s.id);if(a.length===0)return r.push(s),r;const o={...s};for(const l of a)if(l)switch(l.type){case"select":{o.selected=l.selected;break}case"position":{typeof l.position<"u"&&(o.position=l.position),typeof l.positionAbsolute<"u"&&(o.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&ML(r,o);break}case"dimensions":{typeof l.dimensions<"u"&&(o.width=l.dimensions.width,o.height=l.dimensions.height),typeof l.updateStyle<"u"&&(o.style={...o.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(o.resizing=l.resizing),o.expandParent&&ML(r,o);break}case"remove":return r}return r.push(o),r},n)}function oY(e,t){return iY(e,t)}function j7e(e,t){return iY(e,t)}const yo=(e,t)=>({id:e,type:"select",selected:t});function Cu(e,t){return e.reduce((n,r)=>{const s=t.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(yo(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(yo(r.id,!1))),n},[])}const eS=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},S7e=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),lY=v.memo(({isSelecting:e,selectionMode:t=Cp.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:o,onPaneScroll:l,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const h=v.useRef(null),m=Cn(),g=v.useRef(0),p=v.useRef(0),y=v.useRef(),{userSelectionActive:x,elementsSelectable:b,dragging:j}=It(S7e,Ln),w=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,p.current=0},S=F=>{a==null||a(F),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},N=F=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){F.preventDefault();return}o==null||o(F)},C=l?F=>l(F):void 0,_=F=>{const{resetSelectedElements:E,domNode:$}=m.getState();if(y.current=$==null?void 0:$.getBoundingClientRect(),!b||!e||F.button!==0||F.target!==h.current||!y.current)return;const{x:O,y:R}=Vo(F,y.current);E(),m.setState({userSelectionRect:{width:0,height:0,startX:O,startY:R,x:O,y:R}}),r==null||r(F)},k=F=>{const{userSelectionRect:E,nodeInternals:$,edges:O,transform:R,onNodesChange:I,onEdgesChange:M,nodeOrigin:L,getNodes:z}=m.getState();if(!e||!y.current||!E)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const W=Vo(F,y.current),q=E.startX??0,V=E.startY??0,te={...E,x:W.x<q?W.x:q,y:W.y<V?W.y:V,width:Math.abs(W.x-q),height:Math.abs(W.y-V)},ne=z(),X=WK($,te,R,t===Cp.Partial,!0,L),ee=VK(X,O).map(ae=>ae.id),Z=X.map(ae=>ae.id);if(g.current!==Z.length){g.current=Z.length;const ae=Cu(ne,Z);ae.length&&(I==null||I(ae))}if(p.current!==ee.length){p.current=ee.length;const ae=Cu(O,ee);ae.length&&(M==null||M(ae))}m.setState({userSelectionRect:te})},A=F=>{if(F.button!==0)return;const{userSelectionRect:E}=m.getState();!x&&E&&F.target===h.current&&(S==null||S(F)),m.setState({nodesSelectionActive:g.current>0}),w(),s==null||s(F)},T=F=>{x&&(m.setState({nodesSelectionActive:g.current>0}),s==null||s(F)),w()},D=b&&(e||x);return P.createElement("div",{className:er(["react-flow__pane",{dragging:j,selection:e}]),onClick:D?void 0:eS(S,h),onContextMenu:eS(N,h),onWheel:eS(C,h),onMouseEnter:D?void 0:c,onMouseDown:D?_:void 0,onMouseMove:D?k:u,onMouseUp:D?A:void 0,onMouseLeave:D?T:d,ref:h,style:w2},f,P.createElement(b7e,null))});lY.displayName="Pane";function cY(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:cY(r,t):!1}function RL(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function N7e(e,t,n,r){return Array.from(e.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!cY(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var a,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((a=s.positionAbsolute)==null?void 0:a.x)??0),y:n.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function _7e(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function uY(e,t,n,r,s=[0,0],a){const o=_7e(e,e.extent||r);let l=o;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=n.get(c),{x:h,y:m}=ec(f,s).positionAbsolute;l=f&&zs(h)&&zs(m)&&zs(f.width)&&zs(f.height)?[[h+e.width*s[0],m+e.height*s[1]],[h+f.width-e.width+e.width*s[0],m+f.height-e.height+e.height*s[1]]]:l}else a==null||a("005",Ki.error005()),l=o;else if(e.extent&&c&&e.extent!=="parent"){const f=n.get(c),{x:h,y:m}=ec(f,s).positionAbsolute;l=[[e.extent[0][0]+h,e.extent[0][1]+m],[e.extent[1][0]+h,e.extent[1][1]+m]]}let u={x:0,y:0};if(c){const f=n.get(c);u=ec(f,s).positionAbsolute}const d=l&&l!=="parent"?f2(t,l):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function tS({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?r.find(s=>s.id===e):r[0],r]}const $L=(e,t,n,r)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const a=Array.from(s),o=t.getBoundingClientRect(),l={x:o.width*r[0],y:o.height*r[1]};return a.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-o.left-l.x)/n,y:(u.top-o.top-l.y)/n,...d2(c)}})};function Yf(e,t,n){return n===void 0?n:r=>{const s=t().nodeInternals.get(e);s&&n(r,{...s})}}function GC({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:a,multiSelectionActive:o,nodeInternals:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",Ki.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(a({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function C7e(){const e=Cn();return v.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:a}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,c={x:(o-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:a?s[0]*Math.round(c.x/s[0]):c.x,ySnapped:a?s[1]*Math.round(c.y/s[1]):c.y,...c}},[])}function nS(e){return(t,n,r)=>e==null?void 0:e(t,r)}function dY({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:a,selectNodesOnDrag:o}){const l=Cn(),[c,u]=v.useState(!1),d=v.useRef([]),f=v.useRef({x:null,y:null}),h=v.useRef(0),m=v.useRef(null),g=v.useRef({x:0,y:0}),p=v.useRef(null),y=v.useRef(!1),x=v.useRef(!1),b=v.useRef(!1),j=C7e();return v.useEffect(()=>{if(e!=null&&e.current){const w=Rs(e.current),S=({x:_,y:k})=>{const{nodeInternals:A,onNodeDrag:T,onSelectionDrag:D,updateNodePositions:F,nodeExtent:E,snapGrid:$,snapToGrid:O,nodeOrigin:R,onError:I}=l.getState();f.current={x:_,y:k};let M=!1,L={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&E){const W=qb(d.current,R);L=_p(W)}if(d.current=d.current.map(W=>{const q={x:_-W.distance.x,y:k-W.distance.y};O&&(q.x=$[0]*Math.round(q.x/$[0]),q.y=$[1]*Math.round(q.y/$[1]));const V=[[E[0][0],E[0][1]],[E[1][0],E[1][1]]];d.current.length>1&&E&&!W.extent&&(V[0][0]=W.positionAbsolute.x-L.x+E[0][0],V[1][0]=W.positionAbsolute.x+(W.width??0)-L.x2+E[1][0],V[0][1]=W.positionAbsolute.y-L.y+E[0][1],V[1][1]=W.positionAbsolute.y+(W.height??0)-L.y2+E[1][1]);const te=uY(W,q,A,V,R,I);return M=M||W.position.x!==te.position.x||W.position.y!==te.position.y,W.position=te.position,W.positionAbsolute=te.positionAbsolute,W}),!M)return;F(d.current,!0,!0),u(!0);const z=s?T:nS(D);if(z&&p.current){const[W,q]=tS({nodeId:s,dragItems:d.current,nodeInternals:A});z(p.current,W,q)}},N=()=>{if(!m.current)return;const[_,k]=PK(g.current,m.current);if(_!==0||k!==0){const{transform:A,panBy:T}=l.getState();f.current.x=(f.current.x??0)-_/A[2],f.current.y=(f.current.y??0)-k/A[2],T({x:_,y:k})&&S(f.current)}h.current=requestAnimationFrame(N)},C=_=>{var R;const{nodeInternals:k,multiSelectionActive:A,nodesDraggable:T,unselectNodesAndEdges:D,onNodeDragStart:F,onSelectionDragStart:E}=l.getState();x.current=!0;const $=s?F:nS(E);(!o||!a)&&!A&&s&&((R=k.get(s))!=null&&R.selected||D()),s&&a&&o&&GC({id:s,store:l,nodeRef:e});const O=j(_);if(f.current=O,d.current=N7e(k,T,O,s),$&&d.current){const[I,M]=tS({nodeId:s,dragItems:d.current,nodeInternals:k});$(_.sourceEvent,I,M)}};if(t)w.on(".drag",null);else{const _=u9e().on("start",k=>{const{domNode:A,nodeDragThreshold:T}=l.getState();T===0&&C(k),b.current=!1;const D=j(k);f.current=D,m.current=(A==null?void 0:A.getBoundingClientRect())||null,g.current=Vo(k.sourceEvent,m.current)}).on("drag",k=>{var F,E;const A=j(k),{autoPanOnNodeDrag:T,nodeDragThreshold:D}=l.getState();if(k.sourceEvent.type==="touchmove"&&k.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!y.current&&x.current&&T&&(y.current=!0,N()),!x.current){const $=A.xSnapped-(((F=f==null?void 0:f.current)==null?void 0:F.x)??0),O=A.ySnapped-(((E=f==null?void 0:f.current)==null?void 0:E.y)??0);Math.sqrt($*$+O*O)>D&&C(k)}(f.current.x!==A.xSnapped||f.current.y!==A.ySnapped)&&d.current&&x.current&&(p.current=k.sourceEvent,g.current=Vo(k.sourceEvent,m.current),S(A))}}).on("end",k=>{if(!(!x.current||b.current)&&(u(!1),y.current=!1,x.current=!1,cancelAnimationFrame(h.current),d.current)){const{updateNodePositions:A,nodeInternals:T,onNodeDragStop:D,onSelectionDragStop:F}=l.getState(),E=s?D:nS(F);if(A(d.current,!1,!1),E){const[$,O]=tS({nodeId:s,dragItems:d.current,nodeInternals:T});E(k.sourceEvent,$,O)}}}).filter(k=>{const A=k.target;return!k.button&&(!n||!RL(A,`.${n}`,e))&&(!r||RL(A,r,e))});return w.call(_),()=>{w.on(".drag",null)}}}},[e,t,n,r,a,l,s,o,j]),c}function fY(){const e=Cn();return v.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:a,getNodes:o,snapToGrid:l,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=o().filter(b=>b.selected&&(b.draggable||d&&typeof b.draggable>"u")),h=l?c[0]:5,m=l?c[1]:5,g=n.isShiftPressed?4:1,p=n.x*h*g,y=n.y*m*g,x=f.map(b=>{if(b.positionAbsolute){const j={x:b.positionAbsolute.x+p,y:b.positionAbsolute.y+y};l&&(j.x=c[0]*Math.round(j.x/c[0]),j.y=c[1]*Math.round(j.y/c[1]));const{positionAbsolute:w,position:S}=uY(b,j,r,s,void 0,u);b.position=S,b.positionAbsolute=w}return b});a(x,!0,!1)},[])}const Gu={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Xf=e=>{const t=({id:n,type:r,data:s,xPos:a,yPos:o,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:m,onContextMenu:g,onDoubleClick:p,style:y,className:x,isDraggable:b,isSelectable:j,isConnectable:w,isFocusable:S,selectNodesOnDrag:N,sourcePosition:C,targetPosition:_,hidden:k,resizeObserver:A,dragHandle:T,zIndex:D,isParent:F,noDragClassName:E,noPanClassName:$,initialized:O,disableKeyboardA11y:R,ariaLabel:I,rfId:M,hasHandleBounds:L})=>{const z=Cn(),W=v.useRef(null),q=v.useRef(null),V=v.useRef(C),te=v.useRef(_),ne=v.useRef(r),X=j||b||d||f||h||m,ee=fY(),Z=Yf(n,z.getState,f),ae=Yf(n,z.getState,h),ce=Yf(n,z.getState,m),H=Yf(n,z.getState,g),je=Yf(n,z.getState,p),Ne=me=>{const{nodeDragThreshold:J}=z.getState();if(j&&(!N||!b||J>0)&&GC({id:n,store:z,nodeRef:W}),d){const _e=z.getState().nodeInternals.get(n);_e&&d(me,{..._e})}},Ae=me=>{if(!WC(me)&&!R)if(DK.includes(me.key)&&j){const J=me.key==="Escape";GC({id:n,store:z,unselect:J,nodeRef:W})}else b&&u&&Object.prototype.hasOwnProperty.call(Gu,me.key)&&(z.setState({ariaLiveMessage:`Moved selected node ${me.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~o}`}),ee({x:Gu[me.key].x,y:Gu[me.key].y,isShiftPressed:me.shiftKey}))};v.useEffect(()=>()=>{q.current&&(A==null||A.unobserve(q.current),q.current=null)},[]),v.useEffect(()=>{if(W.current&&!k){const me=W.current;(!O||!L||q.current!==me)&&(q.current&&(A==null||A.unobserve(q.current)),A==null||A.observe(me),q.current=me)}},[k,O,L]),v.useEffect(()=>{const me=ne.current!==r,J=V.current!==C,_e=te.current!==_;W.current&&(me||J||_e)&&(me&&(ne.current=r),J&&(V.current=C),_e&&(te.current=_),z.getState().updateNodeDimensions([{id:n,nodeElement:W.current,forceUpdate:!0}]))},[n,r,C,_]);const Q=dY({nodeRef:W,disabled:k||!b,noDragClassName:E,handleSelector:T,nodeId:n,isSelectable:j,selectNodesOnDrag:N});return k?null:P.createElement("div",{className:er(["react-flow__node",`react-flow__node-${r}`,{[$]:b},x,{selected:u,selectable:j,parent:F,dragging:Q}]),ref:W,style:{zIndex:D,transform:`translate(${l}px,${c}px)`,pointerEvents:X?"all":"none",visibility:O?"visible":"hidden",...y},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Z,onMouseMove:ae,onMouseLeave:ce,onContextMenu:H,onClick:Ne,onDoubleClick:je,onKeyDown:S?Ae:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":R?void 0:`${tY}-${M}`,"aria-label":I},P.createElement(zHe,{value:n},P.createElement(e,{id:n,data:s,type:r,xPos:a,yPos:o,selected:u,isConnectable:w,sourcePosition:C,targetPosition:_,dragging:Q,dragHandle:T,zIndex:D})))};return t.displayName="NodeWrapper",v.memo(t)};const E7e=e=>{const t=e.getNodes().filter(n=>n.selected);return{...qb(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function k7e({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Cn(),{width:s,height:a,x:o,y:l,transformString:c,userSelectionActive:u}=It(E7e,Ln),d=fY(),f=v.useRef(null);if(v.useEffect(()=>{var g;n||(g=f.current)==null||g.focus({preventScroll:!0})},[n]),dY({nodeRef:f}),u||!s||!a)return null;const h=e?g=>{const p=r.getState().getNodes().filter(y=>y.selected);e(g,p)}:void 0,m=g=>{Object.prototype.hasOwnProperty.call(Gu,g.key)&&d({x:Gu[g.key].x,y:Gu[g.key].y,isShiftPressed:g.shiftKey})};return P.createElement("div",{className:er(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},P.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:s,height:a,top:l,left:o}}))}var A7e=v.memo(k7e);const P7e=e=>e.nodesSelectionActive,hY=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:o,deleteKeyCode:l,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:m,onSelectionStart:g,onSelectionEnd:p,multiSelectionKeyCode:y,panActivationKeyCode:x,zoomActivationKeyCode:b,elementsSelectable:j,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:N,panOnScrollSpeed:C,panOnScrollMode:_,zoomOnDoubleClick:k,panOnDrag:A,defaultViewport:T,translateExtent:D,minZoom:F,maxZoom:E,preventScrolling:$,onSelectionContextMenu:O,noWheelClassName:R,noPanClassName:I,disableKeyboardA11y:M})=>{const L=It(P7e),z=Ep(f),W=Ep(x),q=W||A,V=W||N,te=z||h&&q!==!0;return p7e({deleteKeyCode:l,multiSelectionKeyCode:y}),P.createElement(x7e,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:a,elementsSelectable:j,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:V,panOnScrollSpeed:C,panOnScrollMode:_,zoomOnDoubleClick:k,panOnDrag:!z&&q,defaultViewport:T,translateExtent:D,minZoom:F,maxZoom:E,zoomActivationKeyCode:b,preventScrolling:$,noWheelClassName:R,noPanClassName:I},P.createElement(lY,{onSelectionStart:g,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:o,panOnDrag:q,isSelecting:!!te,selectionMode:m},e,L&&P.createElement(A7e,{onSelectionContextMenu:O,noPanClassName:I,disableKeyboardA11y:M})))};hY.displayName="FlowRenderer";var T7e=v.memo(hY);function O7e(e){return It(v.useCallback(n=>e?WK(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function I7e(e){const t={input:Xf(e.input||JK),default:Xf(e.default||HC),output:Xf(e.output||ZK),group:Xf(e.group||y2)},n={},r=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,a)=>(s[a]=Xf(e[a]||HC),s),n);return{...t,...r}}const D7e=({x:e,y:t,width:n,height:r,origin:s})=>!n||!r?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-n*s[0],y:t-r*s[1]},M7e=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),mY=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:a,onError:o}=It(M7e,Ln),l=O7e(e.onlyRenderVisibleElements),c=v.useRef(),u=v.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const h=f.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));a(h)});return c.current=d,d},[]);return v.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),P.createElement("div",{className:"react-flow__nodes",style:w2},l.map(d=>{var S,N,C;let f=d.type||"default";e.nodeTypes[f]||(o==null||o("003",Ki.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,m=!!(d.draggable||t&&typeof d.draggable>"u"),g=!!(d.selectable||s&&typeof d.selectable>"u"),p=!!(d.connectable||n&&typeof d.connectable>"u"),y=!!(d.focusable||r&&typeof d.focusable>"u"),x=e.nodeExtent?f2(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,b=(x==null?void 0:x.x)??0,j=(x==null?void 0:x.y)??0,w=D7e({x:b,y:j,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return P.createElement(h,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||Ce.Bottom,targetPosition:d.targetPosition||Ce.Top,hidden:d.hidden,xPos:b,yPos:j,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:m,isSelectable:g,isConnectable:p,isFocusable:y,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((S=d[Zt])==null?void 0:S.z)??0,isParent:!!((N=d[Zt])!=null&&N.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((C=d[Zt])!=null&&C.handleBounds)})}))};mY.displayName="NodeRenderer";var R7e=v.memo(mY);const $7e=(e,t,n)=>n===Ce.Left?e-t:n===Ce.Right?e+t:e,L7e=(e,t,n)=>n===Ce.Top?e-t:n===Ce.Bottom?e+t:e,LL="react-flow__edgeupdater",FL=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:a,onMouseOut:o,type:l})=>P.createElement("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:o,className:er([LL,`${LL}-${l}`]),cx:$7e(t,r,e),cy:L7e(n,r,e),r,stroke:"transparent",fill:"transparent"}),F7e=()=>!0;var eu=e=>{const t=({id:n,className:r,type:s,data:a,onClick:o,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:p,style:y,source:x,target:b,sourceX:j,sourceY:w,targetX:S,targetY:N,sourcePosition:C,targetPosition:_,elementsSelectable:k,hidden:A,sourceHandleId:T,targetHandleId:D,onContextMenu:F,onMouseEnter:E,onMouseMove:$,onMouseLeave:O,reconnectRadius:R,onReconnect:I,onReconnectStart:M,onReconnectEnd:L,markerEnd:z,markerStart:W,rfId:q,ariaLabel:V,isFocusable:te,isReconnectable:ne,pathOptions:X,interactionWidth:ee,disableKeyboardA11y:Z})=>{const ae=v.useRef(null),[ce,H]=v.useState(!1),[je,Ne]=v.useState(!1),Ae=Cn(),Q=v.useMemo(()=>`url('#${UC(W,q)}')`,[W,q]),me=v.useMemo(()=>`url('#${UC(z,q)}')`,[z,q]);if(A)return null;const J=rn=>{var Vn;const{edges:rr,addSelectedEdges:Re,unselectNodesAndEdges:lt,multiSelectionActive:pt}=Ae.getState(),zt=rr.find(de=>de.id===n);zt&&(k&&(Ae.setState({nodesSelectionActive:!1}),zt.selected&&pt?(lt({nodes:[],edges:[zt]}),(Vn=ae.current)==null||Vn.blur()):Re([n])),o&&o(rn,zt))},_e=Kf(n,Ae.getState,l),rt=Kf(n,Ae.getState,F),_t=Kf(n,Ae.getState,E),Wn=Kf(n,Ae.getState,$),gn=Kf(n,Ae.getState,O),tr=(rn,rr)=>{if(rn.button!==0)return;const{edges:Re,isValidConnection:lt}=Ae.getState(),pt=rr?b:x,zt=(rr?D:T)||null,Vn=rr?"target":"source",de=lt||F7e,gt=rr,st=Re.find(_s=>_s.id===n);Ne(!0),M==null||M(rn,st,Vn);const Ir=_s=>{Ne(!1),L==null||L(_s,st,Vn)};GK({event:rn,handleId:zt,nodeId:pt,onConnect:_s=>I==null?void 0:I(st,_s),isTarget:gt,getState:Ae.getState,setState:Ae.setState,isValidConnection:de,edgeUpdaterType:Vn,onReconnectEnd:Ir})},Qs=rn=>tr(rn,!0),Xr=rn=>tr(rn,!1),nr=()=>H(!0),Zs=()=>H(!1),gr=!k&&!o,Ia=rn=>{var rr;if(!Z&&DK.includes(rn.key)&&k){const{unselectNodesAndEdges:Re,addSelectedEdges:lt,edges:pt}=Ae.getState();rn.key==="Escape"?((rr=ae.current)==null||rr.blur(),Re({edges:[pt.find(Vn=>Vn.id===n)]})):lt([n])}};return P.createElement("g",{className:er(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:c,animated:u,inactive:gr,updating:ce}]),onClick:J,onDoubleClick:_e,onContextMenu:rt,onMouseEnter:_t,onMouseMove:Wn,onMouseLeave:gn,onKeyDown:te?Ia:void 0,tabIndex:te?0:void 0,role:te?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${x} to ${b}`,"aria-describedby":te?`${nY}-${q}`:void 0,ref:ae},!je&&P.createElement(e,{id:n,source:x,target:b,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:p,data:a,style:y,sourceX:j,sourceY:w,targetX:S,targetY:N,sourcePosition:C,targetPosition:_,sourceHandleId:T,targetHandleId:D,markerStart:Q,markerEnd:me,pathOptions:X,interactionWidth:ee}),ne&&P.createElement(P.Fragment,null,(ne==="source"||ne===!0)&&P.createElement(FL,{position:C,centerX:j,centerY:w,radius:R,onMouseDown:Qs,onMouseEnter:nr,onMouseOut:Zs,type:"source"}),(ne==="target"||ne===!0)&&P.createElement(FL,{position:_,centerX:S,centerY:N,radius:R,onMouseDown:Xr,onMouseEnter:nr,onMouseOut:Zs,type:"target"})))};return t.displayName="EdgeWrapper",v.memo(t)};function B7e(e){const t={default:eu(e.default||f0),straight:eu(e.bezier||p2),step:eu(e.step||m2),smoothstep:eu(e.step||Ub),simplebezier:eu(e.simplebezier||h2)},n={},r=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,a)=>(s[a]=eu(e[a]||f0),s),n);return{...t,...r}}function BL(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,s=((n==null?void 0:n.y)||0)+t.y,a=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case Ce.Top:return{x:r+a/2,y:s};case Ce.Right:return{x:r+a,y:s+o/2};case Ce.Bottom:return{x:r+a/2,y:s+o};case Ce.Left:return{x:r,y:s+o/2}}}function zL(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const z7e=(e,t,n,r,s,a)=>{const o=BL(n,e,t),l=BL(a,r,s);return{sourceX:o.x,sourceY:o.y,targetX:l.x,targetY:l.y}};function W7e({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:a,width:o,height:l,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+r,t.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=_p({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:o/c[2],height:l/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*h)>0}function WL(e){var r,s,a,o,l;const t=((r=e==null?void 0:e[Zt])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const V7e=[{level:0,isMaxLevel:!0,edges:[]}];function U7e(e,t,n=!1){let r=-1;const s=e.reduce((o,l)=>{var d,f;const c=zs(l.zIndex);let u=c?l.zIndex:0;if(n){const h=t.get(l.target),m=t.get(l.source),g=l.selected||(h==null?void 0:h.selected)||(m==null?void 0:m.selected),p=Math.max(((d=m==null?void 0:m[Zt])==null?void 0:d.z)||0,((f=h==null?void 0:h[Zt])==null?void 0:f.z)||0,1e3);u=(c?l.zIndex:0)+(g?p:0)}return o[u]?o[u].push(l):o[u]=[l],r=u>r?u:r,o},{}),a=Object.entries(s).map(([o,l])=>{const c=+o;return{edges:l,level:c,isMaxLevel:c===r}});return a.length===0?V7e:a}function q7e(e,t,n){const r=It(v.useCallback(s=>e?s.edges.filter(a=>{const o=t.get(a.source),l=t.get(a.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&W7e({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:l.width,targetHeight:l.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return U7e(r,t,n)}const H7e=({color:e="none",strokeWidth:t=1})=>P.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),G7e=({color:e="none",strokeWidth:t=1})=>P.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),VL={[d0.Arrow]:H7e,[d0.ArrowClosed]:G7e};function K7e(e){const t=Cn();return v.useMemo(()=>{var s,a;return Object.prototype.hasOwnProperty.call(VL,e)?VL[e]:((a=(s=t.getState()).onError)==null||a.call(s,"009",Ki.error009(e)),null)},[e])}const Y7e=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:a="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=K7e(t);return c?P.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0"},P.createElement(c,{color:n,strokeWidth:o})):null},X7e=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((s,a)=>([a.markerStart,a.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const l=UC(o,t);r.includes(l)||(s.push({id:l,color:o.color||e,...o}),r.push(l))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))},pY=({defaultColor:e,rfId:t})=>{const n=It(v.useCallback(X7e({defaultColor:e,rfId:t}),[e,t]),(r,s)=>!(r.length!==s.length||r.some((a,o)=>a.id!==s[o].id)));return P.createElement("defs",null,n.map(r=>P.createElement(Y7e,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};pY.displayName="MarkerDefinitions";var J7e=v.memo(pY);const Q7e=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),gY=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:a,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:m,onReconnectEnd:g,reconnectRadius:p,children:y,disableKeyboardA11y:x})=>{const{edgesFocusable:b,edgesUpdatable:j,elementsSelectable:w,width:S,height:N,connectionMode:C,nodeInternals:_,onError:k}=It(Q7e,Ln),A=q7e(t,_,n);return S?P.createElement(P.Fragment,null,A.map(({level:T,edges:D,isMaxLevel:F})=>P.createElement("svg",{key:T,style:{zIndex:T},width:S,height:N,className:"react-flow__edges react-flow__container"},F&&P.createElement(J7e,{defaultColor:e,rfId:r}),P.createElement("g",null,D.map(E=>{const[$,O,R]=WL(_.get(E.source)),[I,M,L]=WL(_.get(E.target));if(!R||!L)return null;let z=E.type||"default";s[z]||(k==null||k("011",Ki.error011(z)),z="default");const W=s[z]||s.default,q=C===jc.Strict?M.target:(M.target??[]).concat(M.source??[]),V=zL(O.source,E.sourceHandle),te=zL(q,E.targetHandle),ne=(V==null?void 0:V.position)||Ce.Bottom,X=(te==null?void 0:te.position)||Ce.Top,ee=!!(E.focusable||b&&typeof E.focusable>"u"),Z=E.reconnectable||E.updatable,ae=typeof h<"u"&&(Z||j&&typeof Z>"u");if(!V||!te)return k==null||k("008",Ki.error008(V,E)),null;const{sourceX:ce,sourceY:H,targetX:je,targetY:Ne}=z7e($,V,ne,I,te,X);return P.createElement(W,{key:E.id,id:E.id,className:er([E.className,a]),type:z,data:E.data,selected:!!E.selected,animated:!!E.animated,hidden:!!E.hidden,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,style:E.style,source:E.source,target:E.target,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerEnd:E.markerEnd,markerStart:E.markerStart,sourceX:ce,sourceY:H,targetX:je,targetY:Ne,sourcePosition:ne,targetPosition:X,elementsSelectable:w,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:m,onReconnectEnd:g,reconnectRadius:p,rfId:r,ariaLabel:E.ariaLabel,isFocusable:ee,isReconnectable:ae,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth,disableKeyboardA11y:x})})))),y):null};gY.displayName="EdgeRenderer";var Z7e=v.memo(gY);const eGe=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function tGe({children:e}){const t=It(eGe);return P.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function nGe(e){const t=x2(),n=v.useRef(!1);v.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const rGe={[Ce.Left]:Ce.Right,[Ce.Right]:Ce.Left,[Ce.Top]:Ce.Bottom,[Ce.Bottom]:Ce.Top},vY=({nodeId:e,handleType:t,style:n,type:r=So.Bezier,CustomComponent:s,connectionStatus:a})=>{var N,C,_;const{fromNode:o,handleId:l,toX:c,toY:u,connectionMode:d}=It(v.useCallback(k=>({fromNode:k.nodeInternals.get(e),handleId:k.connectionHandleId,toX:(k.connectionPosition.x-k.transform[0])/k.transform[2],toY:(k.connectionPosition.y-k.transform[1])/k.transform[2],connectionMode:k.connectionMode}),[e]),Ln),f=(N=o==null?void 0:o[Zt])==null?void 0:N.handleBounds;let h=f==null?void 0:f[t];if(d===jc.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!o||!h)return null;const m=l?h.find(k=>k.id===l):h[0],g=m?m.x+m.width/2:(o.width??0)/2,p=m?m.y+m.height/2:o.height??0,y=(((C=o.positionAbsolute)==null?void 0:C.x)??0)+g,x=(((_=o.positionAbsolute)==null?void 0:_.y)??0)+p,b=m==null?void 0:m.position,j=b?rGe[b]:null;if(!b||!j)return null;if(s)return P.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:m,fromX:y,fromY:x,toX:c,toY:u,fromPosition:b,toPosition:j,connectionStatus:a});let w="";const S={sourceX:y,sourceY:x,sourcePosition:b,targetX:c,targetY:u,targetPosition:j};return r===So.Bezier?[w]=FK(S):r===So.Step?[w]=VC({...S,borderRadius:0}):r===So.SmoothStep?[w]=VC(S):r===So.SimpleBezier?[w]=LK(S):w=`M${y},${x} ${c},${u}`,P.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};vY.displayName="ConnectionLine";const sGe=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function aGe({containerStyle:e,style:t,type:n,component:r}){const{nodeId:s,handleType:a,nodesConnectable:o,width:l,height:c,connectionStatus:u}=It(sGe,Ln);return!(s&&a&&l&&o)?null:P.createElement("svg",{style:e,width:l,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},P.createElement("g",{className:er(["react-flow__connection",u])},P.createElement(vY,{nodeId:s,handleType:a,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function UL(e,t){return v.useRef(null),Cn(),v.useMemo(()=>t(e),[e])}const yY=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:a,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:m,onSelectionContextMenu:g,onSelectionStart:p,onSelectionEnd:y,connectionLineType:x,connectionLineStyle:b,connectionLineComponent:j,connectionLineContainerStyle:w,selectionKeyCode:S,selectionOnDrag:N,selectionMode:C,multiSelectionKeyCode:_,panActivationKeyCode:k,zoomActivationKeyCode:A,deleteKeyCode:T,onlyRenderVisibleElements:D,elementsSelectable:F,selectNodesOnDrag:E,defaultViewport:$,translateExtent:O,minZoom:R,maxZoom:I,preventScrolling:M,defaultMarkerColor:L,zoomOnScroll:z,zoomOnPinch:W,panOnScroll:q,panOnScrollSpeed:V,panOnScrollMode:te,zoomOnDoubleClick:ne,panOnDrag:X,onPaneClick:ee,onPaneMouseEnter:Z,onPaneMouseMove:ae,onPaneMouseLeave:ce,onPaneScroll:H,onPaneContextMenu:je,onEdgeContextMenu:Ne,onEdgeMouseEnter:Ae,onEdgeMouseMove:Q,onEdgeMouseLeave:me,onReconnect:J,onReconnectStart:_e,onReconnectEnd:rt,reconnectRadius:_t,noDragClassName:Wn,noWheelClassName:gn,noPanClassName:tr,elevateEdgesOnSelect:Qs,disableKeyboardA11y:Xr,nodeOrigin:nr,nodeExtent:Zs,rfId:gr})=>{const Ia=UL(e,I7e),rn=UL(t,B7e);return nGe(a),P.createElement(T7e,{onPaneClick:ee,onPaneMouseEnter:Z,onPaneMouseMove:ae,onPaneMouseLeave:ce,onPaneContextMenu:je,onPaneScroll:H,deleteKeyCode:T,selectionKeyCode:S,selectionOnDrag:N,selectionMode:C,onSelectionStart:p,onSelectionEnd:y,multiSelectionKeyCode:_,panActivationKeyCode:k,zoomActivationKeyCode:A,elementsSelectable:F,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:z,zoomOnPinch:W,zoomOnDoubleClick:ne,panOnScroll:q,panOnScrollSpeed:V,panOnScrollMode:te,panOnDrag:X,defaultViewport:$,translateExtent:O,minZoom:R,maxZoom:I,onSelectionContextMenu:g,preventScrolling:M,noDragClassName:Wn,noWheelClassName:gn,noPanClassName:tr,disableKeyboardA11y:Xr},P.createElement(tGe,null,P.createElement(Z7e,{edgeTypes:rn,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:D,onEdgeContextMenu:Ne,onEdgeMouseEnter:Ae,onEdgeMouseMove:Q,onEdgeMouseLeave:me,onReconnect:J,onReconnectStart:_e,onReconnectEnd:rt,reconnectRadius:_t,defaultMarkerColor:L,noPanClassName:tr,elevateEdgesOnSelect:!!Qs,disableKeyboardA11y:Xr,rfId:gr},P.createElement(aGe,{style:b,type:x,component:j,containerStyle:w})),P.createElement("div",{className:"react-flow__edgelabel-renderer"}),P.createElement(R7e,{nodeTypes:Ia,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:m,selectNodesOnDrag:E,onlyRenderVisibleElements:D,noPanClassName:tr,noDragClassName:Wn,disableKeyboardA11y:Xr,nodeOrigin:nr,nodeExtent:Zs,rfId:gr})))};yY.displayName="GraphView";var iGe=v.memo(yY);const KC=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],oo={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:KC,nodeExtent:KC,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:jc.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:MHe,isValidConnection:void 0},oGe=()=>jUe((e,t)=>({...oo,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:a}=t();e({nodeInternals:Z1(n,r,s,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",a=typeof r<"u",o=s?Z1(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:a?r:[],hasDefaultNodes:s,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:a,fitViewOnInitDone:o,fitViewOnInitOptions:l,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(f.transform),m=n.reduce((p,y)=>{const x=s.get(y.id);if(x!=null&&x.hidden)s.set(x.id,{...x,[Zt]:{...x[Zt],handleBounds:void 0}});else if(x){const b=d2(y.nodeElement);!!(b.width&&b.height&&(x.width!==b.width||x.height!==b.height||y.forceUpdate))&&(s.set(x.id,{...x,[Zt]:{...x[Zt],handleBounds:{source:$L(".source",y.nodeElement,h,u),target:$L(".target",y.nodeElement,h,u)}},...b}),p.push({id:x.id,type:"dimensions",dimensions:b}))}return p},[]);sY(s,u);const g=o||a&&!o&&aY(t,{initial:!0,...l});e({nodeInternals:new Map(s),fitViewOnInitDone:g}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:a}=t(),o=n.map(l=>{const c={id:l.id,type:"position",dragging:s};return r&&(c.positionAbsolute=l.positionAbsolute,c.position=l.position),c});a(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:a,nodeOrigin:o,getNodes:l,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(a){const u=oY(n,l()),d=Z1(u,s,o,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=t();let o,l=null;r?o=n.map(c=>yo(c,!0)):(o=Cu(a(),n),l=Cu(s,[])),Sv({changedNodes:o,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=t();let o,l=null;r?o=n.map(c=>yo(c,!0)):(o=Cu(s,n),l=Cu(a(),[])),Sv({changedNodes:l,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:a}=t(),o=n||a(),l=r||s,c=o.map(d=>(d.selected=!1,yo(d.id,!1))),u=l.map(d=>yo(d.id,!1));Sv({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=t();r==null||r.scaleExtent([n,s]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=t();r==null||r.scaleExtent([s,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),a=r().filter(l=>l.selected).map(l=>yo(l.id,!1)),o=n.filter(l=>l.selected).map(l=>yo(l.id,!1));Sv({changedNodes:a,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(s=>{s.positionAbsolute=f2(s.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:a,d3Zoom:o,d3Selection:l,translateExtent:c}=t();if(!o||!l||!n.x&&!n.y)return!1;const u=Oi.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,a]],f=o==null?void 0:o.constrain()(u,d,c);return o.transform(l,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:oo.connectionNodeId,connectionHandleId:oo.connectionHandleId,connectionHandleType:oo.connectionHandleType,connectionStatus:oo.connectionStatus,connectionStartHandle:oo.connectionStartHandle,connectionEndHandle:oo.connectionEndHandle}),reset:()=>e({...oo})}),Object.is),xY=({children:e})=>{const t=v.useRef(null);return t.current||(t.current=oGe()),P.createElement(kHe,{value:t.current},e)};xY.displayName="ReactFlowProvider";const wY=({children:e})=>v.useContext(Wb)?P.createElement(P.Fragment,null,e):P.createElement(xY,null,e);wY.displayName="ReactFlowWrapper";const lGe={input:JK,default:HC,output:ZK,group:y2},cGe={default:f0,straight:p2,step:m2,smoothstep:Ub,simplebezier:h2},uGe=[0,0],dGe=[15,15],fGe={x:0,y:0,zoom:1},hGe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},bY=v.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:a=lGe,edgeTypes:o=cGe,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:m,onConnectStart:g,onConnectEnd:p,onClickConnectStart:y,onClickConnectEnd:x,onNodeMouseEnter:b,onNodeMouseMove:j,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:N,onNodeDragStart:C,onNodeDrag:_,onNodeDragStop:k,onNodesDelete:A,onEdgesDelete:T,onSelectionChange:D,onSelectionDragStart:F,onSelectionDrag:E,onSelectionDragStop:$,onSelectionContextMenu:O,onSelectionStart:R,onSelectionEnd:I,connectionMode:M=jc.Strict,connectionLineType:L=So.Bezier,connectionLineStyle:z,connectionLineComponent:W,connectionLineContainerStyle:q,deleteKeyCode:V="Backspace",selectionKeyCode:te="Shift",selectionOnDrag:ne=!1,selectionMode:X=Cp.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:Z=u0()?"Meta":"Control",zoomActivationKeyCode:ae=u0()?"Meta":"Control",snapToGrid:ce=!1,snapGrid:H=dGe,onlyRenderVisibleElements:je=!1,selectNodesOnDrag:Ne=!0,nodesDraggable:Ae,nodesConnectable:Q,nodesFocusable:me,nodeOrigin:J=uGe,edgesFocusable:_e,edgesUpdatable:rt,elementsSelectable:_t,defaultViewport:Wn=fGe,minZoom:gn=.5,maxZoom:tr=2,translateExtent:Qs=KC,preventScrolling:Xr=!0,nodeExtent:nr,defaultMarkerColor:Zs="#b1b1b7",zoomOnScroll:gr=!0,zoomOnPinch:Ia=!0,panOnScroll:rn=!1,panOnScrollSpeed:rr=.5,panOnScrollMode:Re=Hl.Free,zoomOnDoubleClick:lt=!0,panOnDrag:pt=!0,onPaneClick:zt,onPaneMouseEnter:Vn,onPaneMouseMove:de,onPaneMouseLeave:gt,onPaneScroll:st,onPaneContextMenu:Ir,children:Jr,onEdgeContextMenu:_s,onEdgeDoubleClick:Hb,onEdgeMouseEnter:MY,onEdgeMouseMove:RY,onEdgeMouseLeave:$Y,onEdgeUpdate:LY,onEdgeUpdateStart:FY,onEdgeUpdateEnd:BY,onReconnect:zY,onReconnectStart:WY,onReconnectEnd:VY,reconnectRadius:UY=10,edgeUpdaterRadius:qY=10,onNodesChange:HY,onEdgesChange:GY,noDragClassName:KY="nodrag",noWheelClassName:YY="nowheel",noPanClassName:j2="nopan",fitView:XY=!1,fitViewOptions:JY,connectOnClick:QY=!0,attributionPosition:ZY,proOptions:eX,defaultEdgeOptions:tX,elevateNodesOnSelect:nX=!0,elevateEdgesOnSelect:rX=!1,disableKeyboardA11y:S2=!1,autoPanOnConnect:sX=!0,autoPanOnNodeDrag:aX=!0,connectionRadius:iX=20,isValidConnection:oX,onError:lX,style:cX,id:N2,nodeDragThreshold:uX,...dX},fX)=>{const Gb=N2||"1";return P.createElement("div",{...dX,style:{...cX,...hGe},ref:fX,className:er(["react-flow",s]),"data-testid":"rf__wrapper",id:N2},P.createElement(wY,null,P.createElement(iGe,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:b,onNodeMouseMove:j,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:N,nodeTypes:a,edgeTypes:o,connectionLineType:L,connectionLineStyle:z,connectionLineComponent:W,connectionLineContainerStyle:q,selectionKeyCode:te,selectionOnDrag:ne,selectionMode:X,deleteKeyCode:V,multiSelectionKeyCode:Z,panActivationKeyCode:ee,zoomActivationKeyCode:ae,onlyRenderVisibleElements:je,selectNodesOnDrag:Ne,defaultViewport:Wn,translateExtent:Qs,minZoom:gn,maxZoom:tr,preventScrolling:Xr,zoomOnScroll:gr,zoomOnPinch:Ia,zoomOnDoubleClick:lt,panOnScroll:rn,panOnScrollSpeed:rr,panOnScrollMode:Re,panOnDrag:pt,onPaneClick:zt,onPaneMouseEnter:Vn,onPaneMouseMove:de,onPaneMouseLeave:gt,onPaneScroll:st,onPaneContextMenu:Ir,onSelectionContextMenu:O,onSelectionStart:R,onSelectionEnd:I,onEdgeContextMenu:_s,onEdgeDoubleClick:Hb,onEdgeMouseEnter:MY,onEdgeMouseMove:RY,onEdgeMouseLeave:$Y,onReconnect:zY??LY,onReconnectStart:WY??FY,onReconnectEnd:VY??BY,reconnectRadius:UY??qY,defaultMarkerColor:Zs,noDragClassName:KY,noWheelClassName:YY,noPanClassName:j2,elevateEdgesOnSelect:rX,rfId:Gb,disableKeyboardA11y:S2,nodeOrigin:J,nodeExtent:nr}),P.createElement(r7e,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:g,onConnectEnd:p,onClickConnectStart:y,onClickConnectEnd:x,nodesDraggable:Ae,nodesConnectable:Q,nodesFocusable:me,edgesFocusable:_e,edgesUpdatable:rt,elementsSelectable:_t,elevateNodesOnSelect:nX,minZoom:gn,maxZoom:tr,nodeExtent:nr,onNodesChange:HY,onEdgesChange:GY,snapToGrid:ce,snapGrid:H,connectionMode:M,translateExtent:Qs,connectOnClick:QY,defaultEdgeOptions:tX,fitView:XY,fitViewOptions:JY,onNodesDelete:A,onEdgesDelete:T,onNodeDragStart:C,onNodeDrag:_,onNodeDragStop:k,onSelectionDrag:E,onSelectionDragStart:F,onSelectionDragStop:$,noPanClassName:j2,nodeOrigin:J,rfId:Gb,autoPanOnConnect:sX,autoPanOnNodeDrag:aX,onError:lX,connectionRadius:iX,isValidConnection:oX,nodeDragThreshold:uX}),P.createElement(t7e,{onSelectionChange:D}),Jr,P.createElement(PHe,{proOptions:eX,position:ZY}),P.createElement(l7e,{rfId:Gb,disableKeyboardA11y:S2})))});bY.displayName="ReactFlow";function jY(e){return t=>{const[n,r]=v.useState(t),s=v.useCallback(a=>r(o=>e(a,o)),[]);return[n,r,s]}}const mGe=jY(oY),pGe=jY(j7e),SY=({id:e,x:t,y:n,width:r,height:s,style:a,color:o,strokeColor:l,strokeWidth:c,className:u,borderRadius:d,shapeRendering:f,onClick:h,selected:m})=>{const{background:g,backgroundColor:p}=a||{},y=o||g||p;return P.createElement("rect",{className:er(["react-flow__minimap-node",{selected:m},u]),x:t,y:n,rx:d,ry:d,width:r,height:s,fill:y,stroke:l,strokeWidth:c,shapeRendering:f,onClick:h?x=>h(x,e):void 0})};SY.displayName="MiniMapNode";var gGe=v.memo(SY);const vGe=e=>e.nodeOrigin,yGe=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),rS=e=>e instanceof Function?e:()=>e;function xGe({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:a=gGe,onClick:o}){const l=It(yGe,Ln),c=It(vGe),u=rS(t),d=rS(e),f=rS(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return P.createElement(P.Fragment,null,l.map(m=>{const{x:g,y:p}=ec(m,c).positionAbsolute;return P.createElement(a,{key:m.id,x:g,y:p,width:m.width,height:m.height,style:m.style,selected:m.selected,className:f(m),color:u(m),borderRadius:r,strokeColor:d(m),strokeWidth:s,shapeRendering:h,onClick:o,id:m.id})}))}var wGe=v.memo(xGe);const bGe=200,jGe=150,SGe=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?IHe(qb(t,e.nodeOrigin),n):n,rfId:e.rfId}},NGe="react-flow__minimap-desc";function NY({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:a=5,nodeStrokeWidth:o=2,nodeComponent:l,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:f="bottom-right",onClick:h,onNodeClick:m,pannable:g=!1,zoomable:p=!1,ariaLabel:y="React Flow mini map",inversePan:x=!1,zoomStep:b=10,offsetScale:j=5}){const w=Cn(),S=v.useRef(null),{boundingRect:N,viewBB:C,rfId:_}=It(SGe,Ln),k=(e==null?void 0:e.width)??bGe,A=(e==null?void 0:e.height)??jGe,T=N.width/k,D=N.height/A,F=Math.max(T,D),E=F*k,$=F*A,O=j*F,R=N.x-(E-N.width)/2-O,I=N.y-($-N.height)/2-O,M=E+O*2,L=$+O*2,z=`${NGe}-${_}`,W=v.useRef(0);W.current=F,v.useEffect(()=>{if(S.current){const te=Rs(S.current),ne=Z=>{const{transform:ae,d3Selection:ce,d3Zoom:H}=w.getState();if(Z.sourceEvent.type!=="wheel"||!ce||!H)return;const je=-Z.sourceEvent.deltaY*(Z.sourceEvent.deltaMode===1?.05:Z.sourceEvent.deltaMode?1:.002)*b,Ne=ae[2]*Math.pow(2,je);H.scaleTo(ce,Ne)},X=Z=>{const{transform:ae,d3Selection:ce,d3Zoom:H,translateExtent:je,width:Ne,height:Ae}=w.getState();if(Z.sourceEvent.type!=="mousemove"||!ce||!H)return;const Q=W.current*Math.max(1,ae[2])*(x?-1:1),me={x:ae[0]-Z.sourceEvent.movementX*Q,y:ae[1]-Z.sourceEvent.movementY*Q},J=[[0,0],[Ne,Ae]],_e=Oi.translate(me.x,me.y).scale(ae[2]),rt=H.constrain()(_e,J,je);H.transform(ce,rt)},ee=kK().on("zoom",g?X:null).on("zoom.wheel",p?ne:null);return te.call(ee),()=>{te.on("zoom",null)}}},[g,p,x,b]);const q=h?te=>{const ne=ua(te);h(te,{x:ne[0],y:ne[1]})}:void 0,V=m?(te,ne)=>{const X=w.getState().nodeInternals.get(ne);m(te,X)}:void 0;return P.createElement(Vb,{position:f,style:e,className:er(["react-flow__minimap",t]),"data-testid":"rf__minimap"},P.createElement("svg",{width:k,height:A,viewBox:`${R} ${I} ${M} ${L}`,role:"img","aria-labelledby":z,ref:S,onClick:q},y&&P.createElement("title",{id:z},y),P.createElement(wGe,{onClick:V,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:l}),P.createElement("path",{className:"react-flow__minimap-mask",d:`M${R-O},${I-O}h${M+O*2}v${L+O*2}h${-M-O*2}z
        M${C.x},${C.y}h${C.width}v${C.height}h${-C.width}z`,fill:c,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}NY.displayName="MiniMap";var _Ge=v.memo(NY);function CGe(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},P.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function EGe(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},P.createElement("path",{d:"M0 0h32v4.2H0z"}))}function kGe(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},P.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function AGe(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},P.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function PGe(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},P.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const dh=({children:e,className:t,...n})=>P.createElement("button",{type:"button",className:er(["react-flow__controls-button",t]),...n},e);dh.displayName="ControlButton";const TGe=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),_Y=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const h=Cn(),[m,g]=v.useState(!1),{isInteractive:p,minZoomReached:y,maxZoomReached:x}=It(TGe,Ln),{zoomIn:b,zoomOut:j,fitView:w}=x2();if(v.useEffect(()=>{g(!0)},[]),!m)return null;const S=()=>{b(),a==null||a()},N=()=>{j(),o==null||o()},C=()=>{w(s),l==null||l()},_=()=>{h.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),c==null||c(!p)};return P.createElement(Vb,{className:er(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&P.createElement(P.Fragment,null,P.createElement(dh,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},P.createElement(CGe,null)),P.createElement(dh,{onClick:N,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y},P.createElement(EGe,null))),n&&P.createElement(dh,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view"},P.createElement(kGe,null)),r&&P.createElement(dh,{className:"react-flow__controls-interactive",onClick:_,title:"toggle interactivity","aria-label":"toggle interactivity"},p?P.createElement(PGe,null):P.createElement(AGe,null)),d)};_Y.displayName="Controls";var OGe=v.memo(_Y),wa;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(wa||(wa={}));function IGe({color:e,dimensions:t,lineWidth:n}){return P.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function DGe({color:e,radius:t}){return P.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const MGe={[wa.Dots]:"#91919a",[wa.Lines]:"#eee",[wa.Cross]:"#e2e2e2"},RGe={[wa.Dots]:1,[wa.Lines]:1,[wa.Cross]:6},$Ge=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function CY({id:e,variant:t=wa.Dots,gap:n=20,size:r,lineWidth:s=1,offset:a=2,color:o,style:l,className:c}){const u=v.useRef(null),{transform:d,patternId:f}=It($Ge,Ln),h=o||MGe[t],m=r||RGe[t],g=t===wa.Dots,p=t===wa.Cross,y=Array.isArray(n)?n:[n,n],x=[y[0]*d[2]||1,y[1]*d[2]||1],b=m*d[2],j=p?[b,b]:x,w=g?[b/a,b/a]:[j[0]/a,j[1]/a];return P.createElement("svg",{className:er(["react-flow__background",c]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},P.createElement("pattern",{id:f+e,x:d[0]%x[0],y:d[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},g?P.createElement(DGe,{color:h,radius:b/a}):P.createElement(IGe,{dimensions:j,color:h,lineWidth:s})),P.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}CY.displayName="Background";var LGe=v.memo(CY);const EY=v.memo(({data:e})=>{const n=(()=>{switch(e.config.triggerType){case"message_received":return Gn;case"chatbot":return jr;default:return ds}})();return i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-blue-50 border-2 border-blue-200 min-w-[150px]",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(n,{className:"h-4 w-4 text-blue-600"}),i.jsx("div",{className:"text-sm font-medium text-blue-900",children:e.label})]}),e.config.triggerType&&i.jsx("div",{className:"text-xs text-blue-700 mt-1",children:e.config.triggerType.replace("_"," ")}),i.jsx(pn,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-blue-500"})]})});EY.displayName="TriggerNode";const kY=v.memo(({data:e})=>{const n=(()=>{switch(e.config.actionType){case"send_message":return Gn;case"webhook":return Q0;case"move_stage":return Zoe;case"chatbot_response":return jr;case"text_classification":return Wp;default:return nn}})();return i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-green-50 border-2 border-green-200 min-w-[150px]",children:[i.jsx(pn,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-green-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(n,{className:"h-4 w-4 text-green-600"}),i.jsx("div",{className:"text-sm font-medium text-green-900",children:e.label})]}),e.config.actionType&&i.jsx("div",{className:"text-xs text-green-700 mt-1",children:e.config.actionType.replace("_"," ")}),i.jsx(pn,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-green-500"})]})});kY.displayName="ActionNode";const AY=v.memo(({data:e})=>i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-purple-50 border-2 border-purple-200 min-w-[150px]",children:[i.jsx(pn,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-purple-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(E6,{className:"h-4 w-4 text-purple-600"}),i.jsx("div",{className:"text-sm font-medium text-purple-900",children:e.label})]}),e.config.field&&i.jsxs("div",{className:"text-xs text-purple-700 mt-1",children:[e.config.field," ",e.config.operator," ",e.config.value]}),i.jsx(pn,{type:"source",position:Ce.Right,id:"true",style:{top:"30%"},className:"w-3 h-3 bg-green-500"}),i.jsx(pn,{type:"source",position:Ce.Right,id:"false",style:{top:"70%"},className:"w-3 h-3 bg-red-500"})]}));AY.displayName="ConditionNode";const PY=v.memo(({data:e})=>i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-orange-50 border-2 border-orange-200 min-w-[150px]",children:[i.jsx(pn,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-orange-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Er,{className:"h-4 w-4 text-orange-600"}),i.jsx("div",{className:"text-sm font-medium text-orange-900",children:e.label})]}),e.config.duration&&i.jsxs("div",{className:"text-xs text-orange-700 mt-1",children:[e.config.duration," ",e.config.unit]}),i.jsx(pn,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-orange-500"})]}));PY.displayName="DelayNode";const TY=v.memo(({data:e})=>i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-indigo-50 border-2 border-indigo-200 min-w-[150px]",children:[i.jsx(pn,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-indigo-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Q0,{className:"h-4 w-4 text-indigo-600"}),i.jsx("div",{className:"text-sm font-medium text-indigo-900",children:e.label})]}),e.config.url&&i.jsx("div",{className:"text-xs text-indigo-700 mt-1 truncate max-w-[200px]",children:e.config.url}),i.jsx(pn,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-indigo-500"})]}));TY.displayName="WebhookNode";const OY=v.memo(({data:e})=>i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-cyan-50 border-2 border-cyan-200 min-w-[150px]",children:[i.jsx(pn,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-cyan-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(jr,{className:"h-4 w-4 text-cyan-600"}),i.jsx("div",{className:"text-sm font-medium text-cyan-900",children:e.label})]}),e.config.model&&i.jsx("div",{className:"text-xs text-cyan-700 mt-1",children:e.config.model}),i.jsx(pn,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-cyan-500"})]}));OY.displayName="ChatbotNode";const IY=v.memo(({data:e})=>i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-pink-50 border-2 border-pink-200 min-w-[150px]",children:[i.jsx(pn,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-pink-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Wp,{className:"h-4 w-4 text-pink-600"}),i.jsx("div",{className:"text-sm font-medium text-pink-900",children:e.label})]}),e.config.categories&&i.jsx("div",{className:"text-xs text-pink-700 mt-1",children:typeof e.config.categories=="string"?e.config.categories.split(",").slice(0,3).join(", ")+(e.config.categories.split(",").length>3?"...":""):"Classificador de texto"}),i.jsx(pn,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-pink-500"})]}));IY.displayName="ClassifierNode";const DY=v.memo(({data:e})=>i.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-emerald-50 border-2 border-emerald-200 min-w-[150px]",children:[i.jsx(pn,{type:"target",position:Ce.Left,className:"w-3 h-3 bg-emerald-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(jr,{className:"h-4 w-4 text-emerald-600"}),i.jsx("div",{className:"text-sm font-medium text-emerald-900",children:e.label})]}),e.config.agentName&&i.jsx("div",{className:"text-xs text-emerald-700 mt-1",children:e.config.agentName}),i.jsx(pn,{type:"source",position:Ce.Right,className:"w-3 h-3 bg-emerald-500"})]}));DY.displayName="AgentNode";const FGe=[{type:"trigger",label:"Gatilho",icon:ds,description:"Inicia a automao",color:"text-blue-600"},{type:"action",label:"Ao",icon:Gn,description:"Executa uma ao",color:"text-green-600"},{type:"condition",label:"Condio",icon:E6,description:"Adiciona lgica condicional",color:"text-purple-600"},{type:"delay",label:"Delay",icon:Er,description:"Adiciona um atraso",color:"text-orange-600"},{type:"webhook",label:"Webhook",icon:Q0,description:"Integrao com servios externos",color:"text-indigo-600"},{type:"chatbot",label:"Chatbot",icon:jr,description:"Resposta inteligente com IA",color:"text-cyan-600"},{type:"classifier",label:"Classificador",icon:Wp,description:"Classifica texto com IA",color:"text-pink-600"},{type:"agent",label:"Agente IA",icon:Ga,description:"Resposta com perfil de agente",color:"text-emerald-600"}];function BGe({onAddNode:e}){return i.jsxs(re,{className:"w-64",children:[i.jsx(pe,{className:"pb-3",children:i.jsx(ge,{className:"text-sm",children:"Adicionar N"})}),i.jsx(se,{className:"space-y-2",children:i.jsx(Wy,{children:FGe.map(t=>{const n=t.icon;return i.jsxs(Vy,{children:[i.jsx(Uy,{asChild:!0,children:i.jsxs(B,{variant:"outline",className:"w-full justify-start",onClick:()=>e(t.type),children:[i.jsx(n,{className:`h-4 w-4 mr-2 ${t.color}`}),t.label]})}),i.jsx(jm,{children:i.jsx("p",{children:t.description})})]},t.type)})})})]})}function zGe({onSelect:e}){const[t,n]=v.useState(""),s=[{name:"Nome do Cliente",description:"Nome completo do cliente",example:"Joo Silva",code:"{{client.name}}",category:"Cliente"},{name:"Email do Cliente",description:"Endereo de email do cliente",example:"joao.silva@exemplo.com",code:"{{client.email}}",category:"Cliente"},{name:"Telefone do Cliente",description:"Nmero de telefone do cliente",example:"(11) 98765-4321",code:"{{client.phone}}",category:"Cliente"},{name:"Nome da Fase",description:"Nome da fase atual no Kanban",example:"Qualificado",code:"{{stage.name}}",category:"Kanban"},{name:"Cor da Fase",description:"Cor da fase atual no Kanban",example:"#10b981",code:"{{stage.color}}",category:"Kanban"},{name:"Status do Lead",description:"Status atual do lead",example:"qualified",code:"{{lead.status}}",category:"Lead"},{name:"Origem do Lead",description:"Origem do lead",example:"website",code:"{{lead.source}}",category:"Lead"},{name:"Contedo da Mensagem",description:"Contedo da mensagem recebida",example:"Ol, gostaria de mais informaes",code:"{{message.content}}",category:"Mensagem"},{name:"Nome da Empresa",description:"Nome da sua empresa",example:"Minha Empresa",code:"{{company.name}}",category:"Empresa"},{name:"Telefone da Empresa",description:"Telefone de contato da empresa",example:"(11) 3333-4444",code:"{{company.phone}}",category:"Empresa"},{name:"Data Atual",description:"Data atual no formato DD/MM/AAAA",example:"01/06/2025",code:"{{date.today}}",category:"Data e Hora"},{name:"Hora Atual",description:"Hora atual no formato HH:MM",example:"14:30",code:"{{date.time}}",category:"Data e Hora"}].filter(o=>o.name.toLowerCase().includes(t.toLowerCase())||o.description.toLowerCase().includes(t.toLowerCase())||o.code.toLowerCase().includes(t.toLowerCase())||o.category.toLowerCase().includes(t.toLowerCase())),a={};return s.forEach(o=>{a[o.category]||(a[o.category]=[]),a[o.category].push(o)}),i.jsxs(cp,{children:[i.jsx(up,{asChild:!0,children:i.jsxs(B,{variant:"outline",size:"sm",children:[i.jsx(_6,{className:"h-4 w-4 mr-2"}),"Inserir Varivel"]})}),i.jsx(Pd,{className:"w-80",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ie,{placeholder:"Buscar variveis...",value:t,onChange:o=>n(o.target.value),className:"pl-8"})]}),i.jsx(mp,{className:"h-60",children:i.jsxs("div",{className:"space-y-4",children:[Object.entries(a).map(([o,l])=>i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:o}),i.jsx("div",{className:"space-y-2",children:l.map(c=>i.jsx(re,{className:"cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>e(c.code),children:i.jsxs(se,{className:"p-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:c.name}),i.jsx("p",{className:"text-xs text-gray-500",children:c.description})]}),i.jsx(fe,{variant:"outline",className:"text-xs",children:c.code})]}),i.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Exemplo:"})," ",c.example]})]})},c.code))})]},o)),s.length===0&&i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma varivel encontrada"})})]})})]})})]})}function YC({message:e,channel:t,previewData:n}){const s=n||{client:{name:"Joo Silva",email:"joao.silva@exemplo.com",phone:"(11) 98765-4321"},stage:{name:"Qualificado",color:"#10b981"},lead:{status:"qualified",source:"website"},message:{content:"Ol, gostaria de mais informaes"}},a=()=>{let u=e;return Object.entries(s).forEach(([d,f])=>{Object.entries(f).forEach(([h,m])=>{const g=new RegExp(`{{${d}\\.${h}}}`,"g");u=u.replace(g,m)})}),u},o=()=>{const u=a();return i.jsx("div",{className:"max-w-xs mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsxs("div",{className:"bg-green-600 text-white px-4 py-2 flex items-center",children:[i.jsx(Gn,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"text-sm font-medium",children:"WhatsApp"})]}),i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"flex justify-end mb-4",children:i.jsxs("div",{className:"bg-green-100 text-gray-800 rounded-lg p-3 max-w-[80%]",children:[i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:u}),i.jsxs("div",{className:"flex justify-end mt-1",children:[i.jsx("span",{className:"text-xs text-gray-500",children:"12:30"}),i.jsx("span",{className:"text-xs text-green-600 ml-1",children:""})]})]})})})]})})},l=()=>{const u=a();return i.jsx("div",{className:"max-w-md mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"bg-blue-600 text-white px-4 py-2",children:i.jsx("h3",{className:"text-sm font-medium",children:"Assunto: Mensagem Automtica"})}),i.jsxs("div",{className:"p-4",children:[i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:u}),i.jsxs("div",{className:"mt-4 pt-4 border-t text-xs text-gray-500",children:[i.jsx("p",{children:"Enviado por OmniCRM"}),i.jsx("p",{children:"Para cancelar o recebimento, clique aqui"})]})]})]})})},c=()=>{const u=a();return i.jsx("div",{className:"max-w-xs mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"bg-purple-600 text-white px-4 py-2",children:i.jsx("span",{className:"text-sm font-medium",children:"SMS"})}),i.jsxs("div",{className:"p-4",children:[i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:u}),i.jsx("div",{className:"text-xs text-gray-500 mt-2",children:i.jsx("span",{children:"Enviado: 12:30"})})]})]})})};return i.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[t==="whatsapp"&&o(),t==="email"&&l(),t==="sms"&&c()]})}function WGe({value:e,onChange:t,channel:n}){const[r,s]=v.useState({client:{name:"Joo Silva",email:"joao.silva@exemplo.com",phone:"(11) 98765-4321"},stage:{name:"Qualificado",color:"#10b981"},lead:{status:"qualified",source:"website"},message:{content:"Ol, gostaria de mais informaes"}}),a=o=>{t(e+o)};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Y,{children:"Mensagem"}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx(zGe,{onSelect:a})})]}),i.jsx(vt,{value:e,onChange:o=>t(o.target.value),placeholder:"Digite sua mensagem... Use variveis como {{client.name}} para personalizar",rows:6}),i.jsxs(Qn,{defaultValue:"preview",children:[i.jsxs(Rn,{className:"grid w-full grid-cols-2",children:[i.jsxs(Fe,{value:"preview",children:[i.jsx(ki,{className:"h-4 w-4 mr-2"}),"Preview"]}),i.jsxs(Fe,{value:"variables",children:[i.jsx(_6,{className:"h-4 w-4 mr-2"}),"Variveis Usadas"]})]}),i.jsx(Ue,{value:"preview",className:"mt-2",children:i.jsx(YC,{message:e,channel:n,previewData:r})}),i.jsx(Ue,{value:"variables",className:"mt-2",children:i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Variveis Disponveis"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Nome do Cliente"}),i.jsx("p",{className:"text-xs text-gray-500",children:"{{client.name}}"})]}),i.jsxs("div",{className:"text-xs text-gray-600",children:["Valor: ",i.jsx("span",{className:"font-medium",children:"Joo Silva"})]})]}),i.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Email do Cliente"}),i.jsx("p",{className:"text-xs text-gray-500",children:"{{client.email}}"})]}),i.jsxs("div",{className:"text-xs text-gray-600",children:["Valor: ",i.jsx("span",{className:"font-medium",children:"joao.silva@exemplo.com"})]})]}),i.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Telefone do Cliente"}),i.jsx("p",{className:"text-xs text-gray-500",children:"{{client.phone}}"})]}),i.jsxs("div",{className:"text-xs text-gray-600",children:["Valor: ",i.jsx("span",{className:"font-medium",children:"(11) 98765-4321"})]})]}),i.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Nome da Fase"}),i.jsx("p",{className:"text-xs text-gray-500",children:"{{stage.name}}"})]}),i.jsxs("div",{className:"text-xs text-gray-600",children:["Valor: ",i.jsx("span",{className:"font-medium",children:"Qualificado"})]})]})]})]})})]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[i.jsx("p",{children:"Dicas:"}),i.jsxs("ul",{className:"list-disc pl-4 space-y-1 mt-1",children:[i.jsxs("li",{children:["Use ",i.jsxs("code",{children:["{","{","client.name","}","}"]})," para inserir o nome do cliente"]}),i.jsx("li",{children:"Pressione Enter para quebrar linhas"}),i.jsx("li",{children:"Emojis so suportados "})]})]})]})}function VGe({node:e,onUpdate:t,onDelete:n,onClose:r}){const[s,a]=v.useState(e.data.config||{}),[o,l]=v.useState(e.data.label||""),{sectors:c}=vb(),{agents:u,fetchAgents:d}=KG();v.useEffect(()=>{e.type==="agent"&&d()},[e.type,d]);const f=()=>{t({config:s,label:o})},h=()=>{switch(s.triggerType){case"new_lead":return i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(Y,{children:"Origem do Lead (Opcional)"}),i.jsxs(Oe,{value:s.source||"any",onValueChange:w=>a({...s,source:w==="any"?void 0:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Qualquer origem"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"any",children:"Qualquer origem"}),i.jsx(K,{value:"website",children:"Website"}),i.jsx(K,{value:"social_media",children:"Redes Sociais"}),i.jsx(K,{value:"referral",children:"Indicao"}),i.jsx(K,{value:"advertising",children:"Publicidade"})]})]})]})});case"stage_change":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Fase de Origem"}),i.jsx(ie,{value:s.fromStage||"",onChange:w=>a({...s,fromStage:w.target.value}),placeholder:"Qualquer fase"})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Fase de Destino"}),i.jsx(ie,{value:s.toStage||"",onChange:w=>a({...s,toStage:w.target.value}),placeholder:"Qualquer fase"})]})]});case"message_received":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Canal"}),i.jsxs(Oe,{value:s.channel||"any",onValueChange:w=>a({...s,channel:w==="any"?void 0:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Qualquer canal"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"any",children:"Qualquer canal"}),i.jsx(K,{value:"whatsapp",children:"WhatsApp"}),i.jsx(K,{value:"email",children:"Email"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Palavras-chave (Opcional)"}),i.jsx(ie,{value:s.keywords||"",onChange:w=>a({...s,keywords:w.target.value}),placeholder:"palavra1, palavra2"})]})]});case"webhook":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"URL do Webhook"}),i.jsx(ie,{value:s.webhookUrl||"",onChange:w=>a({...s,webhookUrl:w.target.value}),placeholder:"https://exemplo.com/webhook"})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Mtodo"}),i.jsxs(Oe,{value:s.method||"POST",onValueChange:w=>a({...s,method:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"POST",children:"POST"}),i.jsx(K,{value:"GET",children:"GET"}),i.jsx(K,{value:"PUT",children:"PUT"})]})]})]})]});default:return i.jsxs("div",{children:[i.jsx(Y,{children:"Tipo de Gatilho"}),i.jsxs(Oe,{value:s.triggerType||"",onValueChange:w=>a({...s,triggerType:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um gatilho"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"new_lead",children:"Novo Lead"}),i.jsx(K,{value:"stage_change",children:"Mudana de Fase"}),i.jsx(K,{value:"message_received",children:"Mensagem Recebida"}),i.jsx(K,{value:"webhook",children:"Webhook"}),i.jsx(K,{value:"time_based",children:"Baseado em Tempo"}),i.jsx(K,{value:"chatbot",children:"Chatbot"})]})]})]})}},m=()=>{switch(s.actionType){case"send_message":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Canal"}),i.jsxs(Oe,{value:s.channel||"whatsapp",onValueChange:w=>a({...s,channel:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"whatsapp",children:"WhatsApp"}),i.jsx(K,{value:"email",children:"Email"}),i.jsx(K,{value:"sms",children:"SMS"})]})]})]}),i.jsx(WGe,{value:s.message||"",onChange:w=>a({...s,message:w}),channel:s.channel||"whatsapp"}),i.jsxs("div",{children:[i.jsx(Y,{children:"Delay (segundos)"}),i.jsx(ie,{type:"number",value:s.delay||0,onChange:w=>a({...s,delay:parseInt(w.target.value)}),min:"0"})]})]});case"move_stage":return i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(Y,{children:"Nova Fase"}),i.jsx(ie,{value:s.targetStage||"",onChange:w=>a({...s,targetStage:w.target.value}),placeholder:"Nome da fase de destino"})]})});case"move_sector":return i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(Y,{children:"Setor de Destino"}),i.jsxs(Oe,{value:s.sector||"",onValueChange:w=>a({...s,sector:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um setor"})}),i.jsx(Te,{children:c.map(w=>i.jsx(K,{value:w.id,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:w.color}}),w.name]})},w.id))})]})]})});case"webhook":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"URL"}),i.jsx(ie,{value:s.url||"",onChange:w=>a({...s,url:w.target.value}),placeholder:"https://hooks.n8n.cloud/webhook/your-id"})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Mtodo"}),i.jsxs(Oe,{value:s.method||"POST",onValueChange:w=>a({...s,method:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"POST",children:"POST"}),i.jsx(K,{value:"GET",children:"GET"}),i.jsx(K,{value:"PUT",children:"PUT"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Headers (JSON)"}),i.jsx(ie,{value:typeof s.headers=="string"?s.headers:JSON.stringify(s.headers||{"Content-Type":"application/json"}),onChange:w=>a({...s,headers:w.target.value}),placeholder:'{"Content-Type": "application/json"}'})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Body (JSON)"}),i.jsx(ie,{value:typeof s.body=="string"?s.body:JSON.stringify(s.body||{client:"{{client}}",event:"automation"}),onChange:w=>a({...s,body:w.target.value}),placeholder:'{"client": "{{client}}", "event": "automation"}'})]})]});case"chatbot_response":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Modelo"}),i.jsxs(Oe,{value:s.model||"gpt-3.5-turbo",onValueChange:w=>a({...s,model:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),i.jsx(K,{value:"gpt-4",children:"GPT-4"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Prompt do Sistema"}),i.jsx(vt,{value:s.systemPrompt||"Voc  um assistente virtual para atendimento ao cliente.",onChange:w=>a({...s,systemPrompt:w.target.value}),rows:4})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Temperatura (Criatividade)"}),i.jsx(Md,{value:[s.temperature||.7],onValueChange:w=>a({...s,temperature:w[0]}),max:1,min:0,step:.1,className:"mt-2"})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Transferir para humano se no souber responder"}),i.jsx(Br,{checked:s.transferIfUnsure||!1,onCheckedChange:w=>a({...s,transferIfUnsure:w})})]})]});case"text_classification":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Categorias (separadas por vrgula)"}),i.jsx(ie,{value:s.categories||"suporte, vendas, informaes, reclamao, elogio",onChange:w=>a({...s,categories:w.target.value}),placeholder:"suporte, vendas, informaes..."})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Modelo"}),i.jsxs(Oe,{value:s.model||"gpt-3.5-turbo",onValueChange:w=>a({...s,model:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),i.jsx(K,{value:"gpt-4",children:"GPT-4"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Ao baseada na categoria"}),i.jsxs(Oe,{value:s.actionOnCategory||"move_sector",onValueChange:w=>a({...s,actionOnCategory:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"move_sector",children:"Mover para Setor"}),i.jsx(K,{value:"tag",children:"Adicionar Tag"}),i.jsx(K,{value:"notify",children:"Notificar"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Mapeamento de Categorias (JSON)"}),i.jsx(vt,{value:typeof s.categoryMapping=="string"?s.categoryMapping:JSON.stringify(s.categoryMapping||{suporte:"setor_suporte_id",vendas:"setor_vendas_id"},null,2),onChange:w=>a({...s,categoryMapping:w.target.value}),rows:4,placeholder:'{"suporte": "setor_suporte_id", "vendas": "setor_vendas_id"}'})]})]});case"agent_response":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Selecionar Agente"}),i.jsxs(Oe,{value:s.agentId||"",onValueChange:w=>{const S=u.find(N=>N.id===w);a({...s,agentId:w,agentName:(S==null?void 0:S.name)||"",agentRole:(S==null?void 0:S.role)||""})},children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um agente"})}),i.jsx(Te,{children:u.map(w=>i.jsxs(K,{value:w.id,children:[w.name," (",w.role,")"]},w.id))})]}),u.length===0&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Nenhum agente disponvel. Crie agentes na configurao OpenAI."})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Canal de Resposta"}),i.jsxs(Oe,{value:s.channel||"whatsapp",onValueChange:w=>a({...s,channel:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"whatsapp",children:"WhatsApp"}),i.jsx(K,{value:"email",children:"Email"}),i.jsx(K,{value:"sms",children:"SMS"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Contexto Adicional (Opcional)"}),i.jsx(vt,{value:s.additionalContext||"",onChange:w=>a({...s,additionalContext:w.target.value}),placeholder:"Informaes adicionais para o agente...",rows:3}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Informaes que sero includas no prompt do agente para contextualizar a resposta."})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Delay (segundos)"}),i.jsx(ie,{type:"number",value:s.delay||0,onChange:w=>a({...s,delay:parseInt(w.target.value)}),min:"0"})]})]});default:return i.jsxs("div",{children:[i.jsx(Y,{children:"Tipo de Ao"}),i.jsxs(Oe,{value:s.actionType||"",onValueChange:w=>a({...s,actionType:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione uma ao"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"send_message",children:"Enviar Mensagem"}),i.jsx(K,{value:"move_stage",children:"Mover Fase"}),i.jsx(K,{value:"move_sector",children:"Mover para Setor"}),i.jsx(K,{value:"webhook",children:"Webhook"}),i.jsx(K,{value:"create_task",children:"Criar Tarefa"}),i.jsx(K,{value:"add_tag",children:"Adicionar Tag"}),i.jsx(K,{value:"chatbot_response",children:"Resposta de Chatbot"}),i.jsx(K,{value:"text_classification",children:"Classificao de Texto"}),i.jsx(K,{value:"agent_response",children:"Resposta de Agente"})]})]})]})}},g=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Campo"}),i.jsxs(Oe,{value:s.field||"",onValueChange:w=>a({...s,field:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um campo"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"client.name",children:"Nome do Cliente"}),i.jsx(K,{value:"client.email",children:"Email do Cliente"}),i.jsx(K,{value:"client.phone",children:"Telefone do Cliente"}),i.jsx(K,{value:"client.tags",children:"Tags do Cliente"}),i.jsx(K,{value:"lead.status",children:"Status do Lead"}),i.jsx(K,{value:"lead.source",children:"Origem do Lead"}),i.jsx(K,{value:"message.content",children:"Contedo da Mensagem"}),i.jsx(K,{value:"time",children:"Horrio"}),i.jsx(K,{value:"chatbot.intent",children:"Inteno do Chatbot"}),i.jsx(K,{value:"classification.category",children:"Categoria da Classificao"}),i.jsx(K,{value:"agent.response",children:"Resposta do Agente"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Operador"}),i.jsxs(Oe,{value:s.operator||"",onValueChange:w=>a({...s,operator:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um operador"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"equals",children:"Igual a"}),i.jsx(K,{value:"not_equals",children:"Diferente de"}),i.jsx(K,{value:"contains",children:"Contm"}),i.jsx(K,{value:"not_contains",children:"No contm"}),i.jsx(K,{value:"greater_than",children:"Maior que"}),i.jsx(K,{value:"less_than",children:"Menor que"}),i.jsx(K,{value:"exists",children:"Existe"}),i.jsx(K,{value:"not_exists",children:"No existe"}),i.jsx(K,{value:"outside_business_hours",children:"Fora do Horrio Comercial"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Valor"}),i.jsx(ie,{value:s.value||"",onChange:w=>a({...s,value:w.target.value}),placeholder:"Valor para comparao"})]})]}),p=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Durao"}),i.jsx(ie,{type:"number",value:s.duration||1,onChange:w=>a({...s,duration:parseInt(w.target.value)}),min:"1"})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Unidade"}),i.jsxs(Oe,{value:s.unit||"minutes",onValueChange:w=>a({...s,unit:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"seconds",children:"Segundos"}),i.jsx(K,{value:"minutes",children:"Minutos"}),i.jsx(K,{value:"hours",children:"Horas"}),i.jsx(K,{value:"days",children:"Dias"})]})]})]})]}),y=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Modelo"}),i.jsxs(Oe,{value:s.model||"gpt-3.5-turbo",onValueChange:w=>a({...s,model:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),i.jsx(K,{value:"gpt-4",children:"GPT-4"})]})]})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Prompt do Sistema"}),i.jsx(vt,{value:s.systemPrompt||"Voc  um assistente virtual para atendimento ao cliente.",onChange:w=>a({...s,systemPrompt:w.target.value}),rows:4})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Temperatura (Criatividade)"}),i.jsx(Md,{value:[s.temperature||.7],onValueChange:w=>a({...s,temperature:w[0]}),max:1,min:0,step:.1,className:"mt-2"}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[i.jsx("span",{children:"Mais conservador"}),i.jsx("span",{children:"Mais criativo"})]})]})]}),x=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Categorias (separadas por vrgula)"}),i.jsx(ie,{value:s.categories||"suporte, vendas, informaes, reclamao, elogio",onChange:w=>a({...s,categories:w.target.value}),placeholder:"suporte, vendas, informaes..."})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Modelo"}),i.jsxs(Oe,{value:s.model||"gpt-3.5-turbo",onValueChange:w=>a({...s,model:w}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),i.jsx(K,{value:"gpt-4",children:"GPT-4"})]})]})]})]}),b=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Selecionar Agente"}),i.jsxs(Oe,{value:s.agentId||"",onValueChange:w=>{const S=u.find(N=>N.id===w);a({...s,agentId:w,agentName:(S==null?void 0:S.name)||"",agentRole:(S==null?void 0:S.role)||""})},children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione um agente"})}),i.jsx(Te,{children:u.map(w=>i.jsxs(K,{value:w.id,children:[w.name," (",w.role,")"]},w.id))})]}),u.length===0&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Nenhum agente disponvel. Crie agentes na configurao OpenAI."})]}),i.jsxs("div",{children:[i.jsx(Y,{children:"Contexto Adicional (Opcional)"}),i.jsx(vt,{value:s.additionalContext||"",onChange:w=>a({...s,additionalContext:w.target.value}),placeholder:"Informaes adicionais para o agente...",rows:3}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Informaes que sero includas no prompt do agente para contextualizar a resposta."})]})]}),j=()=>{switch(e.type){case"trigger":return h();case"action":return m();case"condition":return g();case"delay":return p();case"chatbot":return y();case"classifier":return x();case"agent":return b();default:return i.jsx("div",{children:"Configurao no disponvel"})}};return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Configurar N"}),i.jsx(B,{variant:"ghost",size:"sm",onClick:r,children:i.jsx($a,{className:"h-4 w-4"})})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{children:"Nome do N"}),i.jsx(ie,{value:o,onChange:w=>l(w.target.value),placeholder:"Nome descritivo"})]}),i.jsxs(re,{children:[i.jsx(pe,{className:"pb-3",children:i.jsx(ge,{className:"text-sm",children:"Configuraes"})}),i.jsx(se,{children:j()})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(B,{onClick:f,className:"flex-1",children:[i.jsx(T6,{className:"h-4 w-4 mr-2"}),"Salvar"]}),i.jsx(B,{variant:"destructive",onClick:n,children:i.jsx(js,{className:"h-4 w-4"})})]})]})]})}function UGe({workflow:e,onTest:t}){const[n,r]=v.useState(!1),[s,a]=v.useState(!1),[o,l]=v.useState(0),[c,u]=v.useState(!1),d=e.workflow_data.nodes.filter(m=>m.type==="action"&&m.data.config.actionType==="send_message"),f=async()=>{a(!0),l(0),u(!1);const m=d.length;for(let g=0;g<m;g++)await new Promise(p=>setTimeout(p,1500)),l(g+1);await new Promise(g=>setTimeout(g,1e3)),u(!0),a(!1);try{await t()}catch(g){console.error("Error testing workflow:",g)}},h=()=>{r(!1),l(0),u(!1)};return i.jsxs(ot,{open:n,onOpenChange:r,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(Jl,{className:"h-4 w-4 mr-2"}),"Testar"]})}),i.jsxs(et,{className:"max-w-3xl",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Testar Automao"}),i.jsx(ft,{children:"Execute um teste da automao para ver como ela funcionar"})]}),i.jsxs(Qn,{defaultValue:"preview",children:[i.jsxs(Rn,{className:"grid w-full grid-cols-2",children:[i.jsx(Fe,{value:"preview",children:"Visualizao"}),i.jsx(Fe,{value:"execution",children:"Execuo"})]}),i.jsx(Ue,{value:"preview",className:"space-y-4 mt-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Fluxo de Mensagens"}),d.length>0?i.jsx("div",{className:"space-y-6",children:d.map((m,g)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(fe,{variant:"outline",className:"text-xs",children:["Passo ",g+1]}),i.jsx("h4",{className:"text-sm font-medium",children:m.data.label})]}),i.jsx(YC,{message:m.data.config.message||"",channel:m.data.config.channel||"whatsapp"}),g<d.length-1&&i.jsx("div",{className:"flex justify-center my-2",children:i.jsx(Xl,{className:"h-5 w-5 text-gray-400"})})]},m.id))}):i.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[i.jsx(Gn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Nenhuma mensagem configurada nesta automao"})]})]})}),i.jsxs(Ue,{value:"execution",className:"space-y-4 mt-4",children:[i.jsxs(re,{children:[i.jsx(pe,{children:i.jsx(ge,{className:"text-lg",children:"Simulao de Execuo"})}),i.jsx(se,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-4",children:[d.map((m,g)=>i.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg border ${o>g?"bg-green-50 border-green-200":o===g&&s?"bg-blue-50 border-blue-200 animate-pulse":"bg-gray-50 border-gray-200"}`,children:[i.jsx("div",{className:"flex-shrink-0",children:o>g?i.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(Ls,{className:"h-4 w-4 text-green-600"})}):o===g&&s?i.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-blue-600 border-t-transparent animate-spin"})}):i.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-medium text-gray-600",children:g+1})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:m.data.label}),i.jsx("p",{className:"text-xs text-gray-500",children:m.data.config.channel==="whatsapp"?"WhatsApp":m.data.config.channel==="email"?"Email":"SMS"})]}),i.jsxs("div",{children:[o>g&&i.jsx(fe,{variant:"outline\\",className:"bg-green-50 text-green-700 border-green-200",children:"Concludo"}),o===g&&s&&i.jsx(fe,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Executando"}),o<g&&i.jsx(fe,{variant:"outline",className:"bg-gray-50 text-gray-500 border-gray-200",children:"Pendente"})]})]},m.id)),c&&i.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:[i.jsx(Ls,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),i.jsx("h3",{className:"text-lg font-medium text-green-800 mb-1",children:"Teste Concludo com Sucesso!"}),i.jsx("p",{className:"text-sm text-green-700",children:"Todos os passos da automao foram executados corretamente."})]}),d.length===0&&i.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[i.jsx(Gn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Nenhuma mensagem configurada nesta automao"})]})]})})]}),d.length>0&&o>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Mensagem Enviada"}),i.jsx(YC,{message:d[Math.min(o-1,d.length-1)].data.config.message||"",channel:d[Math.min(o-1,d.length-1)].data.config.channel||"whatsapp"})]})]})]}),i.jsxs(yt,{className:"flex justify-between",children:[i.jsx(B,{variant:"outline",onClick:h,children:"Fechar"}),d.length>0&&i.jsx(B,{onClick:f,disabled:s,children:s?"Executando...":c?"Executar Novamente":"Executar Teste"})]})]})]})}const pg=ka((e,t)=>({workflows:[],templates:[],executions:[],currentWorkflow:null,loading:!1,fetchWorkflows:async()=>{await G.handleAsync(async()=>{const n=be.getState().currentWorkspace;if(!n)return;const{data:r,error:s}=await U.from("automation_workflows").select("*").eq("workspace_id",n.id).order("updated_at",{ascending:!1});if(s)throw s;e({workflows:r||[]})})},fetchTemplates:async()=>{await G.handleAsync(async()=>{const{data:n,error:r}=await U.from("automation_templates").select("*").eq("is_public",!0).order("created_at",{ascending:!1});if(r)throw r;e({templates:n||[]})})},fetchExecutions:async n=>{await G.handleAsync(async()=>{let r=U.from("automation_executions").select(`
          *,
          workflow:automation_workflows(name),
          client:clients(name),
          conversation:conversations(*)
        `).order("started_at",{ascending:!1}).limit(100);if(n)r=r.eq("workflow_id",n);else{if(!be.getState().currentWorkspace)return;r=r.in("workflow_id",t().workflows.map(l=>l.id))}const{data:s,error:a}=await r;if(a)throw a;e({executions:s||[]})})},createWorkflow:async n=>await G.handleAsync(async()=>{const r=be.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");let s={nodes:[],connections:[],viewport:{x:0,y:0,zoom:1}};if(n.template_id){const u=t().templates.find(d=>d.id===n.template_id);u&&(s=u.template_data)}const{template_id:a,...o}=n,{data:l,error:c}=await U.from("automation_workflows").insert({...o,workspace_id:r.id,workflow_data:s,trigger_type:"event_based"}).select().single();if(c)throw c;return t().fetchWorkflows(),G.showSuccess("Automao criada com sucesso!"),l})||null,updateWorkflow:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("automation_workflows").update({...r,updated_at:new Date().toISOString()}).eq("id",n);if(s)throw s;t().fetchWorkflows();const a=t().currentWorkflow;(a==null?void 0:a.id)===n&&e({currentWorkflow:{...a,...r}}),G.showSuccess("Automao atualizada com sucesso!")})},deleteWorkflow:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("automation_workflows").delete().eq("id",n);if(r)throw r;const s=t().currentWorkflow;(s==null?void 0:s.id)===n&&e({currentWorkflow:null}),t().fetchWorkflows(),G.showSuccess("Automao deletada com sucesso!")})},setCurrentWorkflow:n=>{e({currentWorkflow:n})},updateWorkflowData:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("automation_workflows").update({workflow_data:r,updated_at:new Date().toISOString()}).eq("id",n);if(s)throw s;const a=t().currentWorkflow;(a==null?void 0:a.id)===n&&e({currentWorkflow:{...a,workflow_data:r}})})},addNode:async(n,r)=>{await G.handleAsync(async()=>{const s=t().currentWorkflow;if(!s||s.id!==n)return;const a={...s.workflow_data,nodes:[...s.workflow_data.nodes||[],r]};await t().updateWorkflowData(n,a)})},updateNode:async(n,r,s)=>{await G.handleAsync(async()=>{const a=t().currentWorkflow;if(!a||a.id!==n)return;const o={...a.workflow_data,nodes:(a.workflow_data.nodes||[]).map(l=>l.id===r?{...l,...s}:l)};await t().updateWorkflowData(n,o)})},deleteNode:async(n,r)=>{await G.handleAsync(async()=>{const s=t().currentWorkflow;if(!s||s.id!==n)return;const a={...s.workflow_data,nodes:(s.workflow_data.nodes||[]).filter(o=>o.id!==r),connections:(s.workflow_data.connections||[]).filter(o=>o.source!==r&&o.target!==r)};await t().updateWorkflowData(n,a)})},addConnection:async(n,r)=>{await G.handleAsync(async()=>{const s=t().currentWorkflow;if(!s||s.id!==n)return;const a={...s.workflow_data,connections:[...s.workflow_data.connections||[],r]};await t().updateWorkflowData(n,a)})},deleteConnection:async(n,r)=>{await G.handleAsync(async()=>{const s=t().currentWorkflow;if(!s||s.id!==n)return;const a={...s.workflow_data,connections:(s.workflow_data.connections||[]).filter(o=>o.id!==r)};await t().updateWorkflowData(n,a)})},executeWorkflow:async(n,r={})=>{await G.handleAsync(async()=>{const{data:s,error:a}=await U.from("automation_executions").insert({workflow_id:n,trigger_data:r,status:"running"}).select().single();if(a)throw a;const o=t().workflows.find(l=>l.id===n);o&&await U.from("automation_workflows").update({execution_count:(o.execution_count||0)+1,last_executed:new Date().toISOString()}).eq("id",n),setTimeout(async()=>{await U.from("automation_executions").update({status:"completed",completed_at:new Date().toISOString(),execution_data:{success:!0,steps_completed:!0}}).eq("id",s.id),t().fetchExecutions(n)},5e3),G.showSuccess("Automao executada com sucesso!"),t().fetchExecutions(n),t().fetchWorkflows()})},pauseWorkflow:async n=>{await t().updateWorkflow(n,{status:"paused"})},resumeWorkflow:async n=>{await t().updateWorkflow(n,{status:"active"})},createTemplate:async(n,r)=>{await G.handleAsync(async()=>{const s=t().workflows.find(l=>l.id===n);if(!s)throw new Error("Workflow no encontrado");const{data:{user:a}}=await U.auth.getUser();if(!a)throw new Error("Usurio no autenticado");const{error:o}=await U.from("automation_templates").insert({...r,template_data:s.workflow_data,created_by:a.id,is_public:!1});if(o)throw o;t().fetchTemplates(),G.showSuccess("Template criado com sucesso!")})},importTemplate:async n=>await G.handleAsync(async()=>{const r=t().templates.find(a=>a.id===n);if(!r)throw new Error("Template no encontrado");const s=await t().createWorkflow({name:`${r.name} (Importado)`,description:r.description,template_id:n});return G.showSuccess("Template importado com sucesso!"),s})||null})),qGe={trigger:EY,action:kY,condition:AY,delay:PY,webhook:TY,chatbot:OY,classifier:IY,agent:DY};function HGe(){const{currentWorkflow:e,setCurrentWorkflow:t,updateWorkflow:n,updateWorkflowData:r,addNode:s,updateNode:a,deleteNode:o,addConnection:l,deleteConnection:c,executeWorkflow:u}=pg(),[d,f,h]=mGe([]),[m,g,p]=pGe([]),[y,x]=v.useState(null),[b,j]=v.useState(!1),[w,S]=v.useState(!1),{toast:N}=Fn();v.useEffect(()=>{if(e!=null&&e.workflow_data){const $=(e.workflow_data.nodes||[]).map(R=>({id:R.id,type:R.type,position:R.position,data:R.data})),O=(e.workflow_data.connections||[]).map(R=>({id:R.id,source:R.source,target:R.target,sourceHandle:R.sourceHandle,targetHandle:R.targetHandle}));f($),g(O),S(e.status==="active")}},[e,f,g]);const C=v.useCallback($=>{const O={id:`edge-${Date.now()}`,source:$.source,target:$.target,sourceHandle:$.sourceHandle,targetHandle:$.targetHandle};g(R=>BK(O,R)),e&&l(e.id,O)},[g,e,l]),_=v.useCallback(($,O)=>{x(O),j(!0)},[]),k=$=>{if(!e)return;const O={id:`${$}-${Date.now()}`,type:$,position:{x:Math.random()*400,y:Math.random()*400},data:{label:`${$.charAt(0).toUpperCase()+$.slice(1)} Node`,config:{},nodeType:$}};f(R=>[...R,O]),s(e.id,O)},A=$=>{e&&(f(O=>O.filter(R=>R.id!==$)),g(O=>O.filter(R=>R.source!==$&&R.target!==$)),o(e.id,$),(y==null?void 0:y.id)===$&&(x(null),j(!1)))},T=($,O)=>{e&&(f(R=>R.map(I=>I.id===$?{...I,data:{...I.data,...O}}:I)),a(e.id,$,{data:O}))},D=async()=>{if(!e)return;const $={nodes:d.map(O=>({id:O.id,type:O.type,position:O.position,data:O.data})),connections:m.map(O=>({id:O.id,source:O.source,target:O.target,sourceHandle:O.sourceHandle,targetHandle:O.targetHandle})),viewport:{x:0,y:0,zoom:1}};await r(e.id,$),N({title:"Automao salva",description:"Todas as alteraes foram salvas com sucesso"})},F=async()=>{if(!e)return;const $=w?"draft":"active";await n(e.id,{status:$}),S(!w),N({title:w?"Automao desativada":"Automao ativada",description:w?"A automao no ser mais executada automaticamente":"A automao ser executada automaticamente quando o gatilho for acionado"})},E=async()=>{if(e)try{await u(e.id)}catch($){console.error("Error testing workflow:",$)}};return e?i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-white",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>t(null),children:[i.jsx(Moe,{className:"h-4 w-4 mr-2"}),"Voltar"]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold",children:e.name}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fe,{variant:e.status==="active"?"default":"secondary",children:e.status}),i.jsxs("span",{className:"text-sm text-gray-500",children:[e.execution_count," execues"]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Br,{checked:w,onCheckedChange:F,id:"active-status"}),i.jsx(Y,{htmlFor:"active-status",className:"text-sm",children:w?"Ativo":"Inativo"})]}),i.jsxs(B,{variant:"outline",onClick:D,children:[i.jsx(T6,{className:"h-4 w-4 mr-2"}),"Salvar"]}),i.jsx(UGe,{workflow:e,onTest:E})]})]}),i.jsxs("div",{className:"flex-1 flex",children:[i.jsx("div",{className:"flex-1 relative",children:i.jsxs(bY,{nodes:d,edges:m,onNodesChange:h,onEdgesChange:p,onConnect:C,onNodeClick:_,nodeTypes:qGe,fitView:!0,children:[i.jsx(OGe,{}),i.jsx(_Ge,{}),i.jsx(LGe,{variant:"dots",gap:12,size:1}),i.jsx(Vb,{position:"top-left",children:i.jsx(BGe,{onAddNode:k})})]})}),b&&y&&i.jsx("div",{className:"w-80 border-l border-gray-200 bg-white",children:i.jsx(VGe,{node:y,onUpdate:$=>T(y.id,$),onDelete:()=>A(y.id),onClose:()=>j(!1)})})]})]}):null}function GGe({open:e,onOpenChange:t}){const{createWorkflow:n,setCurrentWorkflow:r}=pg(),[s,a]=v.useState({name:"",description:""}),[o,l]=v.useState(!1),c=async u=>{if(u.preventDefault(),!!s.name.trim()){l(!0);try{const d=await n(s);d&&r(d),a({name:"",description:""}),t(!1)}catch(d){console.error("Error creating workflow:",d)}finally{l(!1)}}};return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(nn,{className:"h-4 w-4 mr-2"}),"Nova Automao"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Criar Nova Automao"}),i.jsx(ft,{children:"Crie um fluxo de automao personalizado para otimizar seus processos"})]}),i.jsxs("form",{onSubmit:c,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workflowName",children:"Nome da Automao *"}),i.jsx(ie,{id:"workflowName",value:s.name,onChange:u=>a({...s,name:u.target.value}),placeholder:"Ex: Boas-vindas para Novos Leads",required:!0})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workflowDescription",children:"Descrio (Opcional)"}),i.jsx(vt,{id:"workflowDescription",value:s.description,onChange:u=>a({...s,description:u.target.value}),placeholder:"Descreva o que esta automao faz...",rows:3})]})]}),i.jsx(yt,{className:"mt-6",children:i.jsx(B,{type:"submit",disabled:o||!s.name.trim(),children:o?"Criando...":"Criar Automao"})})]})]})]})}function qL({open:e,onOpenChange:t}){const{templates:n,fetchTemplates:r,importTemplate:s,setCurrentWorkflow:a}=pg(),[o,l]=v.useState("all"),[c,u]=v.useState(null);v.useEffect(()=>{e&&r()},[e,r]);const d=[{value:"all",label:"Todos"},{value:"lead_nurturing",label:"Nutrio de Leads"},{value:"sales",label:"Vendas"},{value:"customer_support",label:"Suporte"},{value:"marketing",label:"Marketing"}],f=n.filter(p=>o==="all"||p.category===o),h=async p=>{u(p);try{const y=await s(p);y&&(a(y),t(!1))}catch(y){console.error("Error importing template:",y)}finally{u(null)}},m=p=>{switch(p){case"lead_nurturing":return"bg-blue-100 text-blue-800";case"sales":return"bg-green-100 text-green-800";case"customer_support":return"bg-purple-100 text-purple-800";case"marketing":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},g=p=>{const y=d.find(x=>x.value===p);return(y==null?void 0:y.label)||p};return i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Galeria de Templates"}),i.jsx(ft,{children:"Escolha um template pronto para comear rapidamente"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(X0,{className:"h-4 w-4 text-gray-500"}),i.jsxs(Oe,{value:o,onValueChange:l,children:[i.jsx(Pe,{className:"w-48",children:i.jsx(Ie,{})}),i.jsx(Te,{children:d.map(p=>i.jsx(K,{value:p.value,children:p.label},p.value))})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(p=>i.jsxs(re,{className:"hover:shadow-md transition-shadow",children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(ge,{className:"text-lg",children:p.name}),i.jsx(Ve,{className:"mt-1",children:p.description})]}),i.jsx(fe,{className:m(p.category),children:g(p.category)})]})}),i.jsx(se,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[i.jsx(ale,{className:"h-4 w-4"}),i.jsx("span",{children:"Template Oficial"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(B,{variant:"outline",size:"sm",children:[i.jsx(ki,{className:"h-4 w-4 mr-1"}),"Preview"]}),i.jsxs(B,{size:"sm",onClick:()=>h(p.id),disabled:c===p.id,children:[i.jsx(xm,{className:"h-4 w-4 mr-1"}),c===p.id?"Importando...":"Usar Template"]})]})]})})]},p.id))}),f.length===0&&i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-gray-500",children:"Nenhum template encontrado nesta categoria"})})]})]})})}function KGe(){const{executions:e,fetchExecutions:t}=pg(),[n,r]=v.useState(null);v.useEffect(()=>{t()},[t]);const s=c=>{switch(c){case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-yellow-100 text-yellow-800"}},a=c=>{switch(c){case"completed":return i.jsx(Ht,{className:"h-4 w-4"});case"failed":return i.jsx(Sn,{className:"h-4 w-4"});case"running":return i.jsx(Er,{className:"h-4 w-4"});default:return i.jsx(Jl,{className:"h-4 w-4"})}},o=c=>{switch(c){case"completed":return"Concludo";case"failed":return"Falhou";case"running":return"Executando";case"cancelled":return"Cancelado";default:return c}},l=(c,u)=>{const d=new Date(c),h=(u?new Date(u):new Date).getTime()-d.getTime();return h<1e3?`${h}ms`:h<6e4?`${Math.round(h/1e3)}s`:`${Math.round(h/6e4)}m`};return i.jsx("div",{className:"space-y-4",children:i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{children:["Histrico de Execues (",e.length,")"]})}),i.jsx(se,{children:e.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Er,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Nenhuma execuo encontrada"})]}):i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Se,{children:"Automao"}),i.jsx(Se,{children:"Cliente"}),i.jsx(Se,{children:"Status"}),i.jsx(Se,{children:"Durao"}),i.jsx(Se,{children:"Iniciado"}),i.jsx(Se,{children:"Aes"})]})}),i.jsx(Kr,{children:e.map(c=>{var u,d,f,h;return i.jsxs(it,{children:[i.jsx(oe,{className:"font-medium",children:((u=c.workflow)==null?void 0:u.name)||"Automao Deletada"}),i.jsx(oe,{children:((d=c.client)==null?void 0:d.name)||"N/A"}),i.jsx(oe,{children:i.jsxs(fe,{className:s(c.status),children:[a(c.status),i.jsx("span",{className:"ml-1",children:o(c.status)})]})}),i.jsx(oe,{children:l(c.started_at,c.completed_at)}),i.jsx(oe,{children:new Date(c.started_at).toLocaleString("pt-BR")}),i.jsx(oe,{children:i.jsxs(ot,{children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>r(c),children:[i.jsx(ki,{className:"h-4 w-4 mr-1"}),"Detalhes"]})}),i.jsxs(et,{className:"max-w-2xl",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Detalhes da Execuo"}),i.jsx(ft,{children:"Informaes detalhadas sobre a execuo da automao"})]}),n&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Automao"}),i.jsx("p",{className:"text-sm text-gray-600",children:((f=n.workflow)==null?void 0:f.name)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Status"}),i.jsx(fe,{className:s(n.status),children:o(n.status)})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Cliente"}),i.jsx("p",{className:"text-sm text-gray-600",children:((h=n.client)==null?void 0:h.name)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Durao"}),i.jsx("p",{className:"text-sm text-gray-600",children:l(n.started_at,n.completed_at)})]})]}),n.error_message&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-red-600",children:"Erro"}),i.jsx("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:n.error_message})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Dados do Gatilho"}),i.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded overflow-auto",children:JSON.stringify(n.trigger_data,null,2)})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Dados da Execuo"}),i.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded overflow-auto",children:JSON.stringify(n.execution_data,null,2)})]})]})]})]})})]},c.id)})})]})})]})})}function YGe(){const{workflows:e,executions:t,currentWorkflow:n,loading:r,fetchWorkflows:s,fetchExecutions:a,setCurrentWorkflow:o,deleteWorkflow:l,pauseWorkflow:c,resumeWorkflow:u,executeWorkflow:d}=pg(),[f,h]=v.useState(!1),[m,g]=v.useState(!1);v.useEffect(()=>{s(),a()},[s,a]);const p=async(N,C)=>{switch(N){case"pause":await c(C);break;case"resume":await u(C);break;case"execute":await d(C);break;case"delete":await l(C);break}},y=N=>{switch(N){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"draft":return"bg-gray-100 text-gray-800";case"archived":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},x=N=>{switch(N){case"active":return i.jsx(Ht,{className:"h-4 w-4"});case"paused":return i.jsx(TN,{className:"h-4 w-4"});case"draft":return i.jsx(Er,{className:"h-4 w-4"});case"archived":return i.jsx(Sn,{className:"h-4 w-4"});default:return i.jsx(Er,{className:"h-4 w-4"})}},b=e.filter(N=>N.status==="active").length,j=t.length,w=t.filter(N=>N.status==="completed").length,S=j>0?w/j*100:0;return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full flex flex-col",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Automao"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Crie fluxos automatizados para otimizar seu atendimento"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(B,{variant:"outline",onClick:()=>g(!0),children:[i.jsx(xm,{className:"h-4 w-4 mr-2"}),"Templates"]}),i.jsx(GGe,{open:f,onOpenChange:h})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ds,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Total de Automaes"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Jl,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:b}),i.jsx("div",{className:"text-sm text-gray-600",children:"Ativas"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Foe,{className:"h-5 w-5 text-purple-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:j}),i.jsx("div",{className:"text-sm text-gray-600",children:"Execues"})]})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ht,{className:"h-5 w-5 text-orange-600"}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[S.toFixed(1),"%"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"Taxa de Sucesso"})]})]})})})]}),i.jsx("div",{className:"flex-1 min-h-0",children:n?i.jsx(HGe,{}):i.jsxs(Qn,{defaultValue:"workflows\\",className:"h-full",children:[i.jsxs(Rn,{children:[i.jsx(Fe,{value:"workflows",children:"Automaes"}),i.jsx(Fe,{value:"executions",children:"Histrico"}),i.jsx(Fe,{value:"templates",children:"Templates"})]}),i.jsx(Ue,{value:"workflows",className:"space-y-4",children:e.length===0?i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(ds,{className:"h-8 w-8 text-gray-400"})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma automao criada"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Crie sua primeira automao para otimizar seus processos"}),i.jsxs("div",{className:"flex gap-2 justify-center",children:[i.jsxs(B,{onClick:()=>h(!0),children:[i.jsx(nn,{className:"h-4 w-4 mr-2"}),"Nova Automao"]}),i.jsxs(B,{variant:"outline",onClick:()=>g(!0),children:[i.jsx(xm,{className:"h-4 w-4 mr-2"}),"Ver Templates"]})]})]})}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(N=>i.jsxs(re,{className:"hover:shadow-md transition-shadow",children:[i.jsx(pe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(ge,{className:"text-lg",children:N.name}),N.description&&i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.description})]}),i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",children:i.jsx(oc,{className:"h-4 w-4"})})}),i.jsxs(Ea,{children:[i.jsxs(at,{onClick:()=>o(N),children:[i.jsx(oc,{className:"h-4 w-4 mr-2"}),"Editar"]}),i.jsxs(at,{onClick:()=>p("execute",N.id),children:[i.jsx(Jl,{className:"h-4 w-4 mr-2"}),"Executar"]}),N.status==="active"?i.jsxs(at,{onClick:()=>p("pause",N.id),children:[i.jsx(TN,{className:"h-4 w-4 mr-2"}),"Pausar"]}):i.jsxs(at,{onClick:()=>p("resume",N.id),children:[i.jsx(Jl,{className:"h-4 w-4 mr-2"}),"Ativar"]}),i.jsxs(at,{children:[i.jsx(Ah,{className:"h-4 w-4 mr-2"}),"Duplicar"]}),i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsxs(at,{onSelect:C=>C.preventDefault(),children:[i.jsx(js,{className:"h-4 w-4 mr-2"}),"Deletar"]})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Deletar Automao"}),i.jsxs(cn,{children:['Tem certeza que deseja deletar a automao "',N.name,'"? Esta ao no pode ser desfeita.']})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{onClick:()=>p("delete",N.id),className:"bg-red-600 hover:bg-red-700",children:"Deletar"})]})]})]})]})]})]})}),i.jsxs(se,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs(fe,{className:y(N.status),children:[x(N.status),i.jsx("span",{className:"ml-1 capitalize",children:N.status})]}),i.jsxs("span",{className:"text-sm text-gray-500",children:[N.execution_count," execues"]})]}),i.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[i.jsxs("div",{children:["Tipo: ",N.trigger_type]}),i.jsxs("div",{children:["ltima execuo: ",N.last_executed?new Date(N.last_executed).toLocaleDateString("pt-BR"):"Nunca"]})]}),i.jsx(B,{className:"w-full mt-3",variant:"outline",onClick:()=>o(N),children:"Abrir Editor"})]})]},N.id))})}),i.jsx(Ue,{value:"executions",children:i.jsx(KGe,{})}),i.jsx(Ue,{value:"templates",children:i.jsx(qL,{})})]})}),i.jsx(qL,{open:m,onOpenChange:g})]})})})}function XGe(){const{stats:e,leads:t,clients:n,orders:r,messages:s,fetchStats:a,fetchLeads:o,fetchClients:l,fetchOrders:c,fetchMessages:u}=Or(),{currentWorkspace:d}=be();v.useEffect(()=>{d&&(a(),o(),l(),c(),u())},[d,a,o,l,c,u]);const f=[{month:"Jan",revenue:4e3,orders:24},{month:"Feb",revenue:3e3,orders:18},{month:"Mar",revenue:5e3,orders:32},{month:"Apr",revenue:4500,orders:28},{month:"May",revenue:6e3,orders:38},{month:"Jun",revenue:5500,orders:35}],h=[{name:"Website",value:35,color:"#3b82f6"},{name:"Social Media",value:25,color:"#10b981"},{name:"Referral",value:20,color:"#f59e0b"},{name:"Advertising",value:15,color:"#ef4444"},{name:"Other",value:5,color:"#8b5cf6"}],m=[{stage:"Leads",count:t.length,percentage:100},{stage:"Contacted",count:t.filter(g=>g.status==="contacted").length,percentage:0},{stage:"Qualified",count:t.filter(g=>g.status==="qualified").length,percentage:0},{stage:"Converted",count:t.filter(g=>g.status==="converted").length,percentage:0}].map((g,p,y)=>({...g,percentage:y[0].count>0?Math.round(g.count/y[0].count*100):0}));return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Insights and performance metrics for your business"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(re,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Conversion Rate"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.conversionRate?`${e.conversionRate.toFixed(1)}%`:"0%"})]}),i.jsx(Rk,{className:"h-8 w-8 text-green-600"})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",e.avgOrderValue?e.avgOrderValue.toFixed(2):"0.00"]})]}),i.jsx(ic,{className:"h-8 w-8 text-blue-600"})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Clients"}),i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:e.activeClients||0})]}),i.jsx(Fr,{className:"h-8 w-8 text-purple-600"})]})})}),i.jsx(re,{children:i.jsx(se,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Messages Sent"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:s.length})]}),i.jsx(Gn,{className:"h-8 w-8 text-orange-600"})]})})})]}),i.jsxs(Qn,{defaultValue:"revenue",className:"space-y-6",children:[i.jsxs(Rn,{children:[i.jsx(Fe,{value:"revenue",children:"Revenue"}),i.jsx(Fe,{value:"leads",children:"Lead Sources"}),i.jsx(Fe,{value:"conversion",children:"Conversion Funnel"}),i.jsx(Fe,{value:"performance",children:"Performance"})]}),i.jsx(Ue,{value:"revenue",className:"space-y-6",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Revenue Over Time"}),i.jsx(Ve,{children:"Monthly revenue and order trends"})]}),i.jsx(se,{children:i.jsx(Uv,{width:"100%",height:400,children:i.jsxs(Pq,{data:f,children:[i.jsx(zx,{strokeDasharray:"3 3"}),i.jsx(gc,{dataKey:"month"}),i.jsx(el,{}),i.jsx(rs,{}),i.jsx(Zo,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:3}),i.jsx(Zo,{type:"monotone",dataKey:"orders",stroke:"#10b981",strokeWidth:2})]})})})]})}),i.jsx(Ue,{value:"leads",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Lead Sources"}),i.jsx(Ve,{children:"Distribution of lead sources"})]}),i.jsx(se,{children:i.jsx(Uv,{width:"100%",height:300,children:i.jsxs(d4e,{children:[i.jsx(eo,{data:h,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:g,percent:p})=>`${g} ${(p*100).toFixed(0)}%`,children:h.map((g,p)=>i.jsx(Vw,{fill:g.color},`cell-${p}`))}),i.jsx(rs,{})]})})})]}),i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Lead Source Performance"}),i.jsx(Ve,{children:"Leads by source this month"})]}),i.jsx(se,{children:i.jsx("div",{className:"space-y-4",children:h.map(g=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:g.color}}),i.jsx("span",{className:"text-sm font-medium",children:g.name})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:[g.value,"%"]}),i.jsxs(fe,{variant:"outline",children:[Math.round(t.length*g.value/100)," leads"]})]})]},g.name))})})]})]})}),i.jsx(Ue,{value:"conversion",className:"space-y-6",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Conversion Funnel"}),i.jsx(Ve,{children:"Lead to client conversion process"})]}),i.jsx(se,{children:i.jsx("div",{className:"space-y-4",children:m.map((g,p)=>i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:g.stage}),i.jsxs("span",{className:"text-sm text-gray-600",children:[g.count," (",g.percentage,"%)"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.percentage}%`}})})]},g.stage))})})]})}),i.jsx(Ue,{value:"performance",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Monthly Performance"}),i.jsx(Ve,{children:"Key metrics comparison"})]}),i.jsx(se,{children:i.jsx(Uv,{width:"100%",height:300,children:i.jsxs(u4e,{data:f,children:[i.jsx(zx,{strokeDasharray:"3 3"}),i.jsx(gc,{dataKey:"month"}),i.jsx(el,{}),i.jsx(rs,{}),i.jsx(Ic,{dataKey:"orders",fill:"#3b82f6"})]})})})]}),i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Performance Insights"}),i.jsx(Ve,{children:"Key observations and recommendations"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Strong Performance"}),i.jsx("p",{className:"text-sm text-green-700",children:"Revenue has increased by 23% compared to last month"})]}),i.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Opportunity"}),i.jsx("p",{className:"text-sm text-yellow-700",children:"Lead conversion rate could be improved with better follow-up"})]}),i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Recommendation"}),i.jsx("p",{className:"text-sm text-blue-700",children:"Focus on social media leads as they show highest conversion"})]})]})})]})]})})]})]})})})}function JGe(){var W;const[e,t]=v.useState(!1),[n,r]=v.useState(!1),[s,a]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState("operator"),[d,f]=v.useState({name:"",email:"",password:"",confirmPassword:"",role:"operator"}),[h,m]=v.useState(!1),{currentWorkspace:g,workspaceUsers:p,userInvitations:y,fetchWorkspaceUsers:x,fetchUserInvitations:b,inviteUser:j,registerUser:w,removeUser:S,updateUserRole:N,cancelInvitation:C,resendInvitation:_}=be(),{user:k}=ri();v.useEffect(()=>{e&&g&&(x(),b())},[e,g,x,b]);const A=async()=>{if(o.trim()){if(!g){ErrorHandler.showError("Erro","Nenhum workspace selecionado. Selecione um workspace antes de convidar usurios.");return}m(!0);try{await j(o,c),l(""),u("operator"),r(!1)}catch(q){console.error("Error inviting user:",q)}finally{m(!1)}}},T=async()=>{if(!(!d.name.trim()||!d.email.trim()||!d.password.trim())&&d.password===d.confirmPassword&&!(d.password.length<6)){if(!g){ErrorHandler.showError("Erro","Nenhum workspace selecionado. Selecione um workspace antes de cadastrar usurios.");return}m(!0);try{await w({name:d.name,email:d.email,password:d.password,role:d.role,workspace_id:g.id}),f({name:"",email:"",password:"",confirmPassword:"",role:"operator"}),a(!1)}catch(q){console.error("Error registering user:",q)}finally{m(!1)}}},D=async q=>{try{await S(q)}catch(V){console.error("Error removing user:",V)}},F=async(q,V)=>{try{await N(q,V)}catch(te){console.error("Error updating user role:",te)}},E=async q=>{try{await C(q)}catch(V){console.error("Error canceling invitation:",V)}},$=async q=>{try{await _(q)}catch(V){console.error("Error resending invitation:",V)}},O=(q,V=!1)=>{if(V)return i.jsxs(fe,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[i.jsx(Wj,{className:"h-3 w-3 mr-1"}),"Proprietrio"]});switch(q){case"admin":return i.jsxs(fe,{className:"bg-blue-100 text-blue-800 border-blue-300",children:[i.jsx(ru,{className:"h-3 w-3 mr-1"}),"Administrador"]});case"operator":return i.jsxs(fe,{className:"bg-green-100 text-green-800 border-green-300",children:[i.jsx(Fr,{className:"h-3 w-3 mr-1"}),"Operador"]});default:return i.jsx(fe,{variant:"outline",children:q})}},R=q=>{switch(q){case"active":return i.jsx(fe,{className:"bg-green-100 text-green-800",children:"Ativo"});case"pending":return i.jsx(fe,{className:"bg-yellow-100 text-yellow-800",children:"Pendente"});case"inactive":return i.jsx(fe,{className:"bg-gray-100 text-gray-800",children:"Inativo"});default:return i.jsx(fe,{variant:"outline",children:q})}},I=q=>new Date(q).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),M=(g==null?void 0:g.owner_id)===(k==null?void 0:k.id),L=(W=p.find(q=>q.user_id===(k==null?void 0:k.id)))==null?void 0:W.role,z=M||L==="admin";return i.jsxs(ot,{open:e,onOpenChange:t,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Gerenciar Usurios"]})}),i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsxs(nt,{className:"flex items-center",children:[i.jsx(Fr,{className:"mr-2 h-5 w-5"}),"Gerenciar Usurios - ",g==null?void 0:g.name]}),i.jsx(ft,{children:"Gerencie os usurios e permisses do seu workspace"})]}),i.jsxs(Qn,{defaultValue:"users",className:"w-full",children:[i.jsxs(Rn,{className:"grid w-full grid-cols-2",children:[i.jsxs(Fe,{value:"users",children:["Usurios (",p.length,")"]}),i.jsxs(Fe,{value:"invitations",children:["Convites Pendentes (",y.length,")"]})]}),i.jsxs(Ue,{value:"users",className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Membros do Workspace"}),z&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ot,{open:s,onOpenChange:a,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{variant:"outline",children:[i.jsx($y,{className:"h-4 w-4 mr-2"}),"Cadastrar Usurio"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Cadastrar Novo Usurio"}),i.jsx(ft,{children:"Crie uma nova conta de usurio e adicione ao workspace"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"registerName",children:"Nome Completo *"}),i.jsx(ie,{id:"registerName",placeholder:"Joo Silva",value:d.name,onChange:q=>f({...d,name:q.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"registerEmail",children:"Email *"}),i.jsx(ie,{id:"registerEmail",type:"email",placeholder:"usuario@exemplo.com",value:d.email,onChange:q=>f({...d,email:q.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"registerPassword",children:"Senha *"}),i.jsx(ie,{id:"registerPassword",type:"password",placeholder:"Mnimo 6 caracteres",value:d.password,onChange:q=>f({...d,password:q.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"confirmPassword",children:"Confirmar Senha *"}),i.jsx(ie,{id:"confirmPassword",type:"password",placeholder:"Confirme a senha",value:d.confirmPassword,onChange:q=>f({...d,confirmPassword:q.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"registerRole",children:"Role do Usurio *"}),i.jsxs(Oe,{value:d.role,onValueChange:q=>f({...d,role:q}),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"admin",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ru,{className:"h-4 w-4 mr-2"}),"Administrador"]})}),i.jsx(K,{value:"operator",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Operador"]})})]})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Administradores podem gerenciar usurios e configuraes. Operadores tm acesso s funcionalidades principais."})]})]}),i.jsxs(yt,{children:[i.jsx(B,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),i.jsx(B,{onClick:T,disabled:h||!g||!d.name.trim()||!d.email.trim()||!d.password.trim()||d.password!==d.confirmPassword||d.password.length<6,children:h?"Cadastrando...":"Cadastrar Usurio"})]})]})]}),i.jsxs(ot,{open:n,onOpenChange:r,children:[i.jsx(Bt,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(nn,{className:"h-4 w-4 mr-2"}),"Convidar Usurio"]})}),i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Convidar Novo Usurio"}),i.jsx(ft,{children:"Convide um usurio para fazer parte do seu workspace"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"inviteEmail",children:"Email do Usurio *"}),i.jsx(ie,{id:"inviteEmail",type:"email",placeholder:"usuario@exemplo.com",value:o,onChange:q=>l(q.target.value)})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"inviteRole",children:"Role do Usurio *"}),i.jsxs(Oe,{value:c,onValueChange:q=>u(q),children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"admin",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ru,{className:"h-4 w-4 mr-2"}),"Administrador"]})}),i.jsx(K,{value:"operator",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Operador"]})})]})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Administradores podem gerenciar usurios e configuraes. Operadores tm acesso s funcionalidades principais."})]})]}),i.jsxs(yt,{children:[i.jsx(B,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),i.jsx(B,{onClick:A,disabled:h||!g||!o.trim(),children:h?"Convidando...":"Enviar Convite"})]})]})]})]})]}),i.jsx(re,{children:i.jsx(se,{className:"p-0",children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Se,{children:"Usurio"}),i.jsx(Se,{children:"Role"}),i.jsx(Se,{children:"Status"}),i.jsx(Se,{children:"Membro desde"}),z&&i.jsx(Se,{children:"Aes"})]})}),i.jsxs(Kr,{children:[i.jsxs(it,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:i.jsx(Wj,{className:"h-4 w-4 text-yellow-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:k==null?void 0:k.email}),i.jsx("p",{className:"text-xs text-gray-500",children:"Proprietrio do workspace"})]})]})}),i.jsx(oe,{children:O("owner",!0)}),i.jsx(oe,{children:R("active")}),i.jsx(oe,{children:I((g==null?void 0:g.created_at)||"")}),z&&i.jsx(oe,{children:i.jsx(fe,{variant:"outline",className:"text-xs",children:"Proprietrio"})})]}),p.filter(q=>q.user_id!==(g==null?void 0:g.owner_id)).map(q=>{var V,te,ne,X,ee,Z,ae;return i.jsxs(it,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-medium text-blue-600",children:(te=(V=q.user)==null?void 0:V.email)==null?void 0:te.charAt(0).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:((X=(ne=q.user)==null?void 0:ne.user_metadata)==null?void 0:X.name)||((ee=q.user)==null?void 0:ee.email)}),i.jsx("p",{className:"text-xs text-gray-500",children:(Z=q.user)==null?void 0:Z.email})]})]})}),i.jsx(oe,{children:O(q.role)}),i.jsx(oe,{children:R(q.status)}),i.jsx(oe,{children:q.joined_at?I(q.joined_at):"Pendente"}),z&&i.jsx(oe,{children:i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"sm",children:i.jsx(Bp,{className:"h-4 w-4"})})}),i.jsxs(Ea,{children:[i.jsxs(at,{onClick:()=>F(q.user_id,q.role==="admin"?"operator":"admin"),children:[i.jsx(ru,{className:"h-4 w-4 mr-2"}),"Alterar para ",q.role==="admin"?"Operador":"Administrador"]}),i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsxs(at,{onSelect:ce=>ce.preventDefault(),children:[i.jsx(AI,{className:"h-4 w-4 mr-2"}),"Remover do Workspace"]})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Remover Usurio"}),i.jsxs(cn,{children:['Tem certeza que deseja remover "',(ae=q.user)==null?void 0:ae.email,'" do workspace? O usurio perder acesso a todos os dados e funcionalidades.']})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{onClick:()=>D(q.user_id),className:"bg-red-600 hover:bg-red-700",children:"Remover"})]})]})]})]})]})})]},q.id)})]})]})})})]}),i.jsxs(Ue,{value:"invitations",className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Convites Pendentes"}),i.jsxs(B,{variant:"outline",size:"sm",onClick:b,children:[i.jsx(ya,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]}),y.length===0?i.jsx(re,{children:i.jsxs(se,{className:"p-8 text-center",children:[i.jsx(ja,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum convite pendente"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Todos os convites foram aceitos ou expirados"}),z&&i.jsxs(B,{onClick:()=>r(!0),children:[i.jsx(nn,{className:"h-4 w-4 mr-2"}),"Convidar Primeiro Usurio"]})]})}):i.jsx(re,{children:i.jsx(se,{className:"p-0",children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Se,{children:"Email"}),i.jsx(Se,{children:"Role"}),i.jsx(Se,{children:"Convidado por"}),i.jsx(Se,{children:"Enviado em"}),i.jsx(Se,{children:"Expira em"}),z&&i.jsx(Se,{children:"Aes"})]})}),i.jsx(Kr,{children:y.map(q=>{var V;return i.jsxs(it,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ja,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{className:"font-medium",children:q.email})]})}),i.jsx(oe,{children:O(q.role)}),i.jsx(oe,{children:(V=q.invited_by_user)==null?void 0:V.email}),i.jsx(oe,{children:I(q.created_at)}),i.jsx(oe,{children:i.jsx("span",{className:new Date(q.expires_at)<new Date?"text-red-600":"text-gray-600",children:I(q.expires_at)})}),z&&i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>$(q.id),children:[i.jsx(J0,{className:"h-4 w-4 mr-1"}),"Reenviar"]}),i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsx(B,{variant:"outline",size:"sm",children:i.jsx(AI,{className:"h-4 w-4"})})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Cancelar Convite"}),i.jsxs(cn,{children:['Tem certeza que deseja cancelar o convite para "',q.email,'"?']})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{onClick:()=>E(q.id),className:"bg-red-600 hover:bg-red-700",children:"Cancelar Convite"})]})]})]})]})})]},q.id)})})]})})})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Sobre os Roles"}),i.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Wj,{className:"h-4 w-4"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Proprietrio:"})," Controle total do workspace, incluindo excluso e transferncia"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ru,{className:"h-4 w-4"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Administrador:"})," Pode gerenciar usurios, configuraes e todas as funcionalidades"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fr,{className:"h-4 w-4"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Operador:"})," Acesso s funcionalidades principais (CRM, mensagens, relatrios)"]})]})]})]}),i.jsx(yt,{children:i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"})})]})]})}function QGe(){var p;const[e,t]=v.useState({name:"",email:"",phone:""}),[n,r]=v.useState({name:"",slug:""}),[s,a]=v.useState({email:!0,push:!1,sms:!1}),[o,l]=v.useState(!1),{currentWorkspace:c,plans:u}=be(),{user:d}=ri(),{toast:f}=Fn();v.useEffect(()=>{var y,x;d&&t({name:((y=d.user_metadata)==null?void 0:y.name)||"",email:d.email||"",phone:((x=d.user_metadata)==null?void 0:x.phone)||""}),c&&r({name:c.name,slug:c.slug})},[d,c]);const h=async()=>{l(!0);try{f({title:"Sucesso",description:"Perfil atualizado com sucesso"})}catch(y){f({title:"Erro",description:y.message||"Falha ao atualizar perfil",variant:"destructive"})}finally{l(!1)}},m=async()=>{l(!0);try{f({title:"Sucesso",description:"Workspace atualizado com sucesso"})}catch(y){f({title:"Erro",description:y.message||"Falha ao atualizar workspace",variant:"destructive"})}finally{l(!1)}},g=u.find(y=>y.id===(c==null?void 0:c.plan_id));return i.jsx(kr,{children:i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Configuraes"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie suas preferncias e configuraes da conta"})]}),i.jsxs(Qn,{defaultValue:"profile",className:"space-y-6",children:[i.jsxs(Rn,{children:[i.jsxs(Fe,{value:"profile",children:[i.jsx(Ga,{className:"mr-2 h-4 w-4"}),"Perfil"]}),i.jsxs(Fe,{value:"workspace",children:[i.jsx(Du,{className:"mr-2 h-4 w-4"}),"Workspace"]}),i.jsxs(Fe,{value:"billing",children:[i.jsx(C6,{className:"mr-2 h-4 w-4"}),"Cobrana"]}),i.jsxs(Fe,{value:"notifications",children:[i.jsx(Ok,{className:"mr-2 h-4 w-4"}),"Notificaes"]}),i.jsxs(Fe,{value:"security",children:[i.jsx(ru,{className:"mr-2 h-4 w-4"}),"Segurana"]})]}),i.jsx(Ue,{value:"profile",className:"space-y-6",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Informaes Pessoais"}),i.jsx(Ve,{children:"Atualize suas informaes pessoais e preferncias"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"name",children:"Nome Completo"}),i.jsx(ie,{id:"name",value:e.name,onChange:y=>t({...e,name:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"email",children:"Email"}),i.jsx(ie,{id:"email",type:"email",value:e.email,onChange:y=>t({...e,email:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"phone",children:"Telefone"}),i.jsx(ie,{id:"phone",value:e.phone,onChange:y=>t({...e,phone:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"timezone",children:"Fuso Horrio"}),i.jsxs(Oe,{defaultValue:"america/sao_paulo",children:[i.jsx(Pe,{children:i.jsx(Ie,{})}),i.jsxs(Te,{children:[i.jsx(K,{value:"america/sao_paulo",children:"Amrica/So Paulo"}),i.jsx(K,{value:"america/new_york",children:"Amrica/Nova York"}),i.jsx(K,{value:"europe/london",children:"Europa/Londres"})]})]})]})]}),i.jsx(B,{onClick:h,disabled:o,children:o?"Salvando...":"Salvar Alteraes"})]})]})}),i.jsxs(Ue,{value:"workspace",className:"space-y-6",children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Configuraes do Workspace"}),i.jsx(Ve,{children:"Gerencie as configuraes do seu workspace"})]}),i.jsxs(se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workspaceName",children:"Nome do Workspace"}),i.jsx(ie,{id:"workspaceName",value:n.name,onChange:y=>r({...n,name:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(Y,{htmlFor:"workspaceSlug",children:"URL do Workspace"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"omnicrm.com/"}),i.jsx(ie,{id:"workspaceSlug",value:n.slug,onChange:y=>r({...n,slug:y.target.value})})]})]})]}),i.jsx(B,{onClick:m,disabled:o,children:o?"Salvando...":"Salvar Alteraes"})]})]}),i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Membros do Workspace"}),i.jsx(Ve,{children:"Gerencie quem tem acesso ao seu workspace"})]}),i.jsx(se,{children:i.jsxs("div",{className:"text-center py-6",children:[i.jsx("p",{className:"text-gray-600 mb-4",children:"Gerencie usurios, roles e permisses do workspace"}),i.jsx(JGe,{})]})})]})]}),i.jsxs(Ue,{value:"billing",className:"space-y-6",children:[i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Plano Atual"}),i.jsx(Ve,{children:"Gerencie sua assinatura e cobrana"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:(g==null?void 0:g.name)||"Plano No Encontrado"}),i.jsxs("p",{className:"text-gray-600",children:["R$",(g==null?void 0:g.price_monthly)||0,"/ms"]})]}),i.jsx(fe,{variant:"outline",children:"Ativo"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("p",{children:[" Canais: ",(g==null?void 0:g.limits.channels)===-1?"Ilimitado":g==null?void 0:g.limits.channels]}),i.jsxs("p",{children:[" Usurios: ",(g==null?void 0:g.limits.users)===-1?"Ilimitado":g==null?void 0:g.limits.users]}),i.jsxs("p",{children:[" Mensagens/ms: ",(g==null?void 0:g.limits.monthly_messages)===-1?"Ilimitado":(p=g==null?void 0:g.limits.monthly_messages)==null?void 0:p.toLocaleString()]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(B,{variant:"outline",children:"Alterar Plano"}),i.jsx(B,{variant:"outline",children:"Ver Faturas"})]})]})})]}),i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Mtodo de Pagamento"}),i.jsx(Ve,{children:"Gerencie seus mtodos de pagamento"})]}),i.jsx(se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 border rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center text-white text-xs font-bold",children:"VISA"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"   4242"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Expira em 12/25"})]})]}),i.jsx(fe,{children:"Padro"})]})}),i.jsx(B,{variant:"outline",children:"Adicionar Mtodo de Pagamento"})]})})]})]}),i.jsx(Ue,{value:"notifications",className:"space-y-6",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Preferncias de Notificao"}),i.jsx(Ve,{children:"Configure como voc quer receber notificaes"})]}),i.jsxs(se,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Notificaes por Email"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Receba atualizaes importantes por email"})]}),i.jsx(Br,{checked:s.email,onCheckedChange:y=>a({...s,email:y})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Notificaes Push"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Receba notificaes no navegador"})]}),i.jsx(Br,{checked:s.push,onCheckedChange:y=>a({...s,push:y})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Notificaes SMS"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Receba alertas importantes por SMS"})]}),i.jsx(Br,{checked:s.sms,onCheckedChange:y=>a({...s,sms:y})})]})]}),i.jsx(B,{children:"Salvar Preferncias"})]})]})}),i.jsx(Ue,{value:"security",className:"space-y-6",children:i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Segurana da Conta"}),i.jsx(Ve,{children:"Gerencie a segurana da sua conta"})]}),i.jsx(se,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Alterar Senha"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ie,{type:"password",placeholder:"Senha atual"}),i.jsx(ie,{type:"password",placeholder:"Nova senha"}),i.jsx(ie,{type:"password",placeholder:"Confirmar nova senha"})]}),i.jsx(B,{className:"mt-2",children:"Alterar Senha"})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Autenticao de Dois Fatores"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Adicione uma camada extra de segurana  sua conta"}),i.jsx(B,{variant:"outline",children:"Configurar 2FA"})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Sesses Ativas"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Gerencie onde voc est logado"}),i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Chrome - Windows"}),i.jsx("p",{className:"text-sm text-gray-500",children:"So Paulo, Brasil  Agora"})]}),i.jsx(fe,{variant:"outline",children:"Atual"})]})})]})]})})]})})]})]})})})}async function ZGe(e,t){if(!e||!t)throw new Error("Transportadora e cdigo de rastreio so obrigatrios.");try{const s=await fetch("https://oqwstanztqdiexgrpdta.supabase.co/functions/v1/tracking-proxy",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k"},body:JSON.stringify({carrier:e,trackingCode:t})});if(!s.ok){const a=await s.json();throw new Error(a.message||`HTTP error! status: ${s.status}`)}return await s.json()}catch(n){throw console.error("Error in trackPackage function:",n),n}}function eKe(e,t){var r,s;const n={status:"Status desconhecido",lastUpdate:new Date().toISOString(),history:[]};if(t!=null&&t.success&&(t!=null&&t.result)){const a=(r=t.result.events)==null?void 0:r[0];return{status:(a==null?void 0:a.status)||"Aguardando postagem",estimatedDelivery:t.result.estimatedDelivery,lastUpdate:(a==null?void 0:a.date)||new Date().toISOString(),history:((s=t.result.events)==null?void 0:s.map(o=>({date:o.date,status:o.status,location:o.location})))||[]}}return n}function Gh(e,t){if(!t)return"";const n=e.toLowerCase();return n.includes("correios")?`https://rastreamento.correios.com.br/app/index.php?objeto=${t}`:n.includes("jadlog")?`https://www.jadlog.com.br/siteInstitucional/tracking.jad?cte=${t}`:n.includes("total")?`https://www.totalexpress.com.br/tracking/${t}`:n.includes("azul")?`https://rastreamento.azulcargo.com.br/tracking/${t}`:n.includes("braspress")?`https://www.braspress.com/tracking/?numNF=${t}`:n.includes("mercado")?`https://www.mercadolivre.com.br/envios/tracking/${t}`:""}const wf=ka((e,t)=>({purchases:[],returns:[],transfers:[],viewMode:"table",showArchived:!1,loading:!1,setViewMode:n=>e({viewMode:n}),setShowArchived:n=>{e({showArchived:n});const{fetchPurchases:r,fetchReturns:s,fetchTransfers:a}=t();r(),s(),a()},fetchPurchases:async()=>{await G.handleAsync(async()=>{e({loading:!0});const n=be.getState().currentWorkspace;if(!n)return;let r=U.from("purchases").select(`
                    *,
                    products:purchase_products(
                        id,
                        purchase_id,
                        name,
                        quantity,
                        cost,
                        total_cost,
                        is_verified,
                        is_in_stock,
                        vencimento,
                        SKU, 
                        preco_ml,
                        preco_atacado
                    )
                `).eq("workspace_id",n.id).order("date",{ascending:!1});t().showArchived||(r=r.eq("is_archived",!1));const{data:s,error:a}=await r;if(a)throw a;if(!s){e({purchases:[],loading:!1});return}const o=s.map(l=>({id:l.id,date:l.date,carrier:l.carrier,storeName:l.storeName,customer_name:l.customer_name,trackingCode:l.trackingCode,delivery_fee:l.delivery_fee,status:l.status,estimated_delivery:l.estimated_delivery,is_archived:l.is_archived,created_at:l.created_at,updated_at:l.updated_at,workspace_id:l.workspace_id,metadata:l.metadata||null,observation:l.observation,products:(l.products||[]).map(c=>({id:c.id,purchase_id:c.purchase_id,name:c.name,quantity:c.quantity,cost:c.cost,total_cost:c.total_cost,is_verified:c.is_verified,is_in_stock:c.is_in_stock,vencimento:c.vencimento,SKU:c.SKU||"",preco_ml:c.preco_ml,preco_atacado:c.preco_atacado}))}));e({purchases:o,loading:!1})})},fetchReturns:async()=>{await G.handleAsync(async()=>{e({loading:!0});const n=be.getState().currentWorkspace;if(!n)return;let r=U.from("returns").select("*, metadata").eq("workspace_id",n.id).order("date",{ascending:!1});t().showArchived||(r=r.eq("is_archived",!1));const{data:s,error:a}=await r;if(a)throw a;const o=(s||[]).map(l=>({id:l.id,date:l.date,carrier:l.carrier,storeName:l.storeName,customer_name:l.customer_name,trackingCode:l.trackingCode,status:l.status,estimated_delivery:l.estimated_delivery,is_archived:l.is_archived,created_at:l.created_at,updated_at:l.updated_at,workspace_id:l.workspace_id,observations:l.observations,is_verified:l.is_verified,verification_observations:l.verification_observations,verified_at:l.verified_at,metadata:l.metadata}));e({returns:o||[],loading:!1})})},fetchTransfers:async()=>{await G.handleAsync(async()=>{e({loading:!0});const n=be.getState().currentWorkspace;if(!n)return;let r=U.from("transfers").select(`
                    *,
                    products:transfer_products(*)
                `).eq("workspace_id",n.id).order("date",{ascending:!1});const{data:s,error:a}=await r;if(a)throw a;const o=(s||[]).map(l=>({id:l.id,date:l.date,carrier:l.carrier,storeName:l.storeName,customer_name:l.customer_name,trackingCode:l.trackingCode,status:l.status,estimated_delivery:l.estimated_delivery,is_archived:l.is_archived,created_at:l.created_at,updated_at:l.updated_at,workspace_id:l.workspace_id,source_stock:l.source_stock,destination_stock:l.destination_stock,conferido:l.conferido||!1,in_stock:l.in_stock||!1,retirado_stock:l.retirado_stock||!1,metadata:l.metadata,products:(l.products||[]).map(c=>({id:c.id,transfer_id:c.transfer_id,name:c.name,quantity:c.quantity,sku:c.sku,is_verified:c.is_verified,created_at:c.created_at,updated_at:c.updated_at}))}));e({transfers:o||[],loading:!1})})},createPurchase:async(n,r)=>await G.handleAsync(async()=>{const s=be.getState().currentWorkspace;if(!s)throw new Error("Nenhum workspace selecionado");const a={date:n.date,carrier:n.carrier,storeName:n.storeName,customer_name:n.customer_name||null,trackingCode:n.trackingCode,delivery_fee:n.delivery_fee,status:"Aguardando rastreamento",is_archived:!1,workspace_id:s.id,metadata:[],observation:n.observation||null},{data:o,error:l}=await U.from("purchases").insert(a).select().single();if(l)throw l;const c=r.reduce((h,m)=>h+(m.quantity||0),0),u=c>0?n.delivery_fee/c:0,d=r.map(h=>({name:h.name,quantity:h.quantity,cost:parseFloat(((h.cost||0)+u).toFixed(2)),SKU:h.SKU,purchase_id:o.id,is_verified:!1,is_in_stock:!1,vencimento:h.vencimento||null,preco_ml:h.preco_ml||null,preco_atacado:h.preco_atacado||null})),{error:f}=await U.from("purchase_products").insert(d);if(f)throw f;try{await t().updateTrackingStatus("purchase",o.id)}catch(h){console.warn("Could not update tracking status for new purchase:",h)}t().fetchPurchases(),G.showSuccess("Compra criada com sucesso!")}),updatePurchase:async(n,r,s)=>{await G.handleAsync(async()=>{const{error:a}=await U.from("purchases").update({date:r.date,carrier:r.carrier,storeName:r.storeName,customer_name:r.customer_name||null,trackingCode:r.trackingCode,delivery_fee:r.delivery_fee,observation:r.observation||null,updated_at:new Date().toISOString()}).eq("id",n);if(a)throw a;const o=s.map(p=>p.id).filter(Boolean),{data:l,error:c}=await U.from("purchase_products").select("id").eq("purchase_id",n);if(c)throw c;const d=(l||[]).map(p=>p.id).filter(p=>!o.includes(p));if(d.length>0){const{error:p}=await U.from("purchase_products").delete().in("id",d);if(p)throw p}const f=s.reduce((p,y)=>p+(y.quantity||0),0),h=f>0?r.delivery_fee/f:0,m=s.filter(p=>p.id),g=s.filter(p=>!p.id);if(m.length>0){const p=m.map(x=>({id:x.id,purchase_id:n,name:x.name,SKU:x.SKU,quantity:x.quantity,cost:parseFloat(((x.cost||0)+h).toFixed(2))}));console.log("Enviando para o UPDATE:",JSON.stringify(p,null,2));const{error:y}=await U.from("purchase_products").upsert(p);if(y)throw console.error("Erro no UPDATE de produtos:",y),y}if(g.length>0){const p=g.map(x=>({purchase_id:n,name:x.name,SKU:x.SKU,quantity:x.quantity,cost:parseFloat(((x.cost||0)+h).toFixed(2)),is_verified:!1,is_in_stock:!1,vencimento:null,preco_ml:null,preco_atacado:null}));console.log("Enviando para o INSERT:",JSON.stringify(p,null,2));const{error:y}=await U.from("purchase_products").insert(p);if(y)throw console.error("Erro no INSERT de novos produtos:",y),y}await t().fetchPurchases(),G.showSuccess("Compra atualizada com sucesso!")})},archivePurchase:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("purchases").update({is_archived:!0,updated_at:new Date().toISOString()}).eq("id",n);if(r)throw console.error("Error archiving purchase:",r),r;t().fetchPurchases(),G.showSuccess("Compra arquivada com sucesso!")})},deletePurchase:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.rpc("delete_purchase_and_products",{p_id:n});if(r)throw console.error("Erro ao deletar o pedido de compra:",r),r;e(s=>({purchases:s.purchases.filter(a=>a.id!==n)})),G.showSuccess("Pedido de compra deletado com sucesso!")})},verifyPurchaseProduct:async(n,r,s,a,o)=>{await G.handleAsync(async()=>{var S;const{data:l,error:c}=await U.from("purchase_products").select("vencimento, preco_ml, preco_atacado").eq("id",r).eq("purchase_id",n).single();if(c)throw c;const u=s||(l==null?void 0:l.vencimento),d=a!==void 0?a:l==null?void 0:l.preco_ml,f=o!==void 0?o:l==null?void 0:l.preco_atacado,h=!!u&&d!=null&&f!=null,m={is_verified:h,updated_at:new Date().toISOString()};u!==void 0&&(m.vencimento=u),d!==void 0&&(m.preco_ml=d),f!==void 0&&(m.preco_atacado=f);const{error:g}=await U.from("purchase_products").update(m).eq("id",r).eq("purchase_id",n);if(g)throw console.error("Erro ao verificar produto:",g),g;const{data:p,error:y}=await U.from("purchases").select("status, is_archived, products:purchase_products(*)").eq("id",n).single();if(y)throw y;const x=p,b=x.products.map(N=>N.id===r?{...N,is_verified:h,vencimento:u,preco_ml:d,preco_atacado:f}:N);let j=x.status;if(b.every(N=>N.is_verified))j="Produto entregue e conferido";else{const N=[];b.some(C=>!!C.vencimento)&&N.push("Vencimento"),b.some(C=>C.preco_ml!==void 0&&C.preco_ml!==null)&&N.push("Preo ML"),b.some(C=>C.preco_atacado!==void 0&&C.preco_atacado!==null)&&N.push("Preo Atacado"),N.length>0?j=`Produto entregue - ${N.join(" & ")} conferido(s)`:!x.is_archived&&((S=x.status)!=null&&S.toLowerCase().includes("entregue"))&&(j="Entregue")}await U.from("purchases").update({status:j,updated_at:new Date().toISOString()}).eq("id",n),e(N=>({purchases:N.purchases.map(C=>C.id===n?{...C,status:j,products:b}:C)})),t().fetchPurchases()})},updateProductStatusToInStock:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("purchase_products").update({is_in_stock:!0,updated_at:new Date().toISOString()}).eq("id",r).eq("purchase_id",n);if(s)throw console.error("Erro ao adicionar produto ao estoque:",s),s;e(c=>({purchases:c.purchases.map(u=>u.id===n?{...u,products:(u.products||[]).map(d=>d.id===r?{...d,is_in_stock:!0}:d)}:u)}));const{data:a,error:o}=await U.from("purchase_products").select("is_in_stock").eq("purchase_id",n);if(o)throw console.error("Erro ao buscar produtos para verificao de estoque total:",o),o;(a||[]).every(c=>c.is_in_stock)&&await U.from("purchases").update({status:"Adicionado ao estoque",is_archived:!0,updated_at:new Date().toISOString()}).eq("id",n),t().fetchPurchases()})},addProductToInventory:async n=>{await G.handleAsync(async()=>{const r=be.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");const{data:s,error:a}=await U.from("purchases").select("*, purchase_products(*)").eq("id",n).single();if(a||!s)throw new Error("Compra no encontrada");if(!s.warehouse)throw new Error("Warehouse no especificado na compra. Edite a compra e selecione um warehouse.");const{data:o,error:l}=await U.from("baselinker_warehouses").select("*").eq("workspace_id",r.id).eq("warehouse_id",s.warehouse).eq("is_active",!0).single();if(l||!o)throw new Error(`Warehouse ${s.warehouse} no est ativo ou no existe. Ative o warehouse nas configuraes.`);if(!o.allow_stock_updates)throw new Error(`Warehouse ${o.warehouse_name} no permite atualizaes de estoque.`);const c=`baselinker_config_${r.id}`,u=localStorage.getItem(c);if(!u)throw new Error("Configurao do Baselinker no encontrada. Configure a API Key na pgina de Integraes.");const d=JSON.parse(u),f=d.apiKey,h=d.inventoryId;if(!f||!h)throw new Error("API Key ou Inventory ID do Baselinker no configurado");const m=vi();if(!m)throw new Error("Baselinker no est inicializado");const g=s.purchase_products||[],p=[],y=[];for(const j of g)try{const{data:w,error:S}=await U.from("products").select("id, name, baselinker_product_id").eq("workspace_id",r.id).eq("sku",j.sku).eq("warehouse",s.warehouse).single();if(S||!w||!w.baselinker_product_id){p.push(`Produto ${j.sku} no encontrado no Baselinker ou sem product_id configurado`);continue}await m.addProductQuantity(f,{inventory_id:h,product_id:w.baselinker_product_id,variant_id:"0",quantity:j.quantity}),y.push(`${j.sku}: +${j.quantity}`),await U.from("log_lanamento_estoque").insert({workspace_id:r.id,dia_lancado:new Date().toISOString(),sku:j.sku,quantidade:j.quantity,purchase_id:n,tracking_code:s.tracking_code,estoque_origem:s.warehouse,status:"success"});const{data:N}=await U.from("products").select("stock_quantity").eq("id",w.id).single(),C=(N==null?void 0:N.stock_quantity)||0,_=C+j.quantity;await U.from("stock_change_log").insert({workspace_id:r.id,product_id:w.id,sku:j.sku,change_type:"add",warehouse:s.warehouse,reference_type:"purchase",reference_id:n,quantity_before:C,quantity_after:_,quantity_change:j.quantity,notes:`Compra adicionada ao estoque - ${s.tracking_code}`,created_by:r.id})}catch(w){console.error(`Erro ao adicionar ${j.sku}:`,w),p.push(`${j.sku}: ${w.message}`),await U.from("log_lanamento_estoque").insert({workspace_id:r.id,dia_lancado:new Date().toISOString(),sku:j.sku,quantidade:j.quantity,purchase_id:n,tracking_code:s.tracking_code,estoque_origem:s.warehouse,status:"error",error_message:w.message})}const{error:x}=await U.from("purchase_products").update({is_in_stock:!0,updated_at:new Date().toISOString()}).eq("purchase_id",n);if(x)throw console.error("Erro ao atualizar produtos para 'em estoque':",x),x;const{error:b}=await U.from("purchases").update({is_archived:!0,status:p.length>0?"Parcialmente adicionado":"Adicionado ao estoque",updated_at:new Date().toISOString()}).eq("id",n);if(b)throw console.error("Erro ao adicionar compra ao estoque:",b),b;t().fetchPurchases(),p.length>0?G.showError(`Alguns produtos falharam:
${p.join(`
`)}

Sucessos: ${y.join(", ")}`):G.showSuccess(`Compra adicionada ao estoque!
${y.join(", ")}`)})},verifyTransferProduct:async(n,r)=>{await G.handleAsync(async()=>{const{error:s}=await U.from("transfer_products").update({is_verified:!0,updated_at:new Date().toISOString()}).eq("id",r).eq("transfer_id",n);if(s)throw console.error("Erro ao verificar produto da transferncia:",s),s;const{data:a,error:o}=await U.from("transfer_products").select("is_verified").eq("transfer_id",n);if(o)throw console.error("Erro ao buscar produtos da transferncia:",o),o;((a==null?void 0:a.every(c=>c.is_verified))||!1)&&await U.from("transfers").update({conferido:!0,status:"Conferido",updated_at:new Date().toISOString()}).eq("id",n),t().fetchTransfers(),G.showSuccess("Produto da transferncia verificado com sucesso!")})},addTransferToInventory:async n=>{await G.handleAsync(async()=>{const r=be.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");const{data:s,error:a}=await U.from("transfers").select("*, transfer_products(*)").eq("id",n).single();if(a||!s)throw new Error("Transferncia no encontrada");if(!s.source_stock||!s.destination_stock)throw new Error("Warehouse de origem ou destino no especificado na transferncia.");const{data:o,error:l}=await U.from("baselinker_warehouses").select("*").eq("workspace_id",r.id).eq("warehouse_id",s.source_stock).eq("is_active",!0).single();if(l||!o)throw new Error(`Warehouse de origem ${s.source_stock} no est ativo ou no existe.`);const{data:c,error:u}=await U.from("baselinker_warehouses").select("*").eq("workspace_id",r.id).eq("warehouse_id",s.destination_stock).eq("is_active",!0).single();if(u||!c)throw new Error(`Warehouse de destino ${s.destination_stock} no est ativo ou no existe.`);if(!o.allow_stock_updates||!c.allow_stock_updates)throw new Error("Um dos warehouses no permite atualizaes de estoque.");const d=`baselinker_config_${r.id}`,f=localStorage.getItem(d);if(!f)throw new Error("Configurao do Baselinker no encontrada. Configure a API Key na pgina de Integraes.");const h=JSON.parse(f),m=h.apiKey,g=h.inventoryId;if(!m||!g)throw new Error("API Key ou Inventory ID do Baselinker no configurado");const p=vi();if(!p)throw new Error("Baselinker no est inicializado");const y=s.transfer_products||[],x=[],b=[];for(const S of y)try{const{data:N,error:C}=await U.from("products").select("id, name, baselinker_product_id").eq("workspace_id",r.id).eq("sku",S.sku).eq("warehouse",s.source_stock).single();if(C||!N||!N.baselinker_product_id){x.push(`Produto ${S.sku} no encontrado no warehouse de origem`);continue}const{data:_,error:k}=await U.from("products").select("id, name, baselinker_product_id").eq("workspace_id",r.id).eq("sku",S.sku).eq("warehouse",s.destination_stock).single();if(k||!_||!_.baselinker_product_id){x.push(`Produto ${S.sku} no encontrado no warehouse de destino`);continue}await p.removeProductQuantity(m,{inventory_id:g,product_id:N.baselinker_product_id,variant_id:"0",quantity:S.quantity}),await p.addProductQuantity(m,{inventory_id:g,product_id:_.baselinker_product_id,variant_id:"0",quantity:S.quantity}),b.push(`${S.sku}: ${s.source_stock}  ${s.destination_stock} (${S.quantity})`),await U.from("log_lanamento_transferencia").insert({workspace_id:r.id,dia_lancado:new Date().toISOString(),sku:S.sku,quantidade:S.quantity,tracking_code:s.tracking_code,tipo:"transfer",estoque_origem:s.source_stock,estoque_destino:s.destination_stock,status:"success"});const{data:A}=await U.from("products").select("stock_quantity").eq("id",N.id).single(),T=(A==null?void 0:A.stock_quantity)||0,D=T-S.quantity;await U.from("stock_change_log").insert({workspace_id:r.id,product_id:N.id,sku:S.sku,change_type:"transfer_out",warehouse:s.source_stock,reference_type:"transfer",reference_id:n,quantity_before:T,quantity_after:D,quantity_change:-S.quantity,notes:`Transferncia para ${s.destination_stock} - ${s.tracking_code}`,created_by:r.id});const{data:F}=await U.from("products").select("stock_quantity").eq("id",_.id).single(),E=(F==null?void 0:F.stock_quantity)||0,$=E+S.quantity;await U.from("stock_change_log").insert({workspace_id:r.id,product_id:_.id,sku:S.sku,change_type:"transfer_in",warehouse:s.destination_stock,reference_type:"transfer",reference_id:n,quantity_before:E,quantity_after:$,quantity_change:S.quantity,notes:`Transferncia de ${s.source_stock} - ${s.tracking_code}`,created_by:r.id})}catch(N){console.error(`Erro ao processar transferncia de ${S.sku}:`,N),x.push(`${S.sku}: ${N.message}`),await U.from("log_lanamento_transferencia").insert({workspace_id:r.id,dia_lancado:new Date().toISOString(),sku:S.sku,quantidade:S.quantity,tracking_code:s.tracking_code,tipo:"transfer",estoque_origem:s.source_stock,estoque_destino:s.destination_stock,status:"error",error_message:N.message})}const{error:j}=await U.from("transfer_products").update({is_verified:!0,updated_at:new Date().toISOString()}).eq("transfer_id",n);if(j)throw console.error("Erro ao atualizar produtos da transferncia:",j),j;const{error:w}=await U.from("transfers").update({conferido:!0,in_stock:!0,retirado_stock:!0,status:x.length>0?"Parcialmente lanado":"Lanado no estoque",updated_at:new Date().toISOString()}).eq("id",n);if(w)throw console.error("Erro ao finalizar transferncia:",w),w;t().fetchTransfers(),x.length>0?G.showError(`Alguns produtos falharam:
${x.join(`
`)}

Sucessos: ${b.join(", ")}`):G.showSuccess(`Transferncia lanada no estoque!
${b.join(", ")}`)})},updateTransferStatus:async(n,r,s)=>{await G.handleAsync(async()=>{const a={[r]:s,updated_at:new Date().toISOString()};r==="conferido"&&s?a.status="Conferido":r==="in_stock"&&s&&(a.status="Lanado no estoque");const{error:o}=await U.from("transfers").update(a).eq("id",n);if(o)throw console.error("Erro ao atualizar status da transferncia:",o),o;t().fetchTransfers(),G.showSuccess("Status da transferncia atualizado com sucesso!")})},archiveTransfer:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("transfers").update({is_archived:!0,updated_at:new Date().toISOString()}).eq("id",n);if(r)throw console.error("Error archiving transfer:",r),r;t().fetchTransfers(),G.showSuccess("Transferncia arquivada com sucesso!")})},createReturn:async n=>{await G.handleAsync(async()=>{const r=be.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");const s={date:n.date,carrier:n.carrier,storeName:n.storeName,customer_name:n.customer_name,trackingCode:n.trackingCode,status:"Aguardando rastreamento",is_archived:!1,workspace_id:r.id,metadata:[]},{data:a,error:o}=await U.from("returns").insert(s).select().single();if(o)throw console.error("Error creating return:",o),o;try{a&&await t().updateTrackingStatus("return",a.id)}catch(l){console.warn("Could not update tracking status for new return:",l)}t().fetchReturns(),G.showSuccess("Devoluo criada com sucesso!")})},updateReturn:async(n,r)=>{await G.handleAsync(async()=>{const s={updated_at:new Date().toISOString()};r.date!==void 0&&(s.date=r.date),r.carrier!==void 0&&(s.carrier=r.carrier),r.storeName!==void 0&&(s.storeName=r.storeName),r.customer_name!==void 0&&(s.customer_name=r.customer_name),r.trackingCode!==void 0&&(s.trackingCode=r.trackingCode),r.status!==void 0&&(s.status=r.status),r.estimated_delivery!==void 0&&(s.estimated_delivery=r.estimated_delivery),r.is_archived!==void 0&&(s.is_archived=r.is_archived),r.observations!==void 0&&(s.observations=r.observations),r.is_verified!==void 0&&(s.is_verified=r.is_verified),r.verification_observations!==void 0&&(s.verification_observations=r.verification_observations);const{error:a}=await U.from("returns").update(s).eq("id",n);if(a)throw a;t().fetchReturns(),G.showSuccess("Devoluo atualizada com sucesso!")})},archiveReturn:async n=>{await G.handleAsync(async()=>{const{error:r}=await U.from("returns").update({is_archived:!0,updated_at:new Date().toISOString()}).eq("id",n);if(r)throw console.error("Error archiving return:",r),r;t().fetchReturns(),G.showSuccess("Devoluo arquivada com sucesso!")})},verifyReturn:async(n,r)=>{await G.handleAsync(async()=>{const s={is_verified:!0,verified_at:new Date().toISOString(),updated_at:new Date().toISOString()};r&&r.trim()!==""&&(s.verification_observations=r);const{error:a}=await U.from("returns").update(s).eq("id",n);if(a)throw console.error("Erro ao verificar devoluo:",a),a;t().fetchReturns(),G.showSuccess("Devoluo conferida com sucesso!")})},createTransfer:async n=>{await G.handleAsync(async()=>{const r=be.getState().currentWorkspace;if(!r)throw new Error("Nenhum workspace selecionado");const s={date:n.date,carrier:n.carrier,storeName:n.storeName,customer_name:n.customer_name,trackingCode:n.trackingCode,source_stock:n.source_stock,destination_stock:n.destination_stock,status:"Aguardando rastreamento",is_archived:!1,workspace_id:r.id,metadata:[]},{data:a,error:o}=await U.from("transfers").insert(s).select().single();if(o)throw console.error("Error creating transfer:",o),o;if(n.products&&n.products.length>0){const l=n.products.map(u=>({transfer_id:a.id,name:u.name,quantity:u.quantity,sku:u.sku||"",is_verified:!1})),{error:c}=await U.from("transfer_products").insert(l);if(c)throw console.error("Error creating transfer products:",c),c}try{a&&await t().updateTrackingStatus("transfer",a.id)}catch(l){console.warn("Could not update tracking status for new transfer:",l)}t().fetchTransfers(),G.showSuccess("Transferncia criada com sucesso!")})},updateTransfer:async(n,r)=>{await G.handleAsync(async()=>{const s={updated_at:new Date().toISOString()};r.date!==void 0&&(s.date=r.date),r.carrier!==void 0&&(s.carrier=r.carrier),r.storeName!==void 0&&(s.storeName=r.storeName),r.customer_name!==void 0&&(s.customer_name=r.customer_name),r.trackingCode!==void 0&&(s.trackingCode=r.trackingCode),r.status!==void 0&&(s.status=r.status),r.estimated_delivery!==void 0&&(s.estimated_delivery=r.estimated_delivery),r.is_archived!==void 0&&(s.is_archived=r.is_archived);const{error:a}=await U.from("transfers").update(s).eq("id",n);if(a)throw a;t().fetchTransfers(),G.showSuccess("Transferncia atualizada com sucesso!")})},updateTrackingStatus:async(n,r)=>{await G.handleAsync(async()=>{const{data:s}=await U.from(n==="purchase"?"purchases":n==="return"?"returns":"transfers").select("trackingCode, carrier").eq("id",r).single();if(!(!s||!s.trackingCode))try{const a=await t().getTrackingInfo(s.carrier,s.trackingCode);if(!a.success||!a.data)throw new Error(a.error||"Falha ao rastrear objeto");await U.from(n==="purchase"?"purchases":n==="return"?"returns":"transfers").update({status:a.data.status,estimated_delivery:a.data.estimatedDelivery,metadata:a.data.history,updated_at:new Date().toISOString()}).eq("id",r),n==="purchase"?t().fetchPurchases():n==="return"?t().fetchReturns():n==="transfer"&&t().fetchTransfers()}catch(a){console.error(`Error updating ${s.carrier} tracking for ${n} ${r}:`,a)}})},findItemByTrackingCode:async n=>await G.handleAsync(async()=>{if(!n)return null;const r=be.getState().currentWorkspace;if(!r)return null;const{data:s}=await U.from("purchases").select("*, products:purchase_products(*), metadata").eq("workspace_id",r.id).eq("trackingCode",n).maybeSingle();if(s)return{type:"purchase",item:{...s,products:(s.products||[]).map(c=>({...c})),metadata:s.metadata,observation:s.observation}};const{data:a}=await U.from("returns").select("*, metadata").eq("workspace_id",r.id).eq("trackingCode",n).maybeSingle();if(a)return{type:"return",item:a};const{data:o}=await U.from("transfers").select("*, metadata").eq("workspace_id",r.id).eq("trackingCode",n).maybeSingle();return o?{type:"transfer",item:o}:null})||null,updateAllTrackingStatuses:async()=>{},getTrackingInfo:async(n,r)=>{try{if(!n||!r)return{success:!1,error:"Transportadora ou cdigo de rastreio no informados"};const s=await ZGe(n,r);return s.success?{success:!0,data:eKe(n,s)}:{success:!1,error:s.message||"Falha ao rastrear objeto"}}catch(s){return console.error("Error tracking package:",s),{success:!1,error:s.message||"Falha ao rastrear objeto"}}}}));function b2({products:e,value:t,onSelect:n,onInputChange:r,selectedWarehouse:s}){const[a,o]=v.useState(!1),[l,c]=v.useState(new Map),u=v.useRef(null),d=v.useRef(null),{currentWorkspace:f}=be(),h=(t==null?void 0:t.name)||"";v.useEffect(()=>{m()},[e,f]);const m=async()=>{if(!(!f||e.length===0))try{const j=e.map(C=>C.SKU||C.sku).filter(Boolean);if(j.length===0)return;const{data:w,error:S}=await U.from("product_stock_by_warehouse").select("sku, warehouse_id, stock_quantity").eq("workspace_id",f.id).in("sku",j);if(S){console.error("Error fetching warehouse stocks:",S);return}const N=new Map;(w||[]).forEach(C=>{N.has(C.sku)||N.set(C.sku,new Map),N.get(C.sku).set(C.warehouse_id,C.stock_quantity)}),c(N)}catch(j){console.error("Error in fetchWarehouseStocks:",j)}},g=v.useMemo(()=>{if(!h||h.length<2)return[];const j=h.toLowerCase().trim(),w=j.split(" ").filter(_=>_.length>0);if(w.length===0)return[];const N=e.map(_=>{var T;const k=((T=_.name)==null?void 0:T.toLowerCase())||"";let A=0;return k.includes(j)?A=2:w.every(D=>k.includes(D))&&(A=1),{product:_,score:A}}).filter(_=>_.score>0).sort((_,k)=>k.score-_.score).map(_=>_.product);return N.length===0?[]:N.some(_=>{var k;return(k=_.name)==null?void 0:k.toLowerCase().includes("sabor")})?N.filter(_=>{var k;return(k=_.name)==null?void 0:k.toLowerCase().includes("sabor")}):N},[h,e]);v.useEffect(()=>{h.length>=2&&g.length>0?o(!0):o(!1)},[h,g.length]),v.useEffect(()=>{if(!a)return;const j=S=>{u.current&&!u.current.contains(S.target)&&o(!1)},w=setTimeout(()=>{document.addEventListener("mousedown",j)},100);return()=>{clearTimeout(w),document.removeEventListener("mousedown",j)}},[a]),v.useEffect(()=>()=>{o(!1)},[]);const p=j=>{const w={...j,SKU:j.SKU||j.sku||""};o(!1),n(w)},y=j=>{r(j.target.value)},x=()=>{setTimeout(()=>{o(!1)},200)},b=j=>{const w=j.SKU||j.sku||"",S=l.get(w);if(!S||S.size===0){if(s){const A=j.stock_es??0,T=j.stock_sp??0;return s.toLowerCase().includes("es")?`Estoque: ${A}`:s.toLowerCase().includes("sp")?`Estoque: ${T}`:`ES: ${A} | SP: ${T}`}const _=j.stock_es??0,k=j.stock_sp??0;return`ES: ${_} | SP: ${k}`}if(s)return`Estoque: ${S.get(s)??0}`;const N=Array.from(S.values()).reduce((_,k)=>_+k,0),C=S.size;return C===1?`Estoque: ${N}`:`Total: ${N} (${C} warehouses)`};return i.jsxs("div",{ref:u,className:"relative w-full",children:[i.jsx(ie,{ref:d,type:"text",placeholder:"Digite para buscar um produto (mnimo 2 letras)...",value:h,onChange:y,onFocus:()=>{h.length>=2&&g.length>0&&o(!0)},onBlur:x,className:"w-full",autoComplete:"off"}),a&&g.length>0&&i.jsx("div",{className:"absolute z-[9999] w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-[300px] overflow-y-auto",children:i.jsx("div",{className:"py-1",children:g.map(j=>i.jsx("div",{onMouseDown:w=>{w.preventDefault(),p(j)},className:"px-3 py-2 cursor-pointer hover:bg-gray-100 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:j.name}),i.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap flex-shrink-0",children:b(j)})]})},j.id))})})]})}function tKe({open:e,onOpenChange:t}){const[n,r]=v.useState({date:new Date().toISOString().split("T")[0],carrier:"",storeName:"",customer_name:"",trackingCode:"",delivery_fee:0,observation:"",warehouse:""}),[s,a]=v.useState([{name:"",quantity:1,cost:0,SKU:""}]),[o,l]=v.useState([]),[c,u]=v.useState(!1),{createPurchase:d}=wf(),{products:f,fetchProducts:h}=Or(),{currentWorkspace:m}=be(),{toast:g}=Fn();v.useEffect(()=>{e&&(h(),p())},[e,h]);const p=async()=>{if(m)try{const{data:S,error:N}=await U.from("baselinker_warehouses").select("warehouse_id, warehouse_name").eq("workspace_id",m.id);if(N)throw N;l(S||[])}catch(S){console.error("Error fetching warehouses:",S)}},y=()=>{a([...s,{name:"",quantity:1,cost:0,SKU:""}])},x=S=>{a(s.filter((N,C)=>C!==S))},b=(S,N,C)=>{const _=[...s],k=_[S];k&&(k[N]=C,a(_))},j=(S,N)=>{const C=[...s];C[S]={...C[S],id:N.id,name:N.name,SKU:N.SKU||""},a(C)},w=async S=>{if(S.preventDefault(),!n.date||!n.carrier||!n.storeName||!n.trackingCode||n.delivery_fee<0){g({title:"Erro",description:"Por favor, preencha todos os campos obrigatrios da compra",variant:"destructive"});return}if(!n.warehouse){g({title:"Erro",description:"Por favor, selecione o warehouse de destino",variant:"destructive"});return}if(s.length===0||s.some(N=>!N.name||!N.SKU||(N.quantity??0)<=0||(N.cost??-1)<0)){g({title:"Erro",description:"Por favor, preencha corretamente todos os produtos (Nome, SKU, Quantidade e Custo)",variant:"destructive"});return}u(!0);try{await d(n,s),r({date:new Date().toISOString().split("T")[0],carrier:"",storeName:"",customer_name:"",trackingCode:"",delivery_fee:0,observation:"",warehouse:""}),a([{name:"",quantity:1,cost:0,SKU:""}]),t(!1),g({title:"Sucesso",description:"Compra criada com sucesso"})}catch(N){console.error("Error creating purchase:",N),g({title:"Erro",description:"Falha ao criar compra",variant:"destructive"})}finally{u(!1)}};return i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Nova Compra"}),i.jsx(ft,{children:"Adicione uma nova compra para rastreamento"})]}),i.jsxs("form",{onSubmit:w,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"date",className:"flex items-center gap-2",children:[i.jsx(Li,{className:"h-4 w-4 text-gray-500"}),"Data de Compra *"]}),i.jsx(ie,{id:"date",type:"date",value:n.date,onChange:S=>r({...n,date:S.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"carrier",className:"flex items-center gap-2",children:[i.jsx(cc,{className:"h-4 w-4 text-gray-500"})," Transportadora *"]}),i.jsxs(Oe,{value:n.carrier||"",onValueChange:S=>r({...n,carrier:S}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione a transportadora"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"Correios",children:"Correios"}),i.jsx(K,{value:"Jadlog",children:"Jadlog"}),i.jsx(K,{value:"Total Express",children:"Total Express"}),i.jsx(K,{value:"Azul Cargo",children:"Azul Cargo"}),i.jsx(K,{value:"Braspress",children:"Braspress"}),i.jsx(K,{value:"Outra",children:"Outra"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"storeName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"})," Nome da Loja *"]}),i.jsx(ie,{id:"storeName",value:n.storeName,onChange:S=>r({...n,storeName:S.target.value}),placeholder:"Ex: Mercado Livre",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"customerName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"})," Nome do Cliente (Opcional)"]}),i.jsx(ie,{id:"customerName",value:n.customer_name,onChange:S=>r({...n,customer_name:S.target.value}),placeholder:"Ex: Joo Silva"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"trackingCode",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"})," Cdigo de Rastreio *"]}),i.jsx(ie,{id:"trackingCode",value:n.trackingCode,onChange:S=>r({...n,trackingCode:S.target.value}),placeholder:"Ex: AA123456789BR",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"deliveryFee",className:"flex items-center gap-2",children:[i.jsx(ic,{className:"h-4 w-4 text-gray-500"})," Taxa de Entrega *"]}),i.jsx(ie,{id:"deliveryFee",type:"number",min:"0",step:"0.01",value:n.delivery_fee,onChange:S=>r({...n,delivery_fee:parseFloat(S.target.value)||0}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"warehouse",className:"flex items-center gap-2",children:[i.jsx(Mu,{className:"h-4 w-4 text-gray-500"})," Warehouse de Destino *"]}),i.jsxs(Oe,{value:n.warehouse||"",onValueChange:S=>r({...n,warehouse:S}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione o warehouse"})}),i.jsx(Te,{children:o.length===0?i.jsx(K,{value:"none",disabled:!0,children:"Nenhum warehouse ativo configurado"}):o.map(S=>i.jsx(K,{value:S.warehouse_id,children:S.warehouse_name},S.warehouse_id))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"observation",className:"flex items-center gap-2",children:[i.jsx(ma,{className:"h-4 w-4 text-gray-500"})," Observao (Opcional)"]}),i.jsx(vt,{id:"observation",value:n.observation,onChange:S=>r({...n,observation:S.target.value}),placeholder:"Adicione observaes sobre a compra...",rows:3})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Produtos"}),i.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:y,children:[i.jsx(nn,{className:"h-4 w-4 mr-2"})," Adicionar Produto"]})]}),s.map((S,N)=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border rounded-lg items-end",children:[i.jsxs("div",{className:"md:col-span-2 space-y-2",children:[i.jsx(Y,{children:"Nome do Produto *"}),i.jsx(b2,{products:f,value:S,onSelect:C=>j(N,C),onInputChange:C=>b(N,"name",C),selectedWarehouse:n.warehouse})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{children:"SKU *"}),i.jsx(ie,{value:S.SKU||"",placeholder:"Selecione um produto",readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{children:"Quantidade *"}),i.jsx(ie,{type:"number",min:"1",value:S.quantity||1,onChange:C=>b(N,"quantity",parseInt(C.target.value)||1),required:!0})]}),i.jsxs("div",{className:"space-y-2 flex items-end gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(Y,{children:"Custo Unitrio *"}),i.jsx(ie,{type:"number",min:"0",step:"0.01",value:S.cost||0,onChange:C=>b(N,"cost",parseFloat(C.target.value)||0),required:!0})]}),s.length>1&&i.jsx(B,{type:"button",variant:"destructive",size:"icon",onClick:()=>x(N),children:i.jsx(js,{className:"h-4 w-4"})})]})]},N))]}),i.jsxs(yt,{children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:c,children:c?"Criando...":"Criar Compra"})]})]})]})})}function nKe({open:e,onOpenChange:t,purchase:n}){const[r,s]=v.useState({date:"",carrier:"",storeName:"",customer_name:"",trackingCode:"",delivery_fee:0,observation:"",warehouse:""}),[a,o]=v.useState([]),[l,c]=v.useState([]),[u,d]=v.useState(!1),{updatePurchase:f}=wf(),{products:h,fetchProducts:m}=Or(),{currentWorkspace:g}=be(),{toast:p}=Fn();v.useEffect(()=>{n&&(s({date:new Date(n.date).toISOString().split("T")[0],carrier:n.carrier||"",storeName:n.storeName||"",customer_name:n.customer_name||"",trackingCode:n.trackingCode||"",delivery_fee:n.delivery_fee||0,observation:n.observation||"",warehouse:n.warehouse||""}),o(structuredClone(n.products||[]))),e&&(m(),y())},[n,e,m]);const y=async()=>{if(g)try{const{data:C,error:_}=await U.from("baselinker_warehouses").select("warehouse_id, warehouse_name").eq("workspace_id",g.id).eq("is_active",!0).eq("allow_stock_updates",!0);if(_)throw _;c(C||[])}catch(C){console.error("Error fetching warehouses:",C)}},x=()=>{const C="802061",_=prompt("Para confirmar esta ao, por favor, digite a senha:");return _===C?!0:(_!==null&&p({title:"Senha Incorreta",description:"A operao no foi autorizada.",variant:"destructive"}),!1)},b=()=>o([...a,{name:"",quantity:1,cost:0,SKU:""}]),j=C=>{x()&&o(a.filter((_,k)=>k!==C))},w=(C,_,k)=>{o(A=>{const T=[...A],D=T[C];return D&&(D[_]=k),T})},S=(C,_)=>{o(k=>{const A=[...k],T=A[C];return T&&(A[C]={...T,name:_.name,SKU:_.SKU||""}),A})},N=async C=>{if(C.preventDefault(),!n||(console.log("Estado dos produtos antes de salvar:",JSON.stringify(a,null,2)),!x()))return;if(!r.date||!r.carrier||!r.storeName||!r.trackingCode){p({title:"Erro de Validao",description:"Por favor, preencha todos os campos da compra.",variant:"destructive"});return}const _=a.find(k=>!k.name||!k.SKU||!(k.quantity&&k.quantity>0));if(_){p({title:"Erro nos Produtos",description:`Por favor, verifique o produto "${_.name||"novo"}". Todos os produtos devem ter Nome, SKU e Quantidade maior que zero.`,variant:"destructive",duration:5e3});return}d(!0);try{console.log("Enviando para updatePurchase:",{purchaseId:n.id,formData:r,products:a}),await f(n.id,r,a),t(!1)}catch(k){console.error("Falha ao submeter a atualizao:",k),p({title:"Erro ao Salvar",description:k.message||"Ocorreu um erro inesperado.",variant:"destructive"})}finally{d(!1)}};return i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsxs(nt,{children:["Editar Compra #",n==null?void 0:n.id]}),i.jsx(ft,{children:"Altere a quantidade dos produtos ou adicione novos itens  compra."})]}),i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"date",className:"flex items-center gap-2",children:[i.jsx(Li,{className:"h-4 w-4 text-gray-500"})," Data de Compra *"]}),i.jsx(ie,{id:"date",type:"date",value:r.date,onChange:C=>s({...r,date:C.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"carrier",className:"flex items-center gap-2",children:[i.jsx(cc,{className:"h-4 w-4 text-gray-500"})," Transportadora *"]}),i.jsxs(Oe,{value:r.carrier||"",onValueChange:C=>s({...r,carrier:C}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione a transportadora"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"Correios",children:"Correios"}),i.jsx(K,{value:"Jadlog",children:"Jadlog"}),i.jsx(K,{value:"Total Express",children:"Total Express"}),i.jsx(K,{value:"Azul Cargo",children:"Azul Cargo"}),i.jsx(K,{value:"Braspress",children:"Braspress"}),i.jsx(K,{value:"Outra",children:"Outra"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"storeName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"})," Nome da Loja *"]}),i.jsx(ie,{id:"storeName",value:r.storeName,onChange:C=>s({...r,storeName:C.target.value}),placeholder:"Ex: Mercado Livre",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"customerName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"})," Nome do Cliente (Opcional)"]}),i.jsx(ie,{id:"customerName",value:r.customer_name,onChange:C=>s({...r,customer_name:C.target.value}),placeholder:"Ex: Joo Silva"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"trackingCode",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"})," Cdigo de Rastreio *"]}),i.jsx(ie,{id:"trackingCode",value:r.trackingCode,onChange:C=>s({...r,trackingCode:C.target.value}),placeholder:"Ex: AA123456789BR",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"deliveryFee",className:"flex items-center gap-2",children:[i.jsx(ic,{className:"h-4 w-4 text-gray-500"})," Taxa de Entrega *"]}),i.jsx(ie,{id:"deliveryFee",type:"number",min:"0",step:"0.01",value:r.delivery_fee,onChange:C=>s({...r,delivery_fee:parseFloat(C.target.value)||0}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"warehouse",className:"flex items-center gap-2",children:[i.jsx(Mu,{className:"h-4 w-4 text-gray-500"})," Warehouse de Destino *"]}),i.jsxs(Oe,{value:r.warehouse||"",onValueChange:C=>s({...r,warehouse:C}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione o warehouse"})}),i.jsx(Te,{children:l.length===0?i.jsx(K,{value:"none",disabled:!0,children:"Nenhum warehouse ativo configurado"}):l.map(C=>i.jsx(K,{value:C.warehouse_id,children:C.warehouse_name},C.warehouse_id))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"observation",className:"flex items-center gap-2",children:[i.jsx(ma,{className:"h-4 w-4 text-gray-500"})," Observao (Opcional)"]}),i.jsx(vt,{id:"observation",value:r.observation,onChange:C=>s({...r,observation:C.target.value}),placeholder:"Alguma observao sobre a compra...",rows:3})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Produtos"}),i.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:b,children:[i.jsx(nn,{className:"h-4 w-4 mr-2"})," Adicionar Novo Produto"]})]}),i.jsx(Wy,{children:a.map((C,_)=>{const k=!!C.id,A=!!C.is_verified||!!C.is_in_stock;return i.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border rounded-lg items-end ${k?"bg-gray-50/50":""}`,children:[i.jsxs("div",{className:"md:col-span-2 space-y-2",children:[i.jsx(Y,{children:"Nome do Produto *"}),k?i.jsx("div",{className:"flex items-center h-10 w-full rounded-md border border-input bg-gray-100 px-3 py-2 text-sm text-gray-500 cursor-not-allowed",children:C.name||""}):i.jsx(b2,{products:h,value:C,onSelect:T=>S(_,T),onInputChange:T=>w(_,"name",T)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{children:"SKU *"}),i.jsx(ie,{value:C.SKU||"",disabled:!0,className:"cursor-not-allowed"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{className:"flex items-center gap-1",children:["Quantidade * ",A&&i.jsxs(Vy,{children:[i.jsx(Uy,{children:i.jsx(A6,{className:"h-3 w-3 text-gray-400"})}),i.jsx(jm,{children:"Este item no pode ser alterado pois j foi conferido ou adicionado ao estoque."})]})]}),i.jsx(ie,{type:"number",min:"1",value:C.quantity||1,onChange:T=>w(_,"quantity",parseInt(T.target.value,10)||1),disabled:A,className:A?"cursor-not-allowed bg-gray-100":""})]}),i.jsxs("div",{className:"space-y-2 flex items-end gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs(Y,{className:"flex items-center gap-1",children:[k&&i.jsx(Xoe,{className:"h-3 w-3 text-gray-400"})," Custo Unitrio *"]}),i.jsx(ie,{type:"number",min:"0",step:"0.01",value:C.cost||0,onChange:T=>w(_,"cost",parseFloat(T.target.value)||0),disabled:k,className:k?"cursor-not-allowed":""})]}),!A&&i.jsx(B,{type:"button",variant:"destructive",size:"icon",onClick:()=>j(_),children:i.jsx(js,{className:"h-4 w-4"})})]})]},C.id||`new-${_}`)})})]}),i.jsxs(yt,{children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:u,children:u?"Salvando...":"Salvar Alteraes"})]})]})]})})}function rKe({open:e,onOpenChange:t}){const[n,r]=v.useState({date:new Date().toISOString().split("T")[0],carrier:"",storeName:"",customer_name:"",trackingCode:"",observations:""}),[s,a]=v.useState(!1),{createReturn:o}=wf(),{toast:l}=Fn(),c=async u=>{if(u.preventDefault(),!n.date||!n.carrier||!n.storeName||!n.customer_name||!n.trackingCode){l({title:"Erro",description:"Por favor, preencha todos os campos obrigatrios",variant:"destructive"});return}a(!0);try{await o({...n,customerName:n.customer_name}),r({date:new Date().toISOString().split("T")[0],carrier:"",storeName:"",customer_name:"",trackingCode:"",observations:""}),t(!1),l({title:"Sucesso",description:"Devoluo criada com sucesso"})}catch(d){console.error("Error creating return:",d),l({title:"Erro",description:"Falha ao criar devoluo",variant:"destructive"})}finally{a(!1)}};return i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Nova Devoluo"}),i.jsx(ft,{children:"Adicione uma nova devoluo para rastreamento"})]}),i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"date",className:"flex items-center gap-2",children:[i.jsx(Li,{className:"h-4 w-4 text-gray-500"}),"Data de Devoluo *"]}),i.jsx(ie,{id:"date",type:"date",value:n.date,onChange:u=>r({...n,date:u.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"carrier",className:"flex items-center gap-2",children:[i.jsx(cc,{className:"h-4 w-4 text-gray-500"})," Transportadora *"]}),i.jsxs(Oe,{modal:!1,value:n.carrier||"",onValueChange:u=>r({...n,carrier:u}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione a transportadora"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"Correios",children:"Correios"}),i.jsx(K,{value:"Jadlog",children:"Jadlog"}),i.jsx(K,{value:"Total Express",children:"Total Express"}),i.jsx(K,{value:"Azul Cargo",children:"Azul Cargo"}),i.jsx(K,{value:"Braspress",children:"Braspress"}),i.jsx(K,{value:"Outra",children:"Outra"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"storeName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"}),"Nome da Loja *"]}),i.jsx(ie,{id:"storeName",value:n.storeName,onChange:u=>r({...n,storeName:u.target.value}),placeholder:"Ex: Mercado Livre",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"customerName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"}),"Nome do Cliente *"]}),i.jsx(ie,{id:"customerName",value:n.customer_name,onChange:u=>r({...n,customer_name:u.target.value}),placeholder:"Ex: Joo Silva",required:!0})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsxs(Y,{htmlFor:"trackingCode",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"}),"Cdigo de Rastreio *"]}),i.jsx(ie,{id:"trackingCode",value:n.trackingCode,onChange:u=>r({...n,trackingCode:u.target.value}),placeholder:"Ex: AA123456789BR",required:!0})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsxs(Y,{htmlFor:"observations",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"}),"Observaes (Opcional)"]}),i.jsx(vt,{id:"observations",value:n.observations||"",onChange:u=>r({...n,observations:u.target.value}),placeholder:"Adicione observaes sobre esta devoluo...",rows:3})]})]}),i.jsxs(yt,{children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:s,children:s?"Criando...":"Criar Devoluo"})]})]})]})})}function sKe({open:e,onOpenChange:t}){const[n,r]=v.useState({date:new Date().toISOString().split("T")[0],carrier:"",storeName:"",customer_name:"",trackingCode:"",source_stock:"",destination_stock:""}),[s,a]=v.useState([{name:"",quantity:1,sku:""}]),[o,l]=v.useState([]),[c,u]=v.useState(!1),{createTransfer:d}=wf(),{products:f,fetchProducts:h}=Or(),{currentWorkspace:m}=be(),{toast:g}=Fn();v.useEffect(()=>{e&&(h(),p())},[e,h]);const p=async()=>{if(m)try{const{data:S,error:N}=await U.from("baselinker_warehouses").select("warehouse_id, warehouse_name").eq("workspace_id",m.id);if(N)throw N;l(S||[])}catch(S){console.error("Error fetching warehouses:",S)}},y=()=>{a([...s,{name:"",quantity:1,sku:""}])},x=S=>{a(s.filter((N,C)=>C!==S))},b=(S,N,C)=>{const _=[...s],k=_[S];k&&(k[N]=C,a(_))},j=(S,N)=>{const C=[...s];C[S]={...C[S],name:N.name,sku:N.SKU||N.sku||""},a(C)},w=async S=>{if(S.preventDefault(),!n.date||!n.carrier||!n.storeName||!n.customer_name||!n.trackingCode){g({title:"Erro",description:"Por favor, preencha todos os campos obrigatrios da transferncia",variant:"destructive"});return}if(!n.source_stock||!n.destination_stock){g({title:"Erro",description:"Por favor, selecione os estoques de origem e destino",variant:"destructive"});return}if(n.source_stock===n.destination_stock){g({title:"Erro",description:"O estoque de origem deve ser diferente do estoque de destino",variant:"destructive"});return}if(s.length===0||s.some(N=>!N.name||!N.sku||N.quantity<=0)){g({title:"Erro",description:"Por favor, adicione pelo menos um produto vlido (Nome, SKU e Quantidade)",variant:"destructive"});return}u(!0);try{await d({...n,customerName:n.customer_name,products:s}),r({date:new Date().toISOString().split("T")[0],carrier:"",storeName:"",customer_name:"",trackingCode:"",source_stock:"",destination_stock:""}),a([{name:"",quantity:1,sku:""}]),t(!1),g({title:"Sucesso",description:"Transferncia criada com sucesso"})}catch(N){console.error("Error creating transfer:",N),g({title:"Erro",description:"Falha ao criar transferncia",variant:"destructive"})}finally{u(!1)}};return i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tt,{children:[i.jsx(nt,{children:"Nova Transferncia"}),i.jsx(ft,{children:"Adicione uma nova transferncia entre estoques para rastreamento"})]}),i.jsxs("form",{onSubmit:w,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"date",className:"flex items-center gap-2",children:[i.jsx(Li,{className:"h-4 w-4 text-gray-500"}),"Data de Transferncia *"]}),i.jsx(ie,{id:"date",type:"date",value:n.date,onChange:S=>r({...n,date:S.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"carrier",className:"flex items-center gap-2",children:[i.jsx(cc,{className:"h-4 w-4 text-gray-500"}),"Transportadora *"]}),i.jsxs(Oe,{value:n.carrier,onValueChange:S=>r({...n,carrier:S}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione a transportadora"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"Correios",children:"Correios"}),i.jsx(K,{value:"Jadlog",children:"Jadlog"}),i.jsx(K,{value:"Total Express",children:"Total Express"}),i.jsx(K,{value:"Azul Cargo",children:"Azul Cargo"}),i.jsx(K,{value:"Braspress",children:"Braspress"}),i.jsx(K,{value:"Outra",children:"Outra"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"storeName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"}),"Nome da Loja *"]}),i.jsx(ie,{id:"storeName",value:n.storeName,onChange:S=>r({...n,storeName:S.target.value}),placeholder:"Ex: Mercado Livre",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"customerName",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"}),"Nome do Cliente *"]}),i.jsx(ie,{id:"customerName",value:n.customer_name,onChange:S=>r({...n,customer_name:S.target.value}),placeholder:"Ex: Joo Silva",required:!0})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2",children:[i.jsxs(Y,{htmlFor:"trackingCode",className:"flex items-center gap-2",children:[i.jsx(Tt,{className:"h-4 w-4 text-gray-500"}),"Cdigo de Rastreio *"]}),i.jsx(ie,{id:"trackingCode",value:n.trackingCode,onChange:S=>r({...n,trackingCode:S.target.value}),placeholder:"Ex: AA123456789BR",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"sourceStock",className:"flex items-center gap-2",children:[i.jsx(My,{className:"h-4 w-4 text-blue-600"}),"Warehouse de Origem *"]}),i.jsxs(Oe,{value:n.source_stock,onValueChange:S=>r({...n,source_stock:S}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione o warehouse de origem"})}),i.jsx(Te,{children:o.length===0?i.jsx(K,{value:"none",disabled:!0,children:"Nenhum warehouse configurado"}):o.map(S=>i.jsx(K,{value:S.warehouse_id,children:S.warehouse_name},S.warehouse_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"destinationStock",className:"flex items-center gap-2",children:[i.jsx(My,{className:"h-4 w-4 text-blue-600"}),"Warehouse de Destino *"]}),i.jsxs(Oe,{value:n.destination_stock,onValueChange:S=>r({...n,destination_stock:S}),children:[i.jsx(Pe,{children:i.jsx(Ie,{placeholder:"Selecione o warehouse de destino"})}),i.jsx(Te,{children:o.length===0?i.jsx(K,{value:"none",disabled:!0,children:"Nenhum warehouse configurado"}):o.filter(S=>S.warehouse_id!==n.source_stock).map(S=>i.jsx(K,{value:S.warehouse_id,children:S.warehouse_name},S.warehouse_id))})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Produtos em Transferncia"}),i.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:y,children:[i.jsx(nn,{className:"h-4 w-4 mr-2"}),"Adicionar Produto"]})]}),s.map((S,N)=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg items-end",children:[i.jsxs("div",{className:"md:col-span-2 space-y-2",children:[i.jsx(Y,{children:"Nome do Produto *"}),i.jsx(b2,{products:f,value:S,onSelect:C=>j(N,C),onInputChange:C=>b(N,"name",C),selectedWarehouse:n.source_stock})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{children:"SKU *"}),i.jsx(ie,{value:S.sku||"",placeholder:"Selecione um produto",readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]}),i.jsxs("div",{className:"space-y-2 flex items-end gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(Y,{children:"Quantidade *"}),i.jsx(ie,{type:"number",min:"1",value:S.quantity||1,onChange:C=>b(N,"quantity",parseInt(C.target.value)||1),required:!0})]}),s.length>1&&i.jsx(B,{type:"button",variant:"destructive",size:"icon",onClick:()=>x(N),children:i.jsx(js,{className:"h-4 w-4"})})]})]},N))]}),i.jsxs(yt,{children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:c,children:c?"Criando...":"Criar Transferncia"})]})]})]})})}const _v=[{value:"principal",label:"Estoque Principal"},{value:"secundario",label:"Estoque Secundrio"},{value:"deposito",label:"Depsito"},{value:"loja",label:"Loja Fsica"}];function aKe({open:e,onOpenChange:t,item:n,type:r}){const[s,a]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState(""),[d,f]=v.useState(""),[h,m]=v.useState(!1),[g,p]=v.useState(""),{verifyPurchaseProduct:y,addProductToInventory:x,updateTrackingStatus:b,archivePurchase:j,archiveReturn:w,archiveTransfer:S,verifyReturn:N,verifyTransferProduct:C}=wf(),{toast:_}=Fn();if(v.useEffect(()=>{e&&(l(""),u(""),f(""),m(!1),p(""))},[e]),!n||!r)return null;const k=async(L,z,W,q,V)=>{try{await y(L,z,W,q,V),_({title:"Produto Conferido",description:"O produto foi marcado como conferido com sucesso."}),l(""),u(""),f("")}catch(te){console.error("Error verifying product:",te),_({title:"Erro",description:"No foi possvel conferir o produto.",variant:"destructive"})}},A=async(L,z)=>{try{await C(L,z),_({title:"Produto Conferido",description:"O produto da transferncia foi marcado como conferido."})}catch(W){console.error("Error verifying transfer product:",W),_({title:"Erro",description:"No foi possvel conferir o produto da transferncia.",variant:"destructive"})}},T=async(L,z)=>{try{await N(L,z),_({title:"Devoluo Conferida",description:"A devoluo foi marcada como conferida com sucesso."}),m(!1),p("")}catch(W){console.error("Error verifying return:",W),_({title:"Erro",description:"No foi possvel conferir a devoluo.",variant:"destructive"})}},D=async(L,z)=>{try{z==="purchase"?await j(L):z==="return"?await w(L):await S(L),_({title:"Item Arquivado",description:"O item foi movido para os arquivados."}),t(!1)}catch(W){console.error("Error archiving item:",W),_({title:"Erro",description:"No foi possvel arquivar o item.",variant:"destructive"})}},F=async()=>{if(!(!n||!r)){a(!0);try{await b(r,n.id),_({title:"Status Atualizado",description:"O status de rastreamento foi atualizado com sucesso."})}catch(L){console.error("Erro ao atualizar rastreio:",L),_({title:"Erro",description:"No foi possvel atualizar o status de rastreio.",variant:"destructive"})}finally{a(!1)}}},E=L=>{const z=(L||"").toLowerCase();return z.includes("problema")||z.includes("extraviado")||z.includes("cancelado")||z.includes("no entregue - carteiro no atendido")?"bg-red-100 text-red-800":z.includes("entregue")||z.includes("conferido")||z.includes("estoque")?"bg-green-100 text-green-800":z.includes("trnsito")||z.includes("processamento")?"bg-blue-100 text-blue-800":z.includes("aguardando")||z.includes("pendente")?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"},$=L=>{var q,V;const z="source_stock"in L,W="products"in L&&!z;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(cc,{className:"h-4 w-4"}),i.jsx("span",{children:"Transportadora:"})]}),i.jsx("p",{className:"font-medium",children:L.carrier||"No informada"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Tt,{className:"h-4 w-4"}),i.jsx("span",{children:"Loja:"})]}),i.jsx("p",{className:"font-medium",children:L.storeName||"No informada"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Tt,{className:"h-4 w-4"}),i.jsx("span",{children:"Cliente:"})]}),i.jsx("p",{className:"font-medium",children:L.customer_name||"No informado"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Tt,{className:"h-4 w-4"}),i.jsx("span",{children:"Cdigo de Rastreio:"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-medium",children:L.trackingCode||"No informado"}),L.trackingCode&&i.jsx("a",{href:Gh(L.carrier,L.trackingCode),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600",children:i.jsx(Kd,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Tt,{className:"h-4 w-4"}),i.jsx("span",{children:"Status:"})]}),i.jsx(fe,{className:`${E(L.status)} border-transparent`,children:L.status||"No informado"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Li,{className:"h-4 w-4"}),i.jsx("span",{children:"Previso de Entrega:"})]}),i.jsx("p",{className:"font-medium",children:L!=null&&L.estimated_delivery?new Date(L.estimated_delivery).toLocaleDateString("pt-BR"):"No disponvel"})]}),z&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(My,{className:"h-4 w-4"}),i.jsx("span",{children:"Estoque de Origem:"})]}),i.jsx("p",{className:"font-medium",children:((q=_v.find(te=>te.value===L.source_stock))==null?void 0:q.label)||L.source_stock})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(My,{className:"h-4 w-4"}),i.jsx("span",{children:"Estoque de Destino:"})]}),i.jsx("p",{className:"font-medium",children:((V=_v.find(te=>te.value===L.destination_stock))==null?void 0:V.label)||L.destination_stock})]})]})]}),W&&L.observation&&i.jsxs("div",{className:"space-y-2 mt-4",children:[i.jsxs("h4",{className:"font-medium flex items-center gap-2 text-muted-foreground",children:[i.jsx(ma,{className:"h-4 w-4"})," Observaes da Compra:"]}),i.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:L.observation})]}),W&&O(L),z&&R(L),r==="return"&&I(L)]})},O=L=>{var V,te,ne;const z=()=>{var Z;const X=((Z=L.products)==null?void 0:Z.reduce((ae,ce)=>ae+ce.cost*ce.quantity,0))||0,ee=L.delivery_fee||0;return X+ee},W=((V=L.products)==null?void 0:V.every(X=>X.is_verified))||!1,q=(te=L.status)==null?void 0:te.toLowerCase().includes("estoque");return i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Produtos"}),i.jsx("div",{className:"space-y-3",children:(ne=L.products)==null?void 0:ne.map(X=>i.jsx("div",{className:`p-4 border rounded-lg ${X.is_verified?X.is_in_stock?"bg-green-50 border-green-200":"bg-cyan-50 border-cyan-200":"bg-transparent"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold",children:[X.name||`Item ${X.id}`,X.SKU&&` - ${X.SKU}`]}),i.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-1 mt-1 text-sm text-muted-foreground",children:[i.jsxs("span",{children:["Quantidade: ",i.jsx("span",{className:"font-medium text-foreground",children:X.quantity||0})]}),i.jsxs("span",{children:["Custo: ",i.jsxs("span",{className:"font-medium text-foreground",children:["R$ ",(X.cost||0).toFixed(2)]})]}),i.jsxs("span",{children:["Total: ",i.jsxs("span",{className:"font-medium text-foreground",children:["R$ ",((X.cost||0)*(X.quantity||0)).toFixed(2)]})]}),X.vencimento&&i.jsxs("span",{children:["Vencimento: ",i.jsx("span",{className:"font-medium text-foreground",children:new Date(X.vencimento).toLocaleDateString("pt-BR")})]}),X.preco_ml&&i.jsxs("span",{children:["Preo ML: ",i.jsxs("span",{className:"font-medium text-foreground",children:["R$ ",(X.preco_ml||0).toFixed(2)]})]}),X.preco_atacado&&i.jsxs("span",{children:["Preo Atacado: ",i.jsxs("span",{className:"font-medium text-foreground",children:["R$ ",(X.preco_atacado||0).toFixed(2)]})]})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:X.is_verified?X.is_in_stock?i.jsxs(fe,{className:"bg-green-100 text-green-800 py-2 px-3 border-transparent pointer-events-none",children:[i.jsx(nu,{className:"h-4 w-4 mr-2"})," No Estoque"]}):i.jsxs(B,{variant:"outline",size:"sm",className:"bg-white cursor-default pointer-events-none",children:[i.jsx(kh,{className:"h-4 w-4 mr-2 text-green-600"})," Conferido"]}):i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{l(X.vencimento||""),u(X.preco_ml||""),f(X.preco_atacado||"")},children:[i.jsx(Vj,{className:"h-4 w-4 mr-2"})," Conferir"]})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsxs(ln,{children:["Confirmar Produto: ",X.name]}),i.jsx(cn,{children:"Para marcar o produto como conferido, insira os preos e a data de vencimento."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"vencimento-date",className:"flex items-center gap-2 text-sm font-medium",children:[i.jsx(Li,{className:"h-4 w-4 text-gray-500"}),"Data de Vencimento:"]}),i.jsx(ie,{id:"vencimento-date",type:"date",value:o,onChange:ee=>l(ee.target.value),tabIndex:0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"preco-ml",className:"flex items-center gap-2 text-sm font-medium",children:[i.jsx(ic,{className:"h-4 w-4 text-gray-500"}),"Preo do produto - Mercado Livre:"]}),i.jsx(ie,{id:"preco-ml",type:"number",step:"0.10",value:c,onChange:ee=>u(ee.target.value===""?"":parseFloat(ee.target.value)),placeholder:"R$ 0.00",tabIndex:0}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(B,{type:"button",variant:"secondary",onClick:()=>u(ee=>ee!==""&&ee>50?ee-50:0),children:"-50"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>u(ee=>ee!==""&&ee>10?ee-10:0),children:"-10"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>u(ee=>ee!==""&&ee>1?ee-1:0),children:"-1"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>u(ee=>(ee!==""?ee:0)+1),children:"+1"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>u(ee=>(ee!==""?ee:0)+10),children:"+10"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>u(ee=>(ee!==""?ee:0)+50),children:"+50"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Y,{htmlFor:"preco-atacado",className:"flex items-center gap-2 text-sm font-medium",children:[i.jsx(ic,{className:"h-4 w-4 text-gray-500"}),"Preo para o Atacado:"]}),i.jsx(ie,{id:"preco-atacado",type:"number",step:"0.10",value:d,onChange:ee=>f(ee.target.value===""?"":parseFloat(ee.target.value)),placeholder:"R$ 0.00",tabIndex:0}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(B,{type:"button",variant:"secondary",onClick:()=>f(ee=>ee!==""&&ee>50?ee-50:0),children:"-50"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>f(ee=>ee!==""&&ee>10?ee-10:0),children:"-10"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>f(ee=>ee!==""&&ee>1?ee-1:0),children:"-1"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>f(ee=>(ee!==""?ee:0)+1),children:"+1"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>f(ee=>(ee!==""?ee:0)+10),children:"+10"}),i.jsx(B,{type:"button",variant:"secondary",onClick:()=>f(ee=>(ee!==""?ee:0)+50),children:"+50"})]})]})]}),i.jsxs(on,{children:[i.jsx(dn,{onClick:()=>{l(""),u(""),f("")},children:"Cancelar"}),i.jsx(un,{onClick:()=>k(L.id,X.id,o||void 0,c!==""?parseFloat(String(c)):void 0,d!==""?parseFloat(String(d)):void 0),children:"Confirmar"})]})]})]})})]})},X.id))}),i.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Taxa de Entrega: R$ ",(L.delivery_fee||0).toFixed(2)]}),i.jsxs("p",{className:"text-lg font-bold",children:["Total da Compra: R$ ",z().toFixed(2)]})]}),i.jsxs("div",{className:"flex gap-2",children:[W&&!q&&i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(nu,{className:"h-4 w-4 mr-2"})," Lanar Compra no Estoque"]})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Lanar Compra no Estoque"}),i.jsx(cn,{children:"Tem certeza que deseja lanar todos os produtos desta compra no estoque? Esta ao ir arquivar a compra."})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{onClick:()=>x(L.id),children:"Confirmar e Arquivar"})]})]})]}),q&&i.jsxs(fe,{className:"bg-green-100 text-green-800 py-2 px-3 border-transparent",children:[i.jsx(nu,{className:"h-4 w-4 mr-2"})," Compra em Estoque"]})]})]})]})},R=L=>{var q,V,te,ne,X;const z=((q=L.products)==null?void 0:q.every(ee=>ee.is_verified))||!1,W=L.in_stock||((V=L.status)==null?void 0:V.toLowerCase().includes("estoque"));return i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Produtos em Transferncia"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h4",{className:"font-medium text-blue-800",children:"Estoque de Origem"}),i.jsx("p",{className:"text-lg font-bold text-blue-600",children:((te=_v.find(ee=>ee.value===L.source_stock))==null?void 0:te.label)||L.source_stock})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("h4",{className:"font-medium text-blue-800",children:"Estoque de Destino"}),i.jsx("p",{className:"text-lg font-bold text-blue-600",children:((ne=_v.find(ee=>ee.value===L.destination_stock))==null?void 0:ne.label)||L.destination_stock})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsx("div",{className:`p-2 rounded-lg text-center ${L.conferido?"bg-green-100 border-green-200":"bg-gray-100 border-gray-200"} border`,children:i.jsx("p",{className:`text-xs font-medium ${L.conferido?"text-green-800":"text-gray-600"}`,children:L.conferido?" Conferido":"No Conferido"})}),i.jsx("div",{className:`p-2 rounded-lg text-center ${L.in_stock?"bg-green-100 border-green-200":"bg-gray-100 border-gray-200"} border`,children:i.jsx("p",{className:`text-xs font-medium ${L.in_stock?"text-green-800":"text-gray-600"}`,children:L.in_stock?" Lanado":"No Lanado"})}),i.jsx("div",{className:`p-2 rounded-lg text-center ${L.retirado_stock?"bg-green-100 border-green-200":"bg-gray-100 border-gray-200"} border`,children:i.jsx("p",{className:`text-xs font-medium ${L.retirado_stock?"text-green-800":"text-gray-600"}`,children:L.retirado_stock?" Retirado":"No Retirado"})})]}),i.jsx("div",{className:"space-y-3",children:(X=L.products)==null?void 0:X.map(ee=>i.jsx("div",{className:`p-4 border rounded-lg ${ee.is_verified?"bg-green-50 border-green-200":"bg-transparent"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold",children:[ee.name||`Item ${ee.id}`,ee.sku&&` - ${ee.sku}`]}),i.jsx("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-1 mt-1 text-sm text-muted-foreground",children:i.jsxs("span",{children:["Quantidade: ",i.jsx("span",{className:"font-medium text-foreground",children:ee.quantity||0})]})})]}),i.jsx("div",{className:"flex items-center gap-2",children:ee.is_verified?i.jsxs(B,{variant:"outline",size:"sm",className:"bg-white cursor-default pointer-events-none",children:[i.jsx(kh,{className:"h-4 w-4 mr-2 text-green-600"})," Conferido"]}):i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{A(L.id,ee.id)},children:[i.jsx(Vj,{className:"h-4 w-4 mr-2"})," Conferir"]})})]})},ee.id))}),i.jsxs("div",{className:"flex justify-end pt-4 border-t",children:[z&&!W&&i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(nu,{className:"h-4 w-4 mr-2"})," Finalizar Transferncia"]})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Finalizar Transferncia"}),i.jsx(cn,{children:"Tem certeza que deseja lanar esta transferncia no estoque?"})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{onClick:()=>addTransferToInventory(L.id),children:"Lanar no Estoque"})]})]})]}),W&&i.jsxs(fe,{className:"bg-green-100 text-green-800 py-2 px-3 border-transparent",children:[i.jsx(nu,{className:"h-4 w-4 mr-2"})," Lanado no Estoque"]})]})]})},I=L=>i.jsxs("div",{className:"space-y-4",children:[L.observations&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Observaes:"}),i.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:L.observations})]}),L.verification_observations&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Observaes da Conferncia:"}),i.jsx("p",{className:"text-sm text-gray-600 bg-green-50 p-3 rounded-lg border border-green-200",children:L.verification_observations}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Conferido em: ",L.verified_at?new Date(L.verified_at).toLocaleDateString("pt-BR"):"N/A"]})]}),!L.is_verified&&i.jsx("div",{className:"flex justify-end pt-4 border-t",children:i.jsxs(B,{onClick:()=>m(!0),children:[i.jsx(Vj,{className:"h-4 w-4 mr-2"})," Conferir Devoluo"]})}),L.is_verified&&i.jsx("div",{className:"flex justify-end pt-4 border-t",children:i.jsxs(fe,{className:"bg-green-100 text-green-800 py-2 px-3 border-transparent",children:[i.jsx(kh,{className:"h-4 w-4 mr-2"})," Devoluo Conferida"]})})]}),M=L=>{const z=L.metadata||[];return!z||z.length===0?i.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"Nenhum histrico de rastreamento disponvel."}):i.jsx("div",{className:"space-y-4 py-4",children:i.jsx("div",{className:"space-y-3",children:z.slice().sort((W,q)=>new Date(q.data).getTime()-new Date(W.data).getTime()).map((W,q)=>i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:"relative pt-1",children:[i.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500 ring-4 ring-blue-100"}),q<z.length-1&&i.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 h-full w-0.5 bg-blue-200"})]}),i.jsxs("div",{className:"flex-1 pb-4",children:[i.jsxs("p",{className:"font-medium",children:[W.detalhe," - ",W.descricao]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[i.jsx(Er,{className:"h-3 w-3"}),i.jsx("span",{children:new Date(W.data).toLocaleDateString("pt-BR")}),W.cidade&&i.jsxs(i.Fragment,{children:[i.jsx(Mk,{className:"h-3 w-3"}),i.jsx("span",{children:W.cidade})]})]})]})]},q))})})};return i.jsxs(i.Fragment,{children:[i.jsx(ot,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(tt,{children:i.jsx(nt,{children:r==="purchase"?"Detalhes da Compra":r==="return"?"Detalhes da Devoluo":"Detalhes da Transferncia"})}),i.jsxs(Qn,{defaultValue:"general",className:"mt-4",children:[i.jsxs(Rn,{className:"grid w-full grid-cols-2",children:[i.jsxs(Fe,{value:"general",children:[i.jsx(Yoe,{className:"h-4 w-4 mr-2"}),"Informaes Gerais"]}),i.jsxs(Fe,{value:"tracking",children:[i.jsx(cc,{className:"h-4 w-4 mr-2"}),"Rastreamento"]})]}),i.jsx(Ue,{value:"general",children:$(n)}),i.jsx(Ue,{value:"tracking",children:M(n)})]}),i.jsxs(yt,{className:"sm:justify-between mt-6 pt-4 border-t",children:[i.jsxs(B,{variant:"ghost",onClick:F,disabled:s,children:[i.jsx(ya,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),s?"Atualizando...":"Atualizar Dados"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Fechar"}),r==="transfer"&&n.conferido&&n.in_stock&&n.retirado_stock?i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsxs(B,{variant:"destructive",className:"bg-red-700 hover:bg-red-800",children:[i.jsx(kN,{className:"h-4 w-4 mr-2"})," Arquivar"]})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Arquivar Transferncia"}),i.jsx(cn,{children:"Tem certeza que deseja arquivar esta transferncia? Ela ser movida para a lista de arquivados."})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{className:"bg-red-700 hover:bg-red-800",onClick:()=>D(n.id,r),children:"Sim, Arquivar"})]})]})]}):r!=="transfer"?i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsxs(B,{variant:"destructive",className:"bg-red-700 hover:bg-red-800",children:[i.jsx(kN,{className:"h-4 w-4 mr-2"})," Arquivar"]})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Arquivar Item"}),i.jsx(cn,{children:"Tem certeza que deseja arquivar este item? Ele ser movido para a lista de arquivados."})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{className:"bg-red-700 hover:bg-red-800",onClick:()=>D(n.id,r),children:"Sim, Arquivar"})]})]})]}):null]})]})]})}),i.jsx(wn,{open:h,onOpenChange:m,children:i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Conferir Devoluo"}),i.jsx(cn,{children:"Marque esta devoluo como conferida e adicione observaes se necessrio."})]}),i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Y,{htmlFor:"verification-observations",children:"Observaes da Conferncia (Opcional)"}),i.jsx(vt,{id:"verification-observations",value:g,onChange:L=>p(L.target.value),placeholder:"Adicione observaes sobre a conferncia da devoluo...",rows:3})]})}),i.jsxs(on,{children:[i.jsx(dn,{onClick:()=>{m(!1),p("")},children:"Cancelar"}),i.jsx(un,{onClick:()=>T(n.id,g),children:"Confirmar Conferncia"})]})]})})]})}const sS={Aguardando:{title:"Aguardando",headerClasses:"bg-yellow-100/70 border-yellow-200",textClasses:"text-yellow-900",countBg:"bg-yellow-300/80"},"Em Trnsito":{title:"Em Trnsito",headerClasses:"bg-blue-100/70 border-blue-200",textClasses:"text-blue-900",countBg:"bg-blue-300/80"},Atrasado:{title:"Atrasado",headerClasses:"bg-orange-100/70 border-orange-200",textClasses:"text-orange-900",countBg:"bg-orange-300/80"},"Com problemas":{title:"Com Problemas",headerClasses:"bg-red-100/70 border-red-200",textClasses:"text-red-900",countBg:"bg-red-300/80"},Entregue:{title:"Entregue",headerClasses:"bg-cyan-100/70 border-cyan-200",textClasses:"text-cyan-900",countBg:"bg-cyan-300/80"},Concludo:{title:"Concludo",headerClasses:"bg-green-100/70 border-green-200",textClasses:"text-green-900",countBg:"bg-green-300/80"}},HL=[{value:"vitoria",label:"Vitria"},{value:"sao_paulo",label:"So Paulo"}],iKe=e=>{const t=(e.status||"").toLowerCase();return t.includes("estoque")?"Concludo":t.includes("problema")||t.includes("no autorizada")||t.includes("necessidade de apresentar")||t.includes("extraviado")||t.includes("no entregue - carteiro no atendido")||t.includes("pausado")?"Com problemas":t.includes("entregue")||t.includes("conferido")?"Entregue":!(t.includes("entregue")||t.includes("conferido")||t.includes("estoque"))&&e.estimated_delivery&&new Date(e.estimated_delivery)<new Date?"Atrasado":t.includes("trnsito")||t.includes("transferncia")||t.includes("saiu para entrega")?"Em Trnsito":"Aguardando"},oKe=({item:e,onViewDetails:t,onVerifyProduct:n,onAddToInventory:r})=>{var u,d,f,h,m,g,p;const s="products"in e,a="source_stock"in e,o=((u=e.status)==null?void 0:u.toLowerCase().includes("estoque"))||!1,l=s&&((d=e.products)==null?void 0:d.every(y=>y.isVerified))||!1,c=a&&((f=e.products)==null?void 0:f.every(y=>y.is_verified))||!1;return i.jsx(re,{className:"mb-4 bg-white hover:shadow-lg transition-shadow duration-200",children:i.jsxs(se,{className:"p-3",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("span",{className:"font-semibold text-sm pr-2 break-words",children:s?e.storeName:a?`${e.source_stock}  ${e.destination_stock}`:e.customer_name||"No identificado"}),i.jsx(fe,{variant:s?"default":a?"outline":"secondary",children:s?"Compra":a?"Transf.":"Dev."})]}),i.jsxs("div",{className:"space-y-1 text-xs text-gray-600 mb-3",children:[i.jsxs("p",{children:["Data: ",new Date(e.date).toLocaleDateString("pt-BR")]}),i.jsxs("p",{className:"flex items-center gap-1",children:[i.jsxs("span",{children:["Rastreio: ",e.trackingCode||"N/A"]}),e.trackingCode&&i.jsx("a",{href:Gh(e.carrier,e.trackingCode),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:i.jsx(Kd,{size:12})})]}),(s||a)&&i.jsxs("p",{children:["Produtos: ",s?((h=e.products)==null?void 0:h.length)||0:((m=e.products)==null?void 0:m.length)||0]}),a&&i.jsxs("p",{children:["De: ",((g=HL.find(y=>y.value===e.source_stock))==null?void 0:g.label)||e.source_stock]}),a&&i.jsxs("p",{children:["Para: ",((p=HL.find(y=>y.value===e.destination_stock))==null?void 0:p.label)||e.destination_stock]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-end",children:[i.jsx(B,{variant:"outline",size:"sm",onClick:()=>t(e),children:i.jsx(ki,{className:"h-4 w-4"})}),s&&!l||a&&!c&&i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsx(B,{variant:"outline",size:"sm",children:i.jsx(sle,{className:"h-4 w-4"})})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Conferir Produtos"}),i.jsx(cn,{children:"Marcar todos os produtos como conferidos?"})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{onClick:()=>{var y;s&&((y=e.products)==null||y.forEach(x=>n(e.id,x.id)))},children:"Confirmar"})]})]})]}),(l&&s||c&&a||!s&&!a)&&!o&&i.jsxs(wn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsx(B,{variant:"default",size:"sm",children:i.jsx(nu,{className:"h-4 w-4"})})}),i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Lanar no Estoque"}),i.jsx(cn,{children:"Esta ao ir arquivar o item. Tem certeza?"})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{onClick:()=>r(e.id,s?"purchase":a?"transfer":"return"),children:"Confirmar"})]})]})]}),(l||c)&&!o&&i.jsxs(fe,{variant:"outline",className:"text-blue-600 border-blue-600",children:[i.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Conferido"]})]})]})})};function lKe({activeTab:e,purchases:t,returns:n,transfers:r,onViewDetails:s,onVerifyProduct:a,onAddToInventory:o}){const l=v.useMemo(()=>{switch(e){case"purchases":return t;case"returns":return n;case"transfers":return r;default:return[]}},[e,t,n,r]),c=v.useMemo(()=>{const u=Object.keys(sS).reduce((d,f)=>(d[f]=[],d),{});return l.reduce((d,f)=>{const h=iKe(f);return d[h]&&d[h].push(f),d},u)},[l]);return i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-6 gap-5 w-full",children:Object.keys(sS).map(u=>{const d=sS[u],f=c[u];return i.jsxs("div",{className:"bg-gray-50 rounded-xl flex flex-col",children:[i.jsx("div",{className:`p-3 border-b sticky top-0 rounded-t-xl z-10 backdrop-blur-sm ${d.headerClasses}`,children:i.jsxs("h2",{className:`font-bold text-md flex items-center justify-between ${d.textClasses}`,children:[i.jsx("span",{children:d.title}),i.jsx("span",{className:`text-sm font-semibold text-gray-900 rounded-full h-6 w-6 flex items-center justify-center ${d.countBg}`,children:f.length})]})}),i.jsx("div",{className:"flex-grow p-2 overflow-y-auto",children:f.length>0?f.map(h=>i.jsx(oKe,{item:h,onViewDetails:s,onVerifyProduct:a,onAddToInventory:o,onVerifyReturn},h.id)):i.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-xs p-4",children:"Nenhum item nesta etapa."})})]},u)})})}const cKe=e=>{const t=(e.status||"").toLowerCase();return t.includes("saiu para entrega")?"Saiu para entrega":t.includes("pagamento")?"Aguardando pagamento":t.includes("problema")||t.includes("no autorizada")||t.includes("necessidade de apresentar")||t.includes("complementar")||t.includes("extraviado")||t.includes("pausado")||t.includes("no entregue - carteiro no atendido")?"Pausado/Problema":t.includes("entregue")||t.includes("conferido")||t.includes("estoque")?"Entregue":t.includes("trnsito")||t.includes("transferncia")?"Em trnsito":t.includes("aguardando")||t.includes("aguarde")?"Aguardando":"Outro"},aS=e=>{const t=(e||"").toLowerCase();return t.includes("saiu para entrega")?"bg-[#03A9F4] text-white":t.includes("pagamento")?"bg-[#FFC107] text-gray-900":t.includes("entregue")||t.includes("conferido")?"bg-green-100 text-green-800":t.includes("trnsito")?"bg-blue-100 text-blue-800":t.includes("aguardando")?"bg-yellow-100 text-yellow-800":t.includes("problema")||t.includes("no autorizada")||t.includes("necessidade de apresentar")||t.includes("extraviado")||t.includes("no entregue - carteiro no atendido")?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"};function uKe(e,t,n=10){const[r,s]=v.useState(1),[a,o]=v.useState(n),[l,c]=v.useState({key:t,direction:"descending"}),u=v.useMemo(()=>{let y=[...e];return l.key&&y.sort((x,b)=>{var S,N;const j=x[l.key],w=b[l.key];if(j==null)return 1;if(w==null)return-1;if(l.key==="products"){const C=((S=x.products)==null?void 0:S.length)||0,_=((N=b.products)==null?void 0:N.length)||0;return C<_?l.direction==="ascending"?-1:1:C>_?l.direction==="ascending"?1:-1:0}return j<w?l.direction==="ascending"?-1:1:j>w?l.direction==="ascending"?1:-1:0}),y},[e,l]),d=u.length,f=Math.ceil(d/a),h=v.useMemo(()=>{const y=(r-1)*a;return u.slice(y,y+a)},[u,r,a]),m=y=>{let x="ascending";l.key===y&&l.direction==="ascending"&&(x="descending"),c({key:y,direction:x}),s(1)},g=y=>{y>=1&&y<=f&&s(y)},p=y=>{o(y),s(1)};return v.useEffect(()=>{s(1),c({key:t,direction:"descending"})},[e,t]),{paginatedData:h,requestSort:m,sortConfig:l,currentPage:r,totalPages:f,changePage:g,rowsPerPage:a,changeRowsPerPage:p,totalRows:d}}function dKe(){const{purchases:e,returns:t,transfers:n,viewMode:r,showArchived:s,loading:a,setViewMode:o,setShowArchived:l,fetchPurchases:c,fetchReturns:u,fetchTransfers:d,updateAllTrackingStatuses:f,verifyPurchaseProduct:h,addProductToInventory:m,archivePurchase:g,archiveReturn:p,archiveTransfer:y,findItemByTrackingCode:x,deletePurchase:b}=wf(),[j,w]=v.useState("purchases"),[S,N]=v.useState(""),[C,_]=v.useState(""),[k,A]=v.useState("all"),[T,D]=v.useState(!1),[F,E]=v.useState(!1),[$,O]=v.useState(!1),[R,I]=v.useState(null),[M,L]=v.useState(!1),[z,W]=v.useState(!1),[q,V]=v.useState(null),[te,ne]=v.useState(!1),[X,ee]=v.useState(null),[Z,ae]=v.useState(null),{toast:ce}=Fn();v.useEffect(()=>{c(),u(),d()},[c,u,d]);const H=v.useMemo(()=>{let Re=[];return j==="purchases"&&(Re=e),j==="returns"&&(Re=t),j==="transfers"&&(Re=n),Re.filter(lt=>{if(s){if(!lt.is_archived)return!1}else if(lt.is_archived)return!1;const pt=S.toLowerCase(),zt=C.toLowerCase(),Vn=(lt.storeName||"").toLowerCase().includes(pt)||(lt.customer_name||"").toLowerCase().includes(pt)||(lt.trackingCode||"").toLowerCase().includes(pt)||(lt.status||"").toLowerCase().includes(pt);return pt&&!Vn||j==="purchases"&&zt&&!(lt.products||[]).some(st=>(st.name||"").toLowerCase().includes(zt))?!1:k==="all"?!0:cKe(lt)===k})},[e,t,n,j,S,C,k,s]),{paginatedData:je,requestSort:Ne,sortConfig:Ae,currentPage:Q,totalPages:me,changePage:J,rowsPerPage:_e,changeRowsPerPage:rt,totalRows:_t}=uKe(H,"date"),Wn=()=>{j==="purchases"&&c(),j==="returns"&&u(),j==="transfers"&&d(),ce({title:"Atualizando...",description:`Aguarde, os dados da aba ${j} esto sendo buscados.`})},gn=Re=>{I(Re),V(j==="purchases"?"purchase":j==="returns"?"return":"transfer"),L(!0)},tr=Re=>{ee(Re),ne(!0)},Qs=async()=>{if(Z)try{await b(Z.id),ce({title:"Sucesso!",description:"Pedido deletado com sucesso."}),c()}catch(Re){console.error("Falha ao deletar o pedido:",Re),ce({title:"Erro",description:"Falha ao deletar o pedido.",variant:"destructive"})}finally{ae(null)}},Xr=Re=>{ne(Re),Re||(ee(null),c())},nr=async(Re,lt)=>{console.log("Verify return:",Re,lt)},Zs=async(Re,lt)=>await h(Re,lt),gr=async(Re,lt)=>{lt==="purchase"?await m(Re):lt==="return"?await p(Re):await y(Re)},Ia=async()=>{if(!S){ce({title:"Cdigo de rastreio vazio",description:"Por favor, digite um cdigo de rastreio para buscar",variant:"destructive"});return}W(!0);try{const Re=await x(S);if(Re){const lt={purchase:"purchases",return:"returns",transfer:"transfers"};w(lt[Re.type]||"purchases"),I(Re.item),L(!0),ce({title:"Item encontrado",description:`Encontrado em ${lt[Re.type]}`})}else ce({title:"No encontrado",description:"Nenhum item encontrado com este cdigo de rastreio",variant:"destructive"})}catch(Re){ce({title:"Erro na busca",description:Re.message||"Erro ao buscar por cdigo de rastreio",variant:"destructive"})}finally{W(!1)}},rn=({tKey:Re,label:lt})=>i.jsx(Se,{children:i.jsxs(B,{variant:"ghost",onClick:()=>Ne(Re),className:"px-2",children:[lt,i.jsx(PN,{className:`ml-2 h-4 w-4 ${Ae.key===Re?"text-foreground":"text-muted-foreground"}`})]})}),rr=()=>{const lt={purchases:[{key:"date",label:"Data"},{key:"customer_name",label:"Loja/Cliente"},{key:"trackingCode",label:"Rastreio"},{key:"products",label:"Produtos"},{key:"status",label:"Status"},{key:"updated_at",label:"ltima Atualizao"},{key:"estimated_delivery",label:"Previso"}],returns:[{key:"date",label:"Data"},{key:"customer_name",label:"Cliente"},{key:"storeName",label:"Loja"},{key:"carrier",label:"Transportadora"},{key:"trackingCode",label:"Rastreio"},{key:"status",label:"Status"},{key:"estimated_delivery",label:"Previso"},{key:"observations",label:"Observaes"},{key:"is_verified",label:"Conferido"}],transfers:[{key:"date",label:"Data"},{key:"customer_name",label:"Cliente"},{key:"storeName",label:"Loja"},{key:"carrier",label:"Transportadora"},{key:"trackingCode",label:"Rastreio"},{key:"status",label:"Status"},{key:"estimated_delivery",label:"Previso"},{key:"source_stock",label:"Origem  Destino"},{key:"products",label:"Produtos"}]}[j]||[];return i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs(ge,{children:[j.charAt(0).toUpperCase()+j.slice(1)," (",_t,")"]})}),i.jsxs(se,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[lt.map(pt=>i.jsx(rn,{tKey:pt.key,label:pt.label},String(pt.key))),i.jsx(Se,{children:"Aes"})]})}),i.jsx(Kr,{children:je.length===0?i.jsx(it,{children:i.jsx(oe,{colSpan:lt.length+1,className:"h-24 text-center",children:"Nenhum item encontrado para os filtros selecionados."})}):je.map(pt=>{var zt,Vn;if(j==="purchases"){const de=pt;return i.jsxs(it,{children:[i.jsx(oe,{children:new Date(de.date).toLocaleDateString("pt-BR")}),i.jsx(oe,{children:de.customer_name||"No informado"}),i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:de.trackingCode||"No informado"}),de.trackingCode&&i.jsx("a",{href:Gh(de.carrier,de.trackingCode),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-external-link",children:[i.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),i.jsx("polyline",{points:"15 3 21 3 21 9"}),i.jsx("line",{x1:"10",x2:"21",y1:"14",y2:"3"})]})})]})}),i.jsxs(oe,{children:[((zt=de.products)==null?void 0:zt.length)||0," item(s)"]}),i.jsx(oe,{children:i.jsx(fe,{className:aS(de.status),children:de.status||"No informado"})}),i.jsx(oe,{children:de.updated_at?new Date(de.updated_at).toLocaleDateString("pt-BR"):"N/A"}),i.jsx(oe,{children:de.estimated_delivery?new Date(de.estimated_delivery).toLocaleDateString("pt-BR"):"N/A"}),i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(B,{variant:"outline",size:"sm",onClick:()=>tr(de),children:i.jsx(tle,{className:"h-4 w-4"})}),i.jsx(B,{variant:"outline",size:"sm",onClick:()=>gn(de),children:i.jsx(ki,{className:"h-4 w-4"})}),i.jsx(B,{variant:"destructive",size:"sm",onClick:()=>ae(de),children:i.jsx(js,{className:"h-4 w-4"})})]})})]},de.id)}else if(j==="returns"){const de=pt;return i.jsxs(it,{children:[i.jsx(oe,{children:new Date(de.date).toLocaleDateString("pt-BR")}),i.jsx(oe,{children:de.customer_name||"No informado"}),i.jsx(oe,{children:de.storeName||"No informado"}),i.jsx(oe,{children:de.carrier||"No informado"}),i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:de.trackingCode||"No informado"}),de.trackingCode&&i.jsx("a",{href:Gh(de.carrier,de.trackingCode),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-external-link",children:[i.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),i.jsx("polyline",{points:"15 3 21 3 21 9"}),i.jsx("line",{x1:"10",x2:"21",y1:"14",y2:"3"})]})})]})}),i.jsx(oe,{children:i.jsx(fe,{className:aS(de.status),children:de.status||"No informado"})}),i.jsx(oe,{children:de.estimated_delivery?new Date(de.estimated_delivery).toLocaleDateString("pt-BR"):"N/A"}),i.jsx(oe,{children:i.jsx("div",{className:"max-w-xs truncate",children:de.observations||"N/A"})}),i.jsx(oe,{children:de.is_verified?i.jsxs(fe,{className:"bg-green-100 text-green-800",children:[i.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Sim"]}):i.jsx(fe,{variant:"outline",children:"No"})}),i.jsx(oe,{children:i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx(B,{variant:"outline",size:"sm",onClick:()=>gn(de),children:i.jsx(ki,{className:"h-4 w-4"})})})})]},de.id)}else if(j==="transfers"){const de=pt;return i.jsxs(it,{children:[i.jsx(oe,{children:new Date(de.date).toLocaleDateString("pt-BR")}),i.jsx(oe,{children:de.customer_name||"No informado"}),i.jsx(oe,{children:de.storeName||"No informado"}),i.jsx(oe,{children:de.carrier||"No informado"}),i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:de.trackingCode||"No informado"}),de.trackingCode&&i.jsx("a",{href:Gh(de.carrier,de.trackingCode),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-external-link",children:[i.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),i.jsx("polyline",{points:"15 3 21 3 21 9"}),i.jsx("line",{x1:"10",x2:"21",y1:"14",y2:"3"})]})})]})}),i.jsx(oe,{children:i.jsx(fe,{className:aS(de.status),children:de.status||"No informado"})}),i.jsx(oe,{children:de.estimated_delivery?new Date(de.estimated_delivery).toLocaleDateString("pt-BR"):"N/A"}),i.jsxs(oe,{children:[de.source_stock,"  ",de.destination_stock]}),i.jsxs(oe,{children:[((Vn=de.products)==null?void 0:Vn.length)||0," item(s)"]}),i.jsx(oe,{children:i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx(B,{variant:"outline",size:"sm",onClick:()=>gn(de),children:i.jsx(ki,{className:"h-4 w-4"})})})})]},de.id)}return null})})]})}),i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Linhas por pgina"}),i.jsxs(Oe,{value:`${_e}`,onValueChange:pt=>{rt(Number(pt))},children:[i.jsx(Pe,{className:"h-8 w-[80px]",children:i.jsx(Ie,{placeholder:_e})}),i.jsxs(Te,{side:"top",children:[[10,20,50,100].map(pt=>i.jsx(K,{value:`${pt}`,children:pt},pt)),_t>0&&i.jsx(K,{value:`${_t}`,children:"Todos"})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",Q," de ",me||1]}),i.jsx(B,{variant:"outline",size:"icon",onClick:()=>J(1),disabled:Q===1,children:i.jsx(zoe,{className:"h-4 w-4"})}),i.jsx(B,{variant:"outline",size:"icon",onClick:()=>J(Q-1),disabled:Q===1,children:i.jsx(K0,{className:"h-4 w-4"})}),i.jsx(B,{variant:"outline",size:"icon",onClick:()=>J(Q+1),disabled:Q===me,children:i.jsx(Y0,{className:"h-4 w-4"})}),i.jsx(B,{variant:"outline",size:"icon",onClick:()=>J(me),disabled:Q===me,children:i.jsx(Woe,{className:"h-4 w-4"})})]})]})]})]})};return i.jsxs(kr,{children:[i.jsx("div",{className:"w-full h-full",children:i.jsxs(Nt.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Acompanhamento"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie compras, devolues e transferncias"})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(Qa,{children:[i.jsx(Za,{asChild:!0,children:i.jsxs(B,{children:[i.jsx(nn,{className:"h-4 w-4 mr-2"}),"Adicionar"]})}),i.jsxs(Ea,{align:"end",children:[i.jsxs(at,{onClick:()=>D(!0),children:[i.jsx(lc,{className:"h-4 w-4 mr-2"}),"Nova Compra"]}),i.jsxs(at,{onClick:()=>E(!0),children:[i.jsx(ON,{className:"h-4 w-4 mr-2"}),"Nova Devoluo"]}),i.jsxs(at,{onClick:()=>O(!0),children:[i.jsx(AN,{className:"h-4 w-4 mr-2"}),"Nova Transferncia"]})]})]})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4"}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[i.jsx(Qn,{value:j,onValueChange:w,className:"w-full md:w-auto",children:i.jsxs(Rn,{children:[i.jsxs(Fe,{value:"purchases",children:[i.jsx(lc,{className:"h-4 w-4 mr-2"}),"Compras"]}),i.jsxs(Fe,{value:"returns",children:[i.jsx(ON,{className:"h-4 w-4 mr-2"}),"Devolues"]}),i.jsxs(Fe,{value:"transfers",children:[i.jsx(AN,{className:"h-4 w-4 mr-2"}),"Transferncias"]})]})}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative w-48",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ie,{placeholder:"Buscar rastreio...",value:S,onChange:Re=>N(Re.target.value),className:"pl-10",onKeyDown:Re=>{Re.key==="Enter"&&Ia()}})]}),j==="purchases"&&i.jsxs("div",{className:"relative w-48",children:[i.jsx(Tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ie,{placeholder:"Buscar produto...",value:C,onChange:Re=>_(Re.target.value),className:"pl-10"})]}),i.jsx(B,{variant:"outline",onClick:Wn,children:i.jsx(ya,{className:`h-4 w-4 ${a?"animate-spin":""}`})})]}),i.jsxs(Oe,{value:k,onValueChange:A,children:[i.jsxs(Pe,{className:"w-full md:w-[200px]",children:[i.jsx(X0,{className:"h-4 w-4 mr-2"}),i.jsx(Ie,{placeholder:"Filtrar por status"})]}),i.jsxs(Te,{children:[i.jsx(K,{value:"all",children:"Todos os Status"}),i.jsx(K,{value:"Em trnsito",children:"Em trnsito"}),i.jsx(K,{value:"Aguardando",children:"Aguardando"}),i.jsx(K,{value:"Entregue",children:"Entregue"}),i.jsx(K,{value:"Pausado/Problema",children:"Pausado / Problema"}),i.jsx(K,{value:"Atrasado",children:"Atrasado"}),i.jsx(K,{value:"Saiu para entrega",children:"Saiu para entrega"}),i.jsx(K,{value:"Aguardando pagamento",children:"Aguardando pagamento"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Y,{htmlFor:"show-archived",className:"text-sm shrink-0",children:"Mostrar Arquivados"}),i.jsx(Br,{id:"show-archived",checked:s,onCheckedChange:l})]}),i.jsxs("div",{className:"flex border rounded-md",children:[i.jsx(B,{variant:r==="table"?"default":"ghost",size:"sm",onClick:()=>o("table"),className:"rounded-r-none",children:i.jsx(Goe,{className:"h-4 w-4"})}),i.jsx(B,{variant:r==="kanban"?"default":"ghost",size:"sm",onClick:()=>o("kanban"),className:"rounded-l-none",children:i.jsx(Hoe,{className:"h-4 w-4"})})]})]})]}),i.jsx("div",{className:"flex-1",children:r==="table"?rr():i.jsx(lKe,{activeTab:j,purchases:H.filter(Re=>j==="purchases"),returns:H.filter(Re=>j==="returns"),transfers:H.filter(Re=>j==="transfers"),onViewDetails:gn,onVerifyProduct:Zs,onAddToInventory:gr,onVerifyReturn:nr})})]})}),i.jsx(tKe,{open:T,onOpenChange:D,onPurchaseCreated:c}),i.jsx(rKe,{open:F,onOpenChange:E}),i.jsx(sKe,{open:$,onOpenChange:O}),i.jsx(aKe,{open:M,onOpenChange:L,item:R,type:q}),i.jsx(nKe,{open:te,onOpenChange:Xr,purchase:X}),i.jsx(wn,{open:!!Z,onOpenChange:Re=>!Re&&ae(null),children:i.jsxs(sn,{children:[i.jsxs(an,{children:[i.jsx(ln,{children:"Voc tem certeza absoluta?"}),i.jsxs(cn,{children:["Esta ao no pode ser desfeita. Isso excluir permanentemente o pedido de compra",i.jsxs("strong",{className:"mx-1",children:["#",Z==null?void 0:Z.id]}),"e todos os seus produtos associados dos nossos servidores."]})]}),i.jsxs(on,{children:[i.jsx(dn,{children:"Cancelar"}),i.jsx(un,{onClick:Qs,children:"Sim, deletar pedido"})]})]})})]})}function fKe(){const{currentWorkspace:e}=be(),[t,n]=v.useState([]),[r,s]=v.useState([]),[a,o]=v.useState(!0),[l,c]=v.useState(!1),[u,d]=v.useState("all"),[f,h]=v.useState("all"),[m,g]=v.useState("");v.useEffect(()=>{e!=null&&e.id&&p()},[e==null?void 0:e.id,u,f]);const p=async()=>{try{o(!0),await Promise.all([y(),x()])}catch(_){console.error("Error loading data:",_),Rr.error("Erro ao carregar dados")}finally{o(!1)}},y=async()=>{try{let _=U.from("event_queue").select("*").order("created_at",{ascending:!1}).limit(100);u!=="all"&&(_=_.eq("status",u));const{data:k,error:A}=await _;if(A)throw A;n(k||[])}catch(_){throw console.error("Error loading events:",_),_}},x=async()=>{try{let _=U.from("v_recent_stock_changes").select("*").eq("workspace_id",e.id).order("created_at",{ascending:!1}).limit(100);f!=="all"&&(_=_.eq("source",f));const{data:k,error:A}=await _;if(A)throw A;s(k||[])}catch(_){throw console.error("Error loading stock logs:",_),_}},b=async()=>{c(!0),await p(),c(!1),Rr.success("Dados atualizados")},j=async _=>{try{const{error:k}=await U.from("event_queue").update({status:"pending",retry_count:0,error_message:null}).eq("id",_);if(k)throw k;Rr.success("Evento reenviado para processamento"),await y()}catch(k){console.error("Error retrying event:",k),Rr.error("Erro ao reprocessar evento")}},w=_=>{switch(_){case"completed":return i.jsxs(fe,{className:"bg-green-500",children:[i.jsx(kh,{className:"h-3 w-3 mr-1"}),"Completo"]});case"failed":return i.jsxs(fe,{variant:"destructive",children:[i.jsx(Sn,{className:"h-3 w-3 mr-1"}),"Falhou"]});case"processing":return i.jsxs(fe,{variant:"secondary",children:[i.jsx(mr,{className:"h-3 w-3 mr-1 animate-spin"}),"Processando"]});case"pending":return i.jsxs(fe,{variant:"outline",children:[i.jsx(Er,{className:"h-3 w-3 mr-1"}),"Pendente"]});default:return i.jsx(fe,{variant:"secondary",children:_})}},S=_=>{const k={manual:"bg-blue-500",baselinker:"bg-purple-500",system:"bg-gray-500",purchase:"bg-green-500",transfer:"bg-orange-500",order:"bg-pink-500"};return i.jsx(fe,{className:k[_]||"bg-gray-500",children:_})},N=t.filter(_=>{var k;return m?_.event_name.toLowerCase().includes(m.toLowerCase())||((k=_.order_id)==null?void 0:k.toString().includes(m))||_.event_log_id.toString().includes(m):!0}),C=r.filter(_=>{var k,A;return m?_.sku.toLowerCase().includes(m.toLowerCase())||((k=_.product_name)==null?void 0:k.toLowerCase().includes(m.toLowerCase()))||((A=_.warehouse_name)==null?void 0:A.toLowerCase().includes(m.toLowerCase())):!0});return a?i.jsx(kr,{children:i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsx(mr,{className:"h-8 w-8 animate-spin text-gray-400"})})}):i.jsx(kr,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Jobs & Logs"}),i.jsx("p",{className:"text-muted-foreground",children:"Monitore eventos do Baselinker e alteraes de estoque"})]}),i.jsxs(B,{onClick:b,disabled:l,children:[l?i.jsx(mr,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(ya,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[i.jsxs(re,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total de Eventos"}),i.jsx(Er,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(se,{children:i.jsx("div",{className:"text-2xl font-bold",children:t.length})})]}),i.jsxs(re,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Eventos Completos"}),i.jsx(kh,{className:"h-4 w-4 text-green-500"})]}),i.jsx(se,{children:i.jsx("div",{className:"text-2xl font-bold",children:t.filter(_=>_.status==="completed").length})})]}),i.jsxs(re,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Eventos Falhados"}),i.jsx(Sn,{className:"h-4 w-4 text-red-500"})]}),i.jsx(se,{children:i.jsx("div",{className:"text-2xl font-bold",children:t.filter(_=>_.status==="failed").length})})]}),i.jsxs(re,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Alteraes de Estoque"}),i.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(se,{children:i.jsx("div",{className:"text-2xl font-bold",children:r.length})})]})]}),i.jsxs(Qn,{defaultValue:"events",className:"space-y-4",children:[i.jsxs(Rn,{children:[i.jsx(Fe,{value:"events",children:"Fila de Eventos"}),i.jsx(Fe,{value:"stock-logs",children:"Logs de Estoque"})]}),i.jsx(Ue,{value:"events",className:"space-y-4",children:i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Eventos do Baselinker"}),i.jsx(Ve,{children:"ltimos 100 eventos processados pela plataforma"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Oe,{value:u,onValueChange:d,children:[i.jsx(Pe,{className:"w-[180px]",children:i.jsx(Ie,{placeholder:"Status"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"all",children:"Todos os Status"}),i.jsx(K,{value:"pending",children:"Pendente"}),i.jsx(K,{value:"processing",children:"Processando"}),i.jsx(K,{value:"completed",children:"Completo"}),i.jsx(K,{value:"failed",children:"Falhou"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(ie,{placeholder:"Buscar...",value:m,onChange:_=>g(_.target.value),className:"pl-8 w-[250px]"})]})]})]})}),i.jsx(se,{children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Se,{children:"Evento"}),i.jsx(Se,{children:"Status"}),i.jsx(Se,{children:"Order ID"}),i.jsx(Se,{children:"Log ID"}),i.jsx(Se,{children:"Tentativas"}),i.jsx(Se,{children:"Criado"}),i.jsx(Se,{children:"Processado"}),i.jsx(Se,{children:"Aes"})]})}),i.jsx(Kr,{children:N.length===0?i.jsx(it,{children:i.jsx(oe,{colSpan:8,className:"text-center text-muted-foreground",children:"Nenhum evento encontrado"})}):N.map(_=>i.jsxs(it,{children:[i.jsx(oe,{className:"font-medium",children:_.event_name}),i.jsx(oe,{children:w(_.status)}),i.jsx(oe,{children:_.order_id||"-"}),i.jsx(oe,{className:"text-muted-foreground",children:_.event_log_id}),i.jsx(oe,{children:_.retry_count>0&&i.jsxs(fe,{variant:"outline",children:[_.retry_count,"x"]})}),i.jsx(oe,{className:"text-sm",children:O1(new Date(_.created_at),"dd/MM/yyyy HH:mm",{locale:Uu})}),i.jsx(oe,{className:"text-sm",children:_.processed_at?O1(new Date(_.processed_at),"dd/MM/yyyy HH:mm",{locale:Uu}):"-"}),i.jsx(oe,{children:_.status==="failed"&&i.jsx(B,{size:"sm",variant:"outline",onClick:()=>j(_.id),children:"Reprocessar"})})]},_.id))})]})})]})}),i.jsx(Ue,{value:"stock-logs",className:"space-y-4",children:i.jsxs(re,{children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ge,{children:"Logs de Alterao de Estoque"}),i.jsx(Ve,{children:"Todas as alteraes de estoque feitas pela plataforma"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Oe,{value:f,onValueChange:h,children:[i.jsx(Pe,{className:"w-[180px]",children:i.jsx(Ie,{placeholder:"Origem"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"all",children:"Todas as Origens"}),i.jsx(K,{value:"manual",children:"Manual"}),i.jsx(K,{value:"baselinker",children:"Baselinker"}),i.jsx(K,{value:"system",children:"Sistema"}),i.jsx(K,{value:"purchase",children:"Compra"}),i.jsx(K,{value:"transfer",children:"Transferncia"}),i.jsx(K,{value:"order",children:"Pedido"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Sa,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(ie,{placeholder:"Buscar SKU...",value:m,onChange:_=>g(_.target.value),className:"pl-8 w-[250px]"})]})]})]})}),i.jsx(se,{children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Se,{children:"SKU"}),i.jsx(Se,{children:"Produto"}),i.jsx(Se,{children:"Warehouse"}),i.jsx(Se,{children:"Ao"}),i.jsx(Se,{children:"Quantidade"}),i.jsx(Se,{children:"Origem"}),i.jsx(Se,{children:"Usurio"}),i.jsx(Se,{children:"Data"})]})}),i.jsx(Kr,{children:C.length===0?i.jsx(it,{children:i.jsx(oe,{colSpan:8,className:"text-center text-muted-foreground",children:"Nenhum log de estoque encontrado"})}):C.map(_=>i.jsxs(it,{children:[i.jsx(oe,{className:"font-mono font-medium",children:_.sku}),i.jsx(oe,{children:_.product_name||"-"}),i.jsx(oe,{children:_.warehouse_name||_.warehouse_id}),i.jsx(oe,{children:i.jsx(fe,{variant:"outline",children:_.action_type})}),i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[_.quantity_change>0?i.jsx(Rk,{className:"h-4 w-4 text-green-500"}):i.jsx(ole,{className:"h-4 w-4 text-red-500"}),i.jsxs("span",{className:_.quantity_change>0?"text-green-600":"text-red-600",children:[_.quantity_change>0?"+":"",_.quantity_change]}),i.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",_.previous_quantity,"  ",_.new_quantity,")"]})]})}),i.jsx(oe,{children:S(_.source)}),i.jsx(oe,{className:"text-sm",children:_.user_name||"-"}),i.jsx(oe,{className:"text-sm",children:O1(new Date(_.created_at),"dd/MM/yyyy HH:mm",{locale:Uu})})]},_.id))})]})})]})})]})]})})}const hKe=ka((e,t)=>({products:[],warehouses:new Map,loading:!1,searchQuery:"",selectedWarehouse:null,loadWarehouses:async()=>{await G.handleAsync(async()=>{const n=be.getState().currentWorkspace;if(!n)throw new Error("Nenhum workspace selecionado");const{data:r,error:s}=await U.from("baselinker_warehouses").select("warehouse_id, warehouse_code, warehouse_name").eq("workspace_id",n.id);if(s)throw s;const a=new Map;r==null||r.forEach(o=>{a.set(o.warehouse_id,{code:o.warehouse_code||o.warehouse_id,name:o.warehouse_name})}),e({warehouses:a})})},loadProducts:async()=>{await G.handleAsync(async()=>{const n=be.getState().currentWorkspace;if(!n)throw new Error("Nenhum workspace selecionado");e({loading:!0}),t().warehouses.size===0&&await t().loadWarehouses();const{data:r,error:s}=await U.from("products").select("*").eq("workspace_id",n.id).order("sku",{ascending:!0});if(s)throw s;const{data:a,error:o}=await U.from("product_stock_by_warehouse").select("product_id, warehouse_id, stock_quantity").eq("workspace_id",n.id);o&&console.error("Error loading stock data:",o);const l=new Map;(a||[]).forEach(d=>{l.has(d.product_id)||l.set(d.product_id,new Map),l.get(d.product_id).set(d.warehouse_id,d.stock_quantity)});const c=t().warehouses,u=(r||[]).map(d=>{var m,g;const f=l.get(d.id),h=(f==null?void 0:f.get(d.warehouseID))??d.stock_es??0;return{id:d.id,sku:d.sku,name:d.name,warehouseID:d.warehouseID||"",warehouseName:((m=c.get(d.warehouseID))==null?void 0:m.name)||d.warehouseID,warehouseCode:((g=c.get(d.warehouseID))==null?void 0:g.code)||d.warehouseID,stock:h,cost:d.cost,price:d.price,ean:d.ean}});e({products:u,loading:!1})},()=>{e({loading:!1})})},getProductSummaries:()=>{const{products:n,searchQuery:r,selectedWarehouse:s}=t();let a=n;if(r){const l=r.toLowerCase();a=n.filter(c=>{var u;return c.sku.toLowerCase().includes(l)||c.name.toLowerCase().includes(l)||((u=c.ean)==null?void 0:u.toLowerCase().includes(l))})}s&&(a=a.filter(l=>l.warehouseID===s));const o=new Map;return a.forEach(l=>{o.has(l.sku)||o.set(l.sku,{sku:l.sku,name:l.name,ean:l.ean,totalStock:0,warehouses:[]});const c=o.get(l.sku);c.totalStock+=l.stock,c.warehouses.push({warehouseID:l.warehouseID,warehouseName:l.warehouseName||l.warehouseID,warehouseCode:l.warehouseCode||l.warehouseID,stock:l.stock,cost:l.cost,price:l.price});const u=c.warehouses.filter(f=>f.cost).map(f=>f.cost),d=c.warehouses.filter(f=>f.price).map(f=>f.price);u.length>0&&(c.avgCost=u.reduce((f,h)=>f+h,0)/u.length),d.length>0&&(c.avgPrice=d.reduce((f,h)=>f+h,0)/d.length)}),Array.from(o.values()).sort((l,c)=>l.sku.localeCompare(c.sku))},setSearchQuery:n=>{e({searchQuery:n})},setSelectedWarehouse:n=>{e({selectedWarehouse:n})},updateProductStock:async(n,r)=>{await G.handleAsync(async()=>{const s=be.getState().currentWorkspace;if(!s)throw new Error("Nenhum workspace selecionado");const{data:a,error:o}=await U.from("products").select("sku, warehouseID").eq("id",n).single();if(o||!a)throw o||new Error("Produto no encontrado");const{error:l}=await U.from("product_stock_by_warehouse").upsert({workspace_id:s.id,product_id:n,warehouse_id:a.warehouseID,sku:a.sku,stock_quantity:r,updated_at:new Date().toISOString()},{onConflict:"workspace_id,sku,warehouse_id"});if(l)throw l;const{error:c}=await U.from("products").update({stock_es:r}).eq("id",n);if(c)throw c;e(u=>({products:u.products.map(d=>d.id===n?{...d,stock:r}:d)})),G.showSuccess("Estoque atualizado com sucesso")})}}));function mKe(){const{products:e,warehouses:t,loading:n,searchQuery:r,selectedWarehouse:s,loadProducts:a,getProductSummaries:o,setSearchQuery:l,setSelectedWarehouse:c}=hKe();v.useEffect(()=>{a()},[a]);const u=o(),d=u.reduce((m,g)=>m+g.totalStock,0),f=u.reduce((m,g)=>m+(g.avgPrice||0)*g.totalStock,0),h=Array.from(t.entries()).map(([m,g])=>({id:m,...g}));return i.jsx(kr,{children:i.jsxs(Nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Estoque"}),i.jsx("p",{className:"text-muted-foreground",children:"Gerencie o estoque de produtos em mltiplos armazns"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs(re,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total de Produtos"}),i.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(se,{children:[i.jsx("div",{className:"text-2xl font-bold",children:u.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"SKUs nicos"})]})]}),i.jsxs(re,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Estoque Total"}),i.jsx(Rk,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(se,{children:[i.jsx("div",{className:"text-2xl font-bold",children:d}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Unidades totais"})]})]}),i.jsxs(re,{children:[i.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Valor Total"}),i.jsx(Mu,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(se,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",f.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor em estoque"})]})]})]}),i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Filtros"}),i.jsx(Ve,{children:"Pesquise e filtre produtos no estoque"})]}),i.jsx(se,{children:i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(ie,{placeholder:"Pesquisar por SKU, nome ou EAN...",value:r,onChange:m=>l(m.target.value),className:"pl-10"})]}),i.jsxs(Oe,{value:s||"all",onValueChange:m=>c(m==="all"?null:m),children:[i.jsx(Pe,{className:"w-[200px]",children:i.jsx(Ie,{placeholder:"Todos os armazns"})}),i.jsxs(Te,{children:[i.jsx(K,{value:"all",children:"Todos os armazns"}),h.map(m=>i.jsxs(K,{value:m.id,children:[m.code," - ",m.name]},m.id))]})]}),i.jsx(B,{variant:"outline",onClick:()=>{l(""),c(null)},children:"Limpar"})]})})]}),i.jsxs(re,{children:[i.jsxs(pe,{children:[i.jsx(ge,{children:"Produtos em Estoque"}),i.jsxs(Ve,{children:[u.length," produto(s) encontrado(s)"]})]}),i.jsx(se,{children:n?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(mr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):u.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[i.jsx(Tt,{className:"h-12 w-12 mb-4 opacity-50"}),i.jsx("p",{children:"Nenhum produto encontrado"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Hr,{children:[i.jsx(Gr,{children:i.jsxs(it,{children:[i.jsx(Se,{children:"SKU"}),i.jsx(Se,{children:"Nome"}),i.jsx(Se,{children:"EAN"}),i.jsx(Se,{className:"text-center",children:"Estoque Total"}),i.jsx(Se,{children:"Armazns"}),i.jsx(Se,{className:"text-right",children:"Preo Mdio"})]})}),i.jsx(Kr,{children:u.map(m=>i.jsxs(it,{children:[i.jsx(oe,{className:"font-mono font-medium",children:m.sku}),i.jsx(oe,{children:m.name}),i.jsx(oe,{className:"font-mono text-sm",children:m.ean||"-"}),i.jsx(oe,{className:"text-center",children:i.jsx(fe,{variant:m.totalStock>0?"default":"secondary",children:m.totalStock})}),i.jsx(oe,{children:i.jsx("div",{className:"flex flex-col gap-1",children:m.warehouses.map(g=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(fe,{variant:"outline",className:"min-w-[60px] justify-center",children:g.warehouseCode}),i.jsxs("span",{className:"text-muted-foreground",children:[g.stock," un."]})]},g.warehouseID))})}),i.jsx(oe,{className:"text-right font-medium",children:m.avgPrice?`R$ ${m.avgPrice.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"-"})]},m.sku))})]})})})]})]})})}function pKe(){const{currentWorkspace:e,workspaces:t,fetchWorkspaces:n,setCurrentWorkspace:r}=be(),{user:s,loading:a}=ri(),[o,l]=v.useState(!1),[c,u]=v.useState(!1),d=ol(),f=_c();return v.useEffect(()=>{(async()=>{if(!(!s||o&&t.length>0)){console.log("Initializing app for user:",s.email),u(!0);try{await n();const m=be.getState().workspaces;if(console.log("Fetched workspaces:",m.length),m.length>0){const g=localStorage.getItem("currentWorkspaceId");console.log("Saved workspace ID:",g);let p=null;g&&(p=m.find(x=>x.id===g),console.log("Found saved workspace:",p==null?void 0:p.name)),p||(p=m[0],console.log("Using first workspace:",p.name)),r(p),console.log("Workspace set successfully");const y=localStorage.getItem("lastVisitedRoute");d.pathname==="/"&&y&&y!=="/onboarding"&&(console.log("Restoring last visited route:",y),f(y,{replace:!0}))}else console.log("No workspaces found, user needs onboarding")}catch(m){console.error("Error initializing app:",m)}finally{u(!1),l(!0)}}})()},[s,o,t,n,r,f,d.pathname]),v.useEffect(()=>{s&&e&&d.pathname!=="/"&&d.pathname!=="/onboarding"&&localStorage.setItem("lastVisitedRoute",d.pathname)},[d.pathname,s,e]),a?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):i.jsxs(AZ,{children:[i.jsx(vn,{path:"/login",element:i.jsx(Nce,{})}),i.jsx(vn,{path:"/signup",element:i.jsx(Ece,{})}),i.jsx(vn,{path:"/onboarding",element:i.jsx(vr,{children:i.jsx(Dce,{})})}),i.jsx(vn,{path:"/dashboard",element:i.jsx(vr,{children:e?i.jsx(l3e,{}):i.jsx(En,{to:"/onboarding",replace:!0})})}),i.jsx(vn,{path:"/inbox",element:i.jsx(vr,{children:e?i.jsx(KFe,{}):i.jsx(En,{to:"/onboarding",replace:!0})})}),i.jsx(vn,{path:"/clients",element:i.jsx(vr,{children:e?i.jsx(nBe,{}):i.jsx(En,{to:"/onboarding",replace:!0})})}),i.jsx(vn,{path:"/kanban",element:i.jsx(vr,{children:e?i.jsx(MVe,{}):i.jsx(En,{to:"/onboarding",replace:!0})})}),i.jsx(vn,{path:"/orders",element:i.jsx(vr,{children:e?i.jsx($Ve,{}):i.jsx(En,{to:"/onboarding",replace:!0})})}),i.jsx(vn,{path:"/messages",element:i.jsx(vr,{children:e?i.jsx(LVe,{}):i.jsx(En,{to:"/onboarding",replace:!0})})}),i.jsx(vn,{path:"/campaigns",element:i.jsx(vr,{children:e?i.jsx(BVe,{}):i.jsx(En,{to:"/onboarding",replace:!0})})}),i.jsx(vn,{path:"/integrations",element:i.jsx(vr,{children:e?i.jsx(yUe,{}):i.jsx(En,{to:"/onboarding",replace:!0})})}),i.jsx(vn,{path:"/automation",element:i.jsx(vr,{children:e?i.jsx(YGe,{}):i.jsx(En,{to:"/onboarding",replace:!0})})}),i.jsx(vn,{path:"/analytics",element:i.jsx(vr,{children:e?i.jsx(XGe,{}):i.jsx(En,{to:"/onboarding",replace:!0})})}),i.jsx(vn,{path:"/settings",element:i.jsx(vr,{children:e?i.jsx(QGe,{}):i.jsx(En,{to:"/onboarding",replace:!0})})}),i.jsx(vn,{path:"/tracking",element:i.jsx(vr,{children:e?i.jsx(dKe,{}):i.jsx(En,{to:"/onboarding",replace:!0})})}),i.jsx(vn,{path:"/jobs",element:i.jsx(vr,{children:e?i.jsx(fKe,{}):i.jsx(En,{to:"/onboarding",replace:!0})})}),i.jsx(vn,{path:"/estoque",element:i.jsx(vr,{children:e?i.jsx(mKe,{}):i.jsx(En,{to:"/onboarding",replace:!0})})}),i.jsx(vn,{path:"/",element:s?e?(()=>{const h=localStorage.getItem("lastVisitedRoute"),m=h&&h!=="/onboarding"?h:"/dashboard";return i.jsx(En,{to:m,replace:!0})})():c||!o?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Carregando workspace..."})]})}):t.length===0?i.jsx(En,{to:"/onboarding",replace:!0}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("p",{className:"text-gray-600",children:"Finalizando..."})}):i.jsx(En,{to:"/login",replace:!0})})]})}function gKe(){const{initialize:e}=ri(),[t,n]=v.useState(!1);return v.useEffect(()=>{(async()=>{try{await e();const s="https://oqwstanztqdiexgrpdta.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9xd3N0YW56dHFkaWV4Z3JwZHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzM3MjksImV4cCI6MjA2NDgwOTcyOX0.ocuapLtLjHNfy97hYx9a7pbW69bn58PTvhyQTqCgD_k";s&&a&&(tK(s,a),console.log("Baselinker API initialized"))}catch(s){console.error("Error initializing auth:",s)}finally{n(!0)}})()},[e]),t?i.jsx($Z,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(pKe,{}),i.jsx(vee,{})]})}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Inicializando..."})]})})}aF(document.getElementById("root")).render(i.jsx(v.StrictMode,{children:i.jsx(gKe,{})}));
